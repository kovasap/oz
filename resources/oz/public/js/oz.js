var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};
$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};
$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};
$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(e,f){this.$jscomp$symbol$id_=e;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:f})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c=0,d=function(e){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new b("jscomp_symbol_"+(e||"")+"_"+c++,e)};return d},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
$jscomp.getConstructImplementation=function(){function a(){function c(){}new c;Reflect.construct(c,[],function(){});return new c instanceof c}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(a())return Reflect.construct;var b=Reflect.construct;return function(c,d,e){c=b(c,d);e&&Reflect.setPrototypeOf(c,e.prototype);return c}}return function(c,d,e){void 0===e&&(e=c);e=$jscomp.objectCreate(e.prototype||Object.prototype);return Function.prototype.apply.call(c,e,d)||
e}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var c=$jscomp.setPrototypeOf;c(a,b)}else for(c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.superClass_=b.prototype};
(function(){
shadow$provide[0]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb):"function"===typeof define&&define.amd?define(["exports"],m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.vega={}))})(this,function(h){function m(w,H,p){w.fields=H||[];w.fname=p;return w}function x(w){return null==w?null:w.fields}function Wa(w){return 1===w.length?pa(w[0]):da(w)}function Gb(w){throw Error(w);}function gb(w){function H(){p.push(L+w.substring(ba,Ga));L="";ba=Ga+1}
var p=[],q=w.length,t=null,G=0,L="",ba,Ga;w+="";for(ba=Ga=0;Ga<q;++Ga){var La=w[Ga];"\\"===La?(L+=w.substring(ba,Ga),L+=w.substring(++Ga,++Ga),ba=Ga):La===t?(H(),t=null,G=-1):t||(ba===G&&'"'===La?(ba=Ga+1,t=La):ba===G&&"'"===La?(ba=Ga+1,t=La):"."!==La||G?"["===La?(Ga>ba&&H(),G=ba=Ga+1):"]"===La&&(G||Gb("Access path missing open bracket: "+w),0<G&&H(),G=0,ba=Ga+1):Ga>ba?H():ba=Ga+1)}G&&Gb("Access path missing closing bracket: "+w);t&&Gb("Access path missing closing quote: "+w);Ga>ba&&(Ga++,H());return p}
function wb(w,H,p){var q=gb(w);w=1===q.length?q[0]:w;return m((p&&p.get||Wa)(q),[w],H||w)}function Lb(w,H,p){H=[H].concat([].slice.call(p));console[w].apply(console,H)}function rb(w){return w===Object(w)}function Ua(w,H,p,q){if("__proto__"!==H){var t;if(rb(p)&&!y(p))for(t in w=rb(w[H])?w[H]:w[H]={},p)q&&(!0===q||q[t])?Ua(w,t,p[t]):"__proto__"!==t&&(w[t]=p[t]);else w[H]=p}}function Sa(w,H){function p(G){q[G.name]||(q[G.name]=1,t.push(G))}if(null==w)return H;var q={},t=[];H.forEach(p);w.forEach(p);
return t}function ab(w){return w[w.length-1]}function za(w){return null==w||""===w?null:+w}function Y(w,H,p,q){var t=p(w[0]);w=p(ab(w));H*=w-t;return[q(t-H),q(w-H)]}function na(w,H,p,q,t){var G=q(w[0]);w=q(ab(w));H=null!=H?q(H):(G+w)/2;return[t(H+(G-H)*p),t(H+(w-H)*p)]}function Ba(w){return null!=w?y(w)?w:[w]:[]}function Qa(w){return"function"===typeof w}function ca(w){for(var H,p=void 0,q=1,t=arguments.length;q<t;++q)for(p in H=arguments[q],H)w[p]=H[p];return w}function Z(w,H){return Ka.call(w,H)}
function Oa(w){return"[object Date]"===Object.prototype.toString.call(w)}function Aa(w){return"number"===typeof w}function va(w){return"string"===typeof w}function xa(w,H){for(var p="";0<=--H;)p+=w;return p}function fa(w){return y(w)?"["+w.map(fa)+"]":rb(w)||va(w)?JSON.stringify(w).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):w}var pa=function(w){return function(H){return H[w]}},da=function(w){var H=w.length;return function(p){for(var q=0;q<H;++q)p=p[w[q]];return p}},ua=wb("id"),Ia=m(function(w){return w},
[],"identity"),wa=m(function(){return 0},[],"zero"),$a=m(function(){return 1},[],"one"),ja=m(function(){return!0},[],"true"),u=m(function(){return!1},[],"false"),y=Array.isArray,z=function(w){return function(H){return w*Math.exp(H)}},D=function(w){return function(H){return Math.log(w*H)}},C=function(w){return function(H){return Math.sign(H)*Math.log1p(Math.abs(H/w))}},J=function(w){return function(H){return Math.sign(H)*Math.expm1(Math.abs(H))*w}},V=function(w){return function(H){return 0>H?-Math.pow(-H,
w):Math.pow(H,w)}},ia=function(w,H){return(w<H||null==w)&&null!=H?-1:(w>H||null==H)&&null!=w?1:(H=H instanceof Date?+H:H,w=w instanceof Date?+w:w)!==w&&H===H?-1:H!==H&&w===w?1:0},Pa=function(w,H){return 1===w.length?cb(w[0],H[0]):M(w,H,w.length)},cb=function(w,H){return function(p,q){return ia(w(p),w(q))*H}},M=function(w,H,p){H.push(0);return function(q,t){var G=0;for(var L=-1;0===G&&++L<p;)G=w[L],G=ia(G(q),G(t));return G*H[L]}},Ka=Object.prototype.hasOwnProperty,ka={},ha=function(w){return Aa(w)?
w:Oa(w)?w:Date.parse(w)};h.Debug=4;h.Error=1;h.Info=3;h.None=0;h.Warn=2;h.accessor=m;h.accessorFields=x;h.accessorName=function(w){return null==w?null:w.fname};h.array=Ba;h.ascending=ia;h.clampRange=function(w,H,p){var q=w[0];w=w[1];if(w<q){var t=w;w=q;q=t}t=w-q;return t>=p-H?[H,p]:[q=Math.min(Math.max(q,H),p-t),q+t]};h.compare=function(w,H,p){p=p||{};H=Ba(H)||[];var q=[],t=[],G={},L=p.comparator||Pa;Ba(w).forEach(function(ba,Ga){null!=ba&&(q.push("descending"===H[Ga]?-1:1),t.push(ba=Qa(ba)?ba:wb(ba,
null,p)),(x(ba)||[]).forEach(function(La){return G[La]=1}))});return 0===t.length?null:m(L(t,q),Object.keys(G))};h.constant=function(w){return Qa(w)?w:function(){return w}};h.debounce=function(w,H){var p;return function(q){p&&clearTimeout(p);p=setTimeout(function(){return H(q),p=null},w)}};h.error=Gb;h.extend=ca;h.extent=function(w,H){var p=0,q,t,G,L;if(w&&(q=w.length))if(null==H){for(t=w[p];p<q&&(null==t||t!==t);t=w[++p]);for(G=L=t;p<q;++p)t=w[p],null!=t&&(t<G&&(G=t),t>L&&(L=t))}else{for(t=H(w[p]);p<
q&&(null==t||t!==t);t=H(w[++p]));for(G=L=t;p<q;++p)t=H(w[p]),null!=t&&(t<G&&(G=t),t>L&&(L=t))}return[G,L]};h.extentIndex=function(w,H){var p=w.length,q=-1,t,G,L;if(null==H){for(;++q<p;){var ba=w[q];if(null!=ba&&ba>=ba){var Ga=t=ba;break}}if(q===p)return[-1,-1];for(G=L=q;++q<p;)ba=w[q],null!=ba&&(Ga>ba&&(Ga=ba,G=q),t<ba&&(t=ba,L=q))}else{for(;++q<p;)if(ba=H(w[q],q,w),null!=ba&&ba>=ba){Ga=t=ba;break}if(q===p)return[-1,-1];for(G=L=q;++q<p;)ba=H(w[q],q,w),null!=ba&&(Ga>ba&&(Ga=ba,G=q),t<ba&&(t=ba,L=q))}return[G,
L]};h.falsy=u;h.fastmap=function(w){function H(G){return Z(p,G)&&p[G]!==ka}var p={},q,t={size:0,empty:0,object:p,has:H,get:function(G){return H(G)?p[G]:void 0},set:function(G,L){H(G)||(++t.size,p[G]===ka&&--t.empty);p[G]=L;return this},delete:function(G){H(G)&&(--t.size,++t.empty,p[G]=ka);return this},clear:function(){t.size=t.empty=0;t.object=p={}},test:function(G){return arguments.length?(q=G,t):q},clean:function(){var G={},L=0,ba;for(ba in p){var Ga=p[ba];Ga===ka||q&&q(Ga)||(G[ba]=Ga,++L)}t.size=
L;t.empty=0;t.object=p=G}};w&&Object.keys(w).forEach(function(G){t.set(G,w[G])});return t};h.field=wb;h.flush=function(w,H,p,q,t,G){if(!p&&0!==p)return G;p=+p;var L=w[0],ba=ab(w);ba<L&&(w=L,L=ba,ba=w);w=Math.abs(H-L);H=Math.abs(ba-H);return w<H&&w<=p?q:H<=p?t:G};h.hasOwnProperty=Z;h.id=ua;h.identity=Ia;h.inherits=function(w,H,p){H=w.prototype=Object.create(H.prototype);H.constructor=w;return ca(H,p)};h.inrange=function(w,H,p,q){var t=H[0];H=H[H.length-1];if(t>H){var G=t;t=H;H=G}return(void 0===p||
p?t<=w:t<w)&&(void 0===q||q?w<=H:w<H)};h.isArray=y;h.isBoolean=function(w){return"boolean"===typeof w};h.isDate=Oa;h.isFunction=Qa;h.isIterable=function(w){return w&&Qa(w[Symbol.iterator])};h.isNumber=Aa;h.isObject=rb;h.isRegExp=function(w){return"[object RegExp]"===Object.prototype.toString.call(w)};h.isString=va;h.key=function(w,H,p){w&&(w=H?Ba(w).map(function(ba){return ba.replace(/\\(.)/g,"$1")}):Ba(w));var q=w&&w.length,t=p&&p.get||Wa;p=function(ba){return t(H?[ba]:gb(ba))};if(q)if(1===q){var G=
p(w[0]);p=function(ba){return""+G(ba)}}else{var L=w.map(p);p=function(ba){for(var Ga=""+L[0](ba),La=0;++La<q;)Ga+="|"+L[La](ba);return Ga}}else p=function(){return""};return m(p,w,"key")};h.lerp=function(w,H){var p=w[0];w=ab(w);return(H=+H)?1===H?w:p+H*(w-p):p};h.logger=function(w,H){var p=w||0;return{level:function(q){return arguments.length?(p=+q,this):p},error:function(){1<=p&&Lb(H||"error","ERROR",arguments);return this},warn:function(){2<=p&&Lb(H||"warn","WARN",arguments);return this},info:function(){3<=
p&&Lb(H||"log","INFO",arguments);return this},debug:function(){4<=p&&Lb(H||"log","DEBUG",arguments);return this}}};h.lruCache=function(w){w=+w||1E4;var H,p,q,t=function(){H={};p={};q=0},G=function(L,ba){++q>w&&(p=H,H={},q=1);return H[L]=ba};t();return{clear:t,has:function(L){return Z(H,L)||Z(p,L)},get:function(L){return Z(H,L)?H[L]:Z(p,L)?G(L,p[L]):void 0},set:function(L,ba){return Z(H,L)?H[L]=ba:G(L,ba)}}};h.merge=function(w,H,p,q){var t=H.length,G=p.length;if(!G)return H;if(!t)return p;q=q||new H.constructor(t+
G);for(var L=0,ba=0,Ga=0;L<t&&ba<G;++Ga)q[Ga]=0<w(H[L],p[ba])?p[ba++]:H[L++];for(;L<t;++L,++Ga)q[Ga]=H[L];for(;ba<G;++ba,++Ga)q[Ga]=p[ba];return q};h.mergeConfig=function(w){for(var H=[],p=0;p<arguments.length;++p)H[p-0]=arguments[p];return H.reduce(function(q,t){for(var G in t)"signals"===G?q.signals=Sa(q.signals,t.signals):Ua(q,G,t[G],"legend"===G?{layout:1}:"style"===G?!0:null);return q},{})};h.one=$a;h.pad=function(w,H,p,q){p=p||" ";w+="";H-=w.length;return 0>=H?w:"left"===q?xa(p,H)+w:"center"===
q?xa(p,~~(H/2))+w+xa(p,Math.ceil(H/2)):w+xa(p,H)};h.panLinear=function(w,H){return Y(w,H,za,Ia)};h.panLog=function(w,H){var p=Math.sign(w[0]);return Y(w,H,D(p),z(p))};h.panPow=function(w,H,p){return Y(w,H,V(p),V(1/p))};h.panSymlog=function(w,H,p){return Y(w,H,C(p),J(p))};h.peek=ab;h.quarter=function(w){return 1+~~((new Date(w)).getMonth()/3)};h.repeat=xa;h.span=function(w){return w&&ab(w)-w[0]||0};h.splitAccessPath=gb;h.stringValue=fa;h.toBoolean=function(w){return null==w||""===w?null:w&&"false"!==
w&&"0"!==w?!!w:!1};h.toDate=function(w,H){H=H||ha;return null==w||""===w?null:H(w)};h.toNumber=za;h.toSet=function(w){for(var H={},p=w.length,q=0;q<p;++q)H[w[q]]=!0;return H};h.toString=function(w){return null==w||""===w?null:w+""};h.truncate=function(w,H,p,q){q=null!=q?q:"…";w+="";var t=w.length,G=Math.max(0,H-q.length);return t<=H?w:"left"===p?q+w.slice(t-G):"center"===p?w.slice(0,Math.ceil(G/2))+q+w.slice(t-~~(G/2)):w.slice(0,G)+q};h.truthy=ja;h.utcquarter=function(w){return 1+~~((new Date(w)).getUTCMonth()/
3)};h.visitArray=function(w,H,p){if(w)if(H)for(var q=w.length,t=0;t<q;++t){var G=H(w[t]);G&&p(G,t,w)}else w.forEach(p)};h.writeConfig=Ua;h.zero=wa;h.zoomLinear=function(w,H,p){return na(w,H,p,za,Ia)};h.zoomLog=function(w,H,p){var q=Math.sign(w[0]);return na(w,H,p,D(q),z(q))};h.zoomPow=function(w,H,p,q){return na(w,H,p,V(q),V(1/q))};h.zoomSymlog=function(w,H,p,q){return na(w,H,p,C(q),J(q))};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[1]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb):"function"===typeof define&&define.amd?define(["exports"],m):(h=h||self,m(h.d3=h.d3||{}))})(this,function(h){function m(fa){return new Function("d","return {"+fa.map(function(pa,da){return JSON.stringify(pa)+": d["+da+'] || ""'}).join(",")+"}")}function x(fa,pa){var da=m(fa);return function(ua,Ia){return pa(da(ua),Ia,fa)}}function Wa(fa){var pa=Object.create(null),da=[];fa.forEach(function(ua){for(var Ia in ua)Ia in
pa||da.push(pa[Ia]=Ia)});return da}function Gb(fa,pa){fa+="";var da=fa.length;return da<pa?Array(pa-da+1).join(0)+fa:fa}function gb(fa){function pa(ja,u){function y(){if(ia)return Lb;if(Pa)return Pa=!1,wb;var M,Ka=C,ka;if(34===ja.charCodeAt(Ka)){for(;C++<D&&34!==ja.charCodeAt(C)||34===ja.charCodeAt(++C););(M=C)>=D?ia=!0:10===(ka=ja.charCodeAt(C++))?Pa=!0:13===ka&&(Pa=!0,10===ja.charCodeAt(C)&&++C);return ja.slice(Ka+1,M-1).replace(/""/g,'"')}for(;C<D;){if(10===(ka=ja.charCodeAt(M=C++)))Pa=!0;else if(13===
ka)Pa=!0,10===ja.charCodeAt(C)&&++C;else if(ka!==$a)continue;return ja.slice(Ka,M)}return ia=!0,ja.slice(Ka,D)}var z=[],D=ja.length,C=0,J=0,V,ia=0>=D,Pa=!1;10===ja.charCodeAt(D-1)&&--D;for(13===ja.charCodeAt(D-1)&&--D;(V=y())!==Lb;){for(var cb=[];V!==wb&&V!==Lb;)cb.push(V),V=y();u&&null==(cb=u(cb,J++))||z.push(cb)}return z}function da(ja,u){return ja.map(function(y){return u.map(function(z){return Ia(y[z])}).join(fa)})}function ua(ja){return ja.map(Ia).join(fa)}function Ia(ja){if(null==ja)ja="";else{if(ja instanceof
Date){var u=ja.getUTCHours();var y=ja.getUTCMinutes(),z=ja.getUTCSeconds(),D=ja.getUTCMilliseconds();if(isNaN(ja))ja="Invalid Date";else{var C=ja.getUTCFullYear();ja=(0>C?"-"+Gb(-C,6):9999<C?"+"+Gb(C,6):Gb(C,4))+"-"+Gb(ja.getUTCMonth()+1,2)+"-"+Gb(ja.getUTCDate(),2)+(D?"T"+Gb(u,2)+":"+Gb(y,2)+":"+Gb(z,2)+"."+Gb(D,3)+"Z":z?"T"+Gb(u,2)+":"+Gb(y,2)+":"+Gb(z,2)+"Z":y||u?"T"+Gb(u,2)+":"+Gb(y,2)+"Z":"")}u=ja}else u=wa.test(ja+="")?'"'+ja.replace(/"/g,'""')+'"':ja;ja=u}return ja}var wa=new RegExp('["'+fa+
"\n\r]"),$a=fa.charCodeAt(0);return{parse:function(ja,u){var y,z;ja=pa(ja,function(D,C){if(y)return y(D,C-1);z=D;y=u?x(D,u):m(D)});ja.columns=z||[];return ja},parseRows:pa,format:function(ja,u){null==u&&(u=Wa(ja));return[u.map(Ia).join(fa)].concat(da(ja,u)).join("\n")},formatBody:function(ja,u){null==u&&(u=Wa(ja));return da(ja,u).join("\n")},formatRows:function(ja){return ja.map(ua).join("\n")},formatRow:ua,formatValue:Ia}}var wb={},Lb={},rb=gb(","),Ua=rb.parse,Sa=rb.parseRows,ab=rb.format,za=rb.formatBody,
Y=rb.formatRows,na=rb.formatRow;rb=rb.formatValue;var Ba=gb("\t"),Qa=Ba.parse,ca=Ba.parseRows,Z=Ba.format,Oa=Ba.formatBody,Aa=Ba.formatRows,va=Ba.formatRow;Ba=Ba.formatValue;var xa=(new Date("2019-01-01T00:00")).getHours()||(new Date("2019-07-01T00:00")).getHours();h.autoType=function(fa){for(var pa in fa){var da=fa[pa].trim(),ua;if(da)if("true"===da)da=!0;else if("false"===da)da=!1;else if("NaN"===da)da=NaN;else if(isNaN(ua=+da))if(ua=da.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))xa&&
ua[4]&&!ua[7]&&(da=da.replace(/-/g,"/").replace(/T/," ")),da=new Date(da);else continue;else da=ua;else da=null;fa[pa]=da}return fa};h.csvFormat=ab;h.csvFormatBody=za;h.csvFormatRow=na;h.csvFormatRows=Y;h.csvFormatValue=rb;h.csvParse=Ua;h.csvParseRows=Sa;h.dsvFormat=gb;h.tsvFormat=Z;h.tsvFormatBody=Oa;h.tsvFormatRow=va;h.tsvFormatRows=Aa;h.tsvFormatValue=Ba;h.tsvParse=Qa;h.tsvParseRows=ca;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[2]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb):"function"===typeof define&&define.amd?define(["exports"],m):(h=h||self,m(h.topojson=h.topojson||{}))})(this,function(h){function m(za){return za}function x(za){if(null==za)return m;var Y,na,Ba=za.scale[0],Qa=za.scale[1],ca=za.translate[0],Z=za.translate[1];return function(Oa,Aa){Aa||(Y=na=0);Aa=2;var va=Oa.length,xa=Array(va);xa[0]=(Y+=Oa[0])*Ba+ca;for(xa[1]=(na+=Oa[1])*Qa+Z;Aa<va;)xa[Aa]=Oa[Aa],
++Aa;return xa}}function Wa(za){function Y(va){va=Ba(va);va[0]<ca&&(ca=va[0]);va[0]>Oa&&(Oa=va[0]);va[1]<Z&&(Z=va[1]);va[1]>Aa&&(Aa=va[1])}function na(va){switch(va.type){case "GeometryCollection":va.geometries.forEach(na);break;case "Point":Y(va.coordinates);break;case "MultiPoint":va.coordinates.forEach(Y)}}var Ba=x(za.transform),Qa,ca=Infinity,Z=ca,Oa=-ca,Aa=-ca;za.arcs.forEach(function(va){for(var xa=-1,fa=va.length,pa;++xa<fa;)pa=Ba(va[xa],xa),pa[0]<ca&&(ca=pa[0]),pa[0]>Oa&&(Oa=pa[0]),pa[1]<
Z&&(Z=pa[1]),pa[1]>Aa&&(Aa=pa[1])});for(Qa in za.objects)na(za.objects[Qa]);return[ca,Z,Oa,Aa]}function Gb(za,Y){var na=Y.id,Ba=Y.bbox,Qa=null==Y.properties?{}:Y.properties;za=gb(za,Y);return null==na&&null==Ba?{type:"Feature",properties:Qa,geometry:za}:null==Ba?{type:"Feature",id:na,properties:Qa,geometry:za}:{type:"Feature",id:na,bbox:Ba,properties:Qa,geometry:za}}function gb(za,Y){function na(va){return Oa(va)}function Ba(va){for(var xa=[],fa=0,pa=va.length;fa<pa;++fa){var da=va[fa],ua=xa;ua.length&&
ua.pop();for(var Ia=Aa[0>da?~da:da],wa=0,$a=Ia.length;wa<$a;++wa)ua.push(Oa(Ia[wa],wa));if(0>da)for(da=ua,ua=da.length,Ia=ua-$a;Ia<--ua;)$a=da[Ia],da[Ia++]=da[ua],da[ua]=$a}2>xa.length&&xa.push(xa[0]);return xa}function Qa(va){for(va=Ba(va);4>va.length;)va.push(va[0]);return va}function ca(va){return va.map(Qa)}function Z(va){var xa=va.type;switch(xa){case "GeometryCollection":return{type:xa,geometries:va.geometries.map(Z)};case "Point":va=Oa(va.coordinates);break;case "MultiPoint":va=va.coordinates.map(na);
break;case "LineString":va=Ba(va.arcs);break;case "MultiLineString":va=va.arcs.map(Ba);break;case "Polygon":va=ca(va.arcs);break;case "MultiPolygon":va=va.arcs.map(ca);break;default:return null}return{type:xa,coordinates:va}}var Oa=x(za.transform),Aa=za.arcs;return Z(Y)}function wb(za,Y){function na(va){var xa=za.arcs[0>va?~va:va],fa=xa[0];if(za.transform){var pa=[0,0];xa.forEach(function(da){pa[0]+=da[0];pa[1]+=da[1]})}else pa=xa[xa.length-1];return 0>va?[pa,fa]:[fa,pa]}function Ba(va,xa){for(var fa in va){var pa=
va[fa];delete xa[pa.start];delete pa.start;delete pa.end;pa.forEach(function(da){Qa[0>da?~da:da]=1});Oa.push(pa)}}var Qa={},ca={},Z={},Oa=[],Aa=-1;Y.forEach(function(va,xa){var fa=za.arcs[0>va?~va:va];3>fa.length&&!fa[1][0]&&!fa[1][1]&&(fa=Y[++Aa],Y[Aa]=va,Y[xa]=fa)});Y.forEach(function(va){var xa=na(va),fa=xa[0],pa=xa[1];(xa=Z[fa])?(delete Z[xa.end],xa.push(va),xa.end=pa,(va=ca[pa])?(delete ca[va.start],fa=va===xa?xa:xa.concat(va),ca[fa.start=xa.start]=Z[fa.end=va.end]=fa):ca[xa.start]=Z[xa.end]=
xa):(xa=ca[pa])?(delete ca[xa.start],xa.unshift(va),xa.start=fa,(va=Z[fa])?(delete Z[va.end],fa=va===xa?xa:va.concat(xa),ca[fa.start=va.start]=Z[fa.end=xa.end]=fa):ca[xa.start]=Z[xa.end]=xa):(xa=[va],ca[xa.start=fa]=Z[xa.end=pa]=xa)});Ba(Z,ca);Ba(ca,Z);Y.forEach(function(va){Qa[0>va?~va:va]||Oa.push([va])});return Oa}function Lb(za,Y,na){var Ba;if(1<arguments.length)var Qa=rb(za,Y,na);else{var ca=0;for(Qa=Array(Ba=za.arcs.length);ca<Ba;++ca)Qa[ca]=ca}return{type:"MultiLineString",arcs:wb(za,Qa)}}
function rb(za,Y,na){function Ba(xa){var fa=0>xa?~xa:xa;(Aa[fa]||(Aa[fa]=[])).push({i:xa,g:va})}function Qa(xa){xa.forEach(Ba)}function ca(xa){xa.forEach(Qa)}function Z(xa){switch(va=xa,xa.type){case "GeometryCollection":xa.geometries.forEach(Z);break;case "LineString":Qa(xa.arcs);break;case "MultiLineString":case "Polygon":ca(xa.arcs);break;case "MultiPolygon":xa.arcs.forEach(ca)}}var Oa=[],Aa=[],va;Z(Y);Aa.forEach(null==na?function(xa){Oa.push(xa[0].i)}:function(xa){na(xa[0].g,xa[xa.length-1].g)&&
Oa.push(xa[0].i)});return Oa}function Ua(za,Y){function na(Aa){switch(Aa.type){case "GeometryCollection":Aa.geometries.forEach(na);break;case "Polygon":Ba(Aa.arcs);break;case "MultiPolygon":Aa.arcs.forEach(Ba)}}function Ba(Aa){Aa.forEach(function(va){va.forEach(function(xa){(ca[xa=0>xa?~xa:xa]||(ca[xa]=[])).push(Aa)})});Z.push(Aa)}function Qa(Aa){Aa=gb(za,{type:"Polygon",arcs:[Aa]}).coordinates[0];for(var va=-1,xa=Aa.length,fa,pa=Aa[xa-1],da=0;++va<xa;)fa=pa,pa=Aa[va],da+=fa[0]*pa[1]-fa[1]*pa[0];
return Math.abs(da)}var ca={},Z=[],Oa=[];Y.forEach(na);Z.forEach(function(Aa){if(!Aa._){var va=[],xa=[Aa];Aa._=1;for(Oa.push(va);Aa=xa.pop();)va.push(Aa),Aa.forEach(function(fa){fa.forEach(function(pa){ca[0>pa?~pa:pa].forEach(function(da){da._||(da._=1,xa.push(da))})})})}});Z.forEach(function(Aa){delete Aa._});return{type:"MultiPolygon",arcs:Oa.map(function(Aa){var va=[];Aa.forEach(function(da){da.forEach(function(ua){ua.forEach(function(Ia){2>ca[0>Ia?~Ia:Ia].length&&va.push(Ia)})})});va=wb(za,va);
if(1<(Aa=va.length))for(var xa=1,fa=Qa(va[0]),pa;xa<Aa;++xa)(pa=Qa(va[xa]))>fa&&(fa=va[0],va[0]=va[xa],va[xa]=fa,fa=pa);return va}).filter(function(Aa){return 0<Aa.length})}}function Sa(za,Y){for(var na=0,Ba=za.length;na<Ba;){var Qa=na+Ba>>>1;za[Qa]<Y?na=Qa+1:Ba=Qa}return na}function ab(za){if(null==za)return m;var Y,na,Ba=za.scale[0],Qa=za.scale[1],ca=za.translate[0],Z=za.translate[1];return function(Oa,Aa){Aa||(Y=na=0);Aa=2;var va=Oa.length,xa=Array(va),fa=Math.round((Oa[0]-ca)/Ba),pa=Math.round((Oa[1]-
Z)/Qa);xa[0]=fa-Y;Y=fa;xa[1]=pa-na;for(na=pa;Aa<va;)xa[Aa]=Oa[Aa],++Aa;return xa}}h.bbox=Wa;h.feature=function(za,Y){"string"===typeof Y&&(Y=za.objects[Y]);return"GeometryCollection"===Y.type?{type:"FeatureCollection",features:Y.geometries.map(function(na){return Gb(za,na)})}:Gb(za,Y)};h.merge=function(za){return gb(za,Ua.apply(this,arguments))};h.mergeArcs=Ua;h.mesh=function(za){return gb(za,Lb.apply(this,arguments))};h.meshArcs=Lb;h.neighbors=function(za){function Y(ua,Ia){ua.forEach(function(wa){0>
wa&&(wa=~wa);var $a=Qa[wa];$a?$a.push(Ia):Qa[wa]=[Ia]})}function na(ua,Ia){ua.forEach(function(wa){Y(wa,Ia)})}function Ba(ua,Ia){if("GeometryCollection"===ua.type)ua.geometries.forEach(function(wa){Ba(wa,Ia)});else if(ua.type in Z)Z[ua.type](ua.arcs,Ia)}var Qa={},ca=za.map(function(){return[]}),Z={LineString:Y,MultiLineString:na,Polygon:na,MultiPolygon:function(ua,Ia){ua.forEach(function(wa){na(wa,Ia)})}};za.forEach(Ba);for(var Oa in Qa){za=Qa[Oa];for(var Aa=za.length,va=0;va<Aa;++va)for(var xa=va+
1;xa<Aa;++xa){var fa=za[va],pa=za[xa],da;(da=ca[fa])[Oa=Sa(da,pa)]!==pa&&da.splice(Oa,0,pa);(da=ca[pa])[Oa=Sa(da,fa)]!==fa&&da.splice(Oa,0,fa)}}return ca};h.quantize=function(za,Y){function na(fa){return va(fa)}function Ba(fa){switch(fa.type){case "GeometryCollection":var pa={type:"GeometryCollection",geometries:fa.geometries.map(Ba)};break;case "Point":pa={type:"Point",coordinates:va(fa.coordinates)};break;case "MultiPoint":pa={type:"MultiPoint",coordinates:fa.coordinates.map(na)};break;default:return fa}null!=
fa.id&&(pa.id=fa.id);null!=fa.bbox&&(pa.bbox=fa.bbox);null!=fa.properties&&(pa.properties=fa.properties);return pa}if(za.transform)throw Error("already quantized");if(Y&&Y.scale)var Qa=za.bbox;else{if(!(2<=(Aa=Math.floor(Y))))throw Error("n must be ≥2");Qa=za.bbox||Wa(za);Y=Qa[0];var ca=Qa[1],Z=Qa[2],Oa=Qa[3],Aa;Y={scale:[Z-Y?(Z-Y)/(Aa-1):1,Oa-ca?(Oa-ca)/(Aa-1):1],translate:[Y,ca]}}var va=ab(Y),xa;ca=za.objects;Z={};for(xa in ca)Z[xa]=Ba(ca[xa]);return{type:"Topology",bbox:Qa,transform:Y,objects:Z,
arcs:za.arcs.map(function(fa){var pa=0,da=1,ua=fa.length,Ia,wa=Array(ua);for(wa[0]=va(fa[0],0);++pa<ua;)if((Ia=va(fa[pa],pa))[0]||Ia[1])wa[da++]=Ia;1===da&&(wa[da++]=[0,0]);wa.length=da;return wa})}};h.transform=x;h.untransform=ab;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[3]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb):"function"===typeof define&&define.amd?define(["exports"],m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.d3=h.d3||{}))})(this,function(h){function m(S,aa){return S<aa?-1:S>aa?1:S>=aa?0:NaN}function x(S){function aa(ea,U,Fa,Ja){null==Fa&&(Fa=0);null==Ja&&(Ja=ea.length);for(;Fa<Ja;){var Ta=Fa+Ja>>>1;0>ta(ea[Ta],U)?Fa=Ta+1:Ja=Ta}return Fa}var qa=S,ta=S;1===S.length&&(qa=function(ea,
U){return S(ea)-U},ta=Wa(S));return{left:aa,center:function(ea,U,Fa,Ja){null==Fa&&(Fa=0);null==Ja&&(Ja=ea.length);Ja=aa(ea,U,Fa,Ja-1);return Ja>Fa&&qa(ea[Ja-1],U)>-qa(ea[Ja],U)?Ja-1:Ja},right:function(ea,U,Fa,Ja){null==Fa&&(Fa=0);null==Ja&&(Ja=ea.length);for(;Fa<Ja;){var Ta=Fa+Ja>>>1;0<ta(ea[Ta],U)?Ja=Ta:Fa=Ta+1}return Fa}}}function Wa(S){return function(aa,qa){return m(S(aa),qa)}}function Gb(S){return null===S?NaN:+S}function gb(S,aa){var qa,ta,ea,U,Fa,Ja;return $jscomp.generator.createGenerator(gb,
function(Ta){switch(Ta.nextAddress){case 1:if(void 0===aa){Ta.jumpTo(2);break}qa=-1;ta=$jscomp.makeIterator(S);ea=ta.next();case 4:if(ea.done){Ta.jumpTo(0);break}U=ea.value;if(!(null!=(U=aa(U,++qa,S))&&(U=+U)>=U)){Ta.jumpTo(5);break}return Ta.yield(U,5);case 5:ea=ta.next();Ta.jumpTo(4);break;case 2:Fa=$jscomp.makeIterator(S),ea=Fa.next();case 9:if(ea.done){Ta.jumpTo(0);break}Ja=ea.value;if(!(null!=Ja&&(Ja=+Ja)>=Ja)){Ta.jumpTo(10);break}return Ta.yield(Ja,10);case 10:ea=Fa.next(),Ta.jumpTo(9)}})}function wb(S,
aa){var qa=0;if(void 0===aa){S=$jscomp.makeIterator(S);for(var ta=S.next();!ta.done;ta=S.next())aa=ta.value,null!=aa&&(aa=+aa)>=aa&&++qa}else{var ea=-1,U=$jscomp.makeIterator(S);for(ta=U.next();!ta.done;ta=U.next())ta=ta.value,null!=(ta=aa(ta,++ea,S))&&(ta=+ta)>=ta&&++qa}return qa}function Lb(S){return S.length|0}function rb(S){return!(0<S)}function Ua(S){return"object"!==typeof S||"length"in S?S:Array.from(S)}function Sa(S){return function(aa){return S.apply(null,$jscomp.arrayFromIterable(aa))}}
function ab(S,aa){var qa=0,ta,ea=0,U=0;if(void 0===aa)for(S=$jscomp.makeIterator(S),ta=S.next();!ta.done;ta=S.next())aa=ta.value,null!=aa&&(aa=+aa)>=aa&&(ta=aa-ea,ea+=ta/++qa,U+=ta*(aa-ea));else{var Fa=-1,Ja=$jscomp.makeIterator(S);for(ta=Ja.next();!ta.done;ta=Ja.next()){var Ta=ta.value;null!=(Ta=aa(Ta,++Fa,S))&&(Ta=+Ta)>=Ta&&(ta=Ta-ea,ea+=ta/++qa,U+=ta*(Ta-ea))}}if(1<qa)return U/(qa-1)}function za(S,aa){return(S=ab(S,aa))?Math.sqrt(S):S}function Y(S,aa){var qa,ta;if(void 0===aa){S=$jscomp.makeIterator(S);
for(var ea=S.next();!ea.done;ea=S.next())aa=ea.value,null!=aa&&(void 0===qa?aa>=aa&&(qa=ta=aa):(qa>aa&&(qa=aa),ta<aa&&(ta=aa)))}else{var U=-1,Fa=$jscomp.makeIterator(S);for(ea=Fa.next();!ea.done;ea=Fa.next())ea=ea.value,null!=(ea=aa(ea,++U,S))&&(void 0===qa?ea>=ea&&(qa=ta=ea):(qa>ea&&(qa=ea),ta<ea&&(ta=ea)))}return[qa,ta]}function na(S,aa){var qa=S._intern;S=S._key;S=S(aa);return qa.has(S)?qa.get(S):aa}function Ba(S,aa){var qa=S._intern;S=S._key;S=S(aa);if(qa.has(S))return qa.get(S);qa.set(S,aa);
return aa}function Qa(S,aa){var qa=S._intern;S=S._key;S=S(aa);qa.has(S)&&(aa=qa.get(aa),qa.delete(S));return aa}function ca(S){return null!==S&&"object"===typeof S?S.valueOf():S}function Z(S){return S}function Oa(S,aa){for(var qa=[],ta=1;ta<arguments.length;++ta)qa[ta-1]=arguments[ta];return xa(S,Z,Z,qa)}function Aa(S,aa,qa){for(var ta=[],ea=2;ea<arguments.length;++ea)ta[ea-2]=arguments[ea];return xa(S,Z,aa,ta)}function va(S){if(1!==S.length)throw Error("duplicate key");return S[0]}function xa(S,
aa,qa,ta){return function Ja(U,Fa){if(Fa>=ta.length)return qa(U);for(var Ta=new G,ya=ta[Fa++],lb=-1,yb=$jscomp.makeIterator(U),Ya=yb.next();!Ya.done;Ya=yb.next()){Ya=Ya.value;var Ob=ya(Ya,++lb,U),Qb=Ta.get(Ob);Qb?Qb.push(Ya):Ta.set(Ob,[Ya])}U=$jscomp.makeIterator(Ta);for(ya=U.next();!ya.done;ya=U.next())lb=$jscomp.makeIterator(ya.value),ya=lb.next().value,lb=lb.next().value,Ta.set(ya,Ja(lb,Fa));return aa(Ta)}(S,0)}function fa(S,aa){return Array.from(aa,function(qa){return S[qa]})}function pa(S,aa){for(var qa=
[],ta=1;ta<arguments.length;++ta)qa[ta-1]=arguments[ta];var ea=qa;if("function"!==typeof S[Symbol.iterator])throw new TypeError("values is not iterable");S=Array.from(S);qa=$jscomp.makeIterator(ea).next().value;var U=void 0===qa?m:qa;return 1===U.length||1<ea.length?(qa=Uint32Array.from(S,function(Fa,Ja){return Ja}),1<ea.length?(ea=ea.map(function(Fa){return S.map(Fa)}),qa.sort(function(Fa,Ja){for(var Ta=$jscomp.makeIterator(ea),ya=Ta.next();!ya.done;ya=Ta.next())if(ya=ya.value,ya=m(ya[Fa],ya[Ja]))return ya})):
(U=S.map(U),qa.sort(function(Fa,Ja){return m(U[Fa],U[Ja])})),fa(S,qa)):S.sort(U)}function da(S){return function(){return S}}function ua(S,aa,qa){var ta,ea=-1,U;aa=+aa;S=+S;qa=+qa;if(S===aa&&0<qa)return[S];if(ta=aa<S){var Fa=S;S=aa;aa=Fa}if(0===(U=Ia(S,aa,qa))||!isFinite(U))return[];if(0<U)for(qa=Math.round(S/U),Fa=Math.round(aa/U),qa*U<S&&++qa,Fa*U>aa&&--Fa,S=Array(Fa=Fa-qa+1);++ea<Fa;)S[ea]=(qa+ea)*U;else for(U=-U,qa=Math.round(S*U),Fa=Math.round(aa*U),qa/U<S&&++qa,Fa/U>aa&&--Fa,S=Array(Fa=Fa-qa+
1);++ea<Fa;)S[ea]=(qa+ea)/U;ta&&S.reverse();return S}function Ia(S,aa,qa){aa=(aa-S)/Math.max(0,qa);S=Math.floor(Math.log(aa)/Math.LN10);aa/=Math.pow(10,S);return 0<=S?(aa>=Ga?10:aa>=La?5:aa>=db?2:1)*Math.pow(10,S):-Math.pow(10,-S)/(aa>=Ga?10:aa>=La?5:aa>=db?2:1)}function wa(S,aa,qa){for(var ta;;){var ea=Ia(S,aa,qa);if(ea===ta||0===ea||!isFinite(ea))return[S,aa];0<ea?(S=Math.floor(S/ea)*ea,aa=Math.ceil(aa/ea)*ea):0>ea&&(S=Math.ceil(S*ea)/ea,aa=Math.floor(aa*ea)/ea);ta=ea}}function $a(S){return Math.ceil(Math.log(wb(S))/
Math.LN2)+1}function ja(){function S(ea){Array.isArray(ea)||(ea=Array.from(ea));var U,Fa=ea.length,Ja=Array(Fa);for(U=0;U<Fa;++U)Ja[U]=aa(ea[U],U,ea);var Ta=qa(Ja),ya=Ta[0];Ta=Ta[1];var lb=ta(Ja,ya,Ta);if(!Array.isArray(lb)){U=Ta;var yb=+lb;qa===Y&&(Ta=$jscomp.makeIterator(wa(ya,Ta,yb)),ya=Ta.next().value,Ta=Ta.next().value);lb=ua(ya,Ta,yb);lb[lb.length-1]>=Ta&&(U>=Ta&&qa===Y?(U=Ia(ya,Ta,yb),isFinite(U)&&(0<U?Ta=(Math.floor(Ta/U)+1)*U:0>U&&(Ta=(Math.ceil(Ta*-U)+1)/-U))):lb.pop())}for(yb=lb.length;lb[0]<=
ya;)lb.shift(),--yb;for(;lb[yb-1]>Ta;)lb.pop(),--yb;var Ya=Array(yb+1);for(U=0;U<=yb;++U){var Ob=Ya[U]=[];Ob.x0=0<U?lb[U-1]:ya;Ob.x1=U<yb?lb[U]:Ta}for(U=0;U<Fa;++U)Ob=Ja[U],ya<=Ob&&Ob<=Ta&&Ya[p(lb,Ob,0,yb)].push(ea[U]);return Ya}var aa=Z,qa=Y,ta=$a;S.value=function(ea){return arguments.length?(aa="function"===typeof ea?ea:da(ea),S):aa};S.domain=function(ea){return arguments.length?(qa="function"===typeof ea?ea:da([ea[0],ea[1]]),S):qa};S.thresholds=function(ea){return arguments.length?(ta="function"===
typeof ea?ea:Array.isArray(ea)?da(ba.call(ea)):da(ea),S):ta};return S}function u(S,aa){var qa;if(void 0===aa){S=$jscomp.makeIterator(S);for(var ta=S.next();!ta.done;ta=S.next())aa=ta.value,null!=aa&&(qa<aa||void 0===qa&&aa>=aa)&&(qa=aa)}else{var ea=-1,U=$jscomp.makeIterator(S);for(ta=U.next();!ta.done;ta=U.next())ta=ta.value,null!=(ta=aa(ta,++ea,S))&&(qa<ta||void 0===qa&&ta>=ta)&&(qa=ta)}return qa}function y(S,aa){var qa;if(void 0===aa){S=$jscomp.makeIterator(S);for(var ta=S.next();!ta.done;ta=S.next())aa=
ta.value,null!=aa&&(qa>aa||void 0===qa&&aa>=aa)&&(qa=aa)}else{var ea=-1,U=$jscomp.makeIterator(S);for(ta=U.next();!ta.done;ta=U.next())ta=ta.value,null!=(ta=aa(ta,++ea,S))&&(qa>ta||void 0===qa&&ta>=ta)&&(qa=ta)}return qa}function z(S,aa,qa,ta,ea){qa=void 0===qa?0:qa;ta=void 0===ta?S.length-1:ta;for(ea=void 0===ea?m:ea;ta>qa;){if(600<ta-qa){var U=ta-qa+1,Fa=aa-qa+1,Ja=Math.log(U),Ta=.5*Math.exp(2*Ja/3);Ja=.5*Math.sqrt(Ja*Ta*(U-Ta)/U)*(0>Fa-U/2?-1:1);z(S,aa,Math.max(qa,Math.floor(aa-Fa*Ta/U+Ja)),Math.min(ta,
Math.floor(aa+(U-Fa)*Ta/U+Ja)),ea)}U=S[aa];Fa=qa;Ta=ta;D(S,qa,aa);for(0<ea(S[ta],U)&&D(S,qa,ta);Fa<Ta;){D(S,Fa,Ta);++Fa;for(--Ta;0>ea(S[Fa],U);)++Fa;for(;0<ea(S[Ta],U);)--Ta}0===ea(S[qa],U)?D(S,qa,Ta):(++Ta,D(S,Ta,ta));Ta<=aa&&(qa=Ta+1);aa<=Ta&&(ta=Ta-1)}return S}function D(S,aa,qa){var ta=S[aa];S[aa]=S[qa];S[qa]=ta}function C(S,aa,qa){S=Float64Array.from(gb(S,qa));if(qa=S.length){if(0>=(aa=+aa)||2>qa)return y(S);if(1<=aa)return u(S);aa*=qa-1;qa=Math.floor(aa);var ta=u(z(S,qa).subarray(0,qa+1));S=
y(S.subarray(qa+1));return ta+(S-ta)*(aa-qa)}}function J(S,aa){var qa=-1,ta=-1;if(void 0===aa){S=$jscomp.makeIterator(S);for(var ea=S.next();!ea.done;ea=S.next())if(aa=ea.value,++ta,null!=aa&&(U<aa||void 0===U&&aa>=aa)){var U=aa;qa=ta}}else{var Fa=$jscomp.makeIterator(S);for(ea=Fa.next();!ea.done;ea=Fa.next())ea=ea.value,null!=(ea=aa(ea,++ta,S))&&(U<ea||void 0===U&&ea>=ea)&&(U=ea,qa=ta)}return qa}function V(S){var aa,qa,ta;return $jscomp.generator.createGenerator(V,function(ea){1==ea.nextAddress&&
(aa=$jscomp.makeIterator(S),qa=aa.next());if(3!=ea.nextAddress){if(qa.done)return ea.jumpTo(0);ta=qa.value;return ea.yieldAll(ta,3)}qa=aa.next();return ea.jumpTo(2)})}function ia(S,aa){var qa=-1,ta=-1;if(void 0===aa){S=$jscomp.makeIterator(S);for(var ea=S.next();!ea.done;ea=S.next())if(aa=ea.value,++ta,null!=aa&&(U>aa||void 0===U&&aa>=aa)){var U=aa;qa=ta}}else{var Fa=$jscomp.makeIterator(S);for(ea=Fa.next();!ea.done;ea=Fa.next())ea=ea.value,null!=(ea=aa(ea,++ta,S))&&(U>ea||void 0===U&&ea>=ea)&&(U=
ea,qa=ta)}return qa}function Pa(S,aa){return[S,aa]}function cb(S,aa){aa=void 0===aa?m:aa;if(1===aa.length)return ia(S,aa);var qa=-1,ta=-1;S=$jscomp.makeIterator(S);for(var ea=S.next();!ea.done;ea=S.next())if(ea=ea.value,++ta,0>qa?0===aa(ea,ea):0>aa(ea,U)){var U=ea;qa=ta}return qa}function M(S){return function(aa,qa,ta){qa=void 0===qa?0:qa;ta=void 0===ta?aa.length:ta;for(ta-=qa=+qa;ta;){var ea=S()*ta--|0,U=aa[ta+qa];aa[ta+qa]=aa[ea+qa];aa[ea+qa]=U}return aa}}function Ka(S){if(!(U=S.length))return[];
for(var aa=-1,qa=y(S,ka),ta=Array(qa);++aa<qa;)for(var ea=-1,U,Fa=ta[aa]=Array(U);++ea<U;)Fa[ea]=S[ea][aa];return ta}function ka(S){return S.length}function ha(S){return S instanceof Set?S:new Set(S)}function w(S,aa){var qa=S[Symbol.iterator]();S=new Set;var ta={};aa=$jscomp.makeIterator(aa);for(var ea=aa.next();!ea.done;ta={$jscomp$loop$prop$value$723:ta.$jscomp$loop$prop$value$723,$jscomp$loop$prop$done$724:ta.$jscomp$loop$prop$done$724},ea=aa.next())if(ea=ea.value,!S.has(ea))for(ta.$jscomp$loop$prop$value$723=
void 0,ta.$jscomp$loop$prop$done$724=void 0;function(U){return function(){var Fa=qa.next();U.$jscomp$loop$prop$value$723=Fa.value;U.$jscomp$loop$prop$done$724=Fa.done;return Fa}}(ta)();){if(ta.$jscomp$loop$prop$done$724)return!1;S.add(ta.$jscomp$loop$prop$value$723);if(Object.is(ea,ta.$jscomp$loop$prop$value$723))break}return!0}var H=x(m),p=H.right;H=H.left;var q=x(Gb).center,t=function(){this._partials=new Float64Array(32);this._n=0};t.prototype.add=function(S){for(var aa=this._partials,qa=0,ta=
0;ta<this._n&&32>ta;ta++){var ea=aa[ta],U=S+ea;(S=Math.abs(S)<Math.abs(ea)?S-(U-ea):ea-(U-S))&&(aa[qa++]=S);S=U}aa[qa]=S;this._n=qa+1;return this};t.prototype.valueOf=function(){var S=this._partials,aa=this._n,qa=0;if(0<aa){for(qa=S[--aa];0<aa;){var ta=qa;var ea=S[--aa];qa=ta+ea;if(ta=ea-(qa-ta))break}0<aa&&(0>ta&&0>S[aa-1]||0<ta&&0<S[aa-1])&&(ea=2*ta,ta=qa+ea,ea==ta-qa&&(qa=ta))}return qa};var G=function(S,aa){aa=void 0===aa?ca:aa;var qa=$jscomp.construct(Map,[],this.constructor);Object.defineProperties(qa,
{_intern:{value:new Map},_key:{value:aa}});if(null!=S)for(S=$jscomp.makeIterator(S),aa=S.next();!aa.done;aa=S.next()){var ta=$jscomp.makeIterator(aa.value);aa=ta.next().value;ta=ta.next().value;qa.set(aa,ta)}return qa};$jscomp.inherits(G,Map);G.prototype.get=function(S){return Map.prototype.get.call(this,na(this,S))};G.prototype.has=function(S){return Map.prototype.has.call(this,na(this,S))};G.prototype.set=function(S,aa){return Map.prototype.set.call(this,Ba(this,S),aa)};G.prototype.delete=function(S){return Map.prototype.delete.call(this,
Qa(this,S))};var L=function(S,aa){aa=void 0===aa?ca:aa;var qa=$jscomp.construct(Set,[],this.constructor);Object.defineProperties(qa,{_intern:{value:new Map},_key:{value:aa}});if(null!=S)for(S=$jscomp.makeIterator(S),aa=S.next();!aa.done;aa=S.next())qa.add(aa.value);return qa};$jscomp.inherits(L,Set);L.prototype.has=function(S){return Set.prototype.has.call(this,na(this,S))};L.prototype.add=function(S){return Set.prototype.add.call(this,Ba(this,S))};L.prototype.delete=function(S){return Set.prototype.delete.call(this,
Qa(this,S))};var ba=Array.prototype.slice,Ga=Math.sqrt(50),La=Math.sqrt(10),db=Math.sqrt(2),sb=M(Math.random);h.Adder=t;h.InternMap=G;h.InternSet=L;h.ascending=m;h.bin=ja;h.bisect=p;h.bisectCenter=q;h.bisectLeft=H;h.bisectRight=p;h.bisector=x;h.count=wb;h.cross=function(S){for(var aa=[],qa=0;qa<arguments.length;++qa)aa[qa-0]=arguments[qa];var ta=aa;aa="function"===typeof ta[ta.length-1]&&Sa(ta.pop());ta=ta.map(Ua);qa=ta.map(Lb);var ea=ta.length-1,U=Array(ea+1).fill(0),Fa=[];if(0>ea||qa.some(rb))return Fa;
for(;;){Fa.push(U.map(function(Ta,ya){return ta[ya][Ta]}));for(var Ja=ea;++U[Ja]===qa[Ja];){if(0===Ja)return aa?Fa.map(aa):Fa;U[Ja--]=0}}};h.cumsum=function(S,aa){var qa=0,ta=0;return Float64Array.from(S,void 0===aa?function(ea){return qa+=+ea||0}:function(ea){return qa+=+aa(ea,ta++,S)||0})};h.descending=function(S,aa){return aa<S?-1:aa>S?1:aa>=S?0:NaN};h.deviation=za;h.difference=function(S,aa){for(var qa=[],ta=1;ta<arguments.length;++ta)qa[ta-1]=arguments[ta];S=new Set(S);qa=$jscomp.makeIterator(qa);
for(ta=qa.next();!ta.done;ta=qa.next()){ta=$jscomp.makeIterator(ta.value);for(var ea=ta.next();!ea.done;ea=ta.next())S.delete(ea.value)}return S};h.disjoint=function(S,aa){var qa=aa[Symbol.iterator]();aa=new Set;var ta={};S=$jscomp.makeIterator(S);for(var ea=S.next();!ea.done;ta={$jscomp$loop$prop$value$720:ta.$jscomp$loop$prop$value$720,$jscomp$loop$prop$done$721:ta.$jscomp$loop$prop$done$721},ea=S.next()){ea=ea.value;if(aa.has(ea))return!1;ta.$jscomp$loop$prop$value$720=void 0;for(ta.$jscomp$loop$prop$done$721=
void 0;function(U){return function(){var Fa=qa.next();U.$jscomp$loop$prop$value$720=Fa.value;U.$jscomp$loop$prop$done$721=Fa.done;return Fa}}(ta)()&&!ta.$jscomp$loop$prop$done$721;){if(Object.is(ea,ta.$jscomp$loop$prop$value$720))return!1;aa.add(ta.$jscomp$loop$prop$value$720)}}return!0};h.every=function(S,aa){if("function"!==typeof aa)throw new TypeError("test is not a function");for(var qa=-1,ta=$jscomp.makeIterator(S),ea=ta.next();!ea.done;ea=ta.next())if(!aa(ea.value,++qa,S))return!1;return!0};
h.extent=Y;h.fcumsum=function(S,aa){var qa=new t,ta=-1;return Float64Array.from(S,void 0===aa?function(ea){return qa.add(+ea||0)}:function(ea){return qa.add(+aa(ea,++ta,S)||0)})};h.filter=function(S,aa){if("function"!==typeof aa)throw new TypeError("test is not a function");for(var qa=[],ta=-1,ea=$jscomp.makeIterator(S),U=ea.next();!U.done;U=ea.next())U=U.value,aa(U,++ta,S)&&qa.push(U);return qa};h.fsum=function(S,aa){var qa=new t;if(void 0===aa){S=$jscomp.makeIterator(S);for(var ta=S.next();!ta.done;ta=
S.next())aa=ta.value,(aa=+aa)&&qa.add(aa)}else{var ea=-1,U=$jscomp.makeIterator(S);for(ta=U.next();!ta.done;ta=U.next())ta=ta.value,(ta=+aa(ta,++ea,S))&&qa.add(ta)}return+qa};h.greatest=function(S,aa){aa=void 0===aa?m:aa;var qa=!1;if(1===aa.length){S=$jscomp.makeIterator(S);for(var ta=S.next();!ta.done;ta=S.next()){ta=ta.value;var ea=aa(ta);if(qa?0<m(ea,Fa):0===m(ea,ea)){var U=ta;var Fa=ea;qa=!0}}}else for(Fa=$jscomp.makeIterator(S),S=Fa.next();!S.done;S=Fa.next())if(S=S.value,qa?0<aa(S,U):0===aa(S,
S))U=S,qa=!0;return U};h.greatestIndex=function(S,aa){aa=void 0===aa?m:aa;if(1===aa.length)return J(S,aa);var qa=-1,ta=-1;S=$jscomp.makeIterator(S);for(var ea=S.next();!ea.done;ea=S.next())if(ea=ea.value,++ta,0>qa?0===aa(ea,ea):0<aa(ea,U)){var U=ea;qa=ta}return qa};h.group=Oa;h.groupSort=function(S,aa,qa){return(1===aa.length?pa(Aa(S,aa,qa),function(ta,ea){var U=$jscomp.makeIterator(ta);ta=U.next().value;U=U.next().value;var Fa=$jscomp.makeIterator(ea);ea=Fa.next().value;Fa=Fa.next().value;return m(U,
Fa)||m(ta,ea)}):pa(Oa(S,qa),function(ta,ea){var U=$jscomp.makeIterator(ta);ta=U.next().value;U=U.next().value;var Fa=$jscomp.makeIterator(ea);ea=Fa.next().value;Fa=Fa.next().value;return aa(U,Fa)||m(ta,ea)})).map(function(ta){return $jscomp.makeIterator(ta).next().value})};h.groups=function(S,aa){for(var qa=[],ta=1;ta<arguments.length;++ta)qa[ta-1]=arguments[ta];return xa(S,Array.from,Z,qa)};h.histogram=ja;h.index=function(S,aa){for(var qa=[],ta=1;ta<arguments.length;++ta)qa[ta-1]=arguments[ta];return xa(S,
Z,va,qa)};h.indexes=function(S,aa){for(var qa=[],ta=1;ta<arguments.length;++ta)qa[ta-1]=arguments[ta];return xa(S,Array.from,va,qa)};h.intersection=function(S,aa){for(var qa=[],ta=1;ta<arguments.length;++ta)qa[ta-1]=arguments[ta];S=new Set(S);qa=qa.map(ha);ta=$jscomp.makeIterator(S);var ea=ta.next();a:for(;!ea.done;ea=ta.next()){ea=ea.value;for(var U=$jscomp.makeIterator(qa),Fa=U.next();!Fa.done;Fa=U.next())if(!Fa.value.has(ea)){S.delete(ea);continue a}}return S};h.least=function(S,aa){aa=void 0===
aa?m:aa;var qa=!1;if(1===aa.length){S=$jscomp.makeIterator(S);for(var ta=S.next();!ta.done;ta=S.next()){ta=ta.value;var ea=aa(ta);if(qa?0>m(ea,Fa):0===m(ea,ea)){var U=ta;var Fa=ea;qa=!0}}}else for(Fa=$jscomp.makeIterator(S),S=Fa.next();!S.done;S=Fa.next())if(S=S.value,qa?0>aa(S,U):0===aa(S,S))U=S,qa=!0;return U};h.leastIndex=cb;h.map=function(S,aa){if("function"!==typeof S[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof aa)throw new TypeError("mapper is not a function");
return Array.from(S,function(qa,ta){return aa(qa,ta,S)})};h.max=u;h.maxIndex=J;h.mean=function(S,aa){var qa=0,ta=0;if(void 0===aa){S=$jscomp.makeIterator(S);for(var ea=S.next();!ea.done;ea=S.next())aa=ea.value,null!=aa&&(aa=+aa)>=aa&&(++qa,ta+=aa)}else{var U=-1,Fa=$jscomp.makeIterator(S);for(ea=Fa.next();!ea.done;ea=Fa.next())ea=ea.value,null!=(ea=aa(ea,++U,S))&&(ea=+ea)>=ea&&(++qa,ta+=ea)}if(qa)return ta/qa};h.median=function(S,aa){return C(S,.5,aa)};h.merge=function(S){return Array.from(V(S))};
h.min=y;h.minIndex=ia;h.nice=wa;h.pairs=function(S,aa){aa=void 0===aa?Pa:aa;var qa=[],ta=!1;S=$jscomp.makeIterator(S);for(var ea=S.next();!ea.done;ea=S.next()){ea=ea.value;ta&&qa.push(aa(U,ea));var U=ea;ta=!0}return qa};h.permute=fa;h.quantile=C;h.quantileSorted=function(S,aa,qa){qa=void 0===qa?Gb:qa;if(ta=S.length){if(0>=(aa=+aa)||2>ta)return+qa(S[0],0,S);if(1<=aa)return+qa(S[ta-1],ta-1,S);var ta;aa*=ta-1;ta=Math.floor(aa);var ea=+qa(S[ta],ta,S);S=+qa(S[ta+1],ta+1,S);return ea+(S-ea)*(aa-ta)}};h.quickselect=
z;h.range=function(S,aa,qa){S=+S;aa=+aa;qa=2>(ea=arguments.length)?(aa=S,S=0,1):3>ea?1:+qa;for(var ta=-1,ea=Math.max(0,Math.ceil((aa-S)/qa))|0,U=Array(ea);++ta<ea;)U[ta]=S+ta*qa;return U};h.reduce=function(S,aa,qa){if("function"!==typeof aa)throw new TypeError("reducer is not a function");var ta=S[Symbol.iterator](),ea,U=-1;if(3>arguments.length){var Fa=ta.next();var Ja=Fa.done;qa=Fa.value;if(Ja)return;++U}for(;function(){var Ta=ta.next();Ja=Ta.done;ea=Ta.value;return Ta}(),!Ja;)qa=aa(qa,ea,++U,S);
return qa};h.reverse=function(S){if("function"!==typeof S[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(S).reverse()};h.rollup=Aa;h.rollups=function(S,aa,qa){for(var ta=[],ea=2;ea<arguments.length;++ea)ta[ea-2]=arguments[ea];return xa(S,Array.from,aa,ta)};h.scan=function(S,aa){S=cb(S,aa);return 0>S?void 0:S};h.shuffle=sb;h.shuffler=M;h.some=function(S,aa){if("function"!==typeof aa)throw new TypeError("test is not a function");for(var qa=-1,ta=$jscomp.makeIterator(S),
ea=ta.next();!ea.done;ea=ta.next())if(aa(ea.value,++qa,S))return!0;return!1};h.sort=pa;h.subset=function(S,aa){return w(aa,S)};h.sum=function(S,aa){var qa=0;if(void 0===aa){S=$jscomp.makeIterator(S);for(var ta=S.next();!ta.done;ta=S.next())if(aa=ta.value,aa=+aa)qa+=aa}else{var ea=-1,U=$jscomp.makeIterator(S);for(ta=U.next();!ta.done;ta=U.next())if(ta=ta.value,ta=+aa(ta,++ea,S))qa+=ta}return qa};h.superset=w;h.thresholdFreedmanDiaconis=function(S,aa,qa){return Math.ceil((qa-aa)/(2*(C(S,.75)-C(S,.25))*
Math.pow(wb(S),-1/3)))};h.thresholdScott=function(S,aa,qa){return Math.ceil((qa-aa)/(3.5*za(S)*Math.pow(wb(S),-1/3)))};h.thresholdSturges=$a;h.tickIncrement=Ia;h.tickStep=function(S,aa,qa){var ta=Math.abs(aa-S)/Math.max(0,qa);qa=Math.pow(10,Math.floor(Math.log(ta)/Math.LN10));ta/=qa;ta>=Ga?qa*=10:ta>=La?qa*=5:ta>=db&&(qa*=2);return aa<S?-qa:qa};h.ticks=ua;h.transpose=Ka;h.union=function(S){for(var aa=[],qa=0;qa<arguments.length;++qa)aa[qa-0]=arguments[qa];qa=new Set;aa=$jscomp.makeIterator(aa);for(var ta=
aa.next();!ta.done;ta=aa.next()){ta=$jscomp.makeIterator(ta.value);for(var ea=ta.next();!ea.done;ea=ta.next())qa.add(ea.value)}return qa};h.variance=ab;h.zip=function(){return Ka(arguments)};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[4]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb):"function"===typeof define&&define.amd?define(["exports"],m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.d3=h.d3||{}))})(this,function(h){function m(ca,Z){if(0>(Z=(ca=Z?ca.toExponential(Z-1):ca.toExponential()).indexOf("e")))return null;var Oa=ca.slice(0,Z);return[1<Oa.length?Oa[0]+Oa.slice(2):Oa,+ca.slice(Z+1)]}function x(ca){return ca=m(Math.abs(ca)),ca?ca[1]:NaN}function Wa(ca,
Z){return function(Oa,Aa){for(var va=Oa.length,xa=[],fa=0,pa=ca[0],da=0;0<va&&0<pa;){da+pa+1>Aa&&(pa=Math.max(1,Aa-da));xa.push(Oa.substring(va-=pa,va+pa));if((da+=pa+1)>Aa)break;pa=ca[fa=(fa+1)%ca.length]}return xa.reverse().join(Z)}}function Gb(ca){return function(Z){return Z.replace(/[0-9]/g,function(Oa){return ca[+Oa]})}}function gb(ca){if(!(Z=ab.exec(ca)))throw Error("invalid format: "+ca);var Z;return new wb({fill:Z[1],align:Z[2],sign:Z[3],symbol:Z[4],zero:Z[5],width:Z[6],comma:Z[7],precision:Z[8]&&
Z[8].slice(1),trim:Z[9],type:Z[10]})}function wb(ca){this.fill=void 0===ca.fill?" ":ca.fill+"";this.align=void 0===ca.align?"\x3e":ca.align+"";this.sign=void 0===ca.sign?"-":ca.sign+"";this.symbol=void 0===ca.symbol?"":ca.symbol+"";this.zero=!!ca.zero;this.width=void 0===ca.width?void 0:+ca.width;this.comma=!!ca.comma;this.precision=void 0===ca.precision?void 0:+ca.precision;this.trim=!!ca.trim;this.type=void 0===ca.type?"":ca.type+""}function Lb(ca,Z){Z=m(ca,Z);if(!Z)return ca+"";ca=Z[0];Z=Z[1];
return 0>Z?"0."+Array(-Z).join("0")+ca:ca.length>Z+1?ca.slice(0,Z+1)+"."+ca.slice(Z+1):ca+Array(Z-ca.length+2).join("0")}function rb(ca){return ca}function Ua(ca){function Z(Ia){function wa(ka){var ha=Pa,w=cb,H,p;if("c"===ia)w=M(ka)+w,ka="";else{ka=+ka;var q=0>ka||0>1/ka;ka=isNaN(ka)?ua:M(Math.abs(ka),J);if(V){var t=ka.length,G=1,L=-1;a:for(;G<t;++G)switch(ka[G]){case ".":L=H=G;break;case "0":0===L&&(L=G);H=G;break;default:if(!+ka[G])break a;0<L&&(L=0)}ka=0<L?ka.slice(0,L)+ka.slice(H+1):ka}q&&0===
+ka&&"+"!==u&&(q=!1);ha=(q?"("===u?u:da:"-"===u||"("===u?"":u)+ha;w=("s"===ia?Ba[8+za/3]:"")+w+(q&&"("===u?")":"");if(Ka)for(q=-1,H=ka.length;++q<H;)if(p=ka.charCodeAt(q),48>p||57<p){w=(46===p?xa+ka.slice(q+1):ka.slice(q))+w;ka=ka.slice(0,q);break}}C&&!z&&(ka=Oa(ka,Infinity));p=ha.length+ka.length+w.length;q=p<D?Array(D-p+1).join($a):"";C&&z&&(ka=Oa(q+ka,q.length?D-w.length:Infinity),q="");switch(ja){case "\x3c":ka=ha+ka+w+q;break;case "\x3d":ka=ha+q+ka+w;break;case "^":ka=q.slice(0,p=q.length>>1)+
ha+ka+w+q.slice(p);break;default:ka=q+ha+ka+w}return fa(ka)}Ia=gb(Ia);var $a=Ia.fill,ja=Ia.align,u=Ia.sign,y=Ia.symbol,z=Ia.zero,D=Ia.width,C=Ia.comma,J=Ia.precision,V=Ia.trim,ia=Ia.type;"n"===ia?(C=!0,ia="g"):Y[ia]||(void 0===J&&(J=12),V=!0,ia="g");if(z||"0"===$a&&"\x3d"===ja)z=!0,$a="0",ja="\x3d";var Pa="$"===y?Aa:"#"===y&&/[boxX]/.test(ia)?"0"+ia.toLowerCase():"",cb="$"===y?va:/[%p]/.test(ia)?pa:"",M=Y[ia],Ka=/[defgprs%]/.test(ia);J=void 0===J?6:/[gprs]/.test(ia)?Math.max(1,Math.min(21,J)):Math.max(0,
Math.min(20,J));wa.toString=function(){return Ia+""};return wa}var Oa=void 0===ca.grouping||void 0===ca.thousands?rb:Wa(na.call(ca.grouping,Number),ca.thousands+""),Aa=void 0===ca.currency?"":ca.currency[0]+"",va=void 0===ca.currency?"":ca.currency[1]+"",xa=void 0===ca.decimal?".":ca.decimal+"",fa=void 0===ca.numerals?rb:Gb(na.call(ca.numerals,String)),pa=void 0===ca.percent?"%":ca.percent+"",da=void 0===ca.minus?"−":ca.minus+"",ua=void 0===ca.nan?"NaN":ca.nan+"";return{format:Z,formatPrefix:function(Ia,
wa){var $a=Z((Ia=gb(Ia),Ia.type="f",Ia));Ia=3*Math.max(-8,Math.min(8,Math.floor(x(wa)/3)));var ja=Math.pow(10,-Ia),u=Ba[8+Ia/3];return function(y){return $a(ja*y)+u}}}}function Sa(ca){Qa=Ua(ca);h.format=Qa.format;h.formatPrefix=Qa.formatPrefix;return Qa}var ab=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;gb.prototype=wb.prototype;wb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|
0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var za,Y={"%":function(ca,Z){return(100*ca).toFixed(Z)},b:function(ca){return Math.round(ca).toString(2)},c:function(ca){return ca+""},d:function(ca){return 1E21<=Math.abs(ca=Math.round(ca))?ca.toLocaleString("en").replace(/,/g,""):ca.toString(10)},e:function(ca,Z){return ca.toExponential(Z)},f:function(ca,Z){return ca.toFixed(Z)},g:function(ca,Z){return ca.toPrecision(Z)},o:function(ca){return Math.round(ca).toString(8)},
p:function(ca,Z){return Lb(100*ca,Z)},r:Lb,s:function(ca,Z){var Oa=m(ca,Z);if(!Oa)return ca+"";var Aa=Oa[0];Oa=Oa[1];Oa=Oa-(za=3*Math.max(-8,Math.min(8,Math.floor(Oa/3))))+1;var va=Aa.length;return Oa===va?Aa:Oa>va?Aa+Array(Oa-va+1).join("0"):0<Oa?Aa.slice(0,Oa)+"."+Aa.slice(Oa):"0."+Array(1-Oa).join("0")+m(ca,Math.max(0,Z+Oa-1))[0]},X:function(ca){return Math.round(ca).toString(16).toUpperCase()},x:function(ca){return Math.round(ca).toString(16)}},na=Array.prototype.map,Ba="y z a f p n µ m  k M G T P E Z Y".split(" "),
Qa;Sa({thousands:",",grouping:[3],currency:["$",""]});h.FormatSpecifier=wb;h.formatDefaultLocale=Sa;h.formatLocale=Ua;h.formatSpecifier=gb;h.precisionFixed=function(ca){return Math.max(0,-x(Math.abs(ca)))};h.precisionPrefix=function(ca,Z){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(x(Z)/3)))-x(Math.abs(ca)))};h.precisionRound=function(ca,Z){ca=Math.abs(ca);Z=Math.abs(Z)-ca;return Math.max(0,x(Z)-x(ca))+1};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[5]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(3)):"function"===typeof define&&define.amd?define(["exports","d3-array"],m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.d3=h.d3||{},h.d3))})(this,function(h,m){function x(Ja,Ta,ya,lb){function yb(Ya){return Ja(Ya=0===arguments.length?new Date:new Date(+Ya)),Ya}yb.floor=function(Ya){return Ja(Ya=new Date(+Ya)),Ya};yb.ceil=function(Ya){return Ja(Ya=new Date(Ya-1)),Ta(Ya,1),Ja(Ya),
Ya};yb.round=function(Ya){var Ob=yb(Ya),Qb=yb.ceil(Ya);return Ya-Ob<Qb-Ya?Ob:Qb};yb.offset=function(Ya,Ob){return Ta(Ya=new Date(+Ya),null==Ob?1:Math.floor(Ob)),Ya};yb.range=function(Ya,Ob,Qb){var Zb=[],Ic;Ya=yb.ceil(Ya);Qb=null==Qb?1:Math.floor(Qb);if(!(Ya<Ob&&0<Qb))return Zb;do Zb.push(Ic=new Date(+Ya)),Ta(Ya,Qb),Ja(Ya);while(Ic<Ya&&Ya<Ob);return Zb};yb.filter=function(Ya){return x(function(Ob){if(Ob>=Ob)for(;Ja(Ob),!Ya(Ob);)Ob.setTime(Ob-1)},function(Ob,Qb){if(Ob>=Ob)if(0>Qb)for(;0>=++Qb;)for(;Ta(Ob,
-1),!Ya(Ob););else for(;0<=--Qb;)for(;Ta(Ob,1),!Ya(Ob););})};ya&&(yb.count=function(Ya,Ob){wb.setTime(+Ya);Lb.setTime(+Ob);Ja(wb);Ja(Lb);return Math.floor(ya(wb,Lb))},yb.every=function(Ya){Ya=Math.floor(Ya);return isFinite(Ya)&&0<Ya?1<Ya?yb.filter(lb?function(Ob){return 0===lb(Ob)%Ya}:function(Ob){return 0===yb.count(0,Ob)%Ya}):yb:null});return yb}function Wa(Ja){return x(function(Ta){Ta.setDate(Ta.getDate()-(Ta.getDay()+7-Ja)%7);Ta.setHours(0,0,0,0)},function(Ta,ya){Ta.setDate(Ta.getDate()+7*ya)},
function(Ta,ya){return(ya-Ta-6E4*(ya.getTimezoneOffset()-Ta.getTimezoneOffset()))/6048E5})}function Gb(Ja){return x(function(Ta){Ta.setUTCDate(Ta.getUTCDate()-(Ta.getUTCDay()+7-Ja)%7);Ta.setUTCHours(0,0,0,0)},function(Ta,ya){Ta.setUTCDate(Ta.getUTCDate()+7*ya)},function(Ta,ya){return(ya-Ta)/6048E5})}function gb(Ja,Ta,ya,lb,yb,Ya){function Ob(Zb,Ic,uc){var Zc=Math.abs(Ic-Zb)/uc,Ad=m.bisector(function(Lc){Lc=$jscomp.makeIterator(Lc);Lc.next();Lc.next();return Lc.next().value}).right(Qb,Zc);if(Ad===
Qb.length)return Ja.every(m.tickStep(Zb/31536E6,Ic/31536E6,uc));if(0===Ad)return rb.every(Math.max(m.tickStep(Zb,Ic,uc),1));Ic=$jscomp.makeIterator(Qb[Zc/Qb[Ad-1][2]<Qb[Ad][2]/Zc?Ad-1:Ad]);Zb=Ic.next().value;Ic=Ic.next().value;return Zb.every(Ic)}var Qb=[[Sa,1,1E3],[Sa,5,5E3],[Sa,15,15E3],[Sa,30,3E4],[Ya,1,6E4],[Ya,5,3E5],[Ya,15,9E5],[Ya,30,18E5],[yb,1,36E5],[yb,3,108E5],[yb,6,216E5],[yb,12,432E5],[lb,1,864E5],[lb,2,1728E5],[ya,1,6048E5],[Ta,1,2592E6],[Ta,3,7776E6],[Ja,1,31536E6]];return[function(Zb,
Ic,uc){var Zc=Ic<Zb;Zc&&(Ic=$jscomp.makeIterator([Ic,Zb]),Zb=Ic.next().value,Ic=Ic.next().value);Zb=(uc=uc&&"function"===typeof uc.range?uc:Ob(Zb,Ic,uc))?uc.range(Zb,+Ic+1):[];return Zc?Zb.reverse():Zb},Ob]}var wb=new Date,Lb=new Date,rb=x(function(){},function(Ja,Ta){Ja.setTime(+Ja+Ta)},function(Ja,Ta){return Ta-Ja});rb.every=function(Ja){Ja=Math.floor(Ja);return isFinite(Ja)&&0<Ja?1<Ja?x(function(Ta){Ta.setTime(Math.floor(Ta/Ja)*Ja)},function(Ta,ya){Ta.setTime(+Ta+ya*Ja)},function(Ta,ya){return(ya-
Ta)/Ja}):rb:null};var Ua=rb.range,Sa=x(function(Ja){Ja.setTime(Ja-Ja.getMilliseconds())},function(Ja,Ta){Ja.setTime(+Ja+1E3*Ta)},function(Ja,Ta){return(Ta-Ja)/1E3},function(Ja){return Ja.getUTCSeconds()}),ab=Sa.range,za=x(function(Ja){Ja.setTime(Ja-Ja.getMilliseconds()-1E3*Ja.getSeconds())},function(Ja,Ta){Ja.setTime(+Ja+6E4*Ta)},function(Ja,Ta){return(Ta-Ja)/6E4},function(Ja){return Ja.getMinutes()}),Y=za.range,na=x(function(Ja){Ja.setTime(Ja-Ja.getMilliseconds()-1E3*Ja.getSeconds()-6E4*Ja.getMinutes())},
function(Ja,Ta){Ja.setTime(+Ja+36E5*Ta)},function(Ja,Ta){return(Ta-Ja)/36E5},function(Ja){return Ja.getHours()}),Ba=na.range,Qa=x(function(Ja){return Ja.setHours(0,0,0,0)},function(Ja,Ta){return Ja.setDate(Ja.getDate()+Ta)},function(Ja,Ta){return(Ta-Ja-6E4*(Ta.getTimezoneOffset()-Ja.getTimezoneOffset()))/864E5},function(Ja){return Ja.getDate()-1}),ca=Qa.range,Z=Wa(0),Oa=Wa(1),Aa=Wa(2),va=Wa(3),xa=Wa(4),fa=Wa(5),pa=Wa(6),da=Z.range,ua=Oa.range,Ia=Aa.range,wa=va.range,$a=xa.range,ja=fa.range,u=pa.range,
y=x(function(Ja){Ja.setDate(1);Ja.setHours(0,0,0,0)},function(Ja,Ta){Ja.setMonth(Ja.getMonth()+Ta)},function(Ja,Ta){return Ta.getMonth()-Ja.getMonth()+12*(Ta.getFullYear()-Ja.getFullYear())},function(Ja){return Ja.getMonth()}),z=y.range,D=x(function(Ja){Ja.setMonth(0,1);Ja.setHours(0,0,0,0)},function(Ja,Ta){Ja.setFullYear(Ja.getFullYear()+Ta)},function(Ja,Ta){return Ta.getFullYear()-Ja.getFullYear()},function(Ja){return Ja.getFullYear()});D.every=function(Ja){return isFinite(Ja=Math.floor(Ja))&&0<
Ja?x(function(Ta){Ta.setFullYear(Math.floor(Ta.getFullYear()/Ja)*Ja);Ta.setMonth(0,1);Ta.setHours(0,0,0,0)},function(Ta,ya){Ta.setFullYear(Ta.getFullYear()+ya*Ja)}):null};var C=D.range,J=x(function(Ja){Ja.setUTCSeconds(0,0)},function(Ja,Ta){Ja.setTime(+Ja+6E4*Ta)},function(Ja,Ta){return(Ta-Ja)/6E4},function(Ja){return Ja.getUTCMinutes()}),V=J.range,ia=x(function(Ja){Ja.setUTCMinutes(0,0,0)},function(Ja,Ta){Ja.setTime(+Ja+36E5*Ta)},function(Ja,Ta){return(Ta-Ja)/36E5},function(Ja){return Ja.getUTCHours()}),
Pa=ia.range,cb=x(function(Ja){Ja.setUTCHours(0,0,0,0)},function(Ja,Ta){Ja.setUTCDate(Ja.getUTCDate()+Ta)},function(Ja,Ta){return(Ta-Ja)/864E5},function(Ja){return Ja.getUTCDate()-1}),M=cb.range,Ka=Gb(0),ka=Gb(1),ha=Gb(2),w=Gb(3),H=Gb(4),p=Gb(5),q=Gb(6),t=Ka.range,G=ka.range,L=ha.range,ba=w.range,Ga=H.range,La=p.range,db=q.range,sb=x(function(Ja){Ja.setUTCDate(1);Ja.setUTCHours(0,0,0,0)},function(Ja,Ta){Ja.setUTCMonth(Ja.getUTCMonth()+Ta)},function(Ja,Ta){return Ta.getUTCMonth()-Ja.getUTCMonth()+12*
(Ta.getUTCFullYear()-Ja.getUTCFullYear())},function(Ja){return Ja.getUTCMonth()}),S=sb.range,aa=x(function(Ja){Ja.setUTCMonth(0,1);Ja.setUTCHours(0,0,0,0)},function(Ja,Ta){Ja.setUTCFullYear(Ja.getUTCFullYear()+Ta)},function(Ja,Ta){return Ta.getUTCFullYear()-Ja.getUTCFullYear()},function(Ja){return Ja.getUTCFullYear()});aa.every=function(Ja){return isFinite(Ja=Math.floor(Ja))&&0<Ja?x(function(Ta){Ta.setUTCFullYear(Math.floor(Ta.getUTCFullYear()/Ja)*Ja);Ta.setUTCMonth(0,1);Ta.setUTCHours(0,0,0,0)},
function(Ta,ya){Ta.setUTCFullYear(Ta.getUTCFullYear()+ya*Ja)}):null};var qa=aa.range,ta=$jscomp.makeIterator(gb(aa,sb,Ka,cb,ia,J)),ea=ta.next().value;ta=ta.next().value;var U=$jscomp.makeIterator(gb(D,y,Z,Qa,na,za)),Fa=U.next().value;U=U.next().value;h.timeDay=Qa;h.timeDays=ca;h.timeFriday=fa;h.timeFridays=ja;h.timeHour=na;h.timeHours=Ba;h.timeInterval=x;h.timeMillisecond=rb;h.timeMilliseconds=Ua;h.timeMinute=za;h.timeMinutes=Y;h.timeMonday=Oa;h.timeMondays=ua;h.timeMonth=y;h.timeMonths=z;h.timeSaturday=
pa;h.timeSaturdays=u;h.timeSecond=Sa;h.timeSeconds=ab;h.timeSunday=Z;h.timeSundays=da;h.timeThursday=xa;h.timeThursdays=$a;h.timeTickInterval=U;h.timeTicks=Fa;h.timeTuesday=Aa;h.timeTuesdays=Ia;h.timeWednesday=va;h.timeWednesdays=wa;h.timeWeek=Z;h.timeWeeks=da;h.timeYear=D;h.timeYears=C;h.utcDay=cb;h.utcDays=M;h.utcFriday=p;h.utcFridays=La;h.utcHour=ia;h.utcHours=Pa;h.utcMillisecond=rb;h.utcMilliseconds=Ua;h.utcMinute=J;h.utcMinutes=V;h.utcMonday=ka;h.utcMondays=G;h.utcMonth=sb;h.utcMonths=S;h.utcSaturday=
q;h.utcSaturdays=db;h.utcSecond=Sa;h.utcSeconds=ab;h.utcSunday=Ka;h.utcSundays=t;h.utcThursday=H;h.utcThursdays=Ga;h.utcTickInterval=ta;h.utcTicks=ea;h.utcTuesday=ha;h.utcTuesdays=L;h.utcWednesday=w;h.utcWednesdays=ba;h.utcWeek=Ka;h.utcWeeks=t;h.utcYear=aa;h.utcYears=qa;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[6]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(0),xb(5),xb(3)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-time","d3-array"],m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.vega={},h.vega,h.d3,h.d3))})(this,function(h,m,x,Wa){function Gb(D){var C=m.array(D).slice(),J={};C.length||m.error("Missing time unit.");C.forEach(function(V){m.hasOwnProperty(ca,V)?J[V]=1:m.error("Invalid time unit: "+V+".")});
1<(J.week||J.day?1:0)+(J.quarter||J.month||J.date?1:0)+(J.dayofyear?1:0)&&m.error("Incompatible time units: "+D);C.sort(function(V,ia){return ca[V]-ca[ia]});return C}function gb(D){Aa.setFullYear(D);Aa.setMonth(0);Aa.setDate(1);Aa.setHours(0,0,0,0);return Aa}function wb(D){return x.timeDay.count(gb(D.getFullYear())-1,D)}function Lb(D){return x.timeWeek.count(gb(D.getFullYear())-1,D)}function rb(D,C,J,V,ia,Pa,cb){return 0<=D&&100>D?(C=new Date(-1,C,J,V,ia,Pa,cb),C.setFullYear(D),C):new Date(D,C,J,
V,ia,Pa,cb)}function Ua(D){var C=Date.UTC(D.getUTCFullYear(),0,1);return x.utcDay.count(C-1,D)}function Sa(D){var C=Date.UTC(D.getUTCFullYear(),0,1);return x.utcWeek.count(C-1,D)}function ab(D){Aa.setTime(Date.UTC(D,0,1));return Aa.getUTCDay()}function za(D,C,J,V,ia,Pa,cb){return 0<=D&&100>D?(D=new Date(Date.UTC(-1,C,J,V,ia,Pa,cb)),D.setUTCFullYear(J.y),D):new Date(Date.UTC(D,C,J,V,ia,Pa,cb))}function Y(D,C,J,V,ia){var Pa=C||1,cb=m.peek(D);C=function(t,G,L){L=L||t;return na(J[L],V[L],t===cb&&Pa,G)};
var M=new Date;D=m.toSet(D);var Ka=D.year?C("year"):m.constant(2012),ka=D.month?C("month"):D.quarter?C("quarter"):m.zero,ha=D.week&&D.day?C("day",1,"weekday"):D.week?C("week",1):D.day?C("day",1):D.date?C("date",1):D.dayofyear?C("dayofyear",1):m.one,w=D.hours?C("hours"):m.zero,H=D.minutes?C("minutes"):m.zero,p=D.seconds?C("seconds"):m.zero,q=D.milliseconds?C("milliseconds"):m.zero;return function(t){M.setTime(+t);t=Ka(M);return ia(t,ka(M),ha(M,t),w(M),H(M),p(M),q(M))}}function na(D,C,J,V){var ia=1>=
J?D:V?function(Pa,cb){return V+J*Math.floor((D(Pa,cb)-V)/J)}:function(Pa,cb){return J*Math.floor(D(Pa,cb)/J)};return C?function(Pa,cb){return C(ia(Pa,cb),cb)}:ia}function Ba(D,C,J){return C+7*D-(J+6)%7}var Qa="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),ca=Qa.reduce(function(D,C,J){return D[C]=1+J,D},{}),Z={},Oa=(Z.year="%Y ",Z.quarter="Q%q ",Z.month="%b ",Z.date="%d ",Z.week="W%U ",Z.day="%a ",Z.dayofyear="%j ",Z.hours="%H:00",Z.minutes="00:%M",Z.seconds=
":%S",Z.milliseconds=".%L",Z["year-month"]="%Y-%m ",Z["year-month-date"]="%Y-%m-%d ",Z["hours-minutes"]="%H:%M",Z),Aa=new Date;Z={};var va=(Z.year=function(D){return D.getFullYear()},Z.quarter=function(D){return Math.floor(D.getMonth()/3)},Z.month=function(D){return D.getMonth()},Z.date=function(D){return D.getDate()},Z.hours=function(D){return D.getHours()},Z.minutes=function(D){return D.getMinutes()},Z.seconds=function(D){return D.getSeconds()},Z.milliseconds=function(D){return D.getMilliseconds()},
Z.dayofyear=function(D){return wb(D)},Z.week=function(D){return Lb(D)},Z.weekday=function(D,C){return Ba(Lb(D),D.getDay(),gb(C).getDay())},Z.day=function(D,C){return Ba(1,D.getDay(),gb(C).getDay())},Z);Z={};var xa=(Z.quarter=function(D){return 3*D},Z.week=function(D,C){return Ba(D,0,gb(C).getDay())},Z);Z={};var fa=(Z.year=function(D){return D.getUTCFullYear()},Z.quarter=function(D){return Math.floor(D.getUTCMonth()/3)},Z.month=function(D){return D.getUTCMonth()},Z.date=function(D){return D.getUTCDate()},
Z.hours=function(D){return D.getUTCHours()},Z.minutes=function(D){return D.getUTCMinutes()},Z.seconds=function(D){return D.getUTCSeconds()},Z.milliseconds=function(D){return D.getUTCMilliseconds()},Z.dayofyear=function(D){return Ua(D)},Z.week=function(D){return Sa(D)},Z.day=function(D,C){return Ba(1,D.getUTCDay(),ab(C))},Z.weekday=function(D,C){return Ba(Sa(D),D.getUTCDay(),ab(C))},Z);Z={};var pa=(Z.quarter=function(D){return 3*D},Z.week=function(D,C){return Ba(D,0,ab(C))},Z);Z={};var da=(Z.year=
x.timeYear,Z.quarter=x.timeMonth.every(3),Z.month=x.timeMonth,Z.week=x.timeWeek,Z.date=x.timeDay,Z.day=x.timeDay,Z.dayofyear=x.timeDay,Z.hours=x.timeHour,Z.minutes=x.timeMinute,Z.seconds=x.timeSecond,Z.milliseconds=x.timeMillisecond,Z);Z={};var ua=(Z.year=x.utcYear,Z.quarter=x.utcMonth.every(3),Z.month=x.utcMonth,Z.week=x.utcWeek,Z.date=x.utcDay,Z.day=x.utcDay,Z.dayofyear=x.utcDay,Z.hours=x.utcHour,Z.minutes=x.utcMinute,Z.seconds=x.utcSecond,Z.milliseconds=x.utcMillisecond,Z),Ia="year month date hours minutes seconds milliseconds".split(" ");
Z=Ia.slice(0,-1);var wa=Z.slice(0,-1),$a=wa.slice(0,-1),ja=$a.slice(0,-1),u=["year","month"],y=["year"],z=[[Z,1,1E3],[Z,5,5E3],[Z,15,15E3],[Z,30,3E4],[wa,1,6E4],[wa,5,3E5],[wa,15,9E5],[wa,30,18E5],[$a,1,36E5],[$a,3,108E5],[$a,6,216E5],[$a,12,432E5],[ja,1,864E5],[["year","week"],1,6048E5],[u,1,2592E6],[u,3,7776E6],[y,1,31536E6]];h.DATE="date";h.DAY="day";h.DAYOFYEAR="dayofyear";h.HOURS="hours";h.MILLISECONDS="milliseconds";h.MINUTES="minutes";h.MONTH="month";h.QUARTER="quarter";h.SECONDS="seconds";
h.TIME_UNITS=Qa;h.WEEK="week";h.YEAR="year";h.dayofyear=function(D){return wb(new Date(D))};h.timeBin=function(D){var C=D.extent;D=D.maxbins||40;var J=Math.abs(m.span(C))/D,V=Wa.bisector(function(ia){return ia[2]}).right(z,J);V===z.length?(J=y,C=Wa.tickStep(C[0]/31536E6,C[1]/31536E6,D)):V?(V=z[J/z[V-1][2]<z[V][2]/J?V-1:V],J=V[0],C=V[1]):(J=Ia,C=Math.max(Wa.tickStep(C[0],C[1],D),1));return{units:J,step:C}};h.timeFloor=function(D,C){return Y(D,C||1,va,xa,rb)};h.timeInterval=function(D){return da[D]};
h.timeOffset=function(D,C,J){return(D=da[D])?D.offset(C,J):void 0};h.timeSequence=function(D,C,J,V){return(D=da[D])?D.range(C,J,V):void 0};h.timeUnitSpecifier=function(D,C){C=m.extend({},Oa,C);D=Gb(D);var J=D.length,V="",ia,Pa;for(ia=0;ia<J;)for(Pa=D.length;Pa>ia;--Pa){var cb=D.slice(ia,Pa).join("-");if(null!=C[cb]){V+=C[cb];ia=Pa;break}}return V.trim()};h.timeUnits=Gb;h.utcFloor=function(D,C){return Y(D,C||1,fa,pa,za)};h.utcInterval=function(D){return ua[D]};h.utcOffset=function(D,C,J){return(D=
ua[D])?D.offset(C,J):void 0};h.utcSequence=function(D,C,J,V){return(D=ua[D])?D.range(C,J,V):void 0};h.utcdayofyear=function(D){return Ua(new Date(D))};h.utcweek=function(D){return Sa(new Date(D))};h.week=function(D){return Lb(new Date(D))};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[7]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(5)):"function"===typeof define&&define.amd?define(["exports","d3-time"],m):(h=h||self,m(h.d3=h.d3||{},h.d3))})(this,function(h,m){function x(Eb){if(0<=Eb.y&&100>Eb.y){var Rb=new Date(-1,Eb.m,Eb.d,Eb.H,Eb.M,Eb.S,Eb.L);Rb.setFullYear(Eb.y);return Rb}return new Date(Eb.y,Eb.m,Eb.d,Eb.H,Eb.M,Eb.S,Eb.L)}function Wa(Eb){if(0<=Eb.y&&100>Eb.y){var Rb=new Date(Date.UTC(-1,Eb.m,Eb.d,Eb.H,Eb.M,Eb.S,Eb.L));
Rb.setUTCFullYear(Eb.y);return Rb}return new Date(Date.UTC(Eb.y,Eb.m,Eb.d,Eb.H,Eb.M,Eb.S,Eb.L))}function Gb(Eb,Rb,mb){return{y:Eb,m:Rb,d:mb,H:0,M:0,S:0,L:0}}function gb(Eb){function Rb(Wb,sc){return function(pc){var tc=[],Wc=-1,Kd=0,od=Wb.length,ld,wd;for(pc instanceof Date||(pc=new Date(+pc));++Wc<od;)if(37===Wb.charCodeAt(Wc)){tc.push(Wb.slice(Kd,Wc));null!=(Kd=Ad[ld=Wb.charAt(++Wc)])?ld=Wb.charAt(++Wc):Kd="e"===ld?" ":"0";if(wd=sc[ld])ld=wd(pc,Kd);tc.push(ld);Kd=Wc+1}tc.push(Wb.slice(Kd,Wc));return tc.join("")}}
function mb(Wb,sc){return function(pc){var tc=Gb(1900,void 0,1);if(rc(tc,Wb,pc+="",0)!=pc.length)return null;if("Q"in tc)return new Date(tc.Q);if("s"in tc)return new Date(1E3*tc.s+("L"in tc?tc.L:0));!sc||"Z"in tc||(tc.Z=0);"p"in tc&&(tc.H=tc.H%12+12*tc.p);void 0===tc.m&&(tc.m="q"in tc?tc.q:0);if("V"in tc){if(1>tc.V||53<tc.V)return null;"w"in tc||(tc.w=1);if("Z"in tc){pc=Wa(Gb(tc.y,0,1));var Wc=pc.getUTCDay();pc=4<Wc||0===Wc?m.utcMonday.ceil(pc):m.utcMonday(pc);pc=m.utcDay.offset(pc,7*(tc.V-1));tc.y=
pc.getUTCFullYear();tc.m=pc.getUTCMonth();tc.d=pc.getUTCDate()+(tc.w+6)%7}else pc=x(Gb(tc.y,0,1)),Wc=pc.getDay(),pc=4<Wc||0===Wc?m.timeMonday.ceil(pc):m.timeMonday(pc),pc=m.timeDay.offset(pc,7*(tc.V-1)),tc.y=pc.getFullYear(),tc.m=pc.getMonth(),tc.d=pc.getDate()+(tc.w+6)%7}else if("W"in tc||"U"in tc)"w"in tc||(tc.w="u"in tc?tc.u%7:"W"in tc?1:0),Wc="Z"in tc?Wa(Gb(tc.y,0,1)).getUTCDay():x(Gb(tc.y,0,1)).getDay(),tc.m=0,tc.d="W"in tc?(tc.w+6)%7+7*tc.W-(Wc+5)%7:tc.w+7*tc.U-(Wc+6)%7;return"Z"in tc?(tc.H+=
tc.Z/100|0,tc.M+=tc.Z%100,Wa(tc)):x(tc)}}function rc(Wb,sc,pc,tc){for(var Wc=0,Kd=sc.length,od=pc.length,ld;Wc<Kd;){if(tc>=od)return-1;ld=sc.charCodeAt(Wc++);if(37===ld){if(ld=sc.charAt(Wc++),ld=Hb[ld in Ad?sc.charAt(Wc++):ld],!ld||0>(tc=ld(Wb,pc,tc)))return-1}else if(ld!=pc.charCodeAt(tc++))return-1}return tc}var Cc=Eb.dateTime,Rc=Eb.date,sd=Eb.time,I=Eb.periods,ma=Eb.days,ib=Eb.shortDays,nb=Eb.months,Bb=Eb.shortMonths,Ub=rb(I),Xb=Ua(I),dc=rb(ma),Fc=Ua(ma),Jc=rb(ib),Da=Ua(ib),Ma=rb(nb),Pb=Ua(nb),
bc=rb(Bb),mc=Ua(Bb),Dc={a:function(Wb){return ib[Wb.getDay()]},A:function(Wb){return ma[Wb.getDay()]},b:function(Wb){return Bb[Wb.getMonth()]},B:function(Wb){return nb[Wb.getMonth()]},c:null,d:ja,e:ja,f:C,g:H,G:q,H:u,I:y,j:z,L:D,m:J,M:V,p:function(Wb){return I[+(12<=Wb.getHours())]},q:function(Wb){return 1+~~(Wb.getMonth()/3)},Q:Qb,s:Zb,S:ia,u:Pa,U:cb,V:Ka,w:ka,W:ha,x:null,X:null,y:w,Y:p,Z:t,"%":Ob},Kc={a:function(Wb){return ib[Wb.getUTCDay()]},A:function(Wb){return ma[Wb.getUTCDay()]},b:function(Wb){return Bb[Wb.getUTCMonth()]},
B:function(Wb){return nb[Wb.getUTCMonth()]},c:null,d:G,e:G,f:db,g:ya,G:yb,H:L,I:ba,j:Ga,L:La,m:sb,M:S,p:function(Wb){return I[+(12<=Wb.getUTCHours())]},q:function(Wb){return 1+~~(Wb.getUTCMonth()/3)},Q:Qb,s:Zb,S:aa,u:qa,U:ta,V:U,w:Fa,W:Ja,x:null,X:null,y:Ta,Y:lb,Z:Ya,"%":Ob},Hb={a:function(Wb,sc,pc){return(sc=Jc.exec(sc.slice(pc)))?(Wb.w=Da.get(sc[0].toLowerCase()),pc+sc[0].length):-1},A:function(Wb,sc,pc){return(sc=dc.exec(sc.slice(pc)))?(Wb.w=Fc.get(sc[0].toLowerCase()),pc+sc[0].length):-1},b:function(Wb,
sc,pc){return(sc=bc.exec(sc.slice(pc)))?(Wb.m=mc.get(sc[0].toLowerCase()),pc+sc[0].length):-1},B:function(Wb,sc,pc){return(sc=Ma.exec(sc.slice(pc)))?(Wb.m=Pb.get(sc[0].toLowerCase()),pc+sc[0].length):-1},c:function(Wb,sc,pc){return rc(Wb,Cc,sc,pc)},d:Aa,e:Aa,f:ua,g:Qa,G:Ba,H:xa,I:xa,j:va,L:da,m:Oa,M:fa,p:function(Wb,sc,pc){return(sc=Ub.exec(sc.slice(pc)))?(Wb.p=Xb.get(sc[0].toLowerCase()),pc+sc[0].length):-1},q:Z,Q:wa,s:$a,S:pa,u:ab,U:za,V:Y,w:Sa,W:na,x:function(Wb,sc,pc){return rc(Wb,Rc,sc,pc)},
X:function(Wb,sc,pc){return rc(Wb,sd,sc,pc)},y:Qa,Y:Ba,Z:ca,"%":Ia};Dc.x=Rb(Rc,Dc);Dc.X=Rb(sd,Dc);Dc.c=Rb(Cc,Dc);Kc.x=Rb(Rc,Kc);Kc.X=Rb(sd,Kc);Kc.c=Rb(Cc,Kc);return{format:function(Wb){var sc=Rb(Wb+="",Dc);sc.toString=function(){return Wb};return sc},parse:function(Wb){var sc=mb(Wb+="",!1);sc.toString=function(){return Wb};return sc},utcFormat:function(Wb){var sc=Rb(Wb+="",Kc);sc.toString=function(){return Wb};return sc},utcParse:function(Wb){var sc=mb(Wb+="",!0);sc.toString=function(){return Wb};
return sc}}}function wb(Eb,Rb,mb){var rc=0>Eb?"-":"";Eb=(rc?-Eb:Eb)+"";var Cc=Eb.length;return rc+(Cc<mb?Array(mb-Cc+1).join(Rb)+Eb:Eb)}function Lb(Eb){return Eb.replace(Uc,"\\$\x26")}function rb(Eb){return new RegExp("^(?:"+Eb.map(Lb).join("|")+")","i")}function Ua(Eb){return new Map(Eb.map(function(Rb,mb){return[Rb.toLowerCase(),mb]}))}function Sa(Eb,Rb,mb){return(Rb=Lc.exec(Rb.slice(mb,mb+1)))?(Eb.w=+Rb[0],mb+Rb[0].length):-1}function ab(Eb,Rb,mb){return(Rb=Lc.exec(Rb.slice(mb,mb+1)))?(Eb.u=+Rb[0],
mb+Rb[0].length):-1}function za(Eb,Rb,mb){return(Rb=Lc.exec(Rb.slice(mb,mb+2)))?(Eb.U=+Rb[0],mb+Rb[0].length):-1}function Y(Eb,Rb,mb){return(Rb=Lc.exec(Rb.slice(mb,mb+2)))?(Eb.V=+Rb[0],mb+Rb[0].length):-1}function na(Eb,Rb,mb){return(Rb=Lc.exec(Rb.slice(mb,mb+2)))?(Eb.W=+Rb[0],mb+Rb[0].length):-1}function Ba(Eb,Rb,mb){return(Rb=Lc.exec(Rb.slice(mb,mb+4)))?(Eb.y=+Rb[0],mb+Rb[0].length):-1}function Qa(Eb,Rb,mb){return(Rb=Lc.exec(Rb.slice(mb,mb+2)))?(Eb.y=+Rb[0]+(68<+Rb[0]?1900:2E3),mb+Rb[0].length):
-1}function ca(Eb,Rb,mb){return(Rb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Rb.slice(mb,mb+6)))?(Eb.Z=Rb[1]?0:-(Rb[2]+(Rb[3]||"00")),mb+Rb[0].length):-1}function Z(Eb,Rb,mb){return(Rb=Lc.exec(Rb.slice(mb,mb+1)))?(Eb.q=3*Rb[0]-3,mb+Rb[0].length):-1}function Oa(Eb,Rb,mb){return(Rb=Lc.exec(Rb.slice(mb,mb+2)))?(Eb.m=Rb[0]-1,mb+Rb[0].length):-1}function Aa(Eb,Rb,mb){return(Rb=Lc.exec(Rb.slice(mb,mb+2)))?(Eb.d=+Rb[0],mb+Rb[0].length):-1}function va(Eb,Rb,mb){return(Rb=Lc.exec(Rb.slice(mb,mb+3)))?(Eb.m=0,Eb.d=
+Rb[0],mb+Rb[0].length):-1}function xa(Eb,Rb,mb){return(Rb=Lc.exec(Rb.slice(mb,mb+2)))?(Eb.H=+Rb[0],mb+Rb[0].length):-1}function fa(Eb,Rb,mb){return(Rb=Lc.exec(Rb.slice(mb,mb+2)))?(Eb.M=+Rb[0],mb+Rb[0].length):-1}function pa(Eb,Rb,mb){return(Rb=Lc.exec(Rb.slice(mb,mb+2)))?(Eb.S=+Rb[0],mb+Rb[0].length):-1}function da(Eb,Rb,mb){return(Rb=Lc.exec(Rb.slice(mb,mb+3)))?(Eb.L=+Rb[0],mb+Rb[0].length):-1}function ua(Eb,Rb,mb){return(Rb=Lc.exec(Rb.slice(mb,mb+6)))?(Eb.L=Math.floor(Rb[0]/1E3),mb+Rb[0].length):
-1}function Ia(Eb,Rb,mb){return(Eb=Xc.exec(Rb.slice(mb,mb+1)))?mb+Eb[0].length:-1}function wa(Eb,Rb,mb){return(Rb=Lc.exec(Rb.slice(mb)))?(Eb.Q=+Rb[0],mb+Rb[0].length):-1}function $a(Eb,Rb,mb){return(Rb=Lc.exec(Rb.slice(mb)))?(Eb.s=+Rb[0],mb+Rb[0].length):-1}function ja(Eb,Rb){return wb(Eb.getDate(),Rb,2)}function u(Eb,Rb){return wb(Eb.getHours(),Rb,2)}function y(Eb,Rb){return wb(Eb.getHours()%12||12,Rb,2)}function z(Eb,Rb){return wb(1+m.timeDay.count(m.timeYear(Eb),Eb),Rb,3)}function D(Eb,Rb){return wb(Eb.getMilliseconds(),
Rb,3)}function C(Eb,Rb){return D(Eb,Rb)+"000"}function J(Eb,Rb){return wb(Eb.getMonth()+1,Rb,2)}function V(Eb,Rb){return wb(Eb.getMinutes(),Rb,2)}function ia(Eb,Rb){return wb(Eb.getSeconds(),Rb,2)}function Pa(Eb){Eb=Eb.getDay();return 0===Eb?7:Eb}function cb(Eb,Rb){return wb(m.timeSunday.count(m.timeYear(Eb)-1,Eb),Rb,2)}function M(Eb){var Rb=Eb.getDay();return 4<=Rb||0===Rb?m.timeThursday(Eb):m.timeThursday.ceil(Eb)}function Ka(Eb,Rb){Eb=M(Eb);return wb(m.timeThursday.count(m.timeYear(Eb),Eb)+(4===
m.timeYear(Eb).getDay()),Rb,2)}function ka(Eb){return Eb.getDay()}function ha(Eb,Rb){return wb(m.timeMonday.count(m.timeYear(Eb)-1,Eb),Rb,2)}function w(Eb,Rb){return wb(Eb.getFullYear()%100,Rb,2)}function H(Eb,Rb){Eb=M(Eb);return wb(Eb.getFullYear()%100,Rb,2)}function p(Eb,Rb){return wb(Eb.getFullYear()%1E4,Rb,4)}function q(Eb,Rb){var mb=Eb.getDay();Eb=4<=mb||0===mb?m.timeThursday(Eb):m.timeThursday.ceil(Eb);return wb(Eb.getFullYear()%1E4,Rb,4)}function t(Eb){Eb=Eb.getTimezoneOffset();return(0<Eb?
"-":(Eb*=-1,"+"))+wb(Eb/60|0,"0",2)+wb(Eb%60,"0",2)}function G(Eb,Rb){return wb(Eb.getUTCDate(),Rb,2)}function L(Eb,Rb){return wb(Eb.getUTCHours(),Rb,2)}function ba(Eb,Rb){return wb(Eb.getUTCHours()%12||12,Rb,2)}function Ga(Eb,Rb){return wb(1+m.utcDay.count(m.utcYear(Eb),Eb),Rb,3)}function La(Eb,Rb){return wb(Eb.getUTCMilliseconds(),Rb,3)}function db(Eb,Rb){return La(Eb,Rb)+"000"}function sb(Eb,Rb){return wb(Eb.getUTCMonth()+1,Rb,2)}function S(Eb,Rb){return wb(Eb.getUTCMinutes(),Rb,2)}function aa(Eb,
Rb){return wb(Eb.getUTCSeconds(),Rb,2)}function qa(Eb){Eb=Eb.getUTCDay();return 0===Eb?7:Eb}function ta(Eb,Rb){return wb(m.utcSunday.count(m.utcYear(Eb)-1,Eb),Rb,2)}function ea(Eb){var Rb=Eb.getUTCDay();return 4<=Rb||0===Rb?m.utcThursday(Eb):m.utcThursday.ceil(Eb)}function U(Eb,Rb){Eb=ea(Eb);return wb(m.utcThursday.count(m.utcYear(Eb),Eb)+(4===m.utcYear(Eb).getUTCDay()),Rb,2)}function Fa(Eb){return Eb.getUTCDay()}function Ja(Eb,Rb){return wb(m.utcMonday.count(m.utcYear(Eb)-1,Eb),Rb,2)}function Ta(Eb,
Rb){return wb(Eb.getUTCFullYear()%100,Rb,2)}function ya(Eb,Rb){Eb=ea(Eb);return wb(Eb.getUTCFullYear()%100,Rb,2)}function lb(Eb,Rb){return wb(Eb.getUTCFullYear()%1E4,Rb,4)}function yb(Eb,Rb){var mb=Eb.getUTCDay();Eb=4<=mb||0===mb?m.utcThursday(Eb):m.utcThursday.ceil(Eb);return wb(Eb.getUTCFullYear()%1E4,Rb,4)}function Ya(){return"+0000"}function Ob(){return"%"}function Qb(Eb){return+Eb}function Zb(Eb){return Math.floor(+Eb/1E3)}function Ic(Eb){Md=gb(Eb);h.timeFormat=Md.format;h.timeParse=Md.parse;
h.utcFormat=Md.utcFormat;h.utcParse=Md.utcParse;return Md}function uc(Eb){return Eb.toISOString()}function Zc(Eb){Eb=new Date(Eb);return isNaN(Eb)?null:Eb}var Ad={"-":"",_:" ",0:"0"},Lc=/^\s*\d+/,Xc=/^%/,Uc=/[\\^$*+?|[\]().{}]/g,Md;Ic({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),
shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var Qd=Date.prototype.toISOString?uc:h.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),fe=+new Date("2000-01-01T00:00:00.000Z")?Zc:h.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");h.isoFormat=Qd;h.isoParse=fe;h.timeFormatDefaultLocale=Ic;h.timeFormatLocale=gb;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[8]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(3),xb(4),xb(6),xb(0),xb(7)):"function"===typeof define&&define.amd?define("exports d3-array d3-format vega-time vega-util d3-time-format".split(" "),m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.vega={},h.d3,h.d3,h.vega,h.vega,h.d3))})(this,function(h,m,x,Wa,Gb,gb){function wb(va){var xa={};return function(fa){return xa[fa]||(xa[fa]=va(fa))}}function Lb(va,xa){return function(fa){fa=
va(fa);var pa=fa.indexOf(xa);if(0>pa)return fa;a:{var da=fa.lastIndexOf("e");if(!(0<da)){for(da=fa.length;--da>pa;){var ua=fa.charCodeAt(da);if(48<=ua&&57>=ua){da+=1;break a}}da=void 0}}for(ua=da<fa.length?fa.slice(da):"";--da>pa;)if("0"!==fa[da]){++da;break}return fa.slice(0,da)+ua}}function rb(va){var xa=wb(va.format),fa=va.formatPrefix;return{format:xa,formatPrefix:fa,formatFloat:function(pa){pa=x.formatSpecifier(pa||",");if(null==pa.precision){pa.precision=12;switch(pa.type){case "%":pa.precision-=
2;break;case "e":--pa.precision}return Lb(xa(pa),xa(".1f")(1)[1])}return xa(pa)},formatSpan:function(pa,da,ua,Ia){Ia=x.formatSpecifier(null==Ia?",f":Ia);ua=m.tickStep(pa,da,ua);pa=Math.max(Math.abs(pa),Math.abs(da));if(null==Ia.precision)switch(Ia.type){case "s":return isNaN(da=x.precisionPrefix(ua,pa))||(Ia.precision=da),fa(Ia,pa);case "":case "e":case "g":case "p":case "r":isNaN(da=x.precisionRound(ua,pa))||(Ia.precision=da-("e"===Ia.type));break;case "f":case "%":isNaN(da=x.precisionFixed(ua))||
(Ia.precision=da-2*("%"===Ia.type))}return xa(Ia)}}}function Ua(){return Z=rb({format:x.format,formatPrefix:x.formatPrefix})}function Sa(va){return rb(x.formatLocale(va))}function ab(va){return arguments.length?Z=Sa(va):Z}function za(va,xa,fa){fa=fa||{};Gb.isObject(fa)||Gb.error("Invalid time multi-format specifier: "+fa);var pa=xa(Wa.SECONDS),da=xa(Wa.MINUTES),ua=xa(Wa.HOURS),Ia=xa(Wa.DATE),wa=xa(Wa.WEEK),$a=xa(Wa.MONTH),ja=xa(Wa.QUARTER),u=xa(Wa.YEAR),y=va(fa[Wa.MILLISECONDS]||".%L"),z=va(fa[Wa.SECONDS]||
":%S"),D=va(fa[Wa.MINUTES]||"%I:%M"),C=va(fa[Wa.HOURS]||"%I %p"),J=va(fa[Wa.DATE]||fa[Wa.DAY]||"%a %d"),V=va(fa[Wa.WEEK]||"%b %d"),ia=va(fa[Wa.MONTH]||"%B"),Pa=va(fa[Wa.QUARTER]||"%B"),cb=va(fa[Wa.YEAR]||"%Y");return function(M){return(pa(M)<M?y:da(M)<M?z:ua(M)<M?D:Ia(M)<M?C:$a(M)<M?wa(M)<M?J:V:u(M)<M?ja(M)<M?ia:Pa:cb)(M)}}function Y(va){var xa=wb(va.format),fa=wb(va.utcFormat);return{timeFormat:function(pa){return Gb.isString(pa)?xa(pa):za(xa,Wa.timeInterval,pa)},utcFormat:function(pa){return Gb.isString(pa)?
fa(pa):za(fa,Wa.utcInterval,pa)},timeParse:wb(va.parse),utcParse:wb(va.utcParse)}}function na(){return Oa=Y({format:gb.timeFormat,parse:gb.timeParse,utcFormat:gb.utcFormat,utcParse:gb.utcParse})}function Ba(va){return Y(gb.timeFormatLocale(va))}function Qa(va){return arguments.length?Oa=Ba(va):Oa}function ca(va,xa){var fa=arguments.length;fa&&2!==fa&&Gb.error("defaultLocale expects either zero or two arguments.");return fa?Aa(ab(va),Qa(xa)):Aa(ab(),Qa())}var Z;Ua();var Oa;na();var Aa=function(va,
xa){return Gb.extend({},va,xa)};h.defaultLocale=ca;h.locale=function(va,xa){va=va?Sa(va):ab();xa=xa?Ba(xa):Qa();return Aa(va,xa)};h.numberFormatDefaultLocale=ab;h.numberFormatLocale=Sa;h.resetDefaultLocale=function(){Ua();na();return ca()};h.resetNumberFormatDefaultLocale=Ua;h.resetTimeFormatDefaultLocale=na;h.timeFormatDefaultLocale=Qa;h.timeFormatLocale=Ba;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[9]=function(Ib,xb,gc,vb){function h(gb){var wb=gb.length;if(0<wb%4)throw Error("Invalid string. Length must be a multiple of 4");gb=gb.indexOf("\x3d");-1===gb&&(gb=wb);return[gb,gb===wb?0:4-gb%4]}function m(gb,wb,Lb){for(var rb=[],Ua=wb;Ua<Lb;Ua+=3)wb=(gb[Ua]<<16&16711680)+(gb[Ua+1]<<8&65280)+(gb[Ua+2]&255),rb.push(x[wb>>18&63]+x[wb>>12&63]+x[wb>>6&63]+x[wb&63]);return rb.join("")}vb.byteLength=function(gb){gb=h(gb);var wb=gb[1];return 3*(gb[0]+wb)/4-wb};vb.toByteArray=function(gb){var wb=
h(gb);var Lb=wb[0];wb=wb[1];var rb=new Gb(3*(Lb+wb)/4-wb),Ua=0,Sa=0<wb?Lb-4:Lb,ab;for(ab=0;ab<Sa;ab+=4)Lb=Wa[gb.charCodeAt(ab)]<<18|Wa[gb.charCodeAt(ab+1)]<<12|Wa[gb.charCodeAt(ab+2)]<<6|Wa[gb.charCodeAt(ab+3)],rb[Ua++]=Lb>>16&255,rb[Ua++]=Lb>>8&255,rb[Ua++]=Lb&255;2===wb&&(Lb=Wa[gb.charCodeAt(ab)]<<2|Wa[gb.charCodeAt(ab+1)]>>4,rb[Ua++]=Lb&255);1===wb&&(Lb=Wa[gb.charCodeAt(ab)]<<10|Wa[gb.charCodeAt(ab+1)]<<4|Wa[gb.charCodeAt(ab+2)]>>2,rb[Ua++]=Lb>>8&255,rb[Ua++]=Lb&255);return rb};vb.fromByteArray=
function(gb){for(var wb=gb.length,Lb=wb%3,rb=[],Ua=0,Sa=wb-Lb;Ua<Sa;Ua+=16383)rb.push(m(gb,Ua,Ua+16383>Sa?Sa:Ua+16383));1===Lb?(gb=gb[wb-1],rb.push(x[gb>>2]+x[gb<<4&63]+"\x3d\x3d")):2===Lb&&(gb=(gb[wb-2]<<8)+gb[wb-1],rb.push(x[gb>>10]+x[gb>>4&63]+x[gb<<2&63]+"\x3d"));return rb.join("")};var x=[],Wa=[],Gb="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Ib=0;64>Ib;++Ib)x[Ib]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ib],Wa["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Ib)]=
Ib;Wa[45]=62;Wa[95]=63};
shadow$provide[10]=function(Ib,xb,gc,vb){vb.read=function(h,m,x,Wa,Gb){var gb=8*Gb-Wa-1;var wb=(1<<gb)-1,Lb=wb>>1,rb=-7;Gb=x?Gb-1:0;var Ua=x?-1:1,Sa=h[m+Gb];Gb+=Ua;x=Sa&(1<<-rb)-1;Sa>>=-rb;for(rb+=gb;0<rb;x=256*x+h[m+Gb],Gb+=Ua,rb-=8);gb=x&(1<<-rb)-1;x>>=-rb;for(rb+=Wa;0<rb;gb=256*gb+h[m+Gb],Gb+=Ua,rb-=8);if(0===x)x=1-Lb;else{if(x===wb)return gb?NaN:Infinity*(Sa?-1:1);gb+=Math.pow(2,Wa);x-=Lb}return(Sa?-1:1)*gb*Math.pow(2,x-Wa)};vb.write=function(h,m,x,Wa,Gb,gb){var wb,Lb=8*gb-Gb-1,rb=(1<<Lb)-1,Ua=
rb>>1,Sa=23===Gb?Math.pow(2,-24)-Math.pow(2,-77):0;gb=Wa?0:gb-1;var ab=Wa?1:-1,za=0>m||0===m&&0>1/m?1:0;m=Math.abs(m);isNaN(m)||Infinity===m?(m=isNaN(m)?1:0,Wa=rb):(Wa=Math.floor(Math.log(m)/Math.LN2),1>m*(wb=Math.pow(2,-Wa))&&(Wa--,wb*=2),m=1<=Wa+Ua?m+Sa/wb:m+Sa*Math.pow(2,1-Ua),2<=m*wb&&(Wa++,wb/=2),Wa+Ua>=rb?(m=0,Wa=rb):1<=Wa+Ua?(m=(m*wb-1)*Math.pow(2,Gb),Wa+=Ua):(m=m*Math.pow(2,Ua-1)*Math.pow(2,Gb),Wa=0));for(;8<=Gb;h[x+gb]=m&255,gb+=ab,m/=256,Gb-=8);Wa=Wa<<Gb|m;for(Lb+=Gb;0<Lb;h[x+gb]=Wa&255,
gb+=ab,Wa/=256,Lb-=8);h[x+gb-ab]|=128*za}};
shadow$provide[11]=function(Ib,xb,gc,vb){var h={}.toString;gc.exports=Array.isArray||function(m){return"[object Array]"==h.call(m)}};
shadow$provide[12]=function(Ib,xb,gc,vb){function h(){try{var u=new Uint8Array(1);u.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===u.foo()&&"function"===typeof u.subarray&&0===u.subarray(1,1).byteLength}catch(y){return!1}}function m(u,y){if((x.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<y)throw new RangeError("Invalid typed array length");x.TYPED_ARRAY_SUPPORT?(u=new Uint8Array(y),u.__proto__=x.prototype):(null===u&&(u=new x(y)),u.length=y);return u}function x(u,y,
z){if(!(x.TYPED_ARRAY_SUPPORT||this instanceof x))return new x(u,y,z);if("number"===typeof u){if("string"===typeof y)throw Error("If encoding is specified then the first argument must be a string");return gb(this,u)}return Wa(this,u,y,z)}function Wa(u,y,z,D){if("number"===typeof y)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&y instanceof ArrayBuffer){y.byteLength;if(0>z||y.byteLength<z)throw new RangeError("'offset' is out of bounds");if(y.byteLength<
z+(D||0))throw new RangeError("'length' is out of bounds");y=void 0===z&&void 0===D?new Uint8Array(y):void 0===D?new Uint8Array(y,z):new Uint8Array(y,z,D);x.TYPED_ARRAY_SUPPORT?(u=y,u.__proto__=x.prototype):u=wb(u,y);return u}if("string"===typeof y){D=u;u=z;if("string"!==typeof u||""===u)u="utf8";if(!x.isEncoding(u))throw new TypeError('"encoding" must be a valid string encoding');z=Ua(y,u)|0;D=m(D,z);y=D.write(y,u);y!==z&&(D=D.slice(0,y));return D}return Lb(u,y)}function Gb(u){if("number"!==typeof u)throw new TypeError('"size" argument must be a number');
if(0>u)throw new RangeError('"size" argument must not be negative');}function gb(u,y){Gb(y);u=m(u,0>y?0:rb(y)|0);if(!x.TYPED_ARRAY_SUPPORT)for(var z=0;z<y;++z)u[z]=0;return u}function wb(u,y){var z=0>y.length?0:rb(y.length)|0;u=m(u,z);for(var D=0;D<z;D+=1)u[D]=y[D]&255;return u}function Lb(u,y){if(x.isBuffer(y)){var z=rb(y.length)|0;u=m(u,z);if(0===u.length)return u;y.copy(u,0,0,z);return u}if(y){if("undefined"!==typeof ArrayBuffer&&y.buffer instanceof ArrayBuffer||"length"in y)return(z="number"!==
typeof y.length)||(z=y.length,z=z!==z),z?m(u,0):wb(u,y);if("Buffer"===y.type&&wa(y.data))return wb(u,y.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function rb(u){if(u>=(x.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(x.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return u|0}function Ua(u,y){if(x.isBuffer(u))return u.length;if("undefined"!==
typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(u)||u instanceof ArrayBuffer))return u.byteLength;"string"!==typeof u&&(u=""+u);var z=u.length;if(0===z)return 0;for(var D=!1;;)switch(y){case "ascii":case "latin1":case "binary":return z;case "utf8":case "utf-8":case void 0:return fa(u).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*z;case "hex":return z>>>1;case "base64":return ua.toByteArray(xa(u)).length;default:if(D)return fa(u).length;y=
(""+y).toLowerCase();D=!0}}function Sa(u,y,z){var D=!1;if(void 0===y||0>y)y=0;if(y>this.length)return"";if(void 0===z||z>this.length)z=this.length;if(0>=z)return"";z>>>=0;y>>>=0;if(z<=y)return"";for(u||(u="utf8");;)switch(u){case "hex":u=y;y=z;z=this.length;if(!u||0>u)u=0;if(!y||0>y||y>z)y=z;D="";for(z=u;z<y;++z)u=D,D=this[z],D=16>D?"0"+D.toString(16):D.toString(16),D=u+D;return D;case "utf8":case "utf-8":return na(this,y,z);case "ascii":u="";for(z=Math.min(this.length,z);y<z;++y)u+=String.fromCharCode(this[y]&
127);return u;case "latin1":case "binary":u="";for(z=Math.min(this.length,z);y<z;++y)u+=String.fromCharCode(this[y]);return u;case "base64":return y=0===y&&z===this.length?ua.fromByteArray(this):ua.fromByteArray(this.slice(y,z)),y;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":y=this.slice(y,z);z="";for(u=0;u<y.length;u+=2)z+=String.fromCharCode(y[u]+256*y[u+1]);return z;default:if(D)throw new TypeError("Unknown encoding: "+u);u=(u+"").toLowerCase();D=!0}}function ab(u,y,z){var D=u[y];u[y]=
u[z];u[z]=D}function za(u,y,z,D,C){if(0===u.length)return-1;"string"===typeof z?(D=z,z=0):2147483647<z?z=2147483647:-2147483648>z&&(z=-2147483648);z=+z;isNaN(z)&&(z=C?0:u.length-1);0>z&&(z=u.length+z);if(z>=u.length){if(C)return-1;z=u.length-1}else if(0>z)if(C)z=0;else return-1;"string"===typeof y&&(y=x.from(y,D));if(x.isBuffer(y))return 0===y.length?-1:Y(u,y,z,D,C);if("number"===typeof y)return y&=255,x.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?C?Uint8Array.prototype.indexOf.call(u,
y,z):Uint8Array.prototype.lastIndexOf.call(u,y,z):Y(u,[y],z,D,C);throw new TypeError("val must be string, number or Buffer");}function Y(u,y,z,D,C){function J(cb,M){return 1===V?cb[M]:cb.readUInt16BE(M*V)}var V=1,ia=u.length,Pa=y.length;if(void 0!==D&&(D=String(D).toLowerCase(),"ucs2"===D||"ucs-2"===D||"utf16le"===D||"utf-16le"===D)){if(2>u.length||2>y.length)return-1;V=2;ia/=2;Pa/=2;z/=2}if(C)for(D=-1;z<ia;z++)if(J(u,z)===J(y,-1===D?0:z-D)){if(-1===D&&(D=z),z-D+1===Pa)return D*V}else-1!==D&&(z-=
z-D),D=-1;else for(z+Pa>ia&&(z=ia-Pa);0<=z;z--){ia=!0;for(D=0;D<Pa;D++)if(J(u,z+D)!==J(y,D)){ia=!1;break}if(ia)return z}return-1}function na(u,y,z){z=Math.min(u.length,z);for(var D=[];y<z;){var C=u[y],J=null,V=239<C?4:223<C?3:191<C?2:1;if(y+V<=z)switch(V){case 1:128>C&&(J=C);break;case 2:var ia=u[y+1];128===(ia&192)&&(C=(C&31)<<6|ia&63,127<C&&(J=C));break;case 3:ia=u[y+1];var Pa=u[y+2];128===(ia&192)&&128===(Pa&192)&&(C=(C&15)<<12|(ia&63)<<6|Pa&63,2047<C&&(55296>C||57343<C)&&(J=C));break;case 4:ia=
u[y+1];Pa=u[y+2];var cb=u[y+3];128===(ia&192)&&128===(Pa&192)&&128===(cb&192)&&(C=(C&15)<<18|(ia&63)<<12|(Pa&63)<<6|cb&63,65535<C&&1114112>C&&(J=C))}null===J?(J=65533,V=1):65535<J&&(J-=65536,D.push(J>>>10&1023|55296),J=56320|J&1023);D.push(J);y+=V}u=D.length;if(u<=$a)D=String.fromCharCode.apply(String,D);else{z="";for(y=0;y<u;)z+=String.fromCharCode.apply(String,D.slice(y,y+=$a));D=z}return D}function Ba(u,y,z){if(0!==u%1||0>u)throw new RangeError("offset is not uint");if(u+y>z)throw new RangeError("Trying to access beyond buffer length");
}function Qa(u,y,z,D,C,J){if(!x.isBuffer(u))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>C||y<J)throw new RangeError('"value" argument is out of bounds');if(z+D>u.length)throw new RangeError("Index out of range");}function ca(u,y,z,D){0>y&&(y=65535+y+1);for(var C=0,J=Math.min(u.length-z,2);C<J;++C)u[z+C]=(y&255<<8*(D?C:1-C))>>>8*(D?C:1-C)}function Z(u,y,z,D){0>y&&(y=4294967295+y+1);for(var C=0,J=Math.min(u.length-z,4);C<J;++C)u[z+C]=y>>>8*(D?C:3-C)&255}function Oa(u,y,z,
D,C,J){if(z+D>u.length)throw new RangeError("Index out of range");if(0>z)throw new RangeError("Index out of range");}function Aa(u,y,z,D,C){C||Oa(u,y,z,4,3.4028234663852886E38,-3.4028234663852886E38);Ia.write(u,y,z,D,23,4);return z+4}function va(u,y,z,D,C){C||Oa(u,y,z,8,1.7976931348623157E308,-1.7976931348623157E308);Ia.write(u,y,z,D,52,8);return z+8}function xa(u){u=u.trim?u.trim():u.replace(/^\s+|\s+$/g,"");u=u.replace(ja,"");if(2>u.length)return"";for(;0!==u.length%4;)u+="\x3d";return u}function fa(u,
y){y=y||Infinity;for(var z,D=u.length,C=null,J=[],V=0;V<D;++V){z=u.charCodeAt(V);if(55295<z&&57344>z){if(!C){if(56319<z){-1<(y-=3)&&J.push(239,191,189);continue}else if(V+1===D){-1<(y-=3)&&J.push(239,191,189);continue}C=z;continue}if(56320>z){-1<(y-=3)&&J.push(239,191,189);C=z;continue}z=(C-55296<<10|z-56320)+65536}else C&&-1<(y-=3)&&J.push(239,191,189);C=null;if(128>z){if(0>--y)break;J.push(z)}else if(2048>z){if(0>(y-=2))break;J.push(z>>6|192,z&63|128)}else if(65536>z){if(0>(y-=3))break;J.push(z>>
12|224,z>>6&63|128,z&63|128)}else if(1114112>z){if(0>(y-=4))break;J.push(z>>18|240,z>>12&63|128,z>>6&63|128,z&63|128)}else throw Error("Invalid code point");}return J}function pa(u){for(var y=[],z=0;z<u.length;++z)y.push(u.charCodeAt(z)&255);return y}function da(u,y,z,D){for(var C=0;C<D&&!(C+z>=y.length||C>=u.length);++C)y[C+z]=u[C];return C}var ua=xb(9),Ia=xb(10),wa=xb(11);vb.Buffer=x;vb.SlowBuffer=function(u){+u!=u&&(u=0);return x.alloc(+u)};vb.INSPECT_MAX_BYTES=50;x.TYPED_ARRAY_SUPPORT=void 0!==
Ib.TYPED_ARRAY_SUPPORT?Ib.TYPED_ARRAY_SUPPORT:h();vb.kMaxLength=x.TYPED_ARRAY_SUPPORT?2147483647:1073741823;x.poolSize=8192;x._augment=function(u){u.__proto__=x.prototype;return u};x.from=function(u,y,z){return Wa(null,u,y,z)};x.TYPED_ARRAY_SUPPORT&&(x.prototype.__proto__=Uint8Array.prototype,x.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&x[Symbol.species]===x&&Object.defineProperty(x,Symbol.species,{value:null,configurable:!0}));x.alloc=function(u,y,z){Gb(u);u=0>=u?m(null,u):
void 0!==y?"string"===typeof z?m(null,u).fill(y,z):m(null,u).fill(y):m(null,u);return u};x.allocUnsafe=function(u){return gb(null,u)};x.allocUnsafeSlow=function(u){return gb(null,u)};x.isBuffer=function(u){return!(null==u||!u._isBuffer)};x.compare=function(u,y){if(!x.isBuffer(u)||!x.isBuffer(y))throw new TypeError("Arguments must be Buffers");if(u===y)return 0;for(var z=u.length,D=y.length,C=0,J=Math.min(z,D);C<J;++C)if(u[C]!==y[C]){z=u[C];D=y[C];break}return z<D?-1:D<z?1:0};x.isEncoding=function(u){switch(String(u).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}};x.concat=function(u,y){if(!wa(u))throw new TypeError('"list" argument must be an Array of Buffers');if(0===u.length)return x.alloc(0);var z;if(void 0===y)for(z=y=0;z<u.length;++z)y+=u[z].length;y=x.allocUnsafe(y);var D=0;for(z=0;z<u.length;++z){var C=u[z];if(!x.isBuffer(C))throw new TypeError('"list" argument must be an Array of Buffers');C.copy(y,D);D+=C.length}return y};x.byteLength=Ua;x.prototype._isBuffer=!0;x.prototype.swap16=function(){var u=this.length;if(0!==u%2)throw new RangeError("Buffer size must be a multiple of 16-bits");
for(var y=0;y<u;y+=2)ab(this,y,y+1);return this};x.prototype.swap32=function(){var u=this.length;if(0!==u%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var y=0;y<u;y+=4)ab(this,y,y+3),ab(this,y+1,y+2);return this};x.prototype.swap64=function(){var u=this.length;if(0!==u%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var y=0;y<u;y+=8)ab(this,y,y+7),ab(this,y+1,y+6),ab(this,y+2,y+5),ab(this,y+3,y+4);return this};x.prototype.toString=function(){var u=
this.length|0;return 0===u?"":0===arguments.length?na(this,0,u):Sa.apply(this,arguments)};x.prototype.equals=function(u){if(!x.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:0===x.compare(this,u)};x.prototype.inspect=function(){var u="",y=vb.INSPECT_MAX_BYTES;0<this.length&&(u=this.toString("hex",0,y).match(/.{2}/g).join(" "),this.length>y&&(u+=" ... "));return"\x3cBuffer "+u+"\x3e"};x.prototype.compare=function(u,y,z,D,C){if(!x.isBuffer(u))throw new TypeError("Argument must be a Buffer");
void 0===y&&(y=0);void 0===z&&(z=u?u.length:0);void 0===D&&(D=0);void 0===C&&(C=this.length);if(0>y||z>u.length||0>D||C>this.length)throw new RangeError("out of range index");if(D>=C&&y>=z)return 0;if(D>=C)return-1;if(y>=z)return 1;y>>>=0;z>>>=0;D>>>=0;C>>>=0;if(this===u)return 0;var J=C-D,V=z-y,ia=Math.min(J,V);D=this.slice(D,C);u=u.slice(y,z);for(y=0;y<ia;++y)if(D[y]!==u[y]){J=D[y];V=u[y];break}return J<V?-1:V<J?1:0};x.prototype.includes=function(u,y,z){return-1!==this.indexOf(u,y,z)};x.prototype.indexOf=
function(u,y,z){return za(this,u,y,z,!0)};x.prototype.lastIndexOf=function(u,y,z){return za(this,u,y,z,!1)};x.prototype.write=function(u,y,z,D){if(void 0===y)D="utf8",z=this.length,y=0;else if(void 0===z&&"string"===typeof y)D=y,z=this.length,y=0;else if(isFinite(y))y|=0,isFinite(z)?(z|=0,void 0===D&&(D="utf8")):(D=z,z=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var C=this.length-y;if(void 0===z||z>C)z=C;if(0<u.length&&(0>z||0>y)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");
D||(D="utf8");for(C=!1;;)switch(D){case "hex":a:{y=Number(y)||0;D=this.length-y;z?(z=Number(z),z>D&&(z=D)):z=D;D=u.length;if(0!==D%2)throw new TypeError("Invalid hex string");z>D/2&&(z=D/2);for(D=0;D<z;++D){C=parseInt(u.substr(2*D,2),16);if(isNaN(C)){u=D;break a}this[y+D]=C}u=D}return u;case "utf8":case "utf-8":return da(fa(u,this.length-y),this,y,z);case "ascii":return da(pa(u),this,y,z);case "latin1":case "binary":return da(pa(u),this,y,z);case "base64":return da(ua.toByteArray(xa(u)),this,y,z);
case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":D=u;C=this.length-y;for(var J=[],V=0;V<D.length&&!(0>(C-=2));++V){var ia=D.charCodeAt(V);u=ia>>8;ia%=256;J.push(ia);J.push(u)}return da(J,this,y,z);default:if(C)throw new TypeError("Unknown encoding: "+D);D=(""+D).toLowerCase();C=!0}};x.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $a=4096;x.prototype.slice=function(u,y){var z=this.length;u=~~u;y=void 0===y?z:~~y;0>u?(u+=z,0>u&&(u=0)):
u>z&&(u=z);0>y?(y+=z,0>y&&(y=0)):y>z&&(y=z);y<u&&(y=u);if(x.TYPED_ARRAY_SUPPORT)y=this.subarray(u,y),y.__proto__=x.prototype;else{z=y-u;y=new x(z,void 0);for(var D=0;D<z;++D)y[D]=this[D+u]}return y};x.prototype.readUIntLE=function(u,y,z){u|=0;y|=0;z||Ba(u,y,this.length);z=this[u];for(var D=1,C=0;++C<y&&(D*=256);)z+=this[u+C]*D;return z};x.prototype.readUIntBE=function(u,y,z){u|=0;y|=0;z||Ba(u,y,this.length);z=this[u+--y];for(var D=1;0<y&&(D*=256);)z+=this[u+--y]*D;return z};x.prototype.readUInt8=
function(u,y){y||Ba(u,1,this.length);return this[u]};x.prototype.readUInt16LE=function(u,y){y||Ba(u,2,this.length);return this[u]|this[u+1]<<8};x.prototype.readUInt16BE=function(u,y){y||Ba(u,2,this.length);return this[u]<<8|this[u+1]};x.prototype.readUInt32LE=function(u,y){y||Ba(u,4,this.length);return(this[u]|this[u+1]<<8|this[u+2]<<16)+16777216*this[u+3]};x.prototype.readUInt32BE=function(u,y){y||Ba(u,4,this.length);return 16777216*this[u]+(this[u+1]<<16|this[u+2]<<8|this[u+3])};x.prototype.readIntLE=
function(u,y,z){u|=0;y|=0;z||Ba(u,y,this.length);z=this[u];for(var D=1,C=0;++C<y&&(D*=256);)z+=this[u+C]*D;z>=128*D&&(z-=Math.pow(2,8*y));return z};x.prototype.readIntBE=function(u,y,z){u|=0;y|=0;z||Ba(u,y,this.length);z=y;for(var D=1,C=this[u+--z];0<z&&(D*=256);)C+=this[u+--z]*D;C>=128*D&&(C-=Math.pow(2,8*y));return C};x.prototype.readInt8=function(u,y){y||Ba(u,1,this.length);return this[u]&128?-1*(255-this[u]+1):this[u]};x.prototype.readInt16LE=function(u,y){y||Ba(u,2,this.length);u=this[u]|this[u+
1]<<8;return u&32768?u|4294901760:u};x.prototype.readInt16BE=function(u,y){y||Ba(u,2,this.length);u=this[u+1]|this[u]<<8;return u&32768?u|4294901760:u};x.prototype.readInt32LE=function(u,y){y||Ba(u,4,this.length);return this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24};x.prototype.readInt32BE=function(u,y){y||Ba(u,4,this.length);return this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]};x.prototype.readFloatLE=function(u,y){y||Ba(u,4,this.length);return Ia.read(this,u,!0,23,4)};x.prototype.readFloatBE=
function(u,y){y||Ba(u,4,this.length);return Ia.read(this,u,!1,23,4)};x.prototype.readDoubleLE=function(u,y){y||Ba(u,8,this.length);return Ia.read(this,u,!0,52,8)};x.prototype.readDoubleBE=function(u,y){y||Ba(u,8,this.length);return Ia.read(this,u,!1,52,8)};x.prototype.writeUIntLE=function(u,y,z,D){u=+u;y|=0;z|=0;D||Qa(this,u,y,z,Math.pow(2,8*z)-1,0);D=1;var C=0;for(this[y]=u&255;++C<z&&(D*=256);)this[y+C]=u/D&255;return y+z};x.prototype.writeUIntBE=function(u,y,z,D){u=+u;y|=0;z|=0;D||Qa(this,u,y,
z,Math.pow(2,8*z)-1,0);D=z-1;var C=1;for(this[y+D]=u&255;0<=--D&&(C*=256);)this[y+D]=u/C&255;return y+z};x.prototype.writeUInt8=function(u,y,z){u=+u;y|=0;z||Qa(this,u,y,1,255,0);x.TYPED_ARRAY_SUPPORT||(u=Math.floor(u));this[y]=u&255;return y+1};x.prototype.writeUInt16LE=function(u,y,z){u=+u;y|=0;z||Qa(this,u,y,2,65535,0);x.TYPED_ARRAY_SUPPORT?(this[y]=u&255,this[y+1]=u>>>8):ca(this,u,y,!0);return y+2};x.prototype.writeUInt16BE=function(u,y,z){u=+u;y|=0;z||Qa(this,u,y,2,65535,0);x.TYPED_ARRAY_SUPPORT?
(this[y]=u>>>8,this[y+1]=u&255):ca(this,u,y,!1);return y+2};x.prototype.writeUInt32LE=function(u,y,z){u=+u;y|=0;z||Qa(this,u,y,4,4294967295,0);x.TYPED_ARRAY_SUPPORT?(this[y+3]=u>>>24,this[y+2]=u>>>16,this[y+1]=u>>>8,this[y]=u&255):Z(this,u,y,!0);return y+4};x.prototype.writeUInt32BE=function(u,y,z){u=+u;y|=0;z||Qa(this,u,y,4,4294967295,0);x.TYPED_ARRAY_SUPPORT?(this[y]=u>>>24,this[y+1]=u>>>16,this[y+2]=u>>>8,this[y+3]=u&255):Z(this,u,y,!1);return y+4};x.prototype.writeIntLE=function(u,y,z,D){u=+u;
y|=0;D||(D=Math.pow(2,8*z-1),Qa(this,u,y,z,D-1,-D));D=0;var C=1,J=0;for(this[y]=u&255;++D<z&&(C*=256);)0>u&&0===J&&0!==this[y+D-1]&&(J=1),this[y+D]=(u/C>>0)-J&255;return y+z};x.prototype.writeIntBE=function(u,y,z,D){u=+u;y|=0;D||(D=Math.pow(2,8*z-1),Qa(this,u,y,z,D-1,-D));D=z-1;var C=1,J=0;for(this[y+D]=u&255;0<=--D&&(C*=256);)0>u&&0===J&&0!==this[y+D+1]&&(J=1),this[y+D]=(u/C>>0)-J&255;return y+z};x.prototype.writeInt8=function(u,y,z){u=+u;y|=0;z||Qa(this,u,y,1,127,-128);x.TYPED_ARRAY_SUPPORT||(u=
Math.floor(u));0>u&&(u=255+u+1);this[y]=u&255;return y+1};x.prototype.writeInt16LE=function(u,y,z){u=+u;y|=0;z||Qa(this,u,y,2,32767,-32768);x.TYPED_ARRAY_SUPPORT?(this[y]=u&255,this[y+1]=u>>>8):ca(this,u,y,!0);return y+2};x.prototype.writeInt16BE=function(u,y,z){u=+u;y|=0;z||Qa(this,u,y,2,32767,-32768);x.TYPED_ARRAY_SUPPORT?(this[y]=u>>>8,this[y+1]=u&255):ca(this,u,y,!1);return y+2};x.prototype.writeInt32LE=function(u,y,z){u=+u;y|=0;z||Qa(this,u,y,4,2147483647,-2147483648);x.TYPED_ARRAY_SUPPORT?(this[y]=
u&255,this[y+1]=u>>>8,this[y+2]=u>>>16,this[y+3]=u>>>24):Z(this,u,y,!0);return y+4};x.prototype.writeInt32BE=function(u,y,z){u=+u;y|=0;z||Qa(this,u,y,4,2147483647,-2147483648);0>u&&(u=4294967295+u+1);x.TYPED_ARRAY_SUPPORT?(this[y]=u>>>24,this[y+1]=u>>>16,this[y+2]=u>>>8,this[y+3]=u&255):Z(this,u,y,!1);return y+4};x.prototype.writeFloatLE=function(u,y,z){return Aa(this,u,y,!0,z)};x.prototype.writeFloatBE=function(u,y,z){return Aa(this,u,y,!1,z)};x.prototype.writeDoubleLE=function(u,y,z){return va(this,
u,y,!0,z)};x.prototype.writeDoubleBE=function(u,y,z){return va(this,u,y,!1,z)};x.prototype.copy=function(u,y,z,D){z||(z=0);D||0===D||(D=this.length);y>=u.length&&(y=u.length);y||(y=0);0<D&&D<z&&(D=z);if(D===z||0===u.length||0===this.length)return 0;if(0>y)throw new RangeError("targetStart out of bounds");if(0>z||z>=this.length)throw new RangeError("sourceStart out of bounds");if(0>D)throw new RangeError("sourceEnd out of bounds");D>this.length&&(D=this.length);u.length-y<D-z&&(D=u.length-y+z);var C=
D-z;if(this===u&&z<y&&y<D)for(D=C-1;0<=D;--D)u[D+y]=this[D+z];else if(1E3>C||!x.TYPED_ARRAY_SUPPORT)for(D=0;D<C;++D)u[D+y]=this[D+z];else Uint8Array.prototype.set.call(u,this.subarray(z,z+C),y);return C};x.prototype.fill=function(u,y,z,D){if("string"===typeof u){"string"===typeof y?(D=y,y=0,z=this.length):"string"===typeof z&&(D=z,z=this.length);if(1===u.length){var C=u.charCodeAt(0);256>C&&(u=C)}if(void 0!==D&&"string"!==typeof D)throw new TypeError("encoding must be a string");if("string"===typeof D&&
!x.isEncoding(D))throw new TypeError("Unknown encoding: "+D);}else"number"===typeof u&&(u&=255);if(0>y||this.length<y||this.length<z)throw new RangeError("Out of range index");if(z<=y)return this;y>>>=0;z=void 0===z?this.length:z>>>0;u||(u=0);if("number"===typeof u)for(D=y;D<z;++D)this[D]=u;else for(u=x.isBuffer(u)?u:fa((new x(u,D)).toString()),C=u.length,D=0;D<z-y;++D)this[D+y]=u[D%C];return this};var ja=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[13]=function(Ib,xb,gc,vb){var h=xb(12).Buffer;(function(m,x){"object"===typeof vb&&"undefined"!==typeof gc?x(vb,xb(0),xb(1),xb(2),xb(8)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-dsv","topojson-client","vega-format"],x):(m="undefined"!==typeof globalThis?globalThis:m||self,x(m.vega={},m.vega,m.d3,m.topojson,m.vega))})(this,function(m,x,Wa,Gb,gb){function wb(ja,u){var y=this,z,D;return $jscomp.asyncExecutePromiseGeneratorProgram(function(C){if(1==C.nextAddress)return C.yield(y.sanitize(ja,
u),2);z=C.yieldResult;D=z.href;return C.return(z.localFile?y.file(D):y.http(D,u))})}function Lb(ja,u){var y=this,z,D,C,J,V,ia,Pa;return $jscomp.asyncExecutePromiseGeneratorProgram(function(cb){u=x.extend({},y.options,u);z=y.fileAccess;D={href:null};ia=va.test(ja.replace(xa,""));null!=ja&&"string"===typeof ja&&ia||x.error("Sanitize failure, invalid URI: "+x.stringValue(ja));Pa=Aa.test(ja);(V=u.baseURL)&&!Pa&&(ja.startsWith("/")||V.endsWith("/")||(ja="/"+ja),ja=V+ja);J=(C=ja.startsWith("file://"))||
"file"===u.mode||"http"!==u.mode&&!Pa&&z;C?ja=ja.slice(7):ja.startsWith("//")&&("file"===u.defaultProtocol?(ja=ja.slice(2),J=!0):ja=(u.defaultProtocol||"http")+":"+ja);Object.defineProperty(D,"localFile",{value:!!J});D.href=ja;u.target&&(D.target=u.target+"");u.rel&&(D.rel=u.rel+"");"image"===u.context&&u.crossOrigin&&(D.crossOrigin=u.crossOrigin+"");return cb.return(D)})}function rb(ja){return ja?function(u){return new Promise(function(y,z){ja.readFile(u,function(D,C){D?z(D):y(C)})})}:Ua}function Ua(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(ja){x.error("No file system access.");
ja.jumpToEnd()})}function Sa(ja){return ja?function(u,y){var z=this,D,C,J;return $jscomp.asyncExecutePromiseGeneratorProgram(function(V){if(1==V.nextAddress)return D=x.extend({},z.options.http,y),C=y&&y.response,V.yield(ja(u,D),2);J=V.yieldResult;return V.return(J.ok?x.isFunction(J[C])?J[C]():J.text():x.error(J.status+""+J.statusText))})}:ab}function ab(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(ja){x.error("No HTTP fetch method available.");ja.jumpToEnd()})}function za(ja,u){if(!ja||
!ja.length)return"unknown";for(var y=ja.length,z=da.length,D=da.map(function(Pa,cb){return cb+1}),C=0,J=0,V=void 0,ia=void 0;C<y;++C)for(ia=u?ja[C][u]:ja[C],V=0;V<z;++V)if(D[V]&&null!=ia&&ia===ia&&!da[V](ia)&&(D[V]=0,++J,J===da.length))return"string";return ua[D.reduce(function(Pa,cb){return 0===Pa?cb:Pa},0)-1]}function Y(ja,u){return u.reduce(function(y,z){y[z]=za(ja,z);return y},{})}function na(ja){var u=function(y,z){var D={delimiter:ja};return Ba(y,z?x.extend(z,D):D)};u.responseType="text";return u}
function Ba(ja,u){u.header&&(ja=u.header.map(x.stringValue).join(u.delimiter)+"\n"+ja);return Wa.dsvFormat(u.delimiter).parse(ja+"")}function Qa(ja,u){var y=u&&u.property?x.field(u.property):x.identity,z;if(z=x.isObject(ja))z=!("function"===typeof h&&x.isFunction(h.isBuffer)&&h.isBuffer(ja));z?(ja=y(ja),!x.isArray(ja)&&x.isIterable(ja)&&(ja=[].concat($jscomp.arrayFromIterable(ja))),u=u&&u.copy?JSON.parse(JSON.stringify(ja)):ja):u=y(JSON.parse(ja));return u}function ca(ja,u){var y;ja=Qa(ja,u);if(u&&
u.feature){var z=Gb.feature;var D=u.feature}else if(u&&u.mesh){z=Gb.mesh;D=u.mesh;var C=Ia[u.filter]}else x.error("Missing TopoJSON feature or mesh parameter.");return(y=(y=ja.objects[D])?z(ja,y,C):x.error("Invalid TopoJSON object: "+D))&&y.features||[y]}function Z(ja,u){return 1<arguments.length?(wa[ja]=u,this):x.hasOwnProperty(wa,ja)?wa[ja]:null}function Oa(ja,u,y,z){if(ja.length){var D=gb.timeFormatDefaultLocale();y=y||D.timeParse;z=z||D.utcParse;D=ja.columns||Object.keys(ja[0]);var C,J;"auto"===
u&&(u=Y(ja,D));D=Object.keys(u);var V=D.map(function(Ka){var ka=u[Ka];if(ka&&(ka.startsWith("date:")||ka.startsWith("utc:"))){Ka=ka.split(/:(.+)?/,2);ka=Ka[1];if("'"===ka[0]&&"'"===ka[ka.length-1]||'"'===ka[0]&&'"'===ka[ka.length-1])ka=ka.slice(1,-1);return("utc"===Ka[0]?z:y)(ka)}if(!pa[ka])throw Error("Illegal format pattern: "+Ka+":"+ka);return pa[ka]});var ia=0;var Pa=ja.length;for(J=D.length;ia<Pa;++ia){var cb=ja[ia];for(C=0;C<J;++C){var M=D[C];cb[M]=V[C](cb[M])}}}}var Aa=/^(data:|([A-Za-z]+:)?\/\/)/,
va=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,xa=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,fa=function(ja){return!Number.isNaN(+ja)&&!(ja instanceof Date)},pa={boolean:x.toBoolean,integer:x.toNumber,number:x.toNumber,date:x.toDate,string:x.toString,unknown:x.identity},da=[function(ja){return"true"===ja||"false"===ja||!0===ja||!1===ja},function(ja){return fa(ja)&&Number.isInteger(+ja)},fa,function(ja){return!Number.isNaN(Date.parse(ja))}],
ua=["boolean","integer","number","date"];Ba.responseType="text";Qa.responseType="json";var Ia={interior:function(ja,u){return ja!==u},exterior:function(ja,u){return ja===u}};ca.responseType="json";var wa={dsv:Ba,csv:na(","),tsv:na("\t"),json:Qa,topojson:ca},$a=function(ja,u){return function(y){return{options:y||{},sanitize:Lb,load:wb,fileAccess:!!u,file:rb(u),http:Sa(ja)}}}("undefined"!==typeof fetch&&fetch,null);m.format=wa;m.formats=Z;m.inferType=za;m.inferTypes=Y;m.loader=$a;m.read=function(ja,
u,y,z){u=u||{};var D=Z(u.type||"json");D||x.error("Unknown data format type: "+u.type);ja=D(ja,u);u.parse&&Oa(ja,u.parse,y,z);x.hasOwnProperty(ja,"columns")&&delete ja.columns;return ja};m.responseType=function(ja){return(ja=Z(ja))&&ja.responseType||"text"};m.typeParsers=pa;Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[14]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(0),xb(13),xb(8)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.vega={},h.vega,h.vega,h.vega))})(this,function(h,m,x,Wa){function Gb(M){var Ka=M||m.identity,ka=[],ha={};ka.add=function(w){var H=Ka(w);ha[H]||(ha[H]=1,ka.push(w));return ka};ka.remove=function(w){var H=Ka(w);ha[H]&&
(ha[H]=0,w=ka.indexOf(w),0<=w&&ka.splice(w,1));return ka};return ka}function gb(M,Ka){var ka;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ha){if(1==ha.nextAddress)return ha.setCatchFinallyBlocks(2),ha.yield(Ka(M),4);if(2!=ha.nextAddress)return ha.leaveTryBlock(0);ka=ha.enterCatchBlock();M.error(ka);ha.jumpToEnd()})}function wb(M){M=M===Object(M)?M:{data:M};if(!M[y]){var Ka=z++;M[y]=Ka}return M}function Lb(M,Ka){for(var ka in M)Ka[ka]=M[ka];return Ka}function rb(M){return M&&M.constructor===
Ua}function Ua(){var M=[],Ka=[],ka=[],ha=[],w=[],H=null,p=!1;return{constructor:Ua,insert:function(q){q=m.array(q);for(var t=q.length,G=0;G<t;++G)M.push(q[G]);return this},remove:function(q){var t=m.isFunction(q)?ha:Ka;q=m.array(q);for(var G=q.length,L=0;L<G;++L)t.push(q[L]);return this},modify:function(q,t,G){t={field:t,value:m.constant(G)};m.isFunction(q)?(t.filter=q,w.push(t)):(t.tuple=q,ka.push(t));return this},encode:function(q,t){m.isFunction(q)?w.push({filter:q,field:t}):ka.push({tuple:q,field:t});
return this},clean:function(q){H=q;return this},reflow:function(){p=!0;return this},pulse:function(q,t){function G(qa,ta,ea){ea?qa[ta]=ea(qa):q.encode=ta;p||(ba[qa[y]]=qa)}var L={},ba={},Ga;var La=0;for(Ga=t.length;La<Ga;++La)L[t[La][y]]=1;La=0;for(Ga=Ka.length;La<Ga;++La){var db=Ka[La];L[db[y]]=-1}La=0;for(Ga=ha.length;La<Ga;++La){var sb=ha[La];t.forEach(function(qa){sb(qa)&&(L[qa[y]]=-1)})}La=0;for(Ga=M.length;La<Ga;++La){db=M[La];var S=db[y];L[S]?L[S]=1:q.add.push(wb(M[La]))}La=0;for(Ga=t.length;La<
Ga;++La)db=t[La],0>L[db[y]]&&q.rem.push(db);La=0;for(Ga=ka.length;La<Ga;++La){var aa=ka[La];db=aa.tuple;sb=aa.field;S=L[db[y]];0<S&&(G(db,sb,aa.value),q.modifies(sb))}La=0;for(Ga=w.length;La<Ga;++La)aa=w[La],sb=aa.filter,t.forEach(function(qa){sb(qa)&&0<L[qa[y]]&&G(qa,aa.field,aa.value)}),q.modifies(aa.field);if(p)q.mod=Ka.length||ha.length?t.filter(function(qa){return 0<L[qa[y]]}):t.slice();else for(S in ba)q.mod.push(ba[S]);(H||null==H&&(Ka.length||ha.length))&&q.clean(!0);return q}}}function Sa(){Object.defineProperty(this,
"_:mod:_",{writable:!0,value:{}})}function ab(M,Ka,ka,ha){this.id=++D;this.value=M;this.qrank=this.rank=this.stamp=-1;this.flags=0;Ka&&(this._update=Ka);ka&&this.parameters(ka,ha)}function za(M){return function(Ka){var ka=this.flags;if(0===arguments.length)return!!(ka&M);this.flags=Ka?ka|M:ka&~M;return this}}function Y(M,Ka,ka){this.id=++J;this.value=null;ka&&(this.receive=ka);M&&(this._filter=M);Ka&&(this._apply=Ka)}function na(M,Ka,ka){return new Y(M,Ka,ka)}function Ba(M){var Ka,ka=new Promise(function(ha){return Ka=
ha});ka.requests=0;ka.done=function(){0===--ka.requests&&(M._pending=null,Ka(M))};return M._pending=ka}function Qa(M,Ka,ka,ha,w,H){var p=m.extend({},H,V);m.isFunction(ka)||(ka=m.constant(ka));if(void 0===ha)w=function(t){return M.touch(ka(t))};else if(m.isFunction(ha)){var q=new ab(null,ha,w,!1);w=function(t){q.evaluate(t);t=ka(t);var G=q.value;rb(G)?M.pulse(t,G,H):M.update(t,G,p)}}else w=function(t){return M.update(ka(t),ha,p)};Ka.apply(w)}function ca(M,Ka,ka,ha,w,H){void 0===ha?Ka.targets().add(ka):
(H=H||{},ha=new ab(null,Z(ka,ha),w,!1),ha.modified(H.force),ha.rank=Ka.rank,Ka.targets().add(ha),ka&&(ha.skip(!0),ha.value=ka.value,ha.targets().add(ka),M.connect(ka,[ha])))}function Z(M,Ka){Ka=m.isFunction(Ka)?Ka:m.constant(Ka);return M?function(ka,ha){ka=Ka(ka,ha);M.skip()||(M.skip(ka!==this.value).value=ka);return ka}:Ka}function Oa(M,Ka,ka){this.dataflow=M;this.stamp=null==Ka?-1:Ka;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=ka||null}function Aa(M,Ka){var ka=[];m.visitArray(M,
Ka,function(ha){return ka.push(ha)});return ka}function va(M,Ka){var ka={};M.visit(Ka,function(ha){ka[ha[y]]=1});return function(ha){return ka[ha[y]]?null:ha}}function xa(M,Ka){return M?function(ka,ha){return M(ka,ha)&&Ka(ka,ha)}:Ka}function fa(M,Ka,ka,ha){var w=ka.length,H=0;this.dataflow=M;this.stamp=Ka;this.fields=null;this.encode=ha||null;this.pulses=ka;for(M=0;M<w;++M)if(ha=ka[M],ha.stamp===Ka){if(ha.fields){var p=this.fields||(this.fields={}),q;for(q in ha.fields)p[q]=1}ha.changed(this.ADD)&&
(H|=this.ADD);ha.changed(this.REM)&&(H|=this.REM);ha.changed(this.MOD)&&(H|=this.MOD)}this.changes=H}function pa(M){M.error("Dataflow already running. Use runAsync() to chain invocations.");return M}function da(M,Ka){if(Ka&&Ka.stamp===M.stamp)return Ka;M=M.fork();Ka&&Ka!==ia&&(M.source=Ka.source);return M}function ua(M){var Ka=[];return{clear:function(){return Ka=[]},size:function(){return Ka.length},peek:function(){return Ka[0]},push:function(ka){Ka.push(ka);return Ia(Ka,0,Ka.length-1,M)},pop:function(){var ka=
Ka.pop();if(Ka.length){var ha=Ka[0];Ka[0]=ka;ka=Ka;for(var w=0,H=w,p=ka.length,q=ka[w],t=(w<<1)+1,G;t<p;)G=t+1,G<p&&0<=M(ka[t],ka[G])&&(t=G),ka[w]=ka[t],w=t,t=(w<<1)+1;ka[w]=q;Ia(ka,H,w,M)}else ha=ka;return ha}}}function Ia(M,Ka,ka,ha){for(var w,H,p=M[ka];ka>Ka;)if(H=ka-1>>1,w=M[H],0>ha(p,w))M[ka]=w,ka=H;else break;return M[ka]=p}function wa(){this.logger(m.logger());this.logLevel(m.Error);this._rank=this._clock=0;this._locale=Wa.defaultLocale();try{this._loader=x.loader()}catch(M){}this._touched=
Gb(m.id);this._input={};this._pulse=null;this._heap=ua(function(M,Ka){return M.qrank-Ka.qrank});this._postrun=[]}function $a(M){return function(){return this._log[M].apply(this,arguments)}}function ja(M,Ka){ab.call(this,M,null,Ka)}function u(M){M=M&&M.toLowerCase();return m.hasOwnProperty(cb,M)?cb[M]:null}var y=Symbol("vega_id"),z=1;Sa.prototype={set:function(M,Ka,ka,ha){var w=this[M],H=this["_:mod:_"];if(null!=Ka&&0<=Ka){if(w[Ka]!==ka||ha)w[Ka]=ka,H[Ka+":"+M]=-1,H[M]=-1}else if(w!==ka||ha)this[M]=
ka,H[M]=m.isArray(ka)?1+ka.length:-1;return this},modified:function(M,Ka){var ka=this["_:mod:_"];if(!arguments.length){for(var ha in ka)if(ka[ha])return!0;return!1}if(m.isArray(M)){for(ha=0;ha<M.length;++ha)if(ka[M[ha]])return!0;return!1}return null!=Ka&&0<=Ka?Ka+1<ka[M]||!!ka[Ka+":"+M]:!!ka[M]},clear:function(){this["_:mod:_"]={};return this}};var D=0,C=new Sa;ab.prototype={targets:function(){return this._targets||(this._targets=Gb(m.id))},set:function(M){return this.value!==M?(this.value=M,1):0},
skip:za(1),modified:za(2),parameters:function(M,Ka,ka){var ha=this;Ka=!1!==Ka;var w=this._argval=this._argval||new Sa,H=this._argops=this._argops||[],p=[],q,t,G,L=function(Ga,La,db){db instanceof ab?(db!==ha&&(Ka&&db.targets().add(ha),p.push(db)),H.push({op:db,name:Ga,index:La})):w.set(Ga,La,db)};for(q in M){var ba=M[q];if("pulse"===q)m.array(ba).forEach(function(Ga){Ga instanceof ab?Ga!==ha&&(Ga.targets().add(ha),p.push(Ga)):m.error("Pulse parameters must be operator instances.")}),this.source=ba;
else if(m.isArray(ba))for(w.set(q,-1,Array(t=ba.length)),G=0;G<t;++G)L(q,G,ba[G]);else L(q,-1,ba)}this.marshall().clear();ka&&(H.initonly=!0);return p},marshall:function(M){var Ka=this._argval||C,ka=this._argops,ha;if(ka){var w=ka.length;for(ha=0;ha<w;++ha){var H=ka[ha];var p=H.op;var q=p.modified()&&p.stamp===M;Ka.set(H.name,H.index,p.value,q)}if(ka.initonly){for(ha=0;ha<w;++ha)H=ka[ha],H.op.targets().remove(this);this._update=this._argops=null}}return Ka},detach:function(){var M=this._argops,Ka;
if(M){var ka=0;for(Ka=M.length;ka<Ka;++ka){var ha=M[ka];ha=ha.op;ha._targets&&ha._targets.remove(this)}}this.source=this.pulse=null},evaluate:function(M){var Ka=this._update;if(Ka){var ka=this.marshall(M.stamp);Ka=Ka.call(this,ka,M);ka.clear();if(Ka!==this.value)this.value=Ka;else if(!this.modified())return M.StopPropagation}},run:function(M){if(M.stamp<this.stamp)return M.StopPropagation;if(this.skip()){this.skip(!1);var Ka=0}else Ka=this.evaluate(M);return this.pulse=Ka||M}};var J=0;Y.prototype=
{_filter:m.truthy,_apply:m.identity,targets:function(){return this._targets||(this._targets=Gb(m.id))},consume:function(M){if(!arguments.length)return!!this._consume;this._consume=!!M;return this},receive:function(M){if(this._filter(M)){for(var Ka=this.value=this._apply(M),ka=this._targets,ha=ka?ka.length:0,w=0;w<ha;++w)ka[w].receive(Ka);this._consume&&(M.preventDefault(),M.stopPropagation())}},filter:function(M){M=na(M);this.targets().add(M);return M},apply:function(M){M=na(null,M);this.targets().add(M);
return M},merge:function(){var M=na();this.targets().add(M);for(var Ka=0,ka=arguments.length;Ka<ka;++Ka)arguments[Ka].targets().add(M);return M},throttle:function(M){var Ka=-1;return this.filter(function(){var ka=Date.now();return ka-Ka>M?(Ka=ka,1):0})},debounce:function(M){var Ka=na();this.targets().add(na(null,null,m.debounce(M,function(ka){var ha=ka.dataflow;Ka.receive(ka);ha&&ha.run&&ha.run()})));return Ka},between:function(M,Ka){var ka=!1;M.targets().add(na(null,null,function(){return ka=!0}));
Ka.targets().add(na(null,null,function(){return ka=!1}));return this.filter(function(){return ka})},detach:function(){this._filter=m.truthy;this._targets=null}};var V={skip:!0},ia={};Oa.prototype={StopPropagation:ia,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork:function(M){return(new Oa(this.dataflow)).init(this,M)},clone:function(){var M=this.fork(7);M.add=M.add.slice();M.rem=M.rem.slice();M.mod=M.mod.slice();M.source&&(M.source=M.source.slice());return M.materialize(23)},
addAll:function(){var M=this;M.source&&M.add!==M.rem&&(M.rem.length||M.source.length!==M.add.length)&&(M=(new Oa(this.dataflow)).init(this),M.add=M.source,M.rem=[]);return M},init:function(M,Ka){this.stamp=M.stamp;this.encode=M.encode;!M.fields||Ka&64||(this.fields=M.fields);Ka&1?(this.addF=M.addF,this.add=M.add):(this.addF=null,this.add=[]);Ka&2?(this.remF=M.remF,this.rem=M.rem):(this.remF=null,this.rem=[]);Ka&4?(this.modF=M.modF,this.mod=M.mod):(this.modF=null,this.mod=[]);Ka&32?this.source=this.srcF=
null:(this.srcF=M.srcF,this.source=M.source,M.cleans&&(this.cleans=M.cleans));return this},runAfter:function(M){this.dataflow.runAfter(M)},changed:function(M){M=M||7;return M&1&&this.add.length||M&2&&this.rem.length||M&4&&this.mod.length},reflow:function(M){if(M)return this.fork(7).reflow();M=this.add.length;var Ka=this.source&&this.source.length;Ka&&Ka!==M&&(this.mod=this.source,M&&this.filter(4,va(this,1)));return this},clean:function(M){return arguments.length?(this.cleans=!!M,this):this.cleans},
modifies:function(M){var Ka=this.fields||(this.fields={});m.isArray(M)?M.forEach(function(ka){return Ka[ka]=!0}):Ka[M]=!0;return this},modified:function(M,Ka){var ka=this.fields;return(Ka||this.mod.length)&&ka?arguments.length?m.isArray(M)?M.some(function(ha){return ka[ha]}):ka[M]:!!ka:!1},filter:function(M,Ka){M&1&&(this.addF=xa(this.addF,Ka));M&2&&(this.remF=xa(this.remF,Ka));M&4&&(this.modF=xa(this.modF,Ka));M&16&&(this.srcF=xa(this.srcF,Ka));return this},materialize:function(M){M=M||7;M&1&&this.addF&&
(this.add=Aa(this.add,this.addF),this.addF=null);M&2&&this.remF&&(this.rem=Aa(this.rem,this.remF),this.remF=null);M&4&&this.modF&&(this.mod=Aa(this.mod,this.modF),this.modF=null);M&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit:function(M,Ka){if(M&16)return m.visitArray(this.source,this.srcF,Ka),this;M&1&&m.visitArray(this.add,this.addF,Ka);M&2&&m.visitArray(this.rem,this.remF,Ka);M&4&&m.visitArray(this.mod,this.modF,Ka);var ka=this.source;M&8&&ka&&(M=
this.add.length+this.mod.length,M!==ka.length&&(M?m.visitArray(ka,va(this,5),Ka):m.visitArray(ka,this.srcF,Ka)));return this}};m.inherits(fa,Oa,{fork:function(M){var Ka=(new Oa(this.dataflow)).init(this,M&this.NO_FIELDS);void 0!==M&&(M&Ka.ADD&&this.visit(Ka.ADD,function(ka){return Ka.add.push(ka)}),M&Ka.REM&&this.visit(Ka.REM,function(ka){return Ka.rem.push(ka)}),M&Ka.MOD&&this.visit(Ka.MOD,function(ka){return Ka.mod.push(ka)}));return Ka},changed:function(M){return this.changes&M},modified:function(M){var Ka=
this.fields;return Ka&&this.changes&this.MOD?m.isArray(M)?M.some(function(ka){return Ka[ka]}):Ka[M]:0},filter:function(){m.error("MultiPulse does not support filtering.")},materialize:function(){m.error("MultiPulse does not support materialization.")},visit:function(M,Ka){var ka=this.pulses,ha=ka.length,w=0;if(M&this.SOURCE)for(;w<ha;++w)ka[w].visit(M,Ka);else for(;w<ha;++w)ka[w].stamp===this.stamp&&ka[w].visit(M,Ka);return this}});var Pa={skip:!1,force:!1};wa.prototype={stamp:function(){return this._clock},
loader:function(M){return arguments.length?(this._loader=M,this):this._loader},locale:function(M){return arguments.length?(this._locale=M,this):this._locale},logger:function(M){return arguments.length?(this._log=M,this):this._log},error:$a("error"),warn:$a("warn"),info:$a("info"),debug:$a("debug"),logLevel:$a("level"),cleanThreshold:1E4,add:function(M,Ka,ka,ha){var w=1;M instanceof ab||(M&&M.prototype instanceof ab?M=new M:m.isFunction(M)?M=new ab(null,M):(w=0,M=new ab(M,Ka)));this.rank(M);w&&(ha=
ka,ka=Ka);ka&&this.connect(M,M.parameters(ka,ha));this.touch(M);return M},connect:function(M,Ka){for(var ka=M.rank,ha=Ka.length,w=0;w<ha;++w)if(ka<Ka[w].rank){this.rerank(M);break}},rank:function(M){M.rank=++this._rank},rerank:function(M){for(var Ka=[M],ka,ha,w;Ka.length;)if(this.rank(ka=Ka.pop()),ha=ka._targets)for(w=ha.length;0<=--w;)Ka.push(ka=ha[w]),ka===M&&m.error("Cycle detected in dataflow graph.")},pulse:function(M,Ka,ka){this.touch(M,ka||Pa);ka=new Oa(this,this._clock+(this._pulse?0:1));
var ha=M.pulse&&M.pulse.source||[];ka.target=M;this._input[M.id]=Ka.pulse(ka,ha);return this},touch:function(M,Ka){Ka=Ka||Pa;this._pulse?this._enqueue(M):this._touched.add(M);Ka.skip&&M.skip(!0);return this},update:function(M,Ka,ka){ka=ka||Pa;(M.set(Ka)||ka.force)&&this.touch(M,ka);return this},changeset:Ua,ingest:function(M,Ka,ka){Ka=this.parse(Ka,ka);return this.pulse(M,this.changeset().insert(Ka))},parse:function(M,Ka){var ka=this.locale();return x.read(M,Ka,ka.timeParse,ka.utcParse)},preload:function(M,
Ka,ka){var ha=this,w,H,p;return $jscomp.asyncExecutePromiseGeneratorProgram(function(q){if(1==q.nextAddress)return w=ha,H=w._pending||Ba(w),H.requests+=1,q.yield(w.request(Ka,ka),2);p=q.yieldResult;w.pulse(M,w.changeset().remove(m.truthy).insert(p.data||[]));H.done();return q.return(p)})},request:function(M,Ka){var ka=this,ha,w,H,p;return $jscomp.asyncExecutePromiseGeneratorProgram(function(q){switch(q.nextAddress){case 1:return ha=ka,w=0,q.setCatchFinallyBlocks(2),q.yield(ha.loader().load(M,{context:"dataflow",
response:x.responseType(Ka&&Ka.type)}),4);case 4:H=q.yieldResult;try{H=ha.parse(H,Ka)}catch(t){w=-2,ha.warn("Data ingestion failed",M,t)}q.leaveTryBlock(3);break;case 2:p=q.enterCatchBlock(),w=-1,ha.warn("Loading failed",M,p);case 3:return q.return({data:H,status:w})}})},events:function(M,Ka,ka,ha){var w=this,H=na(ka,ha);ka=function(q){q.dataflow=w;try{H.receive(q)}catch(t){w.error(t)}finally{w.run()}};M="string"===typeof M&&"undefined"!==typeof document?document.querySelectorAll(M):m.array(M);ha=
M.length;for(var p=0;p<ha;++p)M[p].addEventListener(Ka,ka);return H},on:function(M,Ka,ka,ha,w){(M instanceof ab?ca:Qa)(this,M,Ka,ka,ha,w);return this},evaluate:function(M,Ka,ka){var ha=this,w,H,p,q,t,G,L,ba,Ga,La;return $jscomp.asyncExecutePromiseGeneratorProgram(function(db){switch(db.nextAddress){case 1:w=ha;H=[];if(w._pulse)return db.return(pa(w));if(!w._pending){db.jumpTo(2);break}return db.yield(w._pending,2);case 2:if(!Ka){db.jumpTo(4);break}return db.yield(gb(w,Ka),4);case 4:if(!w._touched.length)return w.debug("Dataflow invoked, but nothing to do."),
db.return(w);p=++w._clock;w._pulse=new Oa(w,p,M);w._touched.forEach(function(sb){return w._enqueue(sb,!0)});w._touched=Gb(m.id);q=0;db.setCatchFinallyBlocks(6);case 8:if(!(0<w._heap.size())){db.leaveTryBlock(7);break}t=w._heap.pop();if(t.rank!==t.qrank){w._enqueue(t,!0);db.jumpTo(8);break}G=t.run(w._getPulse(t,M));if(!G.then){G.async&&(H.push(G.async),G=ia);db.jumpTo(10);break}return db.yield(G,11);case 11:G=db.yieldResult;case 10:G!==ia&&t._targets&&t._targets.forEach(function(sb){return w._enqueue(sb)});
++q;db.jumpTo(8);break;case 6:ba=db.enterCatchBlock(),w._heap.clear(),L=ba;case 7:w._input={};w._pulse=null;w.debug("Pulse "+p+": "+q+" operators");L&&(w._postrun=[],w.error(L));if(!w._postrun.length){db.jumpTo(12);break}Ga=w._postrun.sort(function(sb,S){return S.priority-sb.priority});w._postrun=[];La=0;case 13:if(!(La<Ga.length)){db.jumpTo(12);break}return db.yield(gb(w,Ga[La].callback),14);case 14:++La;db.jumpTo(13);break;case 12:if(!ka){db.jumpTo(17);break}return db.yield(gb(w,ka),17);case 17:return H.length&&
Promise.all(H).then(function(sb){return w.runAsync(null,function(){sb.forEach(function(S){try{S(w)}catch(aa){w.error(aa)}})})}),db.return(w)}})},run:function(M,Ka,ka){return this._pulse?pa(this):(this.evaluate(M,Ka,ka),this)},runAsync:function(M,Ka,ka){var ha=this,w;return $jscomp.asyncExecutePromiseGeneratorProgram(function(H){if(1==H.nextAddress)return ha._running?H.yield(ha._running,1):H.jumpTo(3);w=function(){return ha._running=null};(ha._running=ha.evaluate(M,Ka,ka)).then(w,w);return H.return(ha._running)})},
runAfter:function(M,Ka,ka){if(this._pulse||Ka)this._postrun.push({priority:ka||0,callback:M});else try{M(this)}catch(ha){this.error(ha)}},_enqueue:function(M,Ka){var ka=M.stamp<this._clock;ka&&(M.stamp=this._clock);if(ka||Ka)M.qrank=M.rank,this._heap.push(M)},_getPulse:function(M,Ka){var ka=M.source,ha=this._clock;return ka&&m.isArray(ka)?new fa(this,ha,ka.map(function(w){return w.pulse}),Ka):this._input[M.id]||da(this._pulse,ka&&ka.pulse)}};m.inherits(ja,ab,{run:function(M){var Ka=this;if(M.stamp<
this.stamp)return M.StopPropagation;var ka;this.skip()?this.skip(!1):ka=this.evaluate(M);ka=ka||M;ka.then?ka=ka.then(function(ha){return Ka.pulse=ha}):ka!==M.StopPropagation&&(this.pulse=ka);return ka},evaluate:function(M){var Ka=this.marshall(M.stamp);M=this.transform(Ka,M);Ka.clear();return M},transform:function(){}});var cb={};h.Dataflow=wa;h.EventStream=Y;h.MultiPulse=fa;h.Operator=ab;h.Parameters=Sa;h.Pulse=Oa;h.Transform=ja;h.UniqueList=Gb;h.asyncCallback=gb;h.changeset=Ua;h.definition=function(M){return(M=
u(M))&&M.Definition||null};h.derive=function(M){return Lb(M,wb({}))};h.ingest=wb;h.isChangeSet=rb;h.isTuple=function(M){return!(!M||!M[y])};h.rederive=Lb;h.replace=function(M,Ka){Ka[y]=M[y];return Ka};h.stableCompare=function(M,Ka){return M?Ka?function(ka,ha){return M(ka,ha)||Ka(ka)[y]-Ka(ha)[y]}:function(ka,ha){return M(ka,ha)||ka[y]-ha[y]}:null};h.transform=u;h.transforms=cb;h.tupleid=function(M){return M[y]};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[15]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(3)):"function"===typeof define&&define.amd?define(["exports","d3-array"],m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.vega={},h.d3))})(this,function(h,m){function x(z,D){var C,J,V,ia,Pa,cb;return $jscomp.generator.createGenerator(x,function(M){switch(M.nextAddress){case 1:if(null==D){M.jumpTo(2);break}C=-1;J=$jscomp.makeIterator(z);V=J.next();case 4:if(V.done){M.jumpTo(0);
break}ia=V.value;ia=D(ia,++C,z);if(!(null!=ia&&""!==ia&&(ia=+ia)>=ia)){M.jumpTo(5);break}return M.yield(ia,5);case 5:V=J.next();M.jumpTo(4);break;case 2:Pa=$jscomp.makeIterator(z),V=Pa.next();case 9:if(V.done){M.jumpTo(0);break}cb=V.value;if(!(null!=cb&&""!==cb&&(cb=+cb)>=cb)){M.jumpTo(10);break}return M.yield(cb,10);case 10:V=Pa.next(),M.jumpTo(9)}})}function Wa(z,D,C){var J=Float64Array.from(x(z,C));J.sort(m.ascending);return D.map(function(V){return m.quantileSorted(J,V)})}function Gb(z,D){return Wa(z,
[.25,.5,.75],D)}function gb(z,D){var C=z.length,J=m.deviation(z,D);z=Gb(z,D);return 1.06*(Math.min(J,(z[2]-z[0])/1.34)||J||Math.abs(z[0])||1)*Math.pow(C,-.2)}function wb(z,D){for(var C=z.length,J=0,V=1,ia,Pa;z[J]===z[V];)++V;for(;V<C;){for(ia=V+1;z[V]===z[ia];)++ia;if(z[V]-z[V-1]<D){for(Pa=V+(J+ia-V-V>>1);Pa<V;)z[Pa++]=z[V];for(;Pa>V;)z[Pa--]=z[J]}J=V;V=ia}return z}function Lb(z,D){z=z||0;D=null==D?1:D;if(u===u){var C=u;u=NaN}else{do{C=2*h.random()-1;var J=2*h.random()-1;var V=C*C+J*J}while(0===V||
1<V);V=Math.sqrt(-2*Math.log(V)/V);C*=V;u=J*V}return z+C*D}function rb(z,D,C){C=null==C?1:C;z=(z-(D||0))/C;return Math.exp(-.5*z*z)/(C*$a)}function Ua(z,D,C){z=(z-(D||0))/(null==C?1:C);D=Math.abs(z);37<D?D=0:(C=Math.exp(-D*D/2),D=7.07106781186547>D?C*((((((.0352624965998911*D+.700383064443688)*D+6.37396220353165)*D+33.912866078383)*D+112.079291497871)*D+221.213596169931)*D+220.206867912376)/(((((((.0883883476483184*D+1.75566716318264)*D+16.064177579207)*D+86.7807322029461)*D+296.564248779674)*D+637.333633378831)*
D+793.826512519948)*D+440.413735824752):C/(D+1/(D+2/(D+3/(D+4/(D+.65)))))/2.506628274631);return 0<z?1-D:D}function Sa(z,D,C){if(0>z||1<z)return NaN;z=2*z-1;var J=-Math.log((1-z)*(1+z));6.25>J?(J-=3.125,J=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+
(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J):16>J?(J=Math.sqrt(J)-3.25,J=3.0838856104922208+(1.0052589676941592+(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+
(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J):Number.isFinite(J)?(J=Math.sqrt(J)-5,J=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+
(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J):J=Infinity;return(D||0)+(null==C?1:C)*ja*J*z}function ab(z,D){var C,J,V={mean:function(ia){return arguments.length?(C=ia||0,V):C},stdev:function(ia){return arguments.length?(J=null==ia?1:ia,V):J},sample:function(){return Lb(C,J)},pdf:function(ia){return rb(ia,
C,J)},cdf:function(ia){return Ua(ia,C,J)},icdf:function(ia){return Sa(ia,C,J)}};return V.mean(z).stdev(D)}function za(z,D){D=null==D?1:D;return Math.exp((z||0)+Lb()*D)}function Y(z,D,C){if(0>=z)return 0;C=null==C?1:C;D=(Math.log(z)-(D||0))/C;return Math.exp(-.5*D*D)/(C*$a*z)}function na(z,D,C){return Ua(Math.log(z),D,C)}function Ba(z,D,C){return Math.exp(Sa(z,D,C))}function Qa(z,D){null==D&&(D=null==z?1:z,z=0);return z+(D-z)*h.random()}function ca(z,D,C){null==C&&(C=null==D?1:D,D=0);return z>=D&&
z<=C?1/(C-D):0}function Z(z,D,C){null==C&&(C=null==D?1:D,D=0);return z<D?0:z>C?1:(z-D)/(C-D)}function Oa(z,D,C){null==C&&(C=null==D?1:D,D=0);return 0<=z&&1>=z?D+z*(C-D):NaN}function Aa(z,D,C,J){J-=z*z;C=1E-24>Math.abs(J)?0:(C-z*D)/J;return[D-C*z,C]}function va(z,D,C,J){z=z.filter(function(ha){var w=D(ha);ha=C(ha);return null!=w&&(w=+w)>=w&&null!=ha&&(ha=+ha)>=ha});J&&z.sort(function(ha,w){return D(ha)-D(w)});J=z.length;var V=new Float64Array(J),ia=new Float64Array(J),Pa=0,cb=0,M=0,Ka;z=$jscomp.makeIterator(z);
for(Ka=z.next();!Ka.done;Ka=z.next()){var ka=Ka.value;V[Pa]=Ka=+D(ka);ia[Pa]=ka=+C(ka);++Pa;cb+=(Ka-cb)/Pa;M+=(ka-M)/Pa}for(Pa=0;Pa<J;++Pa)V[Pa]-=cb,ia[Pa]-=M;return[V,ia,cb,M]}function xa(z,D,C,J){var V=-1,ia;z=$jscomp.makeIterator(z);for(ia=z.next();!ia.done;ia=z.next()){var Pa=ia.value;ia=D(Pa);Pa=C(Pa);null!=ia&&(ia=+ia)>=ia&&null!=Pa&&(Pa=+Pa)>=Pa&&J(ia,Pa,++V)}}function fa(z,D,C,J,V){var ia=0,Pa=0;xa(z,D,C,function(cb,M){cb=M-V(cb);M-=J;ia+=cb*cb;Pa+=M*M});return 1-ia/Pa}function pa(z,D,C){var J=
0,V=0,ia=0,Pa=0,cb=0;xa(z,D,C,function(ka,ha){++cb;J+=(ka-J)/cb;V+=(ha-V)/cb;ia+=(ka*ha-ia)/cb;Pa+=(ka*ka-Pa)/cb});var M=Aa(J,V,ia,Pa),Ka=function(ka){return M[0]+M[1]*ka};return{coef:M,predict:Ka,rSquared:fa(z,D,C,V,Ka)}}function da(z,D,C){var J=$jscomp.makeIterator(va(z,D,C)),V=J.next().value,ia=J.next().value,Pa=J.next().value,cb=J.next().value,M=V.length,Ka=J=0,ka=0,ha=0,w=0,H;for(H=0;H<M;){var p=V[H];var q=ia[H++];var t=p*p;J+=(t-J)/H;Ka+=(t*p-Ka)/H;ka+=(t*t-ka)/H;ha+=(p*q-ha)/H;w+=(t*q-w)/H}V=
ka-J*J;ia=J*V-Ka*Ka;var G=(w*J-ha*Ka)/ia,L=(ha*V-w*Ka)/ia,ba=-G*J;J=function(Ga){Ga-=Pa;return G*Ga*Ga+L*Ga+ba+cb};return{coef:[ba-L*Pa+G*Pa*Pa+cb,L-2*G*Pa,G],predict:J,rSquared:fa(z,D,C,cb,J)}}function ua(z,D,C,J){var V=Array(z),ia;for(ia=0;ia<z;++ia)V[ia]=0;for(ia=z-1;0<=ia;--ia){var Pa=D[ia];var cb=1;V[ia]+=Pa;for(z=1;z<=ia;++z)cb*=(ia+1-z)/z,V[ia-z]+=Pa*Math.pow(C,z)*cb}V[0]+=J;return V}function Ia(z){var D=z.length-1,C=[],J,V,ia;for(J=0;J<D;++J){var Pa=J;for(V=J+1;V<D;++V)Math.abs(z[J][V])>Math.abs(z[J][Pa])&&
(Pa=V);for(ia=J;ia<D+1;++ia){var cb=z[ia][J];z[ia][J]=z[ia][Pa];z[ia][Pa]=cb}for(V=J+1;V<D;++V)for(ia=D;ia>=J;ia--)z[ia][V]-=z[ia][J]*z[J][V]/z[J][J]}for(V=D-1;0<=V;--V){cb=0;for(ia=V+1;ia<D;++ia)cb+=z[ia][V]*C[ia];C[V]=(z[D][V]-cb)/z[V][V]}return C}function wa(z,D){for(var C=z,J=D.length,V=0;V<J;++V){var ia=D[V][1];ia<C&&(C=ia);ia>z&&(z=ia)}return 1/(z-C)}h.random=Math.random;var $a=Math.sqrt(2*Math.PI),ja=Math.SQRT2,u=NaN,y=.5*Math.PI/180;h.bandwidthNRD=gb;h.bin=function(z){var D=z.maxbins||20,
C=z.base||10,J=Math.log(C),V=z.divide||[5,2],ia=z.extent[0],Pa=z.extent[1],cb,M=z.span||Pa-ia||Math.abs(ia)||1;if(z.step)var Ka=z.step;else if(z.steps){var ka=M/D;var ha=0;for(cb=z.steps.length;ha<cb&&z.steps[ha]<ka;++ha);Ka=z.steps[Math.max(0,ha-1)]}else{Ka=Math.ceil(Math.log(D)/J);var w=z.minstep||0;for(Ka=Math.max(w,Math.pow(C,Math.round(Math.log(M)/J)-Ka));Math.ceil(M/Ka)>D;)Ka*=C;ha=0;for(cb=V.length;ha<cb;++ha)ka=Ka/V[ha],ka>=w&&M/ka<=D&&(Ka=ka)}ka=Math.log(Ka);D=Math.pow(C,-(0<=ka?0:~~(-ka/
J)+1)-1);if(z.nice||void 0===z.nice)ka=Math.floor(ia/Ka+D)*Ka,ia=ia<ka?ka-Ka:ka,Pa=Math.ceil(Pa/Ka)*Ka;return{start:ia,stop:Pa===ia?ia+Ka:Pa,step:Ka}};h.bootstrapCI=function(z,D,C,J){if(!z.length)return[void 0,void 0];z=Float64Array.from(x(z,J));J=z.length;var V,ia,Pa;var cb=0;for(Pa=Array(D);cb<D;++cb){for(ia=V=0;ia<J;++ia)V+=z[~~(h.random()*J)];Pa[cb]=V/J}Pa.sort(m.ascending);return[m.quantile(Pa,C/2),m.quantile(Pa,1-C/2)]};h.cumulativeLogNormal=na;h.cumulativeNormal=Ua;h.cumulativeUniform=Z;h.densityLogNormal=
Y;h.densityNormal=rb;h.densityUniform=ca;h.dotbin=function(z,D,C,J){J=J||function(w){return w};for(var V=z.length,ia=new Float64Array(V),Pa=0,cb=1,M=J(z[0]),Ka=M,ka=M+D,ha;cb<V;++cb){ha=J(z[cb]);if(ha>=ka){for(Ka=(M+Ka)/2;Pa<cb;++Pa)ia[Pa]=Ka;ka=ha+D;M=ha}Ka=ha}for(Ka=(M+Ka)/2;Pa<cb;++Pa)ia[Pa]=Ka;return C?wb(ia,D+D/4):ia};h.quantileLogNormal=Ba;h.quantileNormal=Sa;h.quantileUniform=Oa;h.quantiles=Wa;h.quartiles=Gb;h.randomInteger=function(z,D){null==D&&(D=z,z=0);var C,J,V,ia={min:function(Pa){return arguments.length?
(C=Pa||0,V=J-C,ia):C},max:function(Pa){return arguments.length?(J=Pa||0,V=J-C,ia):J},sample:function(){return C+Math.floor(V*h.random())},pdf:function(Pa){return Pa===Math.floor(Pa)&&Pa>=C&&Pa<J?1/V:0},cdf:function(Pa){Pa=Math.floor(Pa);return Pa<C?0:Pa>=J?1:(Pa-C+1)/V},icdf:function(Pa){return 0<=Pa&&1>=Pa?C-1+Math.floor(Pa*V):NaN}};return ia.min(z).max(D)};h.randomKDE=function(z,D){var C=ab(),J=0,V={data:function(ia){return arguments.length?(J=(z=ia)?ia.length:0,V.bandwidth(D)):z},bandwidth:function(ia){if(!arguments.length)return D;
D=ia;!D&&z&&(D=gb(z));return V},sample:function(){return z[~~(h.random()*J)]+D*C.sample()},pdf:function(ia){for(var Pa=0,cb=0;cb<J;++cb)Pa+=C.pdf((ia-z[cb])/D);return Pa/D/J},cdf:function(ia){for(var Pa=0,cb=0;cb<J;++cb)Pa+=C.cdf((ia-z[cb])/D);return Pa/J},icdf:function(){throw Error("KDE icdf not supported.");}};return V.data(z)};h.randomLCG=function(z){return function(){z=(1103515245*z+12345)%2147483647;return z/2147483647}};h.randomLogNormal=function(z,D){var C,J,V={mean:function(ia){return arguments.length?
(C=ia||0,V):C},stdev:function(ia){return arguments.length?(J=null==ia?1:ia,V):J},sample:function(){return za(C,J)},pdf:function(ia){return Y(ia,C,J)},cdf:function(ia){return na(ia,C,J)},icdf:function(ia){return Ba(ia,C,J)}};return V.mean(z).stdev(D)};h.randomMixture=function(z,D){var C=0,J,V={weights:function(ia){if(arguments.length){var Pa=D=ia||[],cb=[],M=0,Ka;for(Ka=0;Ka<C;++Ka)M+=cb[Ka]=null==Pa[Ka]?1:+Pa[Ka];for(Ka=0;Ka<C;++Ka)cb[Ka]/=M;J=cb;return V}return D},distributions:function(ia){return arguments.length?
(ia?(C=ia.length,z=ia):(C=0,z=[]),V.weights(D)):z},sample:function(){for(var ia=h.random(),Pa=z[C-1],cb=J[0],M=0;M<C-1;cb+=J[++M])if(ia<cb){Pa=z[M];break}return Pa.sample()},pdf:function(ia){for(var Pa=0,cb=0;cb<C;++cb)Pa+=J[cb]*z[cb].pdf(ia);return Pa},cdf:function(ia){for(var Pa=0,cb=0;cb<C;++cb)Pa+=J[cb]*z[cb].cdf(ia);return Pa},icdf:function(){throw Error("Mixture icdf not supported.");}};return V.distributions(z).weights(D)};h.randomNormal=ab;h.randomUniform=function(z,D){var C,J,V={min:function(ia){return arguments.length?
(C=ia||0,V):C},max:function(ia){return arguments.length?(J=null==ia?1:ia,V):J},sample:function(){return Qa(C,J)},pdf:function(ia){return ca(ia,C,J)},cdf:function(ia){return Z(ia,C,J)},icdf:function(ia){return Oa(ia,C,J)}};null==D&&(D=null==z?1:z,z=0);return V.min(z).max(D)};h.regressionExp=function(z,D,C){var J=$jscomp.makeIterator(va(z,D,C)),V=J.next().value;J.next();var ia=J.next().value;J=J.next().value;var Pa=0,cb=0,M=0,Ka=0,ka=0,ha,w,H;xa(z,D,C,function(G,L){ha=V[ka++];w=Math.log(L);H=ha*L;Pa+=
(L*w-Pa)/ka;cb+=(H-cb)/ka;M+=(H*w-M)/ka;Ka+=(ha*H-Ka)/ka});var p=$jscomp.makeIterator(Aa(cb/J,Pa/J,M/J,Ka/J)),q=p.next().value,t=p.next().value;p=function(G){return Math.exp(q+t*(G-ia))};return{coef:[Math.exp(q-t*ia),t],predict:p,rSquared:fa(z,D,C,J,p)}};h.regressionLinear=pa;h.regressionLoess=function(z,D,C,J){C=$jscomp.makeIterator(va(z,D,C,!0));z=C.next().value;var V=C.next().value;D=C.next().value;C=C.next().value;var ia=z.length,Pa=Math.max(2,~~(J*ia));J=new Float64Array(ia);for(var cb=new Float64Array(ia),
M=(new Float64Array(ia)).fill(1),Ka=-1;2>=++Ka;){for(var ka=[0,Pa-1],ha=0;ha<ia;++ha){for(var w=z[ha],H=ka[0],p=ka[1],q=0,t=0,G=0,L=0,ba=0,Ga=1/Math.abs(z[w-z[H]>z[p]-w?H:p]-w||1);H<=p;++H){var La=z[H],db=V[H],sb=Math.abs(w-La)*Ga,S=(sb=1-sb*sb*sb)*sb*sb*M[H];sb=La*S;q+=S;t+=sb;G+=db*S;L+=db*sb;ba+=La*sb}q=$jscomp.makeIterator(Aa(t/q,G/q,L/q,ba/q));p=q.next().value;q=q.next().value;J[ha]=p+q*w;cb[ha]=Math.abs(V[ha]-J[ha]);w=ha+1;p=z[w];q=ka[0];t=ka[1]+1;if(!(t>=z.length))for(;w>q&&z[t]-p<=p-z[q];)ka[0]=
++q,ka[1]=t,++t}if(2===Ka)break;ka=m.median(cb);if(1E-12>Math.abs(ka))break;ha=0;for(p=void 0;ha<ia;++ha)w=cb[ha]/(6*ka),M[ha]=1<=w?1E-12:(p=1-w*w)*p}V=z.length;ia=[];cb=Pa=0;for(M=[];Pa<V;++Pa)Ka=z[Pa]+D,M[0]===Ka?M[1]+=(J[Pa]-M[1])/++cb:(cb=0,M[1]+=C,M=[Ka,J[Pa]],ia.push(M));M[1]+=C;return ia};h.regressionLog=function(z,D,C){var J=0,V=0,ia=0,Pa=0,cb=0;xa(z,D,C,function(ka,ha){++cb;ka=Math.log(ka);J+=(ka-J)/cb;V+=(ha-V)/cb;ia+=(ka*ha-ia)/cb;Pa+=(ka*ka-Pa)/cb});var M=Aa(J,V,ia,Pa),Ka=function(ka){return M[0]+
M[1]*Math.log(ka)};return{coef:M,predict:Ka,rSquared:fa(z,D,C,V,Ka)}};h.regressionPoly=function(z,D,C,J){if(1===J)return pa(z,D,C);if(2===J)return da(z,D,C);var V=$jscomp.makeIterator(va(z,D,C)),ia=V.next().value,Pa=V.next().value,cb=V.next().value,M=V.next().value;V=ia.length;var Ka=[],ka=[],ha=J+1,w,H,p;for(w=0;w<ha;++w){for(p=H=0;H<V;++H)p+=Math.pow(ia[H],w)*Pa[H];Ka.push(p);var q=new Float64Array(ha);for(J=0;J<ha;++J){for(p=H=0;H<V;++H)p+=Math.pow(ia[H],w+J);q[J]=p}ka.push(q)}ka.push(Ka);var t=
Ia(ka);ia=function(G){G-=cb;var L=M+t[0]+t[1]*G+t[2]*G*G;for(w=3;w<ha;++w)L+=t[w]*Math.pow(G,w);return L};return{coef:ua(ha,t,-cb,M),predict:ia,rSquared:fa(z,D,C,M,ia)}};h.regressionPow=function(z,D,C){var J=0,V=0,ia=0,Pa=0,cb=0,M=0;xa(z,D,C,function(ha,w){ha=Math.log(ha);var H=Math.log(w);++M;J+=(ha-J)/M;V+=(H-V)/M;ia+=(ha*H-ia)/M;Pa+=(ha*ha-Pa)/M;cb+=(w-cb)/M});var Ka=Aa(J,V,ia,Pa),ka=function(ha){return Ka[0]*Math.pow(ha,Ka[1])};Ka[0]=Math.exp(Ka[0]);return{coef:Ka,predict:ka,rSquared:fa(z,D,C,
cb,ka)}};h.regressionQuad=da;h.sampleCurve=function(z,D,C,J){C=C||25;J=Math.max(C,J||200);var V=function(ka){return[ka,z(ka)]},ia=D[0],Pa=D[1],cb=Pa-ia,M=cb/J;D=[V(ia)];var Ka=[];if(C===J){for(M=1;M<J;++M)D.push(V(ia+M/C*cb));D.push(V(Pa));return D}Ka.push(V(Pa));for(J=C;0<--J;)Ka.push(V(ia+J/C*cb));C=D[0];ia=Ka[Ka.length-1];cb=1/cb;for(J=wa(C[1],Ka);ia;)Pa=V((C[0]+ia[0])/2),Pa[0]-C[0]>=M&&Math.abs(Math.atan2(J*(ia[1]-C[1]),cb*(ia[0]-C[0]))-Math.atan2(J*(Pa[1]-C[1]),cb*(Pa[0]-C[0])))>y?Ka.push(Pa):
(C=ia,D.push(ia),Ka.pop()),ia=Ka[Ka.length-1];return D};h.sampleLogNormal=za;h.sampleNormal=Lb;h.sampleUniform=Qa;h.setRandom=function(z){h.random=z};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[16]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(0),xb(14),xb(15),xb(3),xb(6)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-statistics d3-array vega-time".split(" "),m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.vega={},h.vega,h.vega,h.vega,h.d3,h.vega))})(this,function(h,m,x,Wa,Gb,gb){function wb(I){return function(ma){for(var ib=I.length,nb=1,Bb=String(I[0](ma));nb<ib;++nb)Bb+="|"+
I[nb](ma);return Bb}}function Lb(I){return I&&I.length?1===I.length?I[0]:wb(I):function(){return""}}function rb(I,ma){return function(ib){return m.extend({name:I,out:ib||I},Qd,ma)}}function Ua(I,ma){return I.idx-ma.idx}function Sa(I){var ma={};I.forEach(function(nb){return ma[nb.name]=nb});var ib=function(nb){nb.req&&nb.req.forEach(function(Bb){ma[Bb]||ib(ma[Bb]=fe[Bb]())})};I.forEach(ib);return Object.values(ma).sort(Ua)}function ab(){var I=this;this.missing=this.valid=0;this._ops.forEach(function(ma){return ma.init(I)})}
function za(I,ma){var ib=this;null==I||""===I?++this.missing:I===I&&(++this.valid,this._ops.forEach(function(nb){return nb.add(ib,I,ma)}))}function Y(I,ma){var ib=this;null==I||""===I?--this.missing:I===I&&(--this.valid,this._ops.forEach(function(nb){return nb.rem(ib,I,ma)}))}function na(I){var ma=this;this._out.forEach(function(ib){return I[ib.out]=ib.value(ma)});return I}function Ba(I,ma){function ib(Ub){this._ops=nb;this._out=Bb;this.cell=Ub;this.init()}ma=ma||m.identity;var nb=Sa(I),Bb=I.slice().sort(Ua);
ib.prototype.init=ab;ib.prototype.add=za;ib.prototype.rem=Y;ib.prototype.set=na;ib.prototype.get=ma;ib.fields=I.map(function(Ub){return Ub.out});return ib}function Qa(I){this._key=I?m.field(I):x.tupleid;this.reset()}function ca(I){x.Transform.call(this,null,I);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function Z(I){x.Transform.call(this,
null,I)}function Oa(I,ma,ib){var nb=ma||[],Bb=ib||[],Ub={},Xb=0;return{add:function(dc){return Bb.push(dc)},remove:function(dc){return Ub[I(dc)]=++Xb},size:function(){return nb.length},data:function(dc,Fc){Xb&&(nb=nb.filter(function(Jc){return!Ub[I(Jc)]}),Ub={},Xb=0);Fc&&dc&&nb.sort(dc);Bb.length&&(nb=dc?m.merge(dc,nb,Bb.sort(dc)):nb.concat(Bb),Bb=[]);return nb}}}function Aa(I){x.Transform.call(this,[],I)}function va(I){x.Operator.call(this,null,xa,I)}function xa(I){return this.value&&!I.modified()?
this.value:m.compare(I.fields,I.orders)}function fa(I){x.Transform.call(this,null,I)}function pa(I){x.Transform.call(this,null,I)}function da(I,ma){var ib=I["function"];m.hasOwnProperty(Rb,ib)||m.error("Unknown distribution function: "+ib);ib=Rb[ib]();for(var nb in I)if("field"===nb)ib.data((I.from||ma()).map(I[nb]));else if("distributions"===nb)ib[nb](I[nb].map(function(Bb){return da(Bb,ma)}));else if("function"===typeof ib[nb])ib[nb](I[nb]);return ib}function ua(I){x.Transform.call(this,null,I)}
function Ia(I){return function(){return I.materialize(I.SOURCE).source}}function wa(I,ma){return I?I.map(function(ib,nb){return ma[nb]||m.accessorName(ib)}):null}function $a(I,ma,ib){var nb=[],Bb=function(Ma){return Ma(Fc)},Ub;if(null==ma)nb.push(I.map(ib));else{var Xb={};var dc=0;for(Ub=I.length;dc<Ub;++dc){var Fc=I[dc];var Jc=ma.map(Bb);var Da=Xb[Jc];Da||(Xb[Jc]=Da=[],Da.dims=Jc,nb.push(Da));Da.push(ib(Fc))}}return nb}function ja(I){x.Transform.call(this,null,I)}function u(I){x.Operator.call(this,
null,y,I);this.modified(!0)}function y(I){var ma=I.expr;return this.value&&!I.modified("expr")?this.value:m.accessor(function(ib){return ma(ib,I)},m.accessorFields(ma),m.accessorName(ma))}function z(I){x.Transform.call(this,[void 0,void 0],I)}function D(I,ma){x.Operator.call(this,I);this.parent=ma;this.count=0}function C(I){x.Transform.call(this,{},I);this._keys=m.fastmap();var ma=this._targets=[];ma.active=0;ma.forEach=function(ib){for(var nb=0,Bb=ma.active;nb<Bb;++nb)ib(ma[nb],nb,ma)}}function J(I){x.Operator.call(this,
null,V,I)}function V(I){return this.value&&!I.modified()?this.value:m.isArray(I.name)?m.array(I.name).map(function(ma){return m.field(ma)}):m.field(I.name,I.as)}function ia(I){x.Transform.call(this,m.fastmap(),I)}function Pa(I){x.Transform.call(this,[],I)}function cb(I){x.Transform.call(this,[],I)}function M(I){x.Transform.call(this,null,I)}function Ka(I){x.Transform.call(this,[],I)}function ka(I){x.Transform.call(this,[],I)}function ha(I){var ma=I.method||mb.value;if(null==mb[ma])m.error("Unrecognized imputation method: "+
ma);else{if(ma===mb.value){var ib=void 0!==I.value?I.value:0;return function(){return ib}}return mb[ma]}}function w(I){var ma=I.field;return function(ib){return ib?ma(ib):NaN}}function H(I,ma,ib,nb){var Bb=function(Dc){return Dc(Ma)},Ub=[];nb=nb?nb.slice():[];var Xb={},dc={},Fc,Jc;nb.forEach(function(Dc,Kc){return Xb[Dc]=Kc+1});var Da=0;for(Jc=I.length;Da<Jc;++Da){var Ma=I[Da];var Pb=ib(Ma);var bc=Xb[Pb]||(Xb[Pb]=nb.push(Pb));var mc=(Pb=ma?ma.map(Bb):rc)+"";(Fc=dc[mc])||(Fc=dc[mc]=[],Ub.push(Fc),
Fc.values=Pb);Fc[bc-1]=Ma}Ub.domain=nb;return Ub}function p(I){ca.call(this,I)}function q(I){x.Transform.call(this,null,I)}function t(I){x.Operator.call(this,null,G,I)}function G(I){return this.value&&!I.modified()?this.value:m.key(I.fields,I.flat)}function L(I){x.Transform.call(this,[],I);this._pending=null}function ba(I){return I.modified("async")&&!(I.modified("values")||I.modified("url")||I.modified("format"))}function Ga(I,ma,ib){ib.forEach(x.ingest);ma=ma.fork(ma.NO_FIELDS&ma.NO_SOURCE);ma.rem=
I.value;I.value=ma.source=ma.add=ib;I._pending=null;ma.rem.length&&ma.clean(!0);return ma}function La(I){x.Transform.call(this,{},I)}function db(I){x.Operator.call(this,null,sb,I)}function sb(I){if(this.value&&!I.modified())return this.value;I=I.extents;var ma=I.length,ib=Infinity,nb=-Infinity,Bb;for(Bb=0;Bb<ma;++Bb){var Ub=I[Bb];Ub[0]<ib&&(ib=Ub[0]);Ub[1]>nb&&(nb=Ub[1])}return[ib,nb]}function S(I){x.Operator.call(this,null,aa,I)}function aa(I){return this.value&&!I.modified()?this.value:I.values.reduce(function(ma,
ib){return ma.concat(ib)},[])}function qa(I){x.Transform.call(this,null,I)}function ta(I){ca.call(this,I)}function ea(I,ma){var ib=I.field,nb=I.value,Bb=("count"===I.op?"__count__":I.op)||"sum",Ub=m.accessorFields(ib).concat(m.accessorFields(nb)),Xb=Fa(ib,I.limit||0,ma);ma.changed()&&I.set("__pivot__",null,null,!0);return{key:I.key,groupby:I.groupby,ops:Xb.map(function(){return Bb}),fields:Xb.map(function(dc){return U(dc,ib,nb,Ub)}),as:Xb.map(function(dc){return dc+""}),modified:I.modified.bind(I)}}
function U(I,ma,ib,nb){return m.accessor(function(Bb){return ma(Bb)===I?ib(Bb):NaN},nb,I+"")}function Fa(I,ma,ib){var nb={},Bb=[];ib.visit(ib.SOURCE,function(Ub){Ub=I(Ub);nb[Ub]||(nb[Ub]=1,Bb.push(Ub))});Bb.sort(m.ascending);return ma?Bb.slice(0,ma):Bb}function Ja(I){C.call(this,I)}function Ta(I){x.Transform.call(this,null,I)}function ya(I){x.Transform.call(this,null,I)}function lb(I){x.Transform.call(this,null,I)}function yb(I){x.Transform.call(this,null,I)}function Ya(I){x.Transform.call(this,[],
I);this.count=0}function Ob(I){x.Transform.call(this,null,I)}function Qb(I){x.Transform.call(this,null,I);this.modified(!0)}function Zb(I){x.Transform.call(this,null,I)}function Ic(I){x.Transform.call(this,m.fastmap(),I)}function uc(I){x.Transform.call(this,null,I)}function Zc(I,ma,ib,nb){var Bb=Rc[I](ma,ib);return{init:Bb.init||m.zero,update:function(Ub,Xb){Xb[nb]=Bb.next(Ub)}}}function Ad(I){function ma(bc){m.array(m.accessorFields(bc)).forEach(function(mc){return Fc[mc]=1})}var ib=m.array(I.ops),
nb=m.array(I.fields),Bb=m.array(I.params),Ub=m.array(I.as),Xb=this.outputs=[],dc=this.windows=[],Fc={},Jc={},Da=[],Ma=[],Pb=!0;ma(I.sort);ib.forEach(function(bc,mc){var Dc=nb[mc],Kc=m.accessorName(Dc),Hb=Ub[mc]||bc+(Kc?"_"+Kc:"");ma(Dc);Xb.push(Hb);m.hasOwnProperty(Rc,bc)?dc.push(Zc(bc,nb[mc],Bb[mc],Hb)):(null==Dc&&"count"!==bc&&m.error("Null aggregate field specified."),"count"===bc?Da.push(Hb):(Pb=!1,mc=Jc[Kc],mc||(mc=Jc[Kc]=[],mc.field=Dc,Ma.push(mc)),mc.push(fe[bc](Hb))))});if(Da.length||Ma.length)this.cell=
Lc(Ma,Da,Pb);this.inputs=Object.keys(Fc)}function Lc(I,ma,ib){I=I.map(function(Fc){return Ba(Fc,Fc.field)});var nb={num:0,agg:null,store:!1,count:ma};if(!ib)for(var Bb=I.length,Ub=nb.agg=Array(Bb),Xb=0;Xb<Bb;++Xb)Ub[Xb]=new I[Xb](nb);if(nb.store)var dc=nb.data=new Qa;nb.add=function(Fc){nb.num+=1;if(!ib){dc&&dc.add(Fc);for(var Jc=0;Jc<Bb;++Jc)Ub[Jc].add(Ub[Jc].get(Fc),Fc)}};nb.rem=function(Fc){--nb.num;if(!ib){dc&&dc.rem(Fc);for(var Jc=0;Jc<Bb;++Jc)Ub[Jc].rem(Ub[Jc].get(Fc),Fc)}};nb.set=function(Fc){var Jc;
dc&&dc.values();var Da=0;for(Jc=ma.length;Da<Jc;++Da)Fc[ma[Da]]=nb.num;if(!ib)for(Da=0,Jc=Ub.length;Da<Jc;++Da)Ub[Da].set(Fc)};nb.init=function(){nb.num=0;dc&&dc.reset();for(var Fc=0;Fc<Bb;++Fc)Ub[Fc].init()};return nb}function Xc(I){x.Transform.call(this,{},I);this._mlen=0;this._mods=[]}function Uc(I,ma,ib,nb){var Bb=nb.sort,Ub=Bb&&!nb.ignorePeers;nb=nb.frame||[null,0];I=I.data(ib);ib=I.length;var Xb=Ub?Gb.bisector(Bb):null;Bb={i0:0,i1:0,p0:0,p1:0,index:0,data:I,compare:Bb||m.constant(-1)};ma.init();
for(var dc=0;dc<ib;++dc){var Fc=dc;Bb.p0=Bb.i0;Bb.p1=Bb.i1;Bb.i0=null==nb[0]?0:Math.max(0,Fc-Math.abs(nb[0]));Bb.i1=null==nb[1]?ib:Math.min(ib,Fc+Math.abs(nb[1])+1);Bb.index=Fc;if(Ub){Fc=Bb.i0;var Jc=Bb.i1-1,Da=Bb.compare,Ma=Bb.data,Pb=Ma.length-1;0<Fc&&!Da(Ma[Fc],Ma[Fc-1])&&(Bb.i0=Xb.left(Ma,Ma[Fc]));Jc<Pb&&!Da(Ma[Jc],Ma[Jc+1])&&(Bb.i1=Xb.right(Ma,Ma[Jc]))}ma.update(Bb,I[dc])}}var Md=function(){},Qd={init:Md,add:Md,rem:Md,idx:0},fe={values:{init:function(I){return I.cell.store=!0},value:function(I){return I.cell.data.values()},
idx:-1},count:{value:function(I){return I.cell.num}},__count__:{value:function(I){return I.missing+I.valid}},missing:{value:function(I){return I.missing}},valid:{value:function(I){return I.valid}},sum:{init:function(I){return I.sum=0},value:function(I){return I.sum},add:function(I,ma){return I.sum+=+ma},rem:function(I,ma){return I.sum-=ma}},product:{init:function(I){return I.product=1},value:function(I){return I.valid?I.product:void 0},add:function(I,ma){return I.product*=ma},rem:function(I,ma){return I.product/=
ma}},mean:{init:function(I){return I.mean=0},value:function(I){return I.valid?I.mean:void 0},add:function(I,ma){return I.mean_d=ma-I.mean,I.mean+=I.mean_d/I.valid},rem:function(I,ma){return I.mean_d=ma-I.mean,I.mean-=I.valid?I.mean_d/I.valid:I.mean}},average:{value:function(I){return I.valid?I.mean:void 0},req:["mean"],idx:1},variance:{init:function(I){return I.dev=0},value:function(I){return 1<I.valid?I.dev/(I.valid-1):void 0},add:function(I,ma){return I.dev+=I.mean_d*(ma-I.mean)},rem:function(I,
ma){return I.dev-=I.mean_d*(ma-I.mean)},req:["mean"],idx:1},variancep:{value:function(I){return 1<I.valid?I.dev/I.valid:void 0},req:["variance"],idx:2},stdev:{value:function(I){return 1<I.valid?Math.sqrt(I.dev/(I.valid-1)):void 0},req:["variance"],idx:2},stdevp:{value:function(I){return 1<I.valid?Math.sqrt(I.dev/I.valid):void 0},req:["variance"],idx:2},stderr:{value:function(I){return 1<I.valid?Math.sqrt(I.dev/(I.valid*(I.valid-1))):void 0},req:["variance"],idx:2},distinct:{value:function(I){return I.cell.data.distinct(I.get)},
req:["values"],idx:3},ci0:{value:function(I){return I.cell.data.ci0(I.get)},req:["values"],idx:3},ci1:{value:function(I){return I.cell.data.ci1(I.get)},req:["values"],idx:3},median:{value:function(I){return I.cell.data.q2(I.get)},req:["values"],idx:3},q1:{value:function(I){return I.cell.data.q1(I.get)},req:["values"],idx:3},q3:{value:function(I){return I.cell.data.q3(I.get)},req:["values"],idx:3},min:{init:function(I){return I.min=void 0},value:function(I){return I.min=Number.isNaN(I.min)?I.cell.data.min(I.get):
I.min},add:function(I,ma){if(ma<I.min||void 0===I.min)I.min=ma},rem:function(I,ma){ma<=I.min&&(I.min=NaN)},req:["values"],idx:4},max:{init:function(I){return I.max=void 0},value:function(I){return I.max=Number.isNaN(I.max)?I.cell.data.max(I.get):I.max},add:function(I,ma){if(ma>I.max||void 0===I.max)I.max=ma},rem:function(I,ma){ma>=I.max&&(I.max=NaN)},req:["values"],idx:4},argmin:{init:function(I){return I.argmin=void 0},value:function(I){return I.argmin||I.cell.data.argmin(I.get)},add:function(I,
ma,ib){ma<I.min&&(I.argmin=ib)},rem:function(I,ma){ma<=I.min&&(I.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:function(I){return I.argmax=void 0},value:function(I){return I.argmax||I.cell.data.argmax(I.get)},add:function(I,ma,ib){ma>I.max&&(I.argmax=ib)},rem:function(I,ma){ma>=I.max&&(I.argmax=void 0)},req:["max","values"],idx:3}};Md=Object.keys(fe);Md.forEach(function(I){fe[I]=rb(I,fe[I])});var Eb=Qa.prototype;Eb.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=
null};Eb.add=function(I){this._add.push(I)};Eb.rem=function(I){this._rem.push(I)};Eb.values=function(){this._get=null;if(0===this._rem.length)return this._add;var I=this._add,ma=this._rem,ib=this._key,nb=I.length,Bb=ma.length,Ub=Array(nb-Bb),Xb={},dc,Fc;for(dc=0;dc<Bb;++dc)Xb[ib(ma[dc])]=1;for(ma=dc=0;dc<nb;++dc)Xb[ib(Fc=I[dc])]?Xb[ib(Fc)]=0:Ub[ma++]=Fc;this._rem=[];return this._add=Ub};Eb.distinct=function(I){for(var ma=this.values(),ib={},nb=ma.length,Bb=0,Ub;0<=--nb;)Ub=I(ma[nb])+"",m.hasOwnProperty(ib,
Ub)||(ib[Ub]=1,++Bb);return Bb};Eb.extent=function(I){if(this._get!==I||!this._ext){var ma=this.values(),ib=m.extentIndex(ma,I);this._ext=[ma[ib[0]],ma[ib[1]]];this._get=I}return this._ext};Eb.argmin=function(I){return this.extent(I)[0]||{}};Eb.argmax=function(I){return this.extent(I)[1]||{}};Eb.min=function(I){var ma=this.extent(I)[0];return null!=ma?I(ma):void 0};Eb.max=function(I){var ma=this.extent(I)[1];return null!=ma?I(ma):void 0};Eb.quartile=function(I){this._get===I&&this._q||(this._q=Wa.quartiles(this.values(),
I),this._get=I);return this._q};Eb.q1=function(I){return this.quartile(I)[0]};Eb.q2=function(I){return this.quartile(I)[1]};Eb.q3=function(I){return this.quartile(I)[2]};Eb.ci=function(I){this._get===I&&this._ci||(this._ci=Wa.bootstrapCI(this.values(),1E3,.05,I),this._get=I);return this._ci};Eb.ci0=function(I){return this.ci(I)[0]};Eb.ci1=function(I){return this.ci(I)[1]};ca.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",
type:"enum",array:!0,values:Md},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};m.inherits(ca,x.Transform,{transform:function(I,ma){var ib=this,nb=this,Bb=ma.fork(ma.NO_SOURCE|ma.NO_FIELDS),Ub=I.modified();nb.stamp=Bb.stamp;nb.value&&(Ub||ma.modified(nb._inputs,!0))?(nb._prev=nb.value,nb.value=Ub?nb.init(I):{},ma.visit(ma.SOURCE,function(Xb){return nb.add(Xb)})):
(nb.value=nb.value||nb.init(I),ma.visit(ma.REM,function(Xb){return nb.rem(Xb)}),ma.visit(ma.ADD,function(Xb){return nb.add(Xb)}));Bb.modifies(nb._outputs);nb._drop=!1!==I.drop;I.cross&&1<nb._dims.length&&(nb._drop=!1,nb.cross());ma.clean()&&nb._drop&&Bb.clean(!0).runAfter(function(){return ib.clean()});return nb.changes(Bb)},cross:function(){function I(dc){var Fc,Jc,Da;for(Fc in dc){var Ma=dc[Fc].tuple;for(Jc=0;Jc<Xb;++Jc)Ub[Jc][Da=Ma[Bb[Jc]]]=Da}}function ma(dc,Fc,Jc){var Da=Bb[Jc],Ma=Ub[Jc++],Pb;
for(Pb in Ma){var bc=dc?dc+"|"+Pb:Pb;Fc[Da]=Ma[Pb];Jc<Xb?ma(bc,Fc,Jc):nb[bc]||ib.cell(bc,Fc)}}var ib=this,nb=ib.value,Bb=ib._dnames,Ub=Bb.map(function(){return{}}),Xb=Bb.length;I(ib._prev);I(nb);ma("",{},0)},init:function(I){function ma(Dc){Dc=m.array(m.accessorFields(Dc));for(var Kc=Dc.length,Hb=0,Wb;Hb<Kc;++Hb)Bb[Wb=Dc[Hb]]||(Bb[Wb]=1,ib.push(Wb))}var ib=this._inputs=[],nb=this._outputs=[],Bb={};this._dims=m.array(I.groupby);this._dnames=this._dims.map(function(Dc){var Kc=m.accessorName(Dc);ma(Dc);
nb.push(Kc);return Kc});this.cellkey=I.key?I.key:Lb(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];var Ub=I.fields||[null],Xb=I.ops||["count"];I=I.as||[];var dc=Ub.length,Fc={},Jc;dc!==Xb.length&&m.error("Unmatched number of fields and aggregate ops.");for(Jc=0;Jc<dc;++Jc){var Da=Ub[Jc];var Ma=Xb[Jc];null==Da&&"count"!==Ma&&m.error("Null aggregate field specified.");var Pb=m.accessorName(Da);var bc=I[Jc]||Ma+(Pb?"_"+Pb:"");nb.push(bc);if("count"===Ma)this._counts.push(bc);else{var mc=
Fc[Pb];mc||(ma(Da),mc=Fc[Pb]=[],mc.field=Da,this._measures.push(mc));"count"!==Ma&&(this._countOnly=!1);mc.push(fe[Ma](bc))}}this._measures=this._measures.map(function(Dc){return Ba(Dc,Dc.field)});return{}},cellkey:Lb(),cell:function(I,ma){var ib=this.value[I];ib?0===ib.num&&this._drop&&ib.stamp<this.stamp?(ib.stamp=this.stamp,this._adds[this._alen++]=ib):ib.stamp<this.stamp&&(ib.stamp=this.stamp,this._mods[this._mlen++]=ib):(ib=this.value[I]=this.newcell(I,ma),this._adds[this._alen++]=ib);return ib},
newcell:function(I,ma){I={key:I,num:0,agg:null,tuple:this.newtuple(ma,this._prev&&this._prev[I]),stamp:this.stamp,store:!1};if(!this._countOnly){ma=this._measures;var ib=ma.length;I.agg=Array(ib);for(var nb=0;nb<ib;++nb)I.agg[nb]=new ma[nb](I)}I.store&&(I.data=new Qa);return I},newtuple:function(I,ma){for(var ib=this._dnames,nb=this._dims,Bb=nb.length,Ub={},Xb=0;Xb<Bb;++Xb)Ub[ib[Xb]]=nb[Xb](I);return ma?x.replace(ma.tuple,Ub):x.ingest(Ub)},clean:function(){var I=this.value,ma;for(ma in I)0===I[ma].num&&
delete I[ma]},add:function(I){var ma=this.cellkey(I);ma=this.cell(ma,I);ma.num+=1;if(!this._countOnly){ma.store&&ma.data.add(I);ma=ma.agg;for(var ib=0,nb=ma.length;ib<nb;++ib)ma[ib].add(ma[ib].get(I),I)}},rem:function(I){var ma=this.cellkey(I);ma=this.cell(ma,I);--ma.num;if(!this._countOnly){ma.store&&ma.data.rem(I);ma=ma.agg;for(var ib=0,nb=ma.length;ib<nb;++ib)ma[ib].rem(ma[ib].get(I),I)}},celltuple:function(I){var ma=I.tuple,ib=this._counts;I.store&&I.data.values();for(var nb=0,Bb=ib.length;nb<
Bb;++nb)ma[ib[nb]]=I.num;if(!this._countOnly)for(I=I.agg,ib=0,nb=I.length;ib<nb;++ib)I[ib].set(ma);return ma},changes:function(I){var ma=this._adds,ib=this._mods,nb=this._prev,Bb=this._drop,Ub=I.add,Xb=I.rem,dc=I.mod,Fc;if(nb)for(Fc in nb){var Jc=nb[Fc];Bb&&!Jc.num||Xb.push(Jc.tuple)}nb=0;for(Fc=this._alen;nb<Fc;++nb)Ub.push(this.celltuple(ma[nb])),ma[nb]=null;nb=0;for(Fc=this._mlen;nb<Fc;++nb)Jc=ib[nb],(0===Jc.num&&Bb?Xb:dc).push(this.celltuple(Jc)),ib[nb]=null;this._alen=this._mlen=0;this._prev=
null;return I}});Z.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",
"default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};m.inherits(Z,x.Transform,{transform:function(I,ma){var ib=!1!==I.interval,nb=this._bins(I),Bb=nb.start,Ub=nb.step,Xb=I.as||["bin0","bin1"],dc=Xb[0],Fc=Xb[1];I.modified()?(ma=ma.reflow(!0),I=ma.SOURCE):I=ma.modified(m.accessorFields(I.field))?ma.ADD_MOD:ma.ADD;ma.visit(I,ib?function(Jc){var Da=nb(Jc);Jc[dc]=Da;Jc[Fc]=null==Da?null:Bb+Ub*(1+(Da-Bb)/
Ub)}:function(Jc){return Jc[dc]=nb(Jc)});return ma.modifies(ib?Xb:dc)},_bins:function(I){if(this.value&&!I.modified())return this.value;var ma=I.field,ib=Wa.bin(I),nb=ib.step,Bb=ib.start,Ub=Bb+Math.ceil((ib.stop-Bb)/nb)*nb,Xb;null!=(Xb=I.anchor)&&(Xb-=Bb+nb*Math.floor((Xb-Bb)/nb),Bb+=Xb,Ub+=Xb);Xb=function(dc){dc=m.toNumber(ma(dc));return null==dc?null:dc<Bb?-Infinity:dc>Ub?Infinity:(dc=Math.max(Bb,Math.min(dc,Ub-nb)),Bb+nb*Math.floor(1E-14+(dc-Bb)/nb))};Xb.start=Bb;Xb.stop=ib.stop;Xb.step=nb;return this.value=
m.accessor(Xb,m.accessorFields(ma),I.name||"bin_"+m.accessorName(ma))}});Aa.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};m.inherits(Aa,x.Transform,{transform:function(I,ma){var ib=ma.fork(ma.ALL),nb=Oa(x.tupleid,this.value,ib.materialize(ib.ADD).add),Bb=I.sort;I=ma.changed()||Bb&&(I.modified("sort")||ma.modified(Bb.fields));ib.visit(ib.REM,nb.remove);this.modified(I);this.value=ib.source=nb.data(x.stableCompare(Bb),I);ma.source&&ma.source.root&&(this.value.root=
ma.source.root);return ib}});m.inherits(va,x.Operator);fa.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};m.inherits(fa,x.Transform,{transform:function(I,ma){var ib=function(Da){return function(Ma){Ma=
dc(Ma);switch(I.case){case "upper":Ma=Ma.toUpperCase();break;case "lower":Ma=Ma.toLowerCase()}Ma=Ma.match(Ub)||[];for(var Pb,bc=0,mc=Ma.length;bc<mc;++bc)Xb.test(Pb=Ma[bc])||Da(Pb)}},nb=this._parameterCheck(I,ma),Bb=this._counts,Ub=this._match,Xb=this._stop,dc=I.field,Fc=I.as||["text","count"],Jc=ib(function(Da){return Bb[Da]=1+(Bb[Da]||0)});ib=ib(function(Da){return--Bb[Da]});nb?ma.visit(ma.SOURCE,Jc):(ma.visit(ma.ADD,Jc),ma.visit(ma.REM,ib));return this._finish(ma,Fc)},_parameterCheck:function(I,
ma){var ib=!1;if(I.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(I.stopwords||"")+"$","i"),ib=!0;if(I.modified("pattern")||!this._match)this._match=new RegExp(I.pattern||"[\\w']+","g"),ib=!0;if(I.modified("field")||ma.modified(I.field.fields))ib=!0;ib&&(this._counts={});return ib},_finish:function(I,ma){var ib=this._counts,nb=this._tuples||(this._tuples={}),Bb=ma[0],Ub=ma[1];I=I.fork(I.NO_SOURCE|I.NO_FIELDS);var Xb;for(Xb in ib){var dc=nb[Xb];var Fc=ib[Xb]||0;!dc&&Fc?(nb[Xb]=dc=x.ingest({}),
dc[Bb]=Xb,dc[Ub]=Fc,I.add.push(dc)):0===Fc?(dc&&I.rem.push(dc),ib[Xb]=null,nb[Xb]=null):dc[Ub]!==Fc&&(dc[Ub]=Fc,I.mod.push(dc))}return I.modifies(ma)}});pa.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};m.inherits(pa,x.Transform,{transform:function(I,ma){var ib=ma.fork(ma.NO_SOURCE),nb=I.as||["a","b"],Bb=nb[0],Ub=nb[1],Xb=!this.value||ma.changed(ma.ADD_REM)||I.modified("as")||I.modified("filter"),
dc=this.value;if(Xb){dc&&(ib.rem=dc);ma=dc=ma.materialize(ma.SOURCE).source;I=I.filter||m.truthy;Xb=[];dc={};for(var Fc=ma.length,Jc=0,Da,Ma;Jc<Fc;++Jc)for(dc[Bb]=Ma=ma[Jc],Da=0;Da<Fc;++Da)dc[Ub]=ma[Da],I(dc)&&(Xb.push(x.ingest(dc)),dc={},dc[Bb]=Ma);ib.add=this.value=Xb}else ib.mod=dc;ib.source=this.value;return ib.modifies(nb)}});var Rb={kde:Wa.randomKDE,mixture:Wa.randomMixture,normal:Wa.randomNormal,lognormal:Wa.randomLogNormal,uniform:Wa.randomUniform};Eb=[{key:{"function":"normal"},params:[{name:"mean",
type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];ua.Definition={type:"Density",metadata:{generates:!0},
params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Eb.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Eb},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};m.inherits(ua,
x.Transform,{transform:function(I,ma){var ib=ma.fork(ma.NO_SOURCE|ma.NO_FIELDS);if(!this.value||ma.changed()||I.modified()){var nb=da(I.distribution,Ia(ma));ma=I.steps||I.minsteps||25;var Bb=I.steps||I.maxsteps||200,Ub=I.method||"pdf";"pdf"!==Ub&&"cdf"!==Ub&&m.error("Invalid density method: "+Ub);I.extent||nb.data||m.error("Missing density extent parameter.");Ub=nb[Ub];var Xb=I.as||["value","density"];I=I.extent||m.extent(nb.data());I=Wa.sampleCurve(Ub,I,ma,Bb).map(function(dc){var Fc={};Fc[Xb[0]]=
dc[0];Fc[Xb[1]]=dc[1];return x.ingest(Fc)});this.value&&(ib.rem=this.value);this.value=ib.add=ib.source=I}return ib}});ja.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};m.inherits(ja,x.Transform,{transform:function(I,ma){if(this.value&&!I.modified()&&!ma.changed())return ma;var ib=ma.materialize(ma.SOURCE).source,
nb=$a(ma.source,I.groupby,m.identity),Bb=I.smooth||!1,Ub=I.field;ib=I.step||m.span(m.extent(ib,Ub))/30;var Xb=x.stableCompare(function(Dc,Kc){return Ub(Dc)-Ub(Kc)});I=I.as||"bin";for(var dc=nb.length,Fc=Infinity,Jc=-Infinity,Da=0,Ma;Da<dc;++Da){var Pb=nb[Da].sort(Xb);Ma=-1;for(var bc=$jscomp.makeIterator(Wa.dotbin(Pb,ib,Bb,Ub)),mc=bc.next();!mc.done;mc=bc.next())mc=mc.value,mc<Fc&&(Fc=mc),mc>Jc&&(Jc=mc),Pb[++Ma][I]=mc}this.value={start:Fc,stop:Jc,step:ib};return ma.reflow(!0).modifies(I)}});m.inherits(u,
x.Operator);z.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};m.inherits(z,x.Transform,{transform:function(I,ma){var ib=this.value,nb=I.field;I=ma.changed()||ma.modified(nb.fields)||I.modified("field");var Bb=ib[0],Ub=ib[1];if(I||null==Bb)Bb=Infinity,Ub=-Infinity;ma.visit(I?ma.SOURCE:ma.ADD,function(Xb){Xb=m.toNumber(nb(Xb));null!=Xb&&(Xb<Bb&&(Bb=Xb),Xb>Ub&&(Ub=Xb))});Number.isFinite(Bb)&&Number.isFinite(Ub)||((ib=m.accessorName(nb))&&(ib=' for field "'+ib+
'"'),ma.dataflow.warn("Infinite extent"+ib+": ["+Bb+", "+Ub+"]"),Bb=Ub=void 0);this.value=[Bb,Ub]}});m.inherits(D,x.Operator,{connect:function(I){this.detachSubflow=I.detachSubflow;this.targets().add(I);return I.source=this},add:function(I){this.count+=1;this.value.add.push(I)},rem:function(I){--this.count;this.value.rem.push(I)},mod:function(I){this.value.mod.push(I)},init:function(I){this.value.init(I,I.NO_SOURCE)},evaluate:function(){return this.value}});m.inherits(C,x.Transform,{activate:function(I){this._targets[this._targets.active++]=
I},subflow:function(I,ma,ib,nb){var Bb=this.value,Ub=m.hasOwnProperty(Bb,I)&&Bb[I];if(Ub)Ub.value.stamp<ib.stamp&&(Ub.init(ib),this.activate(Ub));else{var Xb=nb||(Xb=this._group[I])&&Xb.tuple;nb=ib.dataflow;Ub=new D(ib.fork(ib.NO_SOURCE),this);nb.add(Ub).connect(ma(nb,I,Xb));Bb[I]=Ub;this.activate(Ub)}return Ub},clean:function(){var I=this.value,ma=0,ib;for(ib in I)if(0===I[ib].count){var nb=I[ib].detachSubflow;nb&&nb();delete I[ib];++ma}ma&&(I=this._targets.filter(function(Bb){return Bb&&0<Bb.count}),
this.initTargets(I))},initTargets:function(I){for(var ma=this._targets,ib=ma.length,nb=I?I.length:0,Bb=0;Bb<nb;++Bb)ma[Bb]=I[Bb];for(;Bb<ib&&null!=ma[Bb];++Bb)ma[Bb]=null;ma.active=nb},transform:function(I,ma){var ib=this,nb=ma.dataflow,Bb=I.key,Ub=I.subflow,Xb=this._keys,dc=I.modified("key"),Fc=function(Jc){return ib.subflow(Jc,Ub,ma)};this._group=I.group||{};this.initTargets();ma.visit(ma.REM,function(Jc){var Da=x.tupleid(Jc),Ma=Xb.get(Da);void 0!==Ma&&(Xb.delete(Da),Fc(Ma).rem(Jc))});ma.visit(ma.ADD,
function(Jc){var Da=Bb(Jc);Xb.set(x.tupleid(Jc),Da);Fc(Da).add(Jc)});dc||ma.modified(Bb.fields)?ma.visit(ma.MOD,function(Jc){var Da=x.tupleid(Jc),Ma=Xb.get(Da),Pb=Bb(Jc);Ma===Pb?Fc(Pb).mod(Jc):(Xb.set(Da,Pb),Fc(Ma).rem(Jc),Fc(Pb).add(Jc))}):ma.changed(ma.MOD)&&ma.visit(ma.MOD,function(Jc){Fc(Xb.get(x.tupleid(Jc))).mod(Jc)});dc&&ma.visit(ma.REFLOW,function(Jc){var Da=x.tupleid(Jc),Ma=Xb.get(Da),Pb=Bb(Jc);Ma!==Pb&&(Xb.set(Da,Pb),Fc(Ma).rem(Jc),Fc(Pb).add(Jc))});ma.clean()?nb.runAfter(function(){ib.clean();
Xb.clean()}):Xb.empty>nb.cleanThreshold&&nb.runAfter(Xb.clean);return ma}});m.inherits(J,x.Operator);ia.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};m.inherits(ia,x.Transform,{transform:function(I,ma){function ib(Ma){var Pb=x.tupleid(Ma),bc=Jc(Ma,I),mc=Bb.get(Pb);bc&&mc?(Bb.delete(Pb),Xb.push(Ma)):bc||mc?Da&&bc&&!mc&&Fc.push(Ma):(Bb.set(Pb,1),dc.push(Ma))}var nb=ma.dataflow,Bb=this.value,Ub=ma.fork(),Xb=Ub.add,dc=Ub.rem,Fc=Ub.mod,Jc=I.expr,Da=!0;
ma.visit(ma.REM,function(Ma){var Pb=x.tupleid(Ma);Bb.has(Pb)?Bb.delete(Pb):dc.push(Ma)});ma.visit(ma.ADD,function(Ma){Jc(Ma,I)?Xb.push(Ma):Bb.set(x.tupleid(Ma),1)});ma.visit(ma.MOD,ib);I.modified()&&(Da=!1,ma.visit(ma.REFLOW,ib));Bb.empty>nb.cleanThreshold&&nb.runAfter(Bb.clean);return Ub}});Pa.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};m.inherits(Pa,x.Transform,{transform:function(I,
ma){var ib=ma.fork(ma.NO_SOURCE),nb=I.fields,Bb=wa(nb,I.as||[]),Ub=I.index||null,Xb=Bb.length;ib.rem=this.value;ma.visit(ma.SOURCE,function(dc){for(var Fc=nb.map(function(mc){return mc(dc)}),Jc=Fc.reduce(function(mc,Dc){return Math.max(mc,Dc.length)},0),Da=0,Ma,Pb,bc;Da<Jc;++Da){Pb=x.derive(dc);for(Ma=0;Ma<Xb;++Ma)Pb[Bb[Ma]]=null==(bc=Fc[Ma][Da])?null:bc;Ub&&(Pb[Ub]=Da);ib.add.push(Pb)}});this.value=ib.source=ib.add;Ub&&ib.modifies(Ub);return ib.modifies(Bb)}});cb.Definition={type:"Fold",metadata:{generates:!0},
params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};m.inherits(cb,x.Transform,{transform:function(I,ma){var ib=ma.fork(ma.NO_SOURCE),nb=I.fields,Bb=nb.map(m.accessorName);I=I.as||["key","value"];var Ub=I[0],Xb=I[1],dc=nb.length;ib.rem=this.value;ma.visit(ma.SOURCE,function(Fc){for(var Jc=0,Da;Jc<dc;++Jc)Da=x.derive(Fc),Da[Ub]=Bb[Jc],Da[Xb]=nb[Jc](Fc),ib.add.push(Da)});this.value=ib.source=ib.add;return ib.modifies(I)}});
M.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};m.inherits(M,x.Transform,{transform:function(I,ma){var ib=I.expr,nb=I.as,Bb=I.modified(),Ub=I.initonly?ma.ADD:Bb?ma.SOURCE:ma.modified(ib.fields)||ma.modified(nb)?ma.ADD_MOD:ma.ADD;Bb&&(ma=ma.materialize().reflow(!0));I.initonly||ma.modifies(nb);return ma.visit(Ub,function(Xb){return Xb[nb]=ib(Xb,I)})}});m.inherits(Ka,x.Transform,
{transform:function(I,ma){ma=ma.fork(ma.ALL);var ib=I.generator,nb=this.value,Bb=I.size-nb.length,Ub,Xb;if(0<Bb){for(Ub=[];0<=--Bb;)Ub.push(Xb=x.ingest(ib(I))),nb.push(Xb);ma.add=ma.add.length?ma.materialize(ma.ADD).add.concat(Ub):Ub}else I=nb.slice(0,-Bb),ma.rem=ma.rem.length?ma.materialize(ma.REM).rem.concat(I):I,nb=nb.slice(-Bb);ma.source=this.value=nb;return ma}});var mb={value:"value",median:Gb.median,mean:Gb.mean,min:Gb.min,max:Gb.max},rc=[];ka.Definition={type:"Impute",metadata:{changes:!0},
params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};m.inherits(ka,x.Transform,{transform:function(I,ma){var ib=ma.fork(ma.ALL),nb=ha(I),Bb=w(I),Ub=m.accessorName(I.field),Xb=m.accessorName(I.key),dc=(I.groupby||[]).map(m.accessorName);I=H(ma.source,I.groupby,I.key,I.keyvals);ma=[];
var Fc=this.value,Jc=I.domain.length,Da,Ma,Pb;var bc=0;for(Ma=I.length;bc<Ma;++bc){var mc=I[bc];var Dc=mc.values;var Kc=NaN;for(Da=0;Da<Jc;++Da)if(null==mc[Da]){var Hb=I.domain[Da];var Wb={_impute:!0};var sc=0;for(Pb=Dc.length;sc<Pb;++sc)Wb[dc[sc]]=Dc[sc];Wb[Xb]=Hb;Wb[Ub]=Number.isNaN(Kc)?Kc=nb(mc,Bb):Kc;ma.push(x.ingest(Wb))}}ma.length&&(ib.add=ib.materialize(ib.ADD).add.concat(ma));Fc.length&&(ib.rem=ib.materialize(ib.REM).rem.concat(Fc));this.value=ma;return ib}});p.Definition={type:"JoinAggregate",
metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:Md},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};m.inherits(p,ca,{transform:function(I,ma){var ib=this,nb=I.modified();if(ib.value&&(nb||ma.modified(ib._inputs,!0))){var Bb=ib.value=nb?ib.init(I):{};ma.visit(ma.SOURCE,function(Ub){return ib.add(Ub)})}else Bb=ib.value=ib.value||this.init(I),ma.visit(ma.REM,function(Ub){return ib.rem(Ub)}),
ma.visit(ma.ADD,function(Ub){return ib.add(Ub)});ib.changes();ma.visit(ma.SOURCE,function(Ub){m.extend(Ub,Bb[ib.cellkey(Ub)].tuple)});return ma.reflow(nb).modifies(this._outputs)},changes:function(){var I=this._adds,ma=this._mods,ib;var nb=0;for(ib=this._alen;nb<ib;++nb)this.celltuple(I[nb]),I[nb]=null;nb=0;for(ib=this._mlen;nb<ib;++nb)this.celltuple(ma[nb]),ma[nb]=null;this._alen=this._mlen=0}});q.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",
type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};m.inherits(q,x.Transform,
{transform:function(I,ma){var ib=ma.fork(ma.NO_SOURCE|ma.NO_FIELDS);if(!this.value||ma.changed()||I.modified()){ma=ma.materialize(ma.SOURCE).source;var nb=$a(ma,I.groupby,I.field),Bb=(I.groupby||[]).map(m.accessorName),Ub=I.bandwidth,Xb=I.cumulative?"cdf":"pdf",dc=I.as||["value","density"],Fc=[],Jc=I.extent,Da=I.steps||I.minsteps||25,Ma=I.steps||I.maxsteps||200;"pdf"!==Xb&&"cdf"!==Xb&&m.error("Invalid density method: "+Xb);"shared"===I.resolve&&(Jc||(Jc=m.extent(ma,I.field)),Da=Ma=I.steps||Ma);nb.forEach(function(Pb){var bc=
Wa.randomKDE(Pb,Ub)[Xb],mc=I.counts?Pb.length:1,Dc=Jc||m.extent(Pb);Wa.sampleCurve(bc,Dc,Da,Ma).forEach(function(Kc){for(var Hb={},Wb=0;Wb<Bb.length;++Wb)Hb[Bb[Wb]]=Pb.dims[Wb];Hb[dc[0]]=Kc[0];Hb[dc[1]]=Kc[1]*mc;Fc.push(x.ingest(Hb))})});this.value&&(ib.rem=this.value);this.value=ib.add=ib.source=Fc}return ib}});m.inherits(t,x.Operator);m.inherits(L,x.Transform,{transform:function(I,ma){var ib=this,nb=ma.dataflow;return this._pending?Ga(this,ma,this._pending):ba(I)?ma.StopPropagation:I.values?Ga(this,
ma,nb.parse(I.values,I.format)):I.async?{async:nb.request(I.url,I.format).then(function(Bb){ib._pending=m.array(Bb.data);return function(Ub){return Ub.touch(ib)}})}:nb.request(I.url,I.format).then(function(Bb){return Ga(ib,ma,m.array(Bb.data))})}});La.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},
{name:"as",type:"string",array:!0},{name:"default","default":null}]};m.inherits(La,x.Transform,{transform:function(I,ma){var ib=I.fields,nb=I.index,Bb=I.values,Ub=null==I.default?null:I.default,Xb=I.modified(),dc=ib.length,Fc=Xb?ma.SOURCE:ma.ADD,Jc=ma,Da=I.as;if(Bb){var Ma=Bb.length;1<dc&&!Da&&m.error('Multi-field lookup requires explicit "as" parameter.');Da&&Da.length!==dc*Ma&&m.error('The "as" parameter has too few output field names.');Da=Da||Bb.map(m.accessorName);I=function(Pb){for(var bc=0,
mc=0,Dc,Kc;bc<dc;++bc)if(Kc=nb.get(ib[bc](Pb)),null==Kc)for(Dc=0;Dc<Ma;++Dc,++mc)Pb[Da[mc]]=Ub;else for(Dc=0;Dc<Ma;++Dc,++mc)Pb[Da[mc]]=Bb[Dc](Kc)}}else Da||m.error("Missing output field names."),I=function(Pb){for(var bc=0,mc;bc<dc;++bc)mc=nb.get(ib[bc](Pb)),Pb[Da[bc]]=null==mc?Ub:mc};Xb?Jc=ma.reflow(!0):(Xb=ib.some(function(Pb){return ma.modified(Pb.fields)}),Fc|=Xb?ma.MOD:0);ma.visit(Fc,I);return Jc.modifies(Da)}});m.inherits(db,x.Operator);m.inherits(S,x.Operator);m.inherits(qa,x.Transform,{transform:function(I,
ma){this.modified(I.modified());this.value=I;return ma.fork(ma.NO_SOURCE|ma.NO_FIELDS)}});ta.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Md,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};m.inherits(ta,ca,{_transform:ca.prototype.transform,transform:function(I,ma){return this._transform(ea(I,
ma),ma)}});m.inherits(Ja,C,{transform:function(I,ma){var ib=this,nb=I.subflow,Bb=I.field,Ub=function(Xb){return ib.subflow(x.tupleid(Xb),nb,ma,Xb)};(I.modified("field")||Bb&&ma.modified(m.accessorFields(Bb)))&&m.error("PreFacet does not support field modification.");this.initTargets();Bb?(ma.visit(ma.MOD,function(Xb){var dc=Ub(Xb);Bb(Xb).forEach(function(Fc){return dc.mod(Fc)})}),ma.visit(ma.ADD,function(Xb){var dc=Ub(Xb);Bb(Xb).forEach(function(Fc){return dc.add(x.ingest(Fc))})}),ma.visit(ma.REM,
function(Xb){var dc=Ub(Xb);Bb(Xb).forEach(function(Fc){return dc.rem(Fc)})})):(ma.visit(ma.MOD,function(Xb){return Ub(Xb).mod(Xb)}),ma.visit(ma.ADD,function(Xb){return Ub(Xb).add(Xb)}),ma.visit(ma.REM,function(Xb){return Ub(Xb).rem(Xb)}));ma.clean()&&ma.runAfter(function(){return ib.clean()});return ma}});Ta.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};m.inherits(Ta,x.Transform,{transform:function(I,
ma){var ib=ma.fork(ma.NO_SOURCE),nb=I.fields,Bb=wa(I.fields,I.as||[]),Ub=nb?function(dc,Fc){for(var Jc=0,Da=nb.length;Jc<Da;++Jc)Fc[Bb[Jc]]=nb[Jc](dc);return Fc}:x.rederive;if(this.value)var Xb=this.value;else ma=ma.addAll(),Xb=this.value={};ma.visit(ma.REM,function(dc){dc=x.tupleid(dc);ib.rem.push(Xb[dc]);Xb[dc]=null});ma.visit(ma.ADD,function(dc){var Fc=Ub(dc,x.ingest({}));Xb[x.tupleid(dc)]=Fc;ib.add.push(Fc)});ma.visit(ma.MOD,function(dc){ib.mod.push(Ub(dc,Xb[x.tupleid(dc)]))});return ib}});m.inherits(ya,
x.Transform,{transform:function(I,ma){this.value=I.value;return I.modified("value")?ma.fork(ma.NO_SOURCE|ma.NO_FIELDS):ma.StopPropagation}});lb.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};m.inherits(lb,x.Transform,{transform:function(I,ma){var ib=ma.fork(ma.NO_SOURCE|
ma.NO_FIELDS),nb=I.as||["prob","value"];if(this.value&&!I.modified()&&!ma.changed())return ib.source=this.value,ib;ma=ma.materialize(ma.SOURCE).source;ma=$a(ma,I.groupby,I.field);var Bb=(I.groupby||[]).map(m.accessorName),Ub=[],Xb=I.step||.01,dc=I.probs||Gb.range(Xb/2,1-1E-14,Xb),Fc=dc.length;ma.forEach(function(Jc){for(var Da=Wa.quantiles(Jc,dc),Ma=0;Ma<Fc;++Ma){for(var Pb={},bc=0;bc<Bb.length;++bc)Pb[Bb[bc]]=Jc.dims[bc];Pb[nb[0]]=dc[Ma];Pb[nb[1]]=Da[Ma];Ub.push(x.ingest(Pb))}});this.value&&(ib.rem=
this.value);this.value=ib.add=ib.source=Ub;return ib}});m.inherits(yb,x.Transform,{transform:function(I,ma){if(this.value)var ib=this.value;else{var nb=ma=ma.addAll();ib=this.value={}}I.derive&&(nb=ma.fork(ma.NO_SOURCE),ma.visit(ma.REM,function(Bb){Bb=x.tupleid(Bb);nb.rem.push(ib[Bb]);ib[Bb]=null}),ma.visit(ma.ADD,function(Bb){var Ub=x.derive(Bb);ib[x.tupleid(Bb)]=Ub;nb.add.push(Ub)}),ma.visit(ma.MOD,function(Bb){var Ub=ib[x.tupleid(Bb)],Xb;for(Xb in Bb)Ub[Xb]=Bb[Xb],nb.modifies(Xb);nb.mod.push(Ub)}));
return nb}});Ya.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};m.inherits(Ya,x.Transform,{transform:function(I,ma){function ib(Da){if(dc.length<Ub)dc.push(Da);else{var Ma=~~((Fc+1)*Wa.random());if(Ma<dc.length&&Ma>=Jc){var Pb=dc[Ma];Xb[x.tupleid(Pb)]&&nb.rem.push(Pb);dc[Ma]=Da}}++Fc}var nb=ma.fork(ma.NO_SOURCE),Bb=I.modified("size"),Ub=I.size,Xb=this.value.reduce(function(Da,Ma){return Da[x.tupleid(Ma)]=1,Da},{}),dc=this.value,Fc=this.count,Jc=0;ma.rem.length&&
(ma.visit(ma.REM,function(Da){var Ma=x.tupleid(Da);Xb[Ma]&&(Xb[Ma]=-1,nb.rem.push(Da));--Fc}),dc=dc.filter(function(Da){return-1!==Xb[x.tupleid(Da)]}));(ma.rem.length||Bb)&&dc.length<Ub&&ma.source&&(Jc=Fc=dc.length,ma.visit(ma.SOURCE,function(Da){Xb[x.tupleid(Da)]||ib(Da)}),Jc=-1);if(Bb&&dc.length>Ub){I=dc.length-Ub;for(Bb=0;Bb<I;++Bb)Xb[x.tupleid(dc[Bb])]=-1,nb.rem.push(dc[Bb]);dc=dc.slice(I)}ma.mod.length&&ma.visit(ma.MOD,function(Da){Xb[x.tupleid(Da)]&&nb.mod.push(Da)});ma.add.length&&ma.visit(ma.ADD,
ib);if(ma.add.length||0>Jc)nb.add=dc.filter(function(Da){return!Xb[x.tupleid(Da)]});this.count=Fc;this.value=nb.source=dc;return nb}});Ob.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};m.inherits(Ob,x.Transform,{transform:function(I,ma){if(!this.value||I.modified()){var ib=ma.materialize().fork(ma.MOD),nb=I.as||
"data";ib.rem=this.value?ma.rem.concat(this.value):ma.rem;this.value=Gb.range(I.start,I.stop,I.step||1).map(function(Bb){var Ub={};Ub[nb]=Bb;return x.ingest(Ub)});ib.add=ma.add.concat(this.value);return ib}}});m.inherits(Qb,x.Transform,{transform:function(I,ma){this.value=ma.source;return ma.changed()?ma.fork(ma.NO_SOURCE|ma.NO_FIELDS):ma.StopPropagation}});var Cc=["unit0","unit1"];Zb.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",
type:"boolean","default":!0},{name:"units",type:"enum",values:gb.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":Cc}]};m.inherits(Zb,x.Transform,{transform:function(I,ma){var ib=I.field,nb=!1!==I.interval,Bb="utc"===I.timezone,Ub=this._floor(I,ma),Xb=(Bb?gb.utcInterval:gb.timeInterval)(Ub.unit).offset;
Bb=I.as||Cc;var dc=Bb[0],Fc=Bb[1],Jc=Ub.step,Da=Ub.start||Infinity,Ma=Ub.stop||-Infinity,Pb=ma.ADD;if(I.modified()||ma.modified(m.accessorFields(ib)))ma=ma.reflow(!0),Pb=ma.SOURCE,Da=Infinity,Ma=-Infinity;ma.visit(Pb,function(bc){var mc=ib(bc),Dc;null==mc?(bc[dc]=null,nb&&(bc[Fc]=null)):(bc[dc]=mc=Dc=Ub(mc),nb&&(bc[Fc]=Dc=Xb(mc,Jc)),mc<Da&&(Da=mc),Dc>Ma&&(Ma=Dc))});Ub.start=Da;Ub.stop=Ma;return ma.modifies(nb?Bb:dc)},_floor:function(I,ma){var ib="utc"===I.timezone;ma=I.units?{units:I.units,step:I.step||
1}:gb.timeBin({extent:I.extent||m.extent(ma.materialize(ma.SOURCE).source,I.field),maxbins:I.maxbins});I=ma.step;ma=gb.timeUnits(ma.units);var nb=this.value||{};ib=(ib?gb.utcFloor:gb.timeFloor)(ma,I);ib.unit=m.peek(ma);ib.units=ma;ib.step=I;ib.start=nb.start;ib.stop=nb.stop;return this.value=ib}});m.inherits(Ic,x.Transform,{transform:function(I,ma){var ib=ma.dataflow,nb=I.field,Bb=this.value,Ub=function(dc){return Bb.set(nb(dc),dc)},Xb=!0;I.modified("field")||ma.modified(nb.fields)?(Bb.clear(),ma.visit(ma.SOURCE,
Ub)):ma.changed()?(ma.visit(ma.REM,function(dc){return Bb.delete(nb(dc))}),ma.visit(ma.ADD,Ub)):Xb=!1;this.modified(Xb);Bb.empty>ib.cleanThreshold&&ib.runAfter(Bb.clean);return ma.fork()}});m.inherits(uc,x.Transform,{transform:function(I,ma){if(!this.value||I.modified("field")||I.modified("sort")||ma.changed()||I.sort&&ma.modified(I.sort.fields))this.value=(I.sort?ma.source.slice().sort(x.stableCompare(I.sort)):ma.source).map(I.field)}});var Rc={row_number:function(){return{next:function(I){return I.index+
1}}},rank:function(){var I;return{init:function(){return I=1},next:function(ma){var ib=ma.index,nb=ma.data;return ib&&ma.compare(nb[ib-1],nb[ib])?I=ib+1:I}}},dense_rank:function(){var I;return{init:function(){return I=1},next:function(ma){var ib=ma.index,nb=ma.data;return ib&&ma.compare(nb[ib-1],nb[ib])?++I:I}}},percent_rank:function(){var I=Rc.rank(),ma=I.next;return{init:I.init,next:function(ib){return(ma(ib)-1)/(ib.data.length-1)}}},cume_dist:function(){var I;return{init:function(){return I=0},
next:function(ma){var ib=ma.data,nb=ma.compare;ma=ma.index;if(I<ma){for(;ma+1<ib.length&&!nb(ib[ma],ib[ma+1]);)++ma;I=ma}return(1+I)/ib.length}}},ntile:function(I,ma){ma=+ma;0<ma||m.error("ntile num must be greater than zero.");I=Rc.cume_dist();var ib=I.next;return{init:I.init,next:function(nb){return Math.ceil(ma*ib(nb))}}},lag:function(I,ma){ma=+ma||1;return{next:function(ib){var nb=ib.index-ma;return 0<=nb?I(ib.data[nb]):null}}},lead:function(I,ma){ma=+ma||1;return{next:function(ib){var nb=ib.index+
ma;ib=ib.data;return nb<ib.length?I(ib[nb]):null}}},first_value:function(I){return{next:function(ma){return I(ma.data[ma.i0])}}},last_value:function(I){return{next:function(ma){return I(ma.data[ma.i1-1])}}},nth_value:function(I,ma){ma=+ma;0<ma||m.error("nth_value nth must be greater than zero.");return{next:function(ib){var nb=ib.i0+(ma-1);return nb<ib.i1?I(ib.data[nb]):null}}},prev_value:function(I){var ma;return{init:function(){return ma=null},next:function(ib){ib=I(ib.data[ib.index]);return null!=
ib?ma=ib:ma}}},next_value:function(I){var ma,ib;return{init:function(){return ma=null,ib=-1},next:function(nb){var Bb=nb.data;if(nb.index<=ib)Bb=ma;else{a:{nb=nb.index;for(var Ub=Bb.length;nb<Ub;++nb)if(null!=I(Bb[nb]))break a;nb=-1}Bb=0>(ib=nb)?(ib=Bb.length,ma=null):ma=I(Bb[ib])}return Bb}}}};Eb=Object.keys(Rc);var sd=Ad.prototype;sd.init=function(){this.windows.forEach(function(I){return I.init()});this.cell&&this.cell.init()};sd.update=function(I,ma){var ib=this.cell,nb=this.windows,Bb=I.data,
Ub=nb&&nb.length,Xb;if(ib){for(Xb=I.p0;Xb<I.i0;++Xb)ib.rem(Bb[Xb]);for(Xb=I.p1;Xb<I.i1;++Xb)ib.add(Bb[Xb]);ib.set(ma)}for(Xb=0;Xb<Ub;++Xb)nb[Xb].update(I,ma)};Xc.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Eb.concat(Md)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number",
"null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};m.inherits(Xc,x.Transform,{transform:function(I,ma){var ib=this;this.stamp=ma.stamp;var nb=I.modified(),Bb=x.stableCompare(I.sort),Ub=Lb(I.groupby),Xb=this.state;if(!Xb||nb)Xb=this.state=new Ad(I);nb||ma.modified(Xb.inputs)?(this.value={},ma.visit(ma.SOURCE,function(Jc){return ib.group(Ub(Jc)).add(Jc)})):(ma.visit(ma.REM,function(Jc){return ib.group(Ub(Jc)).remove(Jc)}),ma.visit(ma.ADD,function(Jc){return ib.group(Ub(Jc)).add(Jc)}));
for(var dc=0,Fc=this._mlen;dc<Fc;++dc)Uc(this._mods[dc],Xb,Bb,I);this._mlen=0;this._mods=[];return ma.reflow(nb).modifies(Xb.outputs)},group:function(I){var ma=this.value[I];ma||(ma=this.value[I]=Oa(x.tupleid),ma.stamp=-1);ma.stamp<this.stamp&&(ma.stamp=this.stamp,this._mods[this._mlen++]=ma);return ma}});h.aggregate=ca;h.bin=Z;h.collect=Aa;h.compare=va;h.countpattern=fa;h.cross=pa;h.density=ua;h.dotbin=ja;h.expression=u;h.extent=z;h.facet=C;h.field=J;h.filter=ia;h.flatten=Pa;h.fold=cb;h.formula=
M;h.generate=Ka;h.impute=ka;h.joinaggregate=p;h.kde=q;h.key=t;h.load=L;h.lookup=La;h.multiextent=db;h.multivalues=S;h.params=qa;h.pivot=ta;h.prefacet=Ja;h.project=Ta;h.proxy=ya;h.quantile=lb;h.relay=yb;h.sample=Ya;h.sequence=Ob;h.sieve=Qb;h.subflow=D;h.timeunit=Zb;h.tupleindex=Ic;h.values=uc;h.window=Xc;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[17]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb):"function"===typeof define&&define.amd?define(["exports"],m):(h=h||self,m(h.d3=h.d3||{}))})(this,function(h){function m(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function x(){return new m}var Wa=Math.PI,Gb=2*Wa,gb=Gb-1E-6;m.prototype=x.prototype={constructor:m,moveTo:function(wb,Lb){this._+="M"+(this._x0=this._x1=+wb)+","+(this._y0=this._y1=+Lb)},closePath:function(){null!==this._x1&&
(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(wb,Lb){this._+="L"+(this._x1=+wb)+","+(this._y1=+Lb)},quadraticCurveTo:function(wb,Lb,rb,Ua){this._+="Q"+ +wb+","+ +Lb+","+(this._x1=+rb)+","+(this._y1=+Ua)},bezierCurveTo:function(wb,Lb,rb,Ua,Sa,ab){this._+="C"+ +wb+","+ +Lb+","+ +rb+","+ +Ua+","+(this._x1=+Sa)+","+(this._y1=+ab)},arcTo:function(wb,Lb,rb,Ua,Sa){wb=+wb;Lb=+Lb;rb=+rb;Ua=+Ua;Sa=+Sa;var ab=this._x1,za=this._y1,Y=rb-wb,na=Ua-Lb,Ba=ab-wb,Qa=za-Lb,ca=Ba*Ba+Qa*Qa;if(0>Sa)throw Error("negative radius: "+
Sa);if(null===this._x1)this._+="M"+(this._x1=wb)+","+(this._y1=Lb);else if(1E-6<ca)if(1E-6<Math.abs(Qa*Y-na*Ba)&&Sa){rb-=ab;Ua-=za;var Z=Y*Y+na*na;za=Math.sqrt(Z);ab=Math.sqrt(ca);ca=Sa*Math.tan((Wa-Math.acos((Z+ca-(rb*rb+Ua*Ua))/(2*za*ab)))/2);ab=ca/ab;ca/=za;1E-6<Math.abs(ab-1)&&(this._+="L"+(wb+ab*Ba)+","+(Lb+ab*Qa));this._+="A"+Sa+","+Sa+",0,0,"+ +(Qa*rb>Ba*Ua)+","+(this._x1=wb+ca*Y)+","+(this._y1=Lb+ca*na)}else this._+="L"+(this._x1=wb)+","+(this._y1=Lb)},arc:function(wb,Lb,rb,Ua,Sa,ab){wb=+wb;
Lb=+Lb;rb=+rb;ab=!!ab;var za=rb*Math.cos(Ua),Y=rb*Math.sin(Ua),na=wb+za,Ba=Lb+Y,Qa=1^ab;Ua=ab?Ua-Sa:Sa-Ua;if(0>rb)throw Error("negative radius: "+rb);if(null===this._x1)this._+="M"+na+","+Ba;else if(1E-6<Math.abs(this._x1-na)||1E-6<Math.abs(this._y1-Ba))this._+="L"+na+","+Ba;rb&&(0>Ua&&(Ua=Ua%Gb+Gb),Ua>gb?this._+="A"+rb+","+rb+",0,1,"+Qa+","+(wb-za)+","+(Lb-Y)+"A"+rb+","+rb+",0,1,"+Qa+","+(this._x1=na)+","+(this._y1=Ba):1E-6<Ua&&(this._+="A"+rb+","+rb+",0,"+ +(Ua>=Wa)+","+Qa+","+(this._x1=wb+rb*Math.cos(Sa))+
","+(this._y1=Lb+rb*Math.sin(Sa))))},rect:function(wb,Lb,rb,Ua){this._+="M"+(this._x0=this._x1=+wb)+","+(this._y0=this._y1=+Lb)+"h"+ +rb+"v"+ +Ua+"h"+-rb+"Z"},toString:function(){return this._}};h.path=x;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[18]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(17)):"function"===typeof define&&define.amd?define(["exports","d3-path"],m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.d3=h.d3||{},h.d3))})(this,function(h,m){function x(Da){return function(){return Da}}function Wa(Da){return 1<=Da?Qb:-1>=Da?-Qb:Math.asin(Da)}function Gb(Da){return Da.innerRadius}function gb(Da){return Da.outerRadius}function wb(Da){return Da.startAngle}function Lb(Da){return Da.endAngle}
function rb(Da){return Da&&Da.padAngle}function Ua(Da,Ma,Pb,bc,mc,Dc,Kc){var Hb=Da-Pb,Wb=Ma-bc;Kc=(Kc?Dc:-Dc)/Ya(Hb*Hb+Wb*Wb);Wb*=Kc;Hb*=-Kc;var sc=Da+Wb,pc=Ma+Hb,tc=Pb+Wb,Wc=bc+Hb;Pb=(sc+tc)/2;bc=(pc+Wc)/2;Ma=tc-sc;Da=Wc-pc;Kc=Ma*Ma+Da*Da;Dc=mc-Dc;Wc=sc*Wc-tc*pc;var Kd=(0>Da?-1:1)*Ya(ya(0,Dc*Dc*Kc-Wc*Wc));sc=(Wc*Da-Ma*Kd)/Kc;pc=(-Wc*Ma-Da*Kd)/Kc;tc=(Wc*Da+Ma*Kd)/Kc;Ma=(-Wc*Ma+Da*Kd)/Kc;Da=sc-Pb;Kc=pc-bc;Pb=tc-Pb;bc=Ma-bc;Da*Da+Kc*Kc>Pb*Pb+bc*bc&&(sc=tc,pc=Ma);return{cx:sc,cy:pc,x01:-Wb,y01:-Hb,x11:sc*
(mc/Dc-1),y11:pc*(mc/Dc-1)}}function Sa(Da){return"object"===typeof Da&&"length"in Da?Da:Array.from(Da)}function ab(Da){this._context=Da}function za(Da){return new ab(Da)}function Y(Da){return Da[0]}function na(Da){return Da[1]}function Ba(Da,Ma){function Pb(Hb){var Wb,sc=(Hb=Sa(Hb)).length,pc,tc=!1,Wc;null==mc&&(Kc=Dc(Wc=m.path()));for(Wb=0;Wb<=sc;++Wb)!(Wb<sc&&bc(pc=Hb[Wb],Wb,Hb))===tc&&((tc=!tc)?Kc.lineStart():Kc.lineEnd()),tc&&Kc.point(+Da(pc,Wb,Hb),+Ma(pc,Wb,Hb));if(Wc)return Kc=null,Wc+""||
null}var bc=x(!0),mc=null,Dc=za,Kc=null;Da="function"===typeof Da?Da:void 0===Da?Y:x(Da);Ma="function"===typeof Ma?Ma:void 0===Ma?na:x(Ma);Pb.x=function(Hb){return arguments.length?(Da="function"===typeof Hb?Hb:x(+Hb),Pb):Da};Pb.y=function(Hb){return arguments.length?(Ma="function"===typeof Hb?Hb:x(+Hb),Pb):Ma};Pb.defined=function(Hb){return arguments.length?(bc="function"===typeof Hb?Hb:x(!!Hb),Pb):bc};Pb.curve=function(Hb){return arguments.length?(Dc=Hb,null!=mc&&(Kc=Dc(mc)),Pb):Dc};Pb.context=
function(Hb){return arguments.length?(null==Hb?mc=Kc=null:Kc=Dc(mc=Hb),Pb):mc};return Pb}function Qa(Da,Ma,Pb){function bc(pc){var tc,Wc,Kd=(pc=Sa(pc)).length,od,ld=!1,wd,Rd=Array(Kd),Hd=Array(Kd);null==Hb&&(sc=Wb(wd=m.path()));for(tc=0;tc<=Kd;++tc){if(!(tc<Kd&&Kc(od=pc[tc],tc,pc))===ld)if(ld=!ld){var ce=tc;sc.areaStart();sc.lineStart()}else{sc.lineEnd();sc.lineStart();for(Wc=tc-1;Wc>=ce;--Wc)sc.point(Rd[Wc],Hd[Wc]);sc.lineEnd();sc.areaEnd()}ld&&(Rd[tc]=+Da(od,tc,pc),Hd[tc]=+Ma(od,tc,pc),sc.point(Dc?
+Dc(od,tc,pc):Rd[tc],Pb?+Pb(od,tc,pc):Hd[tc]))}if(wd)return sc=null,wd+""||null}function mc(){return Ba().defined(Kc).curve(Wb).context(Hb)}var Dc=null,Kc=x(!0),Hb=null,Wb=za,sc=null;Da="function"===typeof Da?Da:void 0===Da?Y:x(+Da);Ma="function"===typeof Ma?Ma:void 0===Ma?x(0):x(+Ma);Pb="function"===typeof Pb?Pb:void 0===Pb?na:x(+Pb);bc.x=function(pc){return arguments.length?(Da="function"===typeof pc?pc:x(+pc),Dc=null,bc):Da};bc.x0=function(pc){return arguments.length?(Da="function"===typeof pc?
pc:x(+pc),bc):Da};bc.x1=function(pc){return arguments.length?(Dc=null==pc?null:"function"===typeof pc?pc:x(+pc),bc):Dc};bc.y=function(pc){return arguments.length?(Ma="function"===typeof pc?pc:x(+pc),Pb=null,bc):Ma};bc.y0=function(pc){return arguments.length?(Ma="function"===typeof pc?pc:x(+pc),bc):Ma};bc.y1=function(pc){return arguments.length?(Pb=null==pc?null:"function"===typeof pc?pc:x(+pc),bc):Pb};bc.lineX0=bc.lineY0=function(){return mc().x(Da).y(Ma)};bc.lineY1=function(){return mc().x(Da).y(Pb)};
bc.lineX1=function(){return mc().x(Dc).y(Ma)};bc.defined=function(pc){return arguments.length?(Kc="function"===typeof pc?pc:x(!!pc),bc):Kc};bc.curve=function(pc){return arguments.length?(Wb=pc,null!=Hb&&(sc=Wb(Hb)),bc):Wb};bc.context=function(pc){return arguments.length?(null==pc?Hb=sc=null:sc=Wb(Hb=pc),bc):Hb};return bc}function ca(Da,Ma){return Ma<Da?-1:Ma>Da?1:Ma>=Da?0:NaN}function Z(Da){return Da}function Oa(Da){this._curve=Da}function Aa(Da){function Ma(Pb){return new Oa(Da(Pb))}Ma._curve=Da;
return Ma}function va(Da){var Ma=Da.curve;Da.angle=Da.x;delete Da.x;Da.radius=Da.y;delete Da.y;Da.curve=function(Pb){return arguments.length?Ma(Aa(Pb)):Ma()._curve};return Da}function xa(){return va(Ba().curve(uc))}function fa(){var Da=Qa().curve(uc),Ma=Da.curve,Pb=Da.lineX0,bc=Da.lineX1,mc=Da.lineY0,Dc=Da.lineY1;Da.angle=Da.x;delete Da.x;Da.startAngle=Da.x0;delete Da.x0;Da.endAngle=Da.x1;delete Da.x1;Da.radius=Da.y;delete Da.y;Da.innerRadius=Da.y0;delete Da.y0;Da.outerRadius=Da.y1;delete Da.y1;Da.lineStartAngle=
function(){return va(Pb())};delete Da.lineX0;Da.lineEndAngle=function(){return va(bc())};delete Da.lineX1;Da.lineInnerRadius=function(){return va(mc())};delete Da.lineY0;Da.lineOuterRadius=function(){return va(Dc())};delete Da.lineY1;Da.curve=function(Kc){return arguments.length?Ma(Aa(Kc)):Ma()._curve};return Da}function pa(Da,Ma){return[(Ma=+Ma)*Math.cos(Da-=Math.PI/2),Ma*Math.sin(Da)]}function da(Da){return Da.source}function ua(Da){return Da.target}function Ia(Da){function Ma(){var Hb,Wb=Ic.call(arguments),
sc=Pb.apply(this,Wb),pc=bc.apply(this,Wb);Kc||(Kc=Hb=m.path());Da(Kc,+mc.apply(this,(Wb[0]=sc,Wb)),+Dc.apply(this,Wb),+mc.apply(this,(Wb[0]=pc,Wb)),+Dc.apply(this,Wb));if(Hb)return Kc=null,Hb+""||null}var Pb=da,bc=ua,mc=Y,Dc=na,Kc=null;Ma.source=function(Hb){return arguments.length?(Pb=Hb,Ma):Pb};Ma.target=function(Hb){return arguments.length?(bc=Hb,Ma):bc};Ma.x=function(Hb){return arguments.length?(mc="function"===typeof Hb?Hb:x(+Hb),Ma):mc};Ma.y=function(Hb){return arguments.length?(Dc="function"===
typeof Hb?Hb:x(+Hb),Ma):Dc};Ma.context=function(Hb){return arguments.length?(Kc=null==Hb?null:Hb,Ma):Kc};return Ma}function wa(Da,Ma,Pb,bc,mc){Da.moveTo(Ma,Pb);Da.bezierCurveTo(Ma=(Ma+bc)/2,Pb,Ma,mc,bc,mc)}function $a(Da,Ma,Pb,bc,mc){Da.moveTo(Ma,Pb);Da.bezierCurveTo(Ma,Pb=(Pb+mc)/2,bc,Pb,bc,mc)}function ja(Da,Ma,Pb,bc,mc){var Dc=pa(Ma,Pb);Ma=pa(Ma,Pb=(Pb+mc)/2);Pb=pa(bc,Pb);bc=pa(bc,mc);Da.moveTo(Dc[0],Dc[1]);Da.bezierCurveTo(Ma[0],Ma[1],Pb[0],Pb[1],bc[0],bc[1])}function u(){}function y(Da,Ma,Pb){Da._context.bezierCurveTo((2*
Da._x0+Da._x1)/3,(2*Da._y0+Da._y1)/3,(Da._x0+2*Da._x1)/3,(Da._y0+2*Da._y1)/3,(Da._x0+4*Da._x1+Ma)/6,(Da._y0+4*Da._y1+Pb)/6)}function z(Da){this._context=Da}function D(Da){this._context=Da}function C(Da){this._context=Da}function J(Da,Ma){this._basis=new z(Da);this._beta=Ma}function V(Da,Ma,Pb){Da._context.bezierCurveTo(Da._x1+Da._k*(Da._x2-Da._x0),Da._y1+Da._k*(Da._y2-Da._y0),Da._x2+Da._k*(Da._x1-Ma),Da._y2+Da._k*(Da._y1-Pb),Da._x2,Da._y2)}function ia(Da,Ma){this._context=Da;this._k=(1-Ma)/6}function Pa(Da,
Ma){this._context=Da;this._k=(1-Ma)/6}function cb(Da,Ma){this._context=Da;this._k=(1-Ma)/6}function M(Da,Ma,Pb){var bc=Da._x1,mc=Da._y1,Dc=Da._x2,Kc=Da._y2;if(1E-12<Da._l01_a){var Hb=2*Da._l01_2a+3*Da._l01_a*Da._l12_a+Da._l12_2a,Wb=3*Da._l01_a*(Da._l01_a+Da._l12_a);bc=(bc*Hb-Da._x0*Da._l12_2a+Da._x2*Da._l01_2a)/Wb;mc=(mc*Hb-Da._y0*Da._l12_2a+Da._y2*Da._l01_2a)/Wb}1E-12<Da._l23_a&&(Hb=2*Da._l23_2a+3*Da._l23_a*Da._l12_a+Da._l12_2a,Wb=3*Da._l23_a*(Da._l23_a+Da._l12_a),Dc=(Dc*Hb+Da._x1*Da._l23_2a-Ma*
Da._l12_2a)/Wb,Kc=(Kc*Hb+Da._y1*Da._l23_2a-Pb*Da._l12_2a)/Wb);Da._context.bezierCurveTo(bc,mc,Dc,Kc,Da._x2,Da._y2)}function Ka(Da,Ma){this._context=Da;this._alpha=Ma}function ka(Da,Ma){this._context=Da;this._alpha=Ma}function ha(Da,Ma){this._context=Da;this._alpha=Ma}function w(Da){this._context=Da}function H(Da,Ma,Pb){var bc=Da._x1-Da._x0;Ma-=Da._x1;var mc=(Da._y1-Da._y0)/(bc||0>Ma&&-0);Da=(Pb-Da._y1)/(Ma||0>bc&&-0);return((0>mc?-1:1)+(0>Da?-1:1))*Math.min(Math.abs(mc),Math.abs(Da),.5*Math.abs((mc*
Ma+Da*bc)/(bc+Ma)))||0}function p(Da,Ma){var Pb=Da._x1-Da._x0;return Pb?(3*(Da._y1-Da._y0)/Pb-Ma)/2:Ma}function q(Da,Ma,Pb){var bc=Da._x0,mc=Da._x1,Dc=Da._y1,Kc=(mc-bc)/3;Da._context.bezierCurveTo(bc+Kc,Da._y0+Kc*Ma,mc-Kc,Dc-Kc*Pb,mc,Dc)}function t(Da){this._context=Da}function G(Da){this._context=new L(Da)}function L(Da){this._context=Da}function ba(Da){this._context=Da}function Ga(Da){var Ma,Pb=Da.length-1,bc=Array(Pb),mc=Array(Pb),Dc=Array(Pb);bc[0]=0;mc[0]=2;Dc[0]=Da[0]+2*Da[1];for(Ma=1;Ma<Pb-
1;++Ma)bc[Ma]=1,mc[Ma]=4,Dc[Ma]=4*Da[Ma]+2*Da[Ma+1];bc[Pb-1]=2;mc[Pb-1]=7;Dc[Pb-1]=8*Da[Pb-1]+Da[Pb];for(Ma=1;Ma<Pb;++Ma){var Kc=bc[Ma]/mc[Ma-1];mc[Ma]-=Kc;Dc[Ma]-=Kc*Dc[Ma-1]}bc[Pb-1]=Dc[Pb-1]/mc[Pb-1];for(Ma=Pb-2;0<=Ma;--Ma)bc[Ma]=(Dc[Ma]-bc[Ma+1])/mc[Ma];mc[Pb-1]=(Da[Pb]+bc[Pb-1])/2;for(Ma=0;Ma<Pb-1;++Ma)mc[Ma]=2*Da[Ma+1]-bc[Ma+1];return[bc,mc]}function La(Da,Ma){this._context=Da;this._t=Ma}function db(Da,Ma){if(1<(Kc=Da.length))for(var Pb=1,bc,mc,Dc=Da[Ma[0]],Kc,Hb=Dc.length;Pb<Kc;++Pb)for(mc=
Dc,Dc=Da[Ma[Pb]],bc=0;bc<Hb;++bc)Dc[bc][1]+=Dc[bc][0]=isNaN(mc[bc][1])?mc[bc][0]:mc[bc][1]}function sb(Da){Da=Da.length;for(var Ma=Array(Da);0<=--Da;)Ma[Da]=Da;return Ma}function S(Da,Ma){return Da[Ma]}function aa(Da){var Ma=[];Ma.key=Da;return Ma}function qa(Da){var Ma=Da.map(ta);return sb(Da).sort(function(Pb,bc){return Ma[Pb]-Ma[bc]})}function ta(Da){for(var Ma=-1,Pb=0,bc=Da.length,mc,Dc=-Infinity;++Ma<bc;)(mc=+Da[Ma][1])>Dc&&(Dc=mc,Pb=Ma);return Pb}function ea(Da){var Ma=Da.map(U);return sb(Da).sort(function(Pb,
bc){return Ma[Pb]-Ma[bc]})}function U(Da){for(var Ma=0,Pb=-1,bc=Da.length,mc;++Pb<bc;)if(mc=+Da[Pb][1])Ma+=mc;return Ma}var Fa=Math.abs,Ja=Math.atan2,Ta=Math.cos,ya=Math.max,lb=Math.min,yb=Math.sin,Ya=Math.sqrt,Ob=Math.PI,Qb=Ob/2,Zb=2*Ob,Ic=Array.prototype.slice;ab.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Da,
Ma){Da=+Da;Ma=+Ma;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Da,Ma):this._context.moveTo(Da,Ma);break;case 1:this._point=2;default:this._context.lineTo(Da,Ma)}}};var uc=Aa(za);Oa.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(Da,Ma){this._curve.point(Ma*Math.sin(Da),Ma*-Math.cos(Da))}};var Zc={draw:function(Da,Ma){Ma=
Math.sqrt(Ma/Ob);Da.moveTo(Ma,0);Da.arc(0,0,Ma,0,Zb)}},Ad={draw:function(Da,Ma){Ma=Math.sqrt(Ma/5)/2;Da.moveTo(-3*Ma,-Ma);Da.lineTo(-Ma,-Ma);Da.lineTo(-Ma,-3*Ma);Da.lineTo(Ma,-3*Ma);Da.lineTo(Ma,-Ma);Da.lineTo(3*Ma,-Ma);Da.lineTo(3*Ma,Ma);Da.lineTo(Ma,Ma);Da.lineTo(Ma,3*Ma);Da.lineTo(-Ma,3*Ma);Da.lineTo(-Ma,Ma);Da.lineTo(-3*Ma,Ma);Da.closePath()}},Lc=Math.sqrt(1/3),Xc=2*Lc,Uc={draw:function(Da,Ma){Ma=Math.sqrt(Ma/Xc);var Pb=Ma*Lc;Da.moveTo(0,-Ma);Da.lineTo(Pb,0);Da.lineTo(0,Ma);Da.lineTo(-Pb,0);Da.closePath()}},
Md=Math.sin(Ob/10)/Math.sin(7*Ob/10),Qd=Math.sin(Zb/10)*Md,fe=-Math.cos(Zb/10)*Md,Eb={draw:function(Da,Ma){Ma=Math.sqrt(.8908130915292852*Ma);var Pb=Qd*Ma,bc=fe*Ma;Da.moveTo(0,-Ma);Da.lineTo(Pb,bc);for(var mc=1;5>mc;++mc){var Dc=Zb*mc/5,Kc=Math.cos(Dc);Dc=Math.sin(Dc);Da.lineTo(Dc*Ma,-Kc*Ma);Da.lineTo(Kc*Pb-Dc*bc,Dc*Pb+Kc*bc)}Da.closePath()}},Rb={draw:function(Da,Ma){Ma=Math.sqrt(Ma);var Pb=-Ma/2;Da.rect(Pb,Pb,Ma,Ma)}},mb=Math.sqrt(3),rc={draw:function(Da,Ma){Ma=-Math.sqrt(Ma/(3*mb));Da.moveTo(0,
2*Ma);Da.lineTo(-mb*Ma,-Ma);Da.lineTo(mb*Ma,-Ma);Da.closePath()}},Cc=Math.sqrt(3)/2,Rc=1/Math.sqrt(12),sd=3*(Rc/2+1),I={draw:function(Da,Ma){var Pb=Math.sqrt(Ma/sd);Ma=Pb/2;var bc=Pb*Rc;Pb=Pb*Rc+Pb;var mc=-Ma;Da.moveTo(Ma,bc);Da.lineTo(Ma,Pb);Da.lineTo(mc,Pb);Da.lineTo(-.5*Ma-Cc*bc,Cc*Ma+-.5*bc);Da.lineTo(-.5*Ma-Cc*Pb,Cc*Ma+-.5*Pb);Da.lineTo(-.5*mc-Cc*Pb,Cc*mc+-.5*Pb);Da.lineTo(-.5*Ma+Cc*bc,-.5*bc-Cc*Ma);Da.lineTo(-.5*Ma+Cc*Pb,-.5*Pb-Cc*Ma);Da.lineTo(-.5*mc+Cc*Pb,-.5*Pb-Cc*mc);Da.closePath()}},ma=
[Zc,Ad,Uc,Rb,Eb,rc,I];z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:y(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Da,Ma){Da=+Da;Ma=+Ma;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Da,
Ma):this._context.moveTo(Da,Ma);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:y(this,Da,Ma)}this._x0=this._x1;this._x1=Da;this._y0=this._y1;this._y1=Ma}};D.prototype={areaStart:u,areaEnd:u,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();
break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(Da,Ma){Da=+Da;Ma=+Ma;switch(this._point){case 0:this._point=1;this._x2=Da;this._y2=Ma;break;case 1:this._point=2;this._x3=Da;this._y3=Ma;break;case 2:this._point=3;this._x4=Da;this._y4=Ma;this._context.moveTo((this._x0+
4*this._x1+Da)/6,(this._y0+4*this._y1+Ma)/6);break;default:y(this,Da,Ma)}this._x0=this._x1;this._x1=Da;this._y0=this._y1;this._y1=Ma}};C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Da,Ma){Da=+Da;Ma=+Ma;switch(this._point){case 0:this._point=1;break;case 1:this._point=
2;break;case 2:this._point=3;var Pb=(this._x0+4*this._x1+Da)/6,bc=(this._y0+4*this._y1+Ma)/6;this._line?this._context.lineTo(Pb,bc):this._context.moveTo(Pb,bc);break;case 3:this._point=4;default:y(this,Da,Ma)}this._x0=this._x1;this._x1=Da;this._y0=this._y1;this._y1=Ma}};var ib=function(Da,Ma){this._context=Da;this._x=Ma};ib.prototype.areaStart=function(){this._line=0};ib.prototype.areaEnd=function(){this._line=NaN};ib.prototype.lineStart=function(){this._point=0};ib.prototype.lineEnd=function(){(this._line||
0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line};ib.prototype.point=function(Da,Ma){Da=+Da;Ma=+Ma;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Da,Ma):this._context.moveTo(Da,Ma);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+Da)/2,this._y0,this._x0,Ma,Da,Ma):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+Ma)/2,Da,this._y0,Da,Ma)}this._x0=Da;this._y0=Ma};J.prototype={lineStart:function(){this._x=
[];this._y=[];this._basis.lineStart()},lineEnd:function(){var Da=this._x,Ma=this._y,Pb=Da.length-1;if(0<Pb)for(var bc=Da[0],mc=Ma[0],Dc=Da[Pb]-bc,Kc=Ma[Pb]-mc,Hb=-1,Wb;++Hb<=Pb;)Wb=Hb/Pb,this._basis.point(this._beta*Da[Hb]+(1-this._beta)*(bc+Wb*Dc),this._beta*Ma[Hb]+(1-this._beta)*(mc+Wb*Kc));this._x=this._y=null;this._basis.lineEnd()},point:function(Da,Ma){this._x.push(+Da);this._y.push(+Ma)}};var nb=function Pb(Ma){function bc(mc){return 1===Ma?new z(mc):new J(mc,Ma)}bc.beta=function(mc){return Pb(+mc)};
return bc}(.85);ia.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:V(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ma,Pb){Ma=+Ma;Pb=+Pb;switch(this._point){case 0:this._point=1;this._line?
this._context.lineTo(Ma,Pb):this._context.moveTo(Ma,Pb);break;case 1:this._point=2;this._x1=Ma;this._y1=Pb;break;case 2:this._point=3;default:V(this,Ma,Pb)}this._x0=this._x1;this._x1=this._x2;this._x2=Ma;this._y0=this._y1;this._y1=this._y2;this._y2=Pb}};var Bb=function bc(Pb){function mc(Dc){return new ia(Dc,Pb)}mc.tension=function(Dc){return bc(+Dc)};return mc}(0);Pa.prototype={areaStart:u,areaEnd:u,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=
this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Pb,bc){Pb=+Pb;bc=+bc;switch(this._point){case 0:this._point=1;this._x3=Pb;this._y3=bc;break;case 1:this._point=2;this._context.moveTo(this._x4=Pb,
this._y4=bc);break;case 2:this._point=3;this._x5=Pb;this._y5=bc;break;default:V(this,Pb,bc)}this._x0=this._x1;this._x1=this._x2;this._x2=Pb;this._y0=this._y1;this._y1=this._y2;this._y2=bc}};var Ub=function mc(bc){function Dc(Kc){return new Pa(Kc,bc)}Dc.tension=function(Kc){return mc(+Kc)};return Dc}(0);cb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||
0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(bc,mc){bc=+bc;mc=+mc;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:V(this,bc,mc)}this._x0=this._x1;this._x1=this._x2;this._x2=bc;this._y0=this._y1;this._y1=this._y2;this._y2=mc}};var Xb=function Dc(mc){function Kc(Hb){return new cb(Hb,
mc)}Kc.tension=function(Hb){return Dc(+Hb)};return Kc}(0);Ka.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();
this._line=1-this._line},point:function(mc,Dc){mc=+mc;Dc=+Dc;if(this._point){var Kc=this._x2-mc,Hb=this._y2-Dc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Kc*Kc+Hb*Hb,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(mc,Dc):this._context.moveTo(mc,Dc);break;case 1:this._point=2;break;case 2:this._point=3;default:M(this,mc,Dc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;
this._x2=mc;this._y0=this._y1;this._y1=this._y2;this._y2=Dc}};var dc=function Kc(Dc){function Hb(Wb){return Dc?new Ka(Wb,Dc):new ia(Wb,0)}Hb.alpha=function(Wb){return Kc(+Wb)};return Hb}(.5);ka.prototype={areaStart:u,areaEnd:u,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,
this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Dc,Kc){Dc=+Dc;Kc=+Kc;if(this._point){var Hb=this._x2-Dc,Wb=this._y2-Kc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Hb*Hb+Wb*Wb,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=Dc;this._y3=Kc;break;case 1:this._point=2;this._context.moveTo(this._x4=Dc,
this._y4=Kc);break;case 2:this._point=3;this._x5=Dc;this._y5=Kc;break;default:M(this,Dc,Kc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Dc;this._y0=this._y1;this._y1=this._y2;this._y2=Kc}};var Fc=function Hb(Kc){function Wb(sc){return Kc?new ka(sc,Kc):new Pa(sc,0)}Wb.alpha=function(sc){return Hb(+sc)};return Wb}(.5);ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},
lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Kc,Hb){Kc=+Kc;Hb=+Hb;if(this._point){var Wb=this._x2-Kc,sc=this._y2-Hb;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Wb*Wb+sc*sc,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=
2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:M(this,Kc,Hb)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Kc;this._y0=this._y1;this._y1=this._y2;this._y2=Hb}};var Jc=function Wb(Hb){function sc(pc){return Hb?new ha(pc,Hb):new cb(pc,0)}sc.alpha=function(pc){return Wb(+pc)};return sc}(.5);w.prototype=
{areaStart:u,areaEnd:u,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(Hb,Wb){Hb=+Hb;Wb=+Wb;this._point?this._context.lineTo(Hb,Wb):(this._point=1,this._context.moveTo(Hb,Wb))}};t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:q(this,
this._t0,p(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Hb,Wb){var sc=NaN;Hb=+Hb;Wb=+Wb;if(Hb!==this._x1||Wb!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Hb,Wb):this._context.moveTo(Hb,Wb);break;case 1:this._point=2;break;case 2:this._point=3;q(this,p(this,sc=H(this,Hb,Wb)),sc);break;default:q(this,this._t0,sc=H(this,Hb,Wb))}this._x0=this._x1;this._x1=Hb;this._y0=this._y1;this._y1=
Wb;this._t0=sc}}};(G.prototype=Object.create(t.prototype)).point=function(Hb,Wb){t.prototype.point.call(this,Wb,Hb)};L.prototype={moveTo:function(Hb,Wb){this._context.moveTo(Wb,Hb)},closePath:function(){this._context.closePath()},lineTo:function(Hb,Wb){this._context.lineTo(Wb,Hb)},bezierCurveTo:function(Hb,Wb,sc,pc,tc,Wc){this._context.bezierCurveTo(Wb,Hb,pc,sc,Wc,tc)}};ba.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},
lineEnd:function(){var Hb=this._x,Wb=this._y,sc=Hb.length;if(sc)if(this._line?this._context.lineTo(Hb[0],Wb[0]):this._context.moveTo(Hb[0],Wb[0]),2===sc)this._context.lineTo(Hb[1],Wb[1]);else for(var pc=Ga(Hb),tc=Ga(Wb),Wc=0,Kd=1;Kd<sc;++Wc,++Kd)this._context.bezierCurveTo(pc[0][Wc],tc[0][Wc],pc[1][Wc],tc[1][Wc],Hb[Kd],Wb[Kd]);(this._line||0!==this._line&&1===sc)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(Hb,Wb){this._x.push(+Hb);this._y.push(+Wb)}};La.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(Hb,Wb){Hb=+Hb;Wb=+Wb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Hb,Wb):this._context.moveTo(Hb,Wb);break;
case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,Wb),this._context.lineTo(Hb,Wb);else{var sc=this._x*(1-this._t)+Hb*this._t;this._context.lineTo(sc,this._y);this._context.lineTo(sc,Wb)}}this._x=Hb;this._y=Wb}};h.arc=function(){function Hb(){var wd,Rd=+Wb.apply(this,arguments),Hd=+sc.apply(this,arguments),ce=Wc.apply(this,arguments)-Qb,ke=Kd.apply(this,arguments)-Qb,Ke=Fa(ke-ce),Zd=ke>ce;ld||(ld=wd=m.path());if(Hd<Rd){var P=Hd;Hd=Rd;Rd=P}if(1E-12<Hd)if(Ke>Zb-1E-12)ld.moveTo(Hd*
Ta(ce),Hd*yb(ce)),ld.arc(0,0,Hd,ce,ke,!Zd),1E-12<Rd&&(ld.moveTo(Rd*Ta(ke),Rd*yb(ke)),ld.arc(0,0,Rd,ke,ce,Zd));else{var oa=ce,Ha=ke;P=ce;var kb=ke,eb=Ke,Tb=Ke,hc=od.apply(this,arguments)/2,xc=1E-12<hc&&(tc?+tc.apply(this,arguments):Ya(Rd*Rd+Hd*Hd)),vc=lb(Fa(Hd-Rd)/2,+pc.apply(this,arguments)),lc=vc,ed=vc;if(1E-12<xc){var pd=Wa(xc/Rd*yb(hc));hc=Wa(xc/Hd*yb(hc));1E-12<(eb-=2*pd)?(pd*=Zd?1:-1,P+=pd,kb-=pd):(eb=0,P=kb=(ce+ke)/2);1E-12<(Tb-=2*hc)?(hc*=Zd?1:-1,oa+=hc,Ha-=hc):(Tb=0,oa=Ha=(ce+ke)/2)}ce=Hd*
Ta(oa);ke=Hd*yb(oa);pd=Rd*Ta(kb);hc=Rd*yb(kb);if(1E-12<vc){var Ed=Hd*Ta(Ha),md=Hd*yb(Ha),le=Rd*Ta(P),Se=Rd*yb(P);if(Ke=Ke<Ob){var jc=le-ce;Ke=Se-ke;xc=pd-Ed;var Dd=hc-md,xd=Dd*jc-xc*Ke;1E-12>xd*xd?jc=void 0:(xd=(xc*(ke-md)-Dd*(ce-Ed))/xd,jc=[ce+xd*jc,ke+xd*Ke]);Ke=jc}Ke&&(lc=ce-jc[0],ed=ke-jc[1],Ke=Ed-jc[0],xc=md-jc[1],lc=(lc*Ke+ed*xc)/(Ya(lc*lc+ed*ed)*Ya(Ke*Ke+xc*xc)),ed=1/yb((1<lc?0:-1>lc?Ob:Math.acos(lc))/2),jc=Ya(jc[0]*jc[0]+jc[1]*jc[1]),lc=lb(vc,(Rd-jc)/(ed-1)),ed=lb(vc,(Hd-jc)/(ed+1)))}1E-12<
Tb?1E-12<ed?(oa=Ua(le,Se,ce,ke,Hd,ed,Zd),Ha=Ua(Ed,md,pd,hc,Hd,ed,Zd),ld.moveTo(oa.cx+oa.x01,oa.cy+oa.y01),ed<vc?ld.arc(oa.cx,oa.cy,ed,Ja(oa.y01,oa.x01),Ja(Ha.y01,Ha.x01),!Zd):(ld.arc(oa.cx,oa.cy,ed,Ja(oa.y01,oa.x01),Ja(oa.y11,oa.x11),!Zd),ld.arc(0,0,Hd,Ja(oa.cy+oa.y11,oa.cx+oa.x11),Ja(Ha.cy+Ha.y11,Ha.cx+Ha.x11),!Zd),ld.arc(Ha.cx,Ha.cy,ed,Ja(Ha.y11,Ha.x11),Ja(Ha.y01,Ha.x01),!Zd))):(ld.moveTo(ce,ke),ld.arc(0,0,Hd,oa,Ha,!Zd)):ld.moveTo(ce,ke);1E-12<Rd&&1E-12<eb?1E-12<lc?(oa=Ua(pd,hc,Ed,md,Rd,-lc,Zd),
Ha=Ua(ce,ke,le,Se,Rd,-lc,Zd),ld.lineTo(oa.cx+oa.x01,oa.cy+oa.y01),lc<vc?ld.arc(oa.cx,oa.cy,lc,Ja(oa.y01,oa.x01),Ja(Ha.y01,Ha.x01),!Zd):(ld.arc(oa.cx,oa.cy,lc,Ja(oa.y01,oa.x01),Ja(oa.y11,oa.x11),!Zd),ld.arc(0,0,Rd,Ja(oa.cy+oa.y11,oa.cx+oa.x11),Ja(Ha.cy+Ha.y11,Ha.cx+Ha.x11),Zd),ld.arc(Ha.cx,Ha.cy,lc,Ja(Ha.y11,Ha.x11),Ja(Ha.y01,Ha.x01),!Zd))):ld.arc(0,0,Rd,kb,P,Zd):ld.lineTo(pd,hc)}else ld.moveTo(0,0);ld.closePath();if(wd)return ld=null,wd+""||null}var Wb=Gb,sc=gb,pc=x(0),tc=null,Wc=wb,Kd=Lb,od=rb,ld=
null;Hb.centroid=function(){var wd=(+Wb.apply(this,arguments)+ +sc.apply(this,arguments))/2,Rd=(+Wc.apply(this,arguments)+ +Kd.apply(this,arguments))/2-Ob/2;return[Ta(Rd)*wd,yb(Rd)*wd]};Hb.innerRadius=function(wd){return arguments.length?(Wb="function"===typeof wd?wd:x(+wd),Hb):Wb};Hb.outerRadius=function(wd){return arguments.length?(sc="function"===typeof wd?wd:x(+wd),Hb):sc};Hb.cornerRadius=function(wd){return arguments.length?(pc="function"===typeof wd?wd:x(+wd),Hb):pc};Hb.padRadius=function(wd){return arguments.length?
(tc=null==wd?null:"function"===typeof wd?wd:x(+wd),Hb):tc};Hb.startAngle=function(wd){return arguments.length?(Wc="function"===typeof wd?wd:x(+wd),Hb):Wc};Hb.endAngle=function(wd){return arguments.length?(Kd="function"===typeof wd?wd:x(+wd),Hb):Kd};Hb.padAngle=function(wd){return arguments.length?(od="function"===typeof wd?wd:x(+wd),Hb):od};Hb.context=function(wd){return arguments.length?(ld=null==wd?null:wd,Hb):ld};return Hb};h.area=Qa;h.areaRadial=fa;h.curveBasis=function(Hb){return new z(Hb)};
h.curveBasisClosed=function(Hb){return new D(Hb)};h.curveBasisOpen=function(Hb){return new C(Hb)};h.curveBumpX=function(Hb){return new ib(Hb,!0)};h.curveBumpY=function(Hb){return new ib(Hb,!1)};h.curveBundle=nb;h.curveCardinal=Bb;h.curveCardinalClosed=Ub;h.curveCardinalOpen=Xb;h.curveCatmullRom=dc;h.curveCatmullRomClosed=Fc;h.curveCatmullRomOpen=Jc;h.curveLinear=za;h.curveLinearClosed=function(Hb){return new w(Hb)};h.curveMonotoneX=function(Hb){return new t(Hb)};h.curveMonotoneY=function(Hb){return new G(Hb)};
h.curveNatural=function(Hb){return new ba(Hb)};h.curveStep=function(Hb){return new La(Hb,.5)};h.curveStepAfter=function(Hb){return new La(Hb,1)};h.curveStepBefore=function(Hb){return new La(Hb,0)};h.line=Ba;h.lineRadial=xa;h.linkHorizontal=function(){return Ia(wa)};h.linkRadial=function(){var Hb=Ia(ja);Hb.angle=Hb.x;delete Hb.x;Hb.radius=Hb.y;delete Hb.y;return Hb};h.linkVertical=function(){return Ia($a)};h.pie=function(){function Hb(od){var ld,wd=(od=Sa(od)).length;var Rd=0;var Hd=Array(wd),ce=Array(wd),
ke=+tc.apply(this,arguments);var Ke=Math.min(Zb,Math.max(-Zb,Wc.apply(this,arguments)-ke));var Zd=Math.min(Math.abs(Ke)/wd,Kd.apply(this,arguments)),P=Zd*(0>Ke?-1:1),oa;for(ld=0;ld<wd;++ld)0<(oa=ce[Hd[ld]=ld]=+Wb(od[ld],ld,od))&&(Rd+=oa);null!=sc?Hd.sort(function(kb,eb){return sc(ce[kb],ce[eb])}):null!=pc&&Hd.sort(function(kb,eb){return pc(od[kb],od[eb])});ld=0;for(Ke=Rd?(Ke-wd*P)/Rd:0;ld<wd;++ld,ke=Ha){Rd=Hd[ld];oa=ce[Rd];var Ha=ke+(0<oa?oa*Ke:0)+P;ce[Rd]={data:od[Rd],index:ld,value:oa,startAngle:ke,
endAngle:Ha,padAngle:Zd}}return ce}var Wb=Z,sc=ca,pc=null,tc=x(0),Wc=x(Zb),Kd=x(0);Hb.value=function(od){return arguments.length?(Wb="function"===typeof od?od:x(+od),Hb):Wb};Hb.sortValues=function(od){return arguments.length?(sc=od,pc=null,Hb):sc};Hb.sort=function(od){return arguments.length?(pc=od,sc=null,Hb):pc};Hb.startAngle=function(od){return arguments.length?(tc="function"===typeof od?od:x(+od),Hb):tc};Hb.endAngle=function(od){return arguments.length?(Wc="function"===typeof od?od:x(+od),Hb):
Wc};Hb.padAngle=function(od){return arguments.length?(Kd="function"===typeof od?od:x(+od),Hb):Kd};return Hb};h.pointRadial=pa;h.radialArea=fa;h.radialLine=xa;h.stack=function(){function Hb(Wc){var Kd=Array.from(Wb.apply(this,arguments),aa),od,ld=Kd.length,wd=-1,Rd=$jscomp.makeIterator(Wc);for(od=Rd.next();!od.done;od=Rd.next()){var Hd=od.value;od=0;for(++wd;od<ld;++od)(Kd[od][wd]=[0,+tc(Hd,Kd[od].key,wd,Wc)]).data=Hd}od=0;for(wd=Sa(sc(Kd));od<ld;++od)Kd[wd[od]].index=od;pc(Kd,wd);return Kd}var Wb=
x([]),sc=sb,pc=db,tc=S;Hb.keys=function(Wc){return arguments.length?(Wb="function"===typeof Wc?Wc:x(Array.from(Wc)),Hb):Wb};Hb.value=function(Wc){return arguments.length?(tc="function"===typeof Wc?Wc:x(+Wc),Hb):tc};Hb.order=function(Wc){return arguments.length?(sc=null==Wc?sb:"function"===typeof Wc?Wc:x(Array.from(Wc)),Hb):sc};Hb.offset=function(Wc){return arguments.length?(pc=null==Wc?db:Wc,Hb):pc};return Hb};h.stackOffsetDiverging=function(Hb,Wb){if(0<(ld=Hb.length))for(var sc,pc=0,tc,Wc,Kd,od,
ld,wd=Hb[Wb[0]].length;pc<wd;++pc)for(sc=Kd=od=0;sc<ld;++sc)0<(Wc=(tc=Hb[Wb[sc]][pc])[1]-tc[0])?(tc[0]=Kd,tc[1]=Kd+=Wc):0>Wc?(tc[1]=od,tc[0]=od+=Wc):(tc[0]=0,tc[1]=Wc)};h.stackOffsetExpand=function(Hb,Wb){if(0<(pc=Hb.length)){for(var sc,pc,tc=0,Wc=Hb[0].length,Kd;tc<Wc;++tc){for(Kd=sc=0;sc<pc;++sc)Kd+=Hb[sc][tc][1]||0;if(Kd)for(sc=0;sc<pc;++sc)Hb[sc][tc][1]/=Kd}db(Hb,Wb)}};h.stackOffsetNone=db;h.stackOffsetSilhouette=function(Hb,Wb){if(0<(tc=Hb.length)){for(var sc=0,pc=Hb[Wb[0]],tc,Wc=pc.length;sc<
Wc;++sc){for(var Kd=0,od=0;Kd<tc;++Kd)od+=Hb[Kd][sc][1]||0;pc[sc][1]+=pc[sc][0]=-od/2}db(Hb,Wb)}};h.stackOffsetWiggle=function(Hb,Wb){if(0<(Kd=Hb.length)&&0<(Wc=(tc=Hb[Wb[0]]).length)){for(var sc=0,pc=1,tc,Wc,Kd;pc<Wc;++pc){for(var od=0,ld=0,wd=0;od<Kd;++od){var Rd=Hb[Wb[od]],Hd=Rd[pc][1]||0;Rd=(Hd-(Rd[pc-1][1]||0))/2;for(var ce=0;ce<od;++ce){var ke=Hb[Wb[ce]];Rd+=(ke[pc][1]||0)-(ke[pc-1][1]||0)}ld+=Hd;wd+=Rd*Hd}tc[pc-1][1]+=tc[pc-1][0]=sc;ld&&(sc-=wd/ld)}tc[pc-1][1]+=tc[pc-1][0]=sc;db(Hb,Wb)}};h.stackOrderAppearance=
qa;h.stackOrderAscending=ea;h.stackOrderDescending=function(Hb){return ea(Hb).reverse()};h.stackOrderInsideOut=function(Hb){var Wb=Hb.length,sc=Hb.map(U),pc=qa(Hb),tc=0,Wc=0,Kd=[],od=[];for(Hb=0;Hb<Wb;++Hb){var ld=pc[Hb];tc<Wc?(tc+=sc[ld],Kd.push(ld)):(Wc+=sc[ld],od.push(ld))}return od.reverse().concat(Kd)};h.stackOrderNone=sb;h.stackOrderReverse=function(Hb){return sb(Hb).reverse()};h.symbol=function(Hb,Wb){function sc(){var tc;pc||(pc=tc=m.path());Hb.apply(this,arguments).draw(pc,+Wb.apply(this,
arguments));if(tc)return pc=null,tc+""||null}var pc=null;Hb="function"===typeof Hb?Hb:x(Hb||Zc);Wb="function"===typeof Wb?Wb:x(void 0===Wb?64:+Wb);sc.type=function(tc){return arguments.length?(Hb="function"===typeof tc?tc:x(tc),sc):Hb};sc.size=function(tc){return arguments.length?(Wb="function"===typeof tc?tc:x(+tc),sc):Wb};sc.context=function(tc){return arguments.length?(pc=null==tc?null:tc,sc):pc};return sc};h.symbolCircle=Zc;h.symbolCross=Ad;h.symbolDiamond=Uc;h.symbolSquare=Rb;h.symbolStar=Eb;
h.symbolTriangle=rc;h.symbolWye=I;h.symbols=ma;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[19]=function(Ib,xb,gc,vb){!function(h,m){"object"==typeof vb&&"undefined"!=typeof gc?m(vb):"function"==typeof define&&define.amd?define(["exports"],m):m((h="undefined"!=typeof globalThis?globalThis:h||self).vega={})}(this,function(h){function m(x,Wa){if("undefined"!=typeof document&&document.createElement){var Gb=document.createElement("canvas");if(Gb&&Gb.getContext)return Gb.width=x,Gb.height=Wa,Gb}return null}h.canvas=m;h.domCanvas=m;h.image=function(){return"undefined"!=typeof Image?
Image:null};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[20]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb):"function"===typeof define&&define.amd?define(["exports"],m):(h=h||self,m(h.d3=h.d3||{}))})(this,function(h){function m(t,G,L){t.prototype=G.prototype=L;L.constructor=t}function x(t,G){t=Object.create(t.prototype);for(var L in G)t[L]=G[L];return t}function Wa(){}function Gb(){return this.rgb().formatHex()}function gb(){return this.rgb().formatRgb()}function wb(t){var G,L;t=(t+"").trim().toLowerCase();
return(G=D.exec(t))?(L=G[1].length,G=parseInt(G[1],16),6===L?Lb(G):3===L?new ab(G>>8&15|G>>4&240,G>>4&15|G&240,(G&15)<<4|G&15,1):8===L?rb(G>>24&255,G>>16&255,G>>8&255,(G&255)/255):4===L?rb(G>>12&15|G>>8&240,G>>8&15|G>>4&240,G>>4&15|G&240,((G&15)<<4|G&15)/255):null):(G=C.exec(t))?new ab(G[1],G[2],G[3],1):(G=J.exec(t))?new ab(255*G[1]/100,255*G[2]/100,255*G[3]/100,1):(G=V.exec(t))?rb(G[1],G[2],G[3],G[4]):(G=ia.exec(t))?rb(255*G[1]/100,255*G[2]/100,255*G[3]/100,G[4]):(G=Pa.exec(t))?Ba(G[1],G[2]/100,
G[3]/100,1):(G=cb.exec(t))?Ba(G[1],G[2]/100,G[3]/100,G[4]):M.hasOwnProperty(t)?Lb(M[t]):"transparent"===t?new ab(NaN,NaN,NaN,0):null}function Lb(t){return new ab(t>>16&255,t>>8&255,t&255,1)}function rb(t,G,L,ba){0>=ba&&(t=G=L=NaN);return new ab(t,G,L,ba)}function Ua(t){t instanceof Wa||(t=wb(t));if(!t)return new ab;t=t.rgb();return new ab(t.r,t.g,t.b,t.opacity)}function Sa(t,G,L,ba){return 1===arguments.length?Ua(t):new ab(t,G,L,null==ba?1:ba)}function ab(t,G,L,ba){this.r=+t;this.g=+G;this.b=+L;this.opacity=
+ba}function za(){return"#"+na(this.r)+na(this.g)+na(this.b)}function Y(){var t=this.opacity;t=isNaN(t)?1:Math.max(0,Math.min(1,t));return(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function na(t){t=Math.max(0,Math.min(255,Math.round(t)||0));return(16>t?"0":"")+t.toString(16)}function Ba(t,G,L,ba){0>=ba?t=G=L=NaN:0>=L||1<=L?t=G=NaN:0>=G&&(t=NaN);
return new Z(t,G,L,ba)}function Qa(t){if(t instanceof Z)return new Z(t.h,t.s,t.l,t.opacity);t instanceof Wa||(t=wb(t));if(!t)return new Z;if(t instanceof Z)return t;t=t.rgb();var G=t.r/255,L=t.g/255,ba=t.b/255,Ga=Math.min(G,L,ba),La=Math.max(G,L,ba),db=NaN,sb=La-Ga,S=(La+Ga)/2;sb?(db=G===La?(L-ba)/sb+6*(L<ba):L===La?(ba-G)/sb+2:(G-L)/sb+4,sb/=.5>S?La+Ga:2-La-Ga,db*=60):sb=0<S&&1>S?0:db;return new Z(db,sb,S,t.opacity)}function ca(t,G,L,ba){return 1===arguments.length?Qa(t):new Z(t,G,L,null==ba?1:ba)}
function Z(t,G,L,ba){this.h=+t;this.s=+G;this.l=+L;this.opacity=+ba}function Oa(t,G,L){return 255*(60>t?G+(L-G)*t/60:180>t?L:240>t?G+(L-G)*(240-t)/60:G)}function Aa(t){if(t instanceof xa)return new xa(t.l,t.a,t.b,t.opacity);if(t instanceof $a)return ja(t);t instanceof ab||(t=Ua(t));var G=ua(t.r),L=ua(t.g),ba=ua(t.b),Ga=fa(.2225045*G+.7168786*L+.0606169*ba);if(G===L&&L===ba)var La=G=Ga;else La=fa((.4360747*G+.3850649*L+.1430804*ba)/.96422),G=fa((.0139322*G+.0971045*L+.7141733*ba)/.82521);return new xa(116*
Ga-16,500*(La-Ga),200*(Ga-G),t.opacity)}function va(t,G,L,ba){return 1===arguments.length?Aa(t):new xa(t,G,L,null==ba?1:ba)}function xa(t,G,L,ba){this.l=+t;this.a=+G;this.b=+L;this.opacity=+ba}function fa(t){return t>p?Math.pow(t,1/3):t/H+ha}function pa(t){return t>w?t*t*t:H*(t-ha)}function da(t){return 255*(.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ua(t){return.04045>=(t/=255)?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ia(t){if(t instanceof $a)return new $a(t.h,t.c,t.l,t.opacity);
t instanceof xa||(t=Aa(t));if(0===t.a&&0===t.b)return new $a(NaN,0<t.l&&100>t.l?0:NaN,t.l,t.opacity);var G=Math.atan2(t.b,t.a)*ka;return new $a(0>G?G+360:G,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function wa(t,G,L,ba){return 1===arguments.length?Ia(t):new $a(t,G,L,null==ba?1:ba)}function $a(t,G,L,ba){this.h=+t;this.c=+G;this.l=+L;this.opacity=+ba}function ja(t){if(isNaN(t.h))return new xa(t.l,0,0,t.opacity);var G=t.h*Ka;return new xa(t.l,Math.cos(G)*t.c,Math.sin(G)*t.c,t.opacity)}function u(t,G,
L,ba){if(1===arguments.length){var Ga=t;if(Ga instanceof y)Ga=new y(Ga.h,Ga.s,Ga.l,Ga.opacity);else{Ga instanceof ab||(Ga=Ua(Ga));var La=Ga.g/255,db=Ga.b/255,sb=(q*db+Ga.r/255*-1.7884503806-3.5172982438*La)/(q+-1.7884503806-3.5172982438);db-=sb;var S=(1.97294*(La-sb)- -.29227*db)/-.90649;db=(La=Math.sqrt(S*S+db*db)/(1.97294*sb*(1-sb)))?Math.atan2(S,db)*ka-120:NaN;Ga=new y(0>db?db+360:db,La,sb,Ga.opacity)}}else Ga=new y(t,G,L,null==ba?1:ba);return Ga}function y(t,G,L,ba){this.h=+t;this.s=+G;this.l=
+L;this.opacity=+ba}var z=1/.7,D=/^#([0-9a-f]{3,8})$/,C=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,J=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,V=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,ia=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,
Pa=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,cb=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,M={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,
burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,
darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,
lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,
mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,
red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};m(Wa,wb,{copy:function(t){return Object.assign(new this.constructor,
this,t)},displayable:function(){return this.rgb().displayable()},hex:Gb,formatHex:Gb,formatHsl:function(){return Qa(this).formatHsl()},formatRgb:gb,toString:gb});m(ab,Sa,x(Wa,{brighter:function(t){t=null==t?z:Math.pow(z,t);return new ab(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){t=null==t?.7:Math.pow(.7,t);return new ab(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&
255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:za,formatHex:za,formatRgb:Y,toString:Y}));m(Z,ca,x(Wa,{brighter:function(t){t=null==t?z:Math.pow(z,t);return new Z(this.h,this.s,this.l*t,this.opacity)},darker:function(t){t=null==t?.7:Math.pow(.7,t);return new Z(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(0>this.h),G=isNaN(t)||isNaN(this.s)?0:this.s,L=this.l;G=L+(.5>L?L:1-L)*G;L=2*L-G;return new ab(Oa(240<=t?t-240:t+120,L,G),Oa(t,L,G),Oa(120>t?t+240:t-120,L,G),this.opacity)},
displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var t=this.opacity;t=isNaN(t)?1:Math.max(0,Math.min(1,t));return(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Ka=Math.PI/180,ka=180/Math.PI,ha=4/29,w=6/29,H=3*w*w,p=w*w*w;m(xa,va,x(Wa,{brighter:function(t){return new xa(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new xa(this.l-
18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,G=isNaN(this.a)?t:t+this.a/500,L=isNaN(this.b)?t:t-this.b/200;G=.96422*pa(G);t=1*pa(t);L=.82521*pa(L);return new ab(da(3.1338561*G-1.6168667*t-.4906146*L),da(-.9787684*G+1.9161415*t+.033454*L),da(.0719453*G-.2289914*t+1.4052427*L),this.opacity)}}));m($a,wa,x(Wa,{brighter:function(t){return new $a(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new $a(this.h,this.c,this.l-18*(null==t?1:
t),this.opacity)},rgb:function(){return ja(this).rgb()}}));var q=1.78277*-.29227-.1347134789;m(y,u,x(Wa,{brighter:function(t){t=null==t?z:Math.pow(z,t);return new y(this.h,this.s,this.l*t,this.opacity)},darker:function(t){t=null==t?.7:Math.pow(.7,t);return new y(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Ka,G=+this.l,L=isNaN(this.s)?0:this.s*G*(1-G),ba=Math.cos(t);t=Math.sin(t);return new ab(255*(G+L*(-.14861*ba+1.78277*t)),255*(G+L*(-.29227*ba+-.90649*
t)),255*(G+1.97294*L*ba),this.opacity)}}));h.color=wb;h.cubehelix=u;h.gray=function(t,G){return new xa(t,0,0,null==G?1:G)};h.hcl=wa;h.hsl=ca;h.lab=va;h.lch=function(t,G,L,ba){return 1===arguments.length?Ia(t):new $a(L,G,t,null==ba?1:ba)};h.rgb=Sa;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[21]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(20)):"function"===typeof define&&define.amd?define(["exports","d3-color"],m):(h=h||self,m(h.d3=h.d3||{},h.d3))})(this,function(h,m){function x(w,H,p,q,t){var G=w*w,L=G*w;return((1-3*w+3*G-L)*H+(4-6*G+3*L)*p+(1+3*w+3*G-3*L)*q+L*t)/6}function Wa(w){var H=w.length-1;return function(p){var q=0>=p?p=0:1<=p?(p=1,H-1):Math.floor(p*H),t=w[q],G=w[q+1];return x((p-q/H)*H,0<q?w[q-1]:2*t-G,t,G,q<H-1?
w[q+2]:2*G-t)}}function Gb(w){var H=w.length;return function(p){var q=Math.floor((0>(p%=1)?++p:p)*H);return x((p-q/H)*H,w[(q+H-1)%H],w[q%H],w[(q+1)%H],w[(q+2)%H])}}function gb(w,H){return function(p){return w+p*H}}function wb(w,H,p){return w=Math.pow(w,p),H=Math.pow(H,p)-w,p=1/p,function(q){return Math.pow(w+q*H,p)}}function Lb(w,H){var p=H-w;return p?gb(w,180<p||-180>p?p-360*Math.round(p/360):p):Ia(isNaN(w)?H:w)}function rb(w){return 1===(w=+w)?Ua:function(H,p){return p-H?wb(H,p,w):Ia(isNaN(H)?p:
H)}}function Ua(w,H){var p=H-w;return p?gb(w,p):Ia(isNaN(w)?H:w)}function Sa(w){return function(H){var p=H.length,q=Array(p),t=Array(p),G=Array(p),L;for(L=0;L<p;++L){var ba=m.rgb(H[L]);q[L]=ba.r||0;t[L]=ba.g||0;G[L]=ba.b||0}q=w(q);t=w(t);G=w(G);ba.opacity=1;return function(Ga){ba.r=q(Ga);ba.g=t(Ga);ba.b=G(Ga);return ba+""}}}function ab(w,H){H||(H=[]);var p=w?Math.min(H.length,w.length):0,q=H.slice(),t;return function(G){for(t=0;t<p;++t)q[t]=w[t]*(1-G)+H[t]*G;return q}}function za(w){return ArrayBuffer.isView(w)&&
!(w instanceof DataView)}function Y(w,H){var p=H?H.length:0,q=w?Math.min(p,w.length):0,t=Array(q),G=Array(p),L;for(L=0;L<q;++L)t[L]=Aa(w[L],H[L]);for(;L<p;++L)G[L]=H[L];return function(ba){for(L=0;L<q;++L)G[L]=t[L](ba);return G}}function na(w,H){var p=new Date;return w=+w,H=+H,function(q){return p.setTime(w*(1-q)+H*q),p}}function Ba(w,H){return w=+w,H=+H,function(p){return w*(1-p)+H*p}}function Qa(w,H){var p={},q={},t;if(null===w||"object"!==typeof w)w={};if(null===H||"object"!==typeof H)H={};for(t in H)t in
w?p[t]=Aa(w[t],H[t]):q[t]=H[t];return function(G){for(t in p)q[t]=p[t](G);return q}}function ca(w){return function(){return w}}function Z(w){return function(H){return w(H)+""}}function Oa(w,H){var p=u.lastIndex=y.lastIndex=0,q,t,G,L=-1,ba=[],Ga=[];w+="";for(H+="";(q=u.exec(w))&&(t=y.exec(H));)(G=t.index)>p&&(G=H.slice(p,G),ba[L]?ba[L]+=G:ba[++L]=G),(q=q[0])===(t=t[0])?ba[L]?ba[L]+=t:ba[++L]=t:(ba[++L]=null,Ga.push({i:L,x:Ba(q,t)})),p=y.lastIndex;p<H.length&&(G=H.slice(p),ba[L]?ba[L]+=G:ba[++L]=G);
return 2>ba.length?Ga[0]?Z(Ga[0].x):ca(H):(H=Ga.length,function(La){for(var db=0,sb;db<H;++db)ba[(sb=Ga[db]).i]=sb.x(La);return ba.join("")})}function Aa(w,H){var p=typeof H,q;return null==H||"boolean"===p?Ia(H):("number"===p?Ba:"string"===p?(q=m.color(H))?(H=q,wa):Oa:H instanceof m.color?wa:H instanceof Date?na:za(H)?ab:Array.isArray(H)?Y:"function"!==typeof H.valueOf&&"function"!==typeof H.toString||isNaN(H)?Qa:Ba)(w,H)}function va(w,H,p,q,t,G){var L,ba,Ga;if(L=Math.sqrt(w*w+H*H))w/=L,H/=L;if(Ga=
w*p+H*q)p-=w*Ga,q-=H*Ga;if(ba=Math.sqrt(p*p+q*q))p/=ba,q/=ba,Ga/=ba;w*q<H*p&&(w=-w,H=-H,Ga=-Ga,L=-L);return{translateX:t,translateY:G,rotate:Math.atan2(H,w)*z,skewX:Math.atan(Ga)*z,scaleX:L,scaleY:ba}}function xa(w,H,p,q){function t(La){return La.length?La.pop()+" ":""}function G(La,db,sb,S,aa,qa){La!==sb||db!==S?(aa=aa.push("translate(",null,H,null,p),qa.push({i:aa-4,x:Ba(La,sb)},{i:aa-2,x:Ba(db,S)})):(sb||S)&&aa.push("translate("+sb+H+S+p)}function L(La,db,sb,S){La!==db?(180<La-db?db+=360:180<db-
La&&(La+=360),S.push({i:sb.push(t(sb)+"rotate(",null,q)-2,x:Ba(La,db)})):db&&sb.push(t(sb)+"rotate("+db+q)}function ba(La,db,sb,S){La!==db?S.push({i:sb.push(t(sb)+"skewX(",null,q)-2,x:Ba(La,db)}):db&&sb.push(t(sb)+"skewX("+db+q)}function Ga(La,db,sb,S,aa,qa){La!==sb||db!==S?(aa=aa.push(t(aa)+"scale(",null,",",null,")"),qa.push({i:aa-4,x:Ba(La,sb)},{i:aa-2,x:Ba(db,S)})):1===sb&&1===S||aa.push(t(aa)+"scale("+sb+","+S+")")}return function(La,db){var sb=[],S=[];La=w(La);db=w(db);G(La.translateX,La.translateY,
db.translateX,db.translateY,sb,S);L(La.rotate,db.rotate,sb,S);ba(La.skewX,db.skewX,sb,S);Ga(La.scaleX,La.scaleY,db.scaleX,db.scaleY,sb,S);La=db=null;return function(aa){for(var qa=-1,ta=S.length,ea;++qa<ta;)sb[(ea=S[qa]).i]=ea.x(aa);return sb.join("")}}}function fa(w){return((w=Math.exp(w))+1/w)/2}function pa(w){return function(H,p){var q=w((H=m.hsl(H)).h,(p=m.hsl(p)).h),t=Ua(H.s,p.s),G=Ua(H.l,p.l),L=Ua(H.opacity,p.opacity);return function(ba){H.h=q(ba);H.s=t(ba);H.l=G(ba);H.opacity=L(ba);return H+
""}}}function da(w){return function(H,p){var q=w((H=m.hcl(H)).h,(p=m.hcl(p)).h),t=Ua(H.c,p.c),G=Ua(H.l,p.l),L=Ua(H.opacity,p.opacity);return function(ba){H.h=q(ba);H.c=t(ba);H.l=G(ba);H.opacity=L(ba);return H+""}}}function ua(w){return function q(p){function t(G,L){var ba=w((G=m.cubehelix(G)).h,(L=m.cubehelix(L)).h),Ga=Ua(G.s,L.s),La=Ua(G.l,L.l),db=Ua(G.opacity,L.opacity);return function(sb){G.h=ba(sb);G.s=Ga(sb);G.l=La(Math.pow(sb,p));G.opacity=db(sb);return G+""}}p=+p;t.gamma=q;return t}(1)}var Ia=
function(w){return function(){return w}},wa=function p(H){function q(G,L){var ba=t((G=m.rgb(G)).r,(L=m.rgb(L)).r),Ga=t(G.g,L.g),La=t(G.b,L.b),db=Ua(G.opacity,L.opacity);return function(sb){G.r=ba(sb);G.g=Ga(sb);G.b=La(sb);G.opacity=db(sb);return G+""}}var t=rb(H);q.gamma=p;return q}(1),$a=Sa(Wa),ja=Sa(Gb),u=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,y=new RegExp(u.source,"g"),z=180/Math.PI,D={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},C,J=xa(function(H){H=new ("function"===typeof DOMMatrix?
DOMMatrix:WebKitCSSMatrix)(H+"");return H.isIdentity?D:va(H.a,H.b,H.c,H.d,H.e,H.f)},"px, ","px)","deg)"),V=xa(function(H){if(null==H)return D;C||(C=document.createElementNS("http://www.w3.org/2000/svg","g"));C.setAttribute("transform",H);if(!(H=C.transform.baseVal.consolidate()))return D;H=H.matrix;return va(H.a,H.b,H.c,H.d,H.e,H.f)},", ",")",")"),ia=function G(p,q,t){function L(ba,Ga){var La=ba[0],db=ba[1],sb=ba[2];ba=Ga[2];var S=Ga[0]-La,aa=Ga[1]-db,qa=S*S+aa*aa;if(1E-12>qa){var ta=Math.log(ba/
sb)/p;ba=function(Fa){return[La+Fa*S,db+Fa*aa,sb*Math.exp(p*Fa*ta)]}}else{var ea=Math.sqrt(qa);Ga=(ba*ba-sb*sb+t*qa)/(2*sb*q*ea);ba=(ba*ba-sb*sb-t*qa)/(2*ba*q*ea);var U=Math.log(Math.sqrt(Ga*Ga+1)-Ga);ta=(Math.log(Math.sqrt(ba*ba+1)-ba)-U)/p;ba=function(Fa){Fa*=ta;var Ja=fa(U),Ta=p*Fa+U;var ya=((Ta=Math.exp(2*Ta))-1)/(Ta+1);var lb=U;Ta=((lb=Math.exp(lb))-1/lb)/2;ya=sb/(q*ea)*(Ja*ya-Ta);return[La+ya*S,db+ya*aa,sb*Ja/fa(p*Fa+U)]}}ba.duration=1E3*ta*p/Math.SQRT2;return ba}L.rho=function(ba){ba=Math.max(.001,
+ba);var Ga=ba*ba;return G(ba,Ga,Ga*Ga)};return L}(Math.SQRT2,2,4),Pa=pa(Lb),cb=pa(Ua),M=da(Lb),Ka=da(Ua),ka=ua(Lb),ha=ua(Ua);h.interpolate=Aa;h.interpolateArray=function(p,q){return(za(q)?ab:Y)(p,q)};h.interpolateBasis=Wa;h.interpolateBasisClosed=Gb;h.interpolateCubehelix=ka;h.interpolateCubehelixLong=ha;h.interpolateDate=na;h.interpolateDiscrete=function(p){var q=p.length;return function(t){return p[Math.max(0,Math.min(q-1,Math.floor(t*q)))]}};h.interpolateHcl=M;h.interpolateHclLong=Ka;h.interpolateHsl=
Pa;h.interpolateHslLong=cb;h.interpolateHue=function(p,q){var t=Lb(+p,+q);return function(G){G=t(G);return G-360*Math.floor(G/360)}};h.interpolateLab=function(p,q){var t=Ua((p=m.lab(p)).l,(q=m.lab(q)).l),G=Ua(p.a,q.a),L=Ua(p.b,q.b),ba=Ua(p.opacity,q.opacity);return function(Ga){p.l=t(Ga);p.a=G(Ga);p.b=L(Ga);p.opacity=ba(Ga);return p+""}};h.interpolateNumber=Ba;h.interpolateNumberArray=ab;h.interpolateObject=Qa;h.interpolateRgb=wa;h.interpolateRgbBasis=$a;h.interpolateRgbBasisClosed=ja;h.interpolateRound=
function(p,q){return p=+p,q=+q,function(t){return Math.round(p*(1-t)+q*t)}};h.interpolateString=Oa;h.interpolateTransformCss=J;h.interpolateTransformSvg=V;h.interpolateZoom=ia;h.piecewise=function(p,q){void 0===q&&(q=p,p=Aa);for(var t=0,G=q.length-1,L=q[0],ba=Array(0>G?0:G);t<G;)ba[t]=p(L,L=q[++t]);return function(Ga){var La=Math.max(0,Math.min(G-1,Math.floor(Ga*=G)));return ba[La](Ga-La)}};h.quantize=function(p,q){for(var t=Array(q),G=0;G<q;++G)t[G]=p(G/(q-1));return t};Object.defineProperty(h,"__esModule",
{value:!0})})};
shadow$provide[22]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(3),xb(21),xb(4),xb(5),xb(7)):"function"===typeof define&&define.amd?define("exports d3-array d3-interpolate d3-format d3-time d3-time-format".split(" "),m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.d3=h.d3||{},h.d3,h.d3,h.d3,h.d3,h.d3))})(this,function(h,m,x,Wa,Gb,gb){function wb(ya,lb){switch(arguments.length){case 0:break;case 1:this.range(ya);break;default:this.range(lb).domain(ya)}return this}
function Lb(ya,lb){switch(arguments.length){case 0:break;case 1:"function"===typeof ya?this.interpolator(ya):this.range(ya);break;default:this.domain(ya),"function"===typeof lb?this.interpolator(lb):this.range(lb)}return this}function rb(){function ya(Qb){var Zb=Qb+"",Ic=lb.get(Zb);if(!Ic){if(Ob!==Ja)return Ob;lb.set(Zb,Ic=yb.push(Qb))}return Ya[(Ic-1)%Ya.length]}var lb=new Map,yb=[],Ya=[],Ob=Ja;ya.domain=function(Qb){if(!arguments.length)return yb.slice();yb=[];lb=new Map;for(var Zb=$jscomp.makeIterator(Qb),
Ic=Zb.next();!Ic.done;Ic=Zb.next()){Ic=Ic.value;var uc=Ic+"";lb.has(uc)||lb.set(uc,yb.push(Ic))}return ya};ya.range=function(Qb){return arguments.length?(Ya=Array.from(Qb),ya):Ya.slice()};ya.unknown=function(Qb){return arguments.length?(Ob=Qb,ya):Ob};ya.copy=function(){return rb(yb,Ya).unknown(Ob)};wb.apply(ya,arguments);return ya}function Ua(){function ya(){var Xc=yb().length,Uc=Qb<Ob,Md=Uc?Qb:Ob,Qd=Uc?Ob:Qb;Zb=(Qd-Md)/Math.max(1,Xc-Zc+2*Ad);uc&&(Zb=Math.floor(Zb));Md+=(Qd-Md-Zb*(Xc-Zc))*Lc;Ic=Zb*
(1-Zc);uc&&(Md=Math.round(Md),Ic=Math.round(Ic));Xc=m.range(Xc).map(function(fe){return Md+Zb*fe});return Ya(Uc?Xc.reverse():Xc)}var lb=rb().unknown(void 0),yb=lb.domain,Ya=lb.range,Ob=0,Qb=1,Zb,Ic,uc=!1,Zc=0,Ad=0,Lc=.5;delete lb.unknown;lb.domain=function(Xc){return arguments.length?(yb(Xc),ya()):yb()};lb.range=function(Xc){if(arguments.length){var Uc=$jscomp.makeIterator(Xc);Ob=Uc.next().value;Qb=Uc.next().value;Uc=(Ob=+Ob,Qb=+Qb,ya())}else Uc=[Ob,Qb];return Uc};lb.rangeRound=function(Xc){Xc=$jscomp.makeIterator(Xc);
Ob=Xc.next().value;Qb=Xc.next().value;return Ob=+Ob,Qb=+Qb,uc=!0,ya()};lb.bandwidth=function(){return Ic};lb.step=function(){return Zb};lb.round=function(Xc){return arguments.length?(uc=!!Xc,ya()):uc};lb.padding=function(Xc){return arguments.length?(Zc=Math.min(1,Ad=+Xc),ya()):Zc};lb.paddingInner=function(Xc){return arguments.length?(Zc=Math.min(1,Xc),ya()):Zc};lb.paddingOuter=function(Xc){return arguments.length?(Ad=+Xc,ya()):Ad};lb.align=function(Xc){return arguments.length?(Lc=Math.max(0,Math.min(1,
Xc)),ya()):Lc};lb.copy=function(){return Ua(yb(),[Ob,Qb]).round(uc).paddingInner(Zc).paddingOuter(Ad).align(Lc)};return wb.apply(ya(),arguments)}function Sa(ya){var lb=ya.copy;ya.padding=ya.paddingOuter;delete ya.paddingInner;delete ya.paddingOuter;ya.copy=function(){return Sa(lb())};return ya}function ab(ya){return function(){return ya}}function za(ya){return+ya}function Y(ya){return ya}function na(ya,lb){return(lb-=ya=+ya)?function(yb){return(yb-ya)/lb}:ab(isNaN(lb)?NaN:.5)}function Ba(ya,lb){if(ya>
lb){var yb=ya;ya=lb;lb=yb}return function(Ya){return Math.max(ya,Math.min(lb,Ya))}}function Qa(ya,lb,yb){var Ya=ya[0];ya=ya[1];var Ob=lb[0];lb=lb[1];ya<Ya?(Ya=na(ya,Ya),Ob=yb(lb,Ob)):(Ya=na(Ya,ya),Ob=yb(Ob,lb));return function(Qb){return Ob(Ya(Qb))}}function ca(ya,lb,yb){var Ya=Math.min(ya.length,lb.length)-1,Ob=Array(Ya),Qb=Array(Ya),Zb=-1;ya[Ya]<ya[0]&&(ya=ya.slice().reverse(),lb=lb.slice().reverse());for(;++Zb<Ya;)Ob[Zb]=na(ya[Zb],ya[Zb+1]),Qb[Zb]=yb(lb[Zb],lb[Zb+1]);return function(Ic){var uc=
m.bisect(ya,Ic,1,Ya)-1;return Qb[uc](Ob[uc](Ic))}}function Z(ya,lb){return lb.domain(ya.domain()).range(ya.range()).interpolate(ya.interpolate()).clamp(ya.clamp()).unknown(ya.unknown())}function Oa(){function ya(){var Xc=Math.min(yb.length,Ya.length);uc!==Y&&(uc=Ba(yb[0],yb[Xc-1]));Zc=2<Xc?ca:Qa;Ad=Lc=null;return lb}function lb(Xc){return null==Xc||isNaN(Xc=+Xc)?Ic:(Ad||(Ad=Zc(yb.map(Qb),Ya,Ob)))(Qb(uc(Xc)))}var yb=Ta,Ya=Ta,Ob=x.interpolate,Qb,Zb,Ic,uc=Y,Zc,Ad,Lc;lb.invert=function(Xc){return uc(Zb((Lc||
(Lc=Zc(Ya,yb.map(Qb),x.interpolateNumber)))(Xc)))};lb.domain=function(Xc){return arguments.length?(yb=Array.from(Xc,za),ya()):yb.slice()};lb.range=function(Xc){return arguments.length?(Ya=Array.from(Xc),ya()):Ya.slice()};lb.rangeRound=function(Xc){return Ya=Array.from(Xc),Ob=x.interpolateRound,ya()};lb.clamp=function(Xc){return arguments.length?(uc=Xc?!0:Y,ya()):uc!==Y};lb.interpolate=function(Xc){return arguments.length?(Ob=Xc,ya()):Ob};lb.unknown=function(Xc){return arguments.length?(Ic=Xc,lb):
Ic};return function(Xc,Uc){Qb=Xc;Zb=Uc;return ya()}}function Aa(ya,lb,yb,Ya){yb=m.tickStep(ya,lb,yb);var Ob;Ya=Wa.formatSpecifier(null==Ya?",f":Ya);switch(Ya.type){case "s":return ya=Math.max(Math.abs(ya),Math.abs(lb)),null!=Ya.precision||isNaN(Ob=Wa.precisionPrefix(yb,ya))||(Ya.precision=Ob),Wa.formatPrefix(Ya,ya);case "":case "e":case "g":case "p":case "r":null!=Ya.precision||isNaN(Ob=Wa.precisionRound(yb,Math.max(Math.abs(ya),Math.abs(lb))))||(Ya.precision=Ob-("e"===Ya.type));break;case "f":case "%":null!=
Ya.precision||isNaN(Ob=Wa.precisionFixed(yb))||(Ya.precision=Ob-2*("%"===Ya.type))}return Wa.format(Ya)}function va(ya){var lb=ya.domain;ya.ticks=function(yb){var Ya=lb();return m.ticks(Ya[0],Ya[Ya.length-1],null==yb?10:yb)};ya.tickFormat=function(yb,Ya){var Ob=lb();return Aa(Ob[0],Ob[Ob.length-1],null==yb?10:yb,Ya)};ya.nice=function(yb){null==yb&&(yb=10);var Ya=lb(),Ob=0,Qb=Ya.length-1,Zb=Ya[Ob],Ic=Ya[Qb],uc=10;if(Ic<Zb){var Zc=Zb;Zb=Ic;Ic=Zc;Zc=Ob;Ob=Qb;Qb=Zc}for(;0<uc--;){Zc=m.tickIncrement(Zb,
Ic,yb);if(Zc===Ad)return Ya[Ob]=Zb,Ya[Qb]=Ic,lb(Ya);if(0<Zc)Zb=Math.floor(Zb/Zc)*Zc,Ic=Math.ceil(Ic/Zc)*Zc;else if(0>Zc)Zb=Math.ceil(Zb*Zc)/Zc,Ic=Math.floor(Ic*Zc)/Zc;else break;var Ad=Zc}return ya};return ya}function xa(){var ya=Oa()(Y,Y);ya.copy=function(){return Z(ya,xa())};wb.apply(ya,arguments);return va(ya)}function fa(ya){function lb(Ya){return null==Ya||isNaN(Ya=+Ya)?yb:Ya}var yb;lb.invert=lb;lb.domain=lb.range=function(Ya){return arguments.length?(ya=Array.from(Ya,za),lb):ya.slice()};lb.unknown=
function(Ya){return arguments.length?(yb=Ya,lb):yb};lb.copy=function(){return fa(ya).unknown(yb)};ya=arguments.length?Array.from(ya,za):[0,1];return va(lb)}function pa(ya,lb){ya=ya.slice();var yb=0,Ya=ya.length-1,Ob=ya[yb],Qb=ya[Ya];if(Qb<Ob){var Zb=yb;yb=Ya;Ya=Zb;Zb=Ob;Ob=Qb;Qb=Zb}ya[yb]=lb.floor(Ob);ya[Ya]=lb.ceil(Qb);return ya}function da(ya){return Math.log(ya)}function ua(ya){return Math.exp(ya)}function Ia(ya){return-Math.log(-ya)}function wa(ya){return-Math.exp(-ya)}function $a(ya){return isFinite(ya)?
+("1e"+ya):0>ya?0:ya}function ja(ya){return 10===ya?$a:ya===Math.E?Math.exp:function(lb){return Math.pow(ya,lb)}}function u(ya){return ya===Math.E?Math.log:10===ya&&Math.log10||2===ya&&Math.log2||(ya=Math.log(ya),function(lb){return Math.log(lb)/ya})}function y(ya){return function(lb){return-ya(-lb)}}function z(ya){function lb(){Qb=u(Ob);Zb=ja(Ob);0>Ya()[0]?(Qb=y(Qb),Zb=y(Zb),ya(Ia,wa)):ya(da,ua);return yb}var yb=ya(da,ua),Ya=yb.domain,Ob=10,Qb,Zb;yb.base=function(Ic){return arguments.length?(Ob=
+Ic,lb()):Ob};yb.domain=function(Ic){return arguments.length?(Ya(Ic),lb()):Ya()};yb.ticks=function(Ic){var uc=Ya(),Zc=uc[0];uc=uc[uc.length-1];var Ad;if(Ad=uc<Zc)Lc=Zc,Zc=uc,uc=Lc;var Lc=Qb(Zc),Xc=Qb(uc),Uc=null==Ic?10:+Ic,Md=[];if(!(Ob%1)&&Xc-Lc<Uc){Lc=Math.floor(Lc);Xc=Math.ceil(Xc);if(0<Zc)for(;Lc<=Xc;++Lc){var Qd=1;for(Ic=Zb(Lc);Qd<Ob;++Qd){var fe=Ic*Qd;if(!(fe<Zc)){if(fe>uc)break;Md.push(fe)}}}else for(;Lc<=Xc;++Lc)for(Qd=Ob-1,Ic=Zb(Lc);1<=Qd;--Qd)if(fe=Ic*Qd,!(fe<Zc)){if(fe>uc)break;Md.push(fe)}2*
Md.length<Uc&&(Md=m.ticks(Zc,uc,Uc))}else Md=m.ticks(Lc,Xc,Math.min(Xc-Lc,Uc)).map(Zb);return Ad?Md.reverse():Md};yb.tickFormat=function(Ic,uc){null==uc&&(uc=10===Ob?".0e":",");"function"!==typeof uc&&(uc=Wa.format(uc));if(Infinity===Ic)return uc;null==Ic&&(Ic=10);var Zc=Math.max(1,Ob*Ic/yb.ticks().length);return function(Ad){var Lc=Ad/Zb(Math.round(Qb(Ad)));Lc*Ob<Ob-.5&&(Lc*=Ob);return Lc<=Zc?uc(Ad):""}};yb.nice=function(){return Ya(pa(Ya(),{floor:function(Ic){return Zb(Math.floor(Qb(Ic)))},ceil:function(Ic){return Zb(Math.ceil(Qb(Ic)))}}))};
return yb}function D(){var ya=z(Oa()).domain([1,10]);ya.copy=function(){return Z(ya,D()).base(ya.base())};wb.apply(ya,arguments);return ya}function C(ya){return function(lb){return Math.sign(lb)*Math.log1p(Math.abs(lb/ya))}}function J(ya){return function(lb){return Math.sign(lb)*Math.expm1(Math.abs(lb))*ya}}function V(ya){var lb=1,yb=ya(C(lb),J(lb));yb.constant=function(Ya){return arguments.length?ya(C(lb=+Ya),J(lb)):lb};return va(yb)}function ia(){var ya=V(Oa());ya.copy=function(){return Z(ya,ia()).constant(ya.constant())};
return wb.apply(ya,arguments)}function Pa(ya){return function(lb){return 0>lb?-Math.pow(-lb,ya):Math.pow(lb,ya)}}function cb(ya){return 0>ya?-Math.sqrt(-ya):Math.sqrt(ya)}function M(ya){return 0>ya?-ya*ya:ya*ya}function Ka(ya){var lb=ya(Y,Y),yb=1;lb.exponent=function(Ya){return arguments.length?(yb=+Ya,1===yb?ya(Y,Y):.5===yb?ya(cb,M):ya(Pa(yb),Pa(1/yb))):yb};return va(lb)}function ka(){var ya=Ka(Oa());ya.copy=function(){return Z(ya,ka()).exponent(ya.exponent())};wb.apply(ya,arguments);return ya}function ha(ya){return Math.sign(ya)*
ya*ya}function w(){function ya(Qb){Qb=lb(Qb);Qb=Math.sign(Qb)*Math.sqrt(Math.abs(Qb));return isNaN(Qb)?Ob:Ya?Math.round(Qb):Qb}var lb=Oa()(Y,Y),yb=[0,1],Ya=!1,Ob;ya.invert=function(Qb){return lb.invert(ha(Qb))};ya.domain=function(Qb){return arguments.length?(lb.domain(Qb),ya):lb.domain()};ya.range=function(Qb){return arguments.length?(lb.range((yb=Array.from(Qb,za)).map(ha)),ya):yb.slice()};ya.rangeRound=function(Qb){return ya.range(Qb).round(!0)};ya.round=function(Qb){return arguments.length?(Ya=
!!Qb,ya):Ya};ya.clamp=function(Qb){return arguments.length?(lb.clamp(Qb),ya):lb.clamp()};ya.unknown=function(Qb){return arguments.length?(Ob=Qb,ya):Ob};ya.copy=function(){return w(lb.domain(),yb).round(Ya).clamp(lb.clamp()).unknown(Ob)};wb.apply(ya,arguments);return va(ya)}function H(){function ya(){var Zb=0,Ic=Math.max(1,Ya.length);for(Ob=Array(Ic-1);++Zb<Ic;)Ob[Zb-1]=m.quantileSorted(yb,Zb/Ic);return lb}function lb(Zb){return null==Zb||isNaN(Zb=+Zb)?Qb:Ya[m.bisect(Ob,Zb)]}var yb=[],Ya=[],Ob=[],
Qb;lb.invertExtent=function(Zb){Zb=Ya.indexOf(Zb);return 0>Zb?[NaN,NaN]:[0<Zb?Ob[Zb-1]:yb[0],Zb<Ob.length?Ob[Zb]:yb[yb.length-1]]};lb.domain=function(Zb){if(!arguments.length)return yb.slice();yb=[];for(var Ic=$jscomp.makeIterator(Zb),uc=Ic.next();!uc.done;uc=Ic.next())uc=uc.value,null==uc||isNaN(uc=+uc)||yb.push(uc);yb.sort(m.ascending);return ya()};lb.range=function(Zb){return arguments.length?(Ya=Array.from(Zb),ya()):Ya.slice()};lb.unknown=function(Zb){return arguments.length?(Qb=Zb,lb):Qb};lb.quantiles=
function(){return Ob.slice()};lb.copy=function(){return H().domain(yb).range(Ya).unknown(Qb)};return wb.apply(lb,arguments)}function p(){function ya(uc){return null!=uc&&uc<=uc?Zb[m.bisect(Qb,uc,0,Ob)]:Ic}function lb(){var uc=-1;for(Qb=Array(Ob);++uc<Ob;)Qb[uc]=((uc+1)*Ya-(uc-Ob)*yb)/(Ob+1);return ya}var yb=0,Ya=1,Ob=1,Qb=[.5],Zb=[0,1],Ic;ya.domain=function(uc){if(arguments.length){var Zc=$jscomp.makeIterator(uc);yb=Zc.next().value;Ya=Zc.next().value;Zc=(yb=+yb,Ya=+Ya,lb())}else Zc=[yb,Ya];return Zc};
ya.range=function(uc){return arguments.length?(Ob=(Zb=Array.from(uc)).length-1,lb()):Zb.slice()};ya.invertExtent=function(uc){uc=Zb.indexOf(uc);return 0>uc?[NaN,NaN]:1>uc?[yb,Qb[0]]:uc>=Ob?[Qb[Ob-1],Ya]:[Qb[uc-1],Qb[uc]]};ya.unknown=function(uc){return arguments.length?(Ic=uc,ya):ya};ya.thresholds=function(){return Qb.slice()};ya.copy=function(){return p().domain([yb,Ya]).range(Zb).unknown(Ic)};return wb.apply(va(ya),arguments)}function q(){function ya(Qb){return null!=Qb&&Qb<=Qb?yb[m.bisect(lb,Qb,
0,Ob)]:Ya}var lb=[.5],yb=[0,1],Ya,Ob=1;ya.domain=function(Qb){return arguments.length?(lb=Array.from(Qb),Ob=Math.min(lb.length,yb.length-1),ya):lb.slice()};ya.range=function(Qb){return arguments.length?(yb=Array.from(Qb),Ob=Math.min(lb.length,yb.length-1),ya):yb.slice()};ya.invertExtent=function(Qb){Qb=yb.indexOf(Qb);return[lb[Qb-1],lb[Qb]]};ya.unknown=function(Qb){return arguments.length?(Ya=Qb,ya):Ya};ya.copy=function(){return q().domain(lb).range(yb).unknown(Ya)};return wb.apply(ya,arguments)}
function t(ya){return new Date(ya)}function G(ya){return ya instanceof Date?+ya:+new Date(+ya)}function L(ya,lb,yb,Ya,Ob,Qb,Zb,Ic,uc,Zc){function Ad(Rc){return(uc(Rc)<Rc?Md:Ic(Rc)<Rc?Qd:Zb(Rc)<Rc?fe:Qb(Rc)<Rc?Eb:Ya(Rc)<Rc?Ob(Rc)<Rc?Rb:mb:yb(Rc)<Rc?rc:Cc)(Rc)}var Lc=Oa()(Y,Y),Xc=Lc.invert,Uc=Lc.domain,Md=Zc(".%L"),Qd=Zc(":%S"),fe=Zc("%I:%M"),Eb=Zc("%I %p"),Rb=Zc("%a %d"),mb=Zc("%b %d"),rc=Zc("%B"),Cc=Zc("%Y");Lc.invert=function(Rc){return new Date(Xc(Rc))};Lc.domain=function(Rc){return arguments.length?
Uc(Array.from(Rc,G)):Uc().map(t)};Lc.ticks=function(Rc){var sd=Uc();return ya(sd[0],sd[sd.length-1],null==Rc?10:Rc)};Lc.tickFormat=function(Rc,sd){return null==sd?Ad:Zc(sd)};Lc.nice=function(Rc){var sd=Uc();Rc&&"function"===typeof Rc.range||(Rc=lb(sd[0],sd[sd.length-1],null==Rc?10:Rc));return Rc?Uc(pa(sd,Rc)):Lc};Lc.copy=function(){return Z(Lc,L(ya,lb,yb,Ya,Ob,Qb,Zb,Ic,uc,Zc))};return Lc}function ba(){function ya(Lc){return null==Lc||isNaN(Lc=+Lc)?Ad:uc(0===Zb?.5:(Lc=(Ic(Lc)-Ob)*Zb,Zc?Math.max(0,
Math.min(1,Lc)):Lc))}function lb(Lc){return function(Xc){if(arguments.length){var Uc=$jscomp.makeIterator(Xc);var Md=Uc.next().value;Uc=Uc.next().value;Md=(uc=Lc(Md,Uc),ya)}else Md=[uc(0),uc(1)];return Md}}var yb=0,Ya=1,Ob,Qb,Zb,Ic,uc=Y,Zc=!1,Ad;ya.domain=function(Lc){if(arguments.length){var Xc=$jscomp.makeIterator(Lc);yb=Xc.next().value;Ya=Xc.next().value;Xc=(Ob=Ic(yb=+yb),Qb=Ic(Ya=+Ya),Zb=Ob===Qb?0:1/(Qb-Ob),ya)}else Xc=[yb,Ya];return Xc};ya.clamp=function(Lc){return arguments.length?(Zc=!!Lc,
ya):Zc};ya.interpolator=function(Lc){return arguments.length?(uc=Lc,ya):uc};ya.range=lb(x.interpolate);ya.rangeRound=lb(x.interpolateRound);ya.unknown=function(Lc){return arguments.length?(Ad=Lc,ya):Ad};return function(Lc){Ic=Lc;Ob=Lc(yb);Qb=Lc(Ya);Zb=Ob===Qb?0:1/(Qb-Ob);return ya}}function Ga(ya,lb){return lb.domain(ya.domain()).interpolator(ya.interpolator()).clamp(ya.clamp()).unknown(ya.unknown())}function La(){var ya=va(ba()(Y));ya.copy=function(){return Ga(ya,La())};return Lb.apply(ya,arguments)}
function db(){var ya=z(ba()).domain([1,10]);ya.copy=function(){return Ga(ya,db()).base(ya.base())};return Lb.apply(ya,arguments)}function sb(){var ya=V(ba());ya.copy=function(){return Ga(ya,sb()).constant(ya.constant())};return Lb.apply(ya,arguments)}function S(){var ya=Ka(ba());ya.copy=function(){return Ga(ya,S()).exponent(ya.exponent())};return Lb.apply(ya,arguments)}function aa(){function ya(Ya){if(null!=Ya&&!isNaN(Ya=+Ya))return yb((m.bisect(lb,Ya,1)-1)/(lb.length-1))}var lb=[],yb=Y;ya.domain=
function(Ya){if(!arguments.length)return lb.slice();lb=[];for(var Ob=$jscomp.makeIterator(Ya),Qb=Ob.next();!Qb.done;Qb=Ob.next())Qb=Qb.value,null==Qb||isNaN(Qb=+Qb)||lb.push(Qb);lb.sort(m.ascending);return ya};ya.interpolator=function(Ya){return arguments.length?(yb=Ya,ya):yb};ya.range=function(){return lb.map(function(Ya,Ob){return yb(Ob/(lb.length-1))})};ya.quantiles=function(Ya){return Array.from({length:Ya+1},function(Ob,Qb){return m.quantile(lb,Qb/Ya)})};ya.copy=function(){return aa(yb).domain(lb)};
return Lb.apply(ya,arguments)}function qa(){function ya(Qd){return isNaN(Qd=+Qd)?Md:(Qd=.5+((Qd=+Xc(Qd))-Ic)*(Qb*Qd<Qb*Ic?Zc:Ad),Lc(Uc?Math.max(0,Math.min(1,Qd)):Qd))}function lb(Qd){return function(fe){if(arguments.length){var Eb=$jscomp.makeIterator(fe);var Rb=Eb.next().value;var mb=Eb.next().value;Eb=Eb.next().value;Rb=(Lc=x.piecewise(Qd,[Rb,mb,Eb]),ya)}else Rb=[Lc(0),Lc(.5),Lc(1)];return Rb}}var yb=0,Ya=.5,Ob=1,Qb=1,Zb,Ic,uc,Zc,Ad,Lc=Y,Xc,Uc=!1,Md;ya.domain=function(Qd){if(arguments.length){var fe=
$jscomp.makeIterator(Qd);yb=fe.next().value;Ya=fe.next().value;Ob=fe.next().value;fe=(Zb=Xc(yb=+yb),Ic=Xc(Ya=+Ya),uc=Xc(Ob=+Ob),Zc=Zb===Ic?0:.5/(Ic-Zb),Ad=Ic===uc?0:.5/(uc-Ic),Qb=Ic<Zb?-1:1,ya)}else fe=[yb,Ya,Ob];return fe};ya.clamp=function(Qd){return arguments.length?(Uc=!!Qd,ya):Uc};ya.interpolator=function(Qd){return arguments.length?(Lc=Qd,ya):Lc};ya.range=lb(x.interpolate);ya.rangeRound=lb(x.interpolateRound);ya.unknown=function(Qd){return arguments.length?(Md=Qd,ya):Md};return function(Qd){Xc=
Qd;Zb=Qd(yb);Ic=Qd(Ya);uc=Qd(Ob);Zc=Zb===Ic?0:.5/(Ic-Zb);Ad=Ic===uc?0:.5/(uc-Ic);Qb=Ic<Zb?-1:1;return ya}}function ta(){var ya=va(qa()(Y));ya.copy=function(){return Ga(ya,ta())};return Lb.apply(ya,arguments)}function ea(){var ya=z(qa()).domain([.1,1,10]);ya.copy=function(){return Ga(ya,ea()).base(ya.base())};return Lb.apply(ya,arguments)}function U(){var ya=V(qa());ya.copy=function(){return Ga(ya,U()).constant(ya.constant())};return Lb.apply(ya,arguments)}function Fa(){var ya=Ka(qa());ya.copy=function(){return Ga(ya,
Fa()).exponent(ya.exponent())};return Lb.apply(ya,arguments)}var Ja=Symbol("implicit"),Ta=[0,1];h.scaleBand=Ua;h.scaleDiverging=ta;h.scaleDivergingLog=ea;h.scaleDivergingPow=Fa;h.scaleDivergingSqrt=function(){return Fa.apply(null,arguments).exponent(.5)};h.scaleDivergingSymlog=U;h.scaleIdentity=fa;h.scaleImplicit=Ja;h.scaleLinear=xa;h.scaleLog=D;h.scaleOrdinal=rb;h.scalePoint=function(){return Sa(Ua.apply(null,arguments).paddingInner(1))};h.scalePow=ka;h.scaleQuantile=H;h.scaleQuantize=p;h.scaleRadial=
w;h.scaleSequential=La;h.scaleSequentialLog=db;h.scaleSequentialPow=S;h.scaleSequentialQuantile=aa;h.scaleSequentialSqrt=function(){return S.apply(null,arguments).exponent(.5)};h.scaleSequentialSymlog=sb;h.scaleSqrt=function(){return ka.apply(null,arguments).exponent(.5)};h.scaleSymlog=ia;h.scaleThreshold=q;h.scaleTime=function(){return wb.apply(L(Gb.timeTicks,Gb.timeTickInterval,Gb.timeYear,Gb.timeMonth,Gb.timeWeek,Gb.timeDay,Gb.timeHour,Gb.timeMinute,Gb.timeSecond,gb.timeFormat).domain([new Date(2E3,
0,1),new Date(2E3,0,2)]),arguments)};h.scaleUtc=function(){return wb.apply(L(Gb.utcTicks,Gb.utcTickInterval,Gb.utcYear,Gb.utcMonth,Gb.utcWeek,Gb.utcDay,Gb.utcHour,Gb.utcMinute,Gb.utcSecond,gb.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};h.tickFormat=Aa;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[23]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(0),xb(3),xb(22),xb(21),xb(6)):"function"===typeof define&&define.amd?define("exports vega-util d3-array d3-scale d3-interpolate vega-time".split(" "),m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.vega={},h.vega,h.d3,h.d3,h.d3,h.vega))})(this,function(h,m,x,Wa,Gb,gb){function wb(p,q,t){q=p-q+2*t;return p?0<q?q:1:0}function Lb(p){return function(q){var t=q[0];q=q[1];if(q<t){var G=
t;t=q;q=G}return[p.invert(t),p.invert(q)]}}function rb(p){return function(q){var t=p.range(),G=q[0];q=q[1];var L=-1,ba;if(q<G){var Ga=G;G=q;q=Ga}Ga=0;for(ba=t.length;Ga<ba;++Ga)if(t[Ga]>=G&&t[Ga]<=q){0>L&&(L=Ga);var La=Ga}if(!(0>L))return G=p.invertExtent(t[L]),q=p.invertExtent(t[La]),[void 0===G[0]?G[1]:G[0],void 0===q[1]?q[0]:q[1]]}}function Ua(){function p(){var aa=t().length,qa=L[1]<L[0],ta=L[1-qa],ea=wb(aa,db,sb),U=L[qa-0];ba=(ta-U)/(ea||1);La&&(ba=Math.floor(ba));U+=(ta-U-ba*(aa-db))*S;Ga=ba*
(1-db);La&&(U=Math.round(U),Ga=Math.round(Ga));aa=x.range(aa).map(function(Fa){return U+ba*Fa});return G(qa?aa.reverse():aa)}var q=Wa.scaleOrdinal().unknown(void 0),t=q.domain,G=q.range,L=[0,1],ba,Ga,La=!1,db=0,sb=0,S=.5;delete q.unknown;q.domain=function(aa){return arguments.length?(t(aa),p()):t()};q.range=function(aa){return arguments.length?(L=[+aa[0],+aa[1]],p()):L.slice()};q.rangeRound=function(aa){L=[+aa[0],+aa[1]];La=!0;return p()};q.bandwidth=function(){return Ga};q.step=function(){return ba};
q.round=function(aa){return arguments.length?(La=!!aa,p()):La};q.padding=function(aa){return arguments.length?(db=sb=Math.max(0,Math.min(1,aa)),p()):db};q.paddingInner=function(aa){return arguments.length?(db=Math.max(0,Math.min(1,aa)),p()):db};q.paddingOuter=function(aa){return arguments.length?(sb=Math.max(0,Math.min(1,aa)),p()):sb};q.align=function(aa){return arguments.length?(S=Math.max(0,Math.min(1,aa)),p()):S};q.invertRange=function(aa){if(null!=aa[0]&&null!=aa[1]){var qa=L[1]<L[0],ta=qa?G().reverse():
G(),ea=ta.length-1,U=+aa[0],Fa=+aa[1];if(U===U&&Fa===Fa){if(Fa<U){var Ja=U;U=Fa;Fa=Ja}if(!(Fa<ta[0]||U>L[1-qa]))return aa=Math.max(0,x.bisectRight(ta,U)-1),Fa=U===Fa?aa:x.bisectRight(ta,Fa)-1,U-ta[aa]>Ga+1E-10&&++aa,qa&&(Ja=aa,aa=ea-Fa,Fa=ea-Ja),aa>Fa?void 0:t().slice(aa,Fa+1)}}};q.invert=function(aa){return(aa=q.invertRange([aa,aa]))?aa[0]:aa};q.copy=function(){return Ua().domain(t()).range(L).round(La).paddingInner(db).paddingOuter(sb).align(S)};return p()}function Sa(p){var q=p.copy;p.padding=
p.paddingOuter;delete p.paddingInner;p.copy=function(){return Sa(q())};return p}function ab(){function p(G){return null==G||G!==G?void 0:t[(x.bisect(q,G)-1)%t.length]}var q=[],t=[];p.domain=function(G){return arguments.length?(q=z.call(G,m.toNumber),p):q.slice()};p.range=function(G){return arguments.length?(t=D.call(G),p):t.slice()};p.tickFormat=function(G,L){return Wa.tickFormat(q[0],m.peek(q),null==G?10:G,L)};p.copy=function(){return ab().domain(p.domain()).range(p.range())};return p}function za(p,
q,t){var G=function(){var L=q();L.invertRange||(L.invertRange=L.invert?Lb(L):L.invertExtent?rb(L):void 0);L.type=p;return L};G.metadata=m.toSet(m.array(t));return G}function Y(p,q,t){return 1<arguments.length?(C[p]=za(p,q,t),this):na(p)?C[p]:void 0}function na(p){return m.hasOwnProperty(C,p)}function Ba(p,q){return(p=C[p])&&p.metadata[q]}function Qa(p){return Ba(p,"discrete")}function ca(p){return Ba(p,"discretizing")}function Z(p){return Ba(p,"log")}function Oa(p){return Ba(p,"temporal")}function Aa(p,
q,t){return Gb.piecewise(va(q||"rgb",t),p)}function va(p,q){p=y[xa(p)];return null!=q&&p&&p.gamma?p.gamma(q):p}function xa(p){return"interpolate"+p.toLowerCase().split("-").map(function(q){return q[0].toUpperCase()+q.slice(1)}).join("")}function fa(p){for(var q=p.length/6|0,t=Array(q),G=0;G<q;)t[G]="#"+p.slice(6*G,6*++G);return t}function pa(p,q){for(var t in p)da(t,q(p[t]))}function da(p,q){p=p&&p.toLowerCase();return 1<arguments.length?(V[p]=q,this):V[p]}function ua(p,q,t){var G=p.range(),L=G[0],
ba=m.peek(G);G=Pa;L>ba&&(G=ba,ba=L,L=G,G=cb);L=Math.floor(L);ba=Math.ceil(ba);q=q.map(function(Ga){return[Ga,p(Ga)]}).filter(function(Ga){return L<=Ga[1]&&Ga[1]<=ba}).sort(G).map(function(Ga){return Ga[0]});if(0<t&&1<q.length){for(G=[q[0],m.peek(q)];q.length>t&&3<=q.length;)q=q.filter(function(Ga,La){return!(La%2)});3>q.length&&(q=G)}return q}function Ia(p,q){return p.bins?ua(p,p.bins):p.ticks?p.ticks(q):p.domain()}function wa(p,q,t,G,L,ba){var Ga=q.type,La=ia;if("time"===Ga||"time"===L)La=p.timeFormat(G);
else if("utc"===Ga||"utc"===L)La=p.utcFormat(G);else if(Z(Ga)){var db=p.formatFloat(G);if(ba||q.bins)La=db;else{var sb=$a(q,t,!1);La=function(S){return sb(S)?db(S):""}}}else q.tickFormat?(q=q.domain(),La=p.formatSpan(q[0],q[q.length-1],t,G)):G&&(La=p.format(G));return La}function $a(p,q,t){var G=Ia(p,q),L=p.base(),ba=Math.log(L),Ga=Math.max(1,L*q/G.length);p=function(La){La/=Math.pow(L,Math.round(Math.log(La)/ba));La*L<L-.5&&(La*=L);return La<=Ga};return t?G.filter(p):p}function ja(p,q){p.bins?(p=
p.bins,q=p.slice(0,-1),q.max=m.peek(p),p=q):"log"===p.type?p=$a(p,q,!0):Ka[p.type]?(p=p[Ka[p.type]](),p=[-Infinity].concat(p),p.max=Infinity):p=Ia(p,q);return p}function u(p,q,t,G,L,ba,Ga){if(ka[q.type]&&"time"!==ba&&"utc"!==ba){t=q[ka[q.type]]();ba=t.length;Ga=1<ba?t[1]-t[0]:t[0];var La;for(La=1;La<ba;++La)Ga=Math.min(Ga,t[La]-t[La-1]);p=p.formatSpan(0,Ga,30,L)}else p=wa(p,q,t,L,ba,Ga);return"symbol"===G&&(Ka[q.type]||q.bins)?ha(p):"discrete"===G?w(p):H(p)}var y=function(p){if(p&&p.__esModule)return p;
var q=Object.create(null);p&&Object.keys(p).forEach(function(t){if("default"!==t){var G=Object.getOwnPropertyDescriptor(p,t);Object.defineProperty(q,t,G.get?G:{enumerable:!0,get:function(){return p[t]}})}});q["default"]=p;return Object.freeze(q)}(Gb),z=Array.prototype.map,D=Array.prototype.slice,C={};Y("identity",Wa.scaleIdentity);Y("linear",Wa.scaleLinear,"continuous");Y("log",Wa.scaleLog,["continuous","log"]);Y("pow",Wa.scalePow,"continuous");Y("sqrt",Wa.scaleSqrt,"continuous");Y("symlog",Wa.scaleSymlog,
"continuous");Y("time",Wa.scaleTime,["continuous","temporal"]);Y("utc",Wa.scaleUtc,["continuous","temporal"]);Y("sequential",Wa.scaleSequential,["continuous","interpolating"]);Y("sequential-linear",Wa.scaleSequential,["continuous","interpolating"]);Y("sequential-log",Wa.scaleSequentialLog,["continuous","interpolating","log"]);Y("sequential-pow",Wa.scaleSequentialPow,["continuous","interpolating"]);Y("sequential-sqrt",Wa.scaleSequentialSqrt,["continuous","interpolating"]);Y("sequential-symlog",Wa.scaleSequentialSymlog,
["continuous","interpolating"]);Y("diverging-linear",Wa.scaleDiverging,["continuous","interpolating"]);Y("diverging-log",Wa.scaleDivergingLog,["continuous","interpolating","log"]);Y("diverging-pow",Wa.scaleDivergingPow,["continuous","interpolating"]);Y("diverging-sqrt",Wa.scaleDivergingSqrt,["continuous","interpolating"]);Y("diverging-symlog",Wa.scaleDivergingSymlog,["continuous","interpolating"]);Y("quantile",Wa.scaleQuantile,["discretizing","quantile"]);Y("quantize",Wa.scaleQuantize,"discretizing");
Y("threshold",Wa.scaleThreshold,"discretizing");Y("bin-ordinal",ab,["discrete","discretizing"]);Y("ordinal",Wa.scaleOrdinal,"discrete");Y("band",Ua,"discrete");Y("point",function(){return Sa(Ua().paddingInner(1))},"discrete");var J=["clamp","base","constant","exponent"],V={};pa({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",
category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",
pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},fa);pa({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",
oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",
purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",
blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",
redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},function(p){return Aa(fa(p))});var ia=function(p){return m.isArray(p)?p.map(function(q){return String(q)}):String(p)},Pa=function(p,q){return p[1]-q[1]},cb=function(p,q){return q[1]-p[1]},M={},Ka=(M.quantile="quantiles",M.quantize="thresholds",M.threshold="domain",M);M={};var ka=(M.quantile="quantiles",M.quantize=
"domain",M),ha=function(p){return function(q,t,G){t=G[t+1];G=G.max;G=null!=G?G:Infinity;t=null!=t?t:G;q=Number.isFinite(q)?p(q):null;t=Number.isFinite(t)?p(t):null;return q&&t?q+" – "+t:t?"\x3c "+t:"≥ "+q}},w=function(p){return function(q,t){return t?p(q):null}},H=function(p){return function(q){return p(q)}};Object.defineProperty(h,"scaleImplicit",{enumerable:!0,get:function(){return Wa.scaleImplicit}});h.Band="band";h.BinOrdinal="bin-ordinal";h.DiscreteLegend="discrete";h.Diverging="diverging";h.GradientLegend=
"gradient";h.Identity="identity";h.Linear="linear";h.Log="log";h.Ordinal="ordinal";h.Point="point";h.Pow="pow";h.Quantile="quantile";h.Quantize="quantize";h.Sequential="sequential";h.Sqrt="sqrt";h.SymbolLegend="symbol";h.Symlog="symlog";h.Threshold="threshold";h.Time="time";h.UTC="utc";h.bandSpace=wb;h.domainCaption=function(p,q,t){t=t||{};var G=Math.max(3,t.maxlen||7),L=t.format,ba=(t=t.formatType)||q.type;m.isString(L)&&Oa(ba)&&(L=L.replace(/%a/g,"%A").replace(/%b/g,"%B"));p=L||"time"!==ba?L||"utc"!==
ba?u(p,q,5,null,L,t,!0):p.utcFormat("%A, %d %B %Y, %X UTC"):p.timeFormat("%A, %d %B %Y, %X");if(ca(q.type))return G=ja(q).slice(1).map(p),q=G.length,q+" boundar"+(1===q?"y":"ies")+": "+G.join(", ");if(Qa(q.type))return L=q.domain(),q=L.length,G=q>G?L.slice(0,G-2).map(p).join(", ")+", ending with "+L.slice(-1).map(p):L.map(p).join(", "),q+" value"+(1===q?"":"s")+": "+G;G=q.domain();return"values from "+p(G[0])+" to "+p(m.peek(G))};h.interpolate=va;h.interpolateColors=Aa;h.interpolateRange=function(p,
q){var t=q[0],G=m.peek(q)-t;return function(L){return p(t+L*G)}};h.isContinuous=function(p){return Ba(p,"continuous")};h.isDiscrete=Qa;h.isDiscretizing=ca;h.isInterpolating=function(p){return Ba(p,"interpolating")};h.isLogarithmic=Z;h.isQuantile=function(p){return Ba(p,"quantile")};h.isTemporal=Oa;h.isValidScaleType=na;h.labelFormat=u;h.labelFraction=function(p){var q=p.domain(),t=q.length-1,G=+q[0];q=+m.peek(q);var L=q-G;"threshold"===p.type&&(p=t?L/t:.1,G-=p,L=q+p-G);return function(ba){return(ba-
G)/L}};h.labelValues=ja;h.quantizeInterpolator=function(p,q){for(var t=Array(q),G=q+1,L=0;L<q;)t[L]=p(++L/G);return t};h.scale=Y;h.scaleCopy=function(p){var q=p.type;p=p.copy();p.type=q;return p};h.scaleFraction=function(p,q,t){var G=t-q,L;if(G&&Number.isFinite(G)){G=(L=p.type).indexOf("-");L=0>G?L:L.slice(G+1);var ba=Y(L)().domain([q,t]).range([0,1]);J.forEach(function(Ga){return p[Ga]?ba[Ga](p[Ga]()):0});return ba}return m.constant(.5)};h.scheme=da;h.tickCount=function(p,q,t){m.isNumber(q)&&(p.bins&&
(q=Math.max(q,p.bins.length)),null!=t&&(q=Math.min(q,Math.floor(m.span(p.domain())/t||1))));if(m.isObject(q)){var G=q.step;q=q.interval}m.isString(q)&&(q="time"===p.type?gb.timeInterval(q):"utc"==p.type?gb.utcInterval(q):m.error("Only time and utc scales accept interval strings."),G&&(q=q.every(G)));return q};h.tickFormat=wa;h.tickValues=Ia;h.validTicks=ua;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[24]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(0),xb(18),xb(17),xb(19),xb(13),xb(23)):"function"===typeof define&&define.amd?define("exports vega-util d3-shape d3-path vega-canvas vega-loader vega-scale".split(" "),m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.vega={},h.vega,h.d3,h.d3,h.vega,h.vega,h.vega))})(this,function(h,m,x,Wa,Gb,gb,wb){function Lb(l,v,O){var W=l.gradient,Ra=l.id,ub="radial"===W?"p_":"";Ra||(Ra=l.id=
"gradient_"+ed++,"radial"===W?(l.x1=rb(l.x1,.5),l.y1=rb(l.y1,.5),l.r1=rb(l.r1,0),l.x2=rb(l.x2,.5),l.y2=rb(l.y2,.5),l.r2=rb(l.r2,.5),ub="p_"):(l.x1=rb(l.x1,0),l.y1=rb(l.y1,0),l.x2=rb(l.x2,1),l.y2=rb(l.y2,0)));v[Ra]=l;return"url("+(O||"")+"#"+ub+Ra+")"}function rb(l,v){return null!=l?l:v}function Ua(l,v,O){l=m.hasOwnProperty(pd,l)&&pd[l];var W=null;l&&(W=l.curve||l[v||"vertical"],l.tension&&null!=O&&(W=W[l.tension](O)));return W}function Sa(l){var v=[],O,W,Ra,ub=l.slice().replace(md[0],"###$1").split(md[1]).slice(1);
l=0;for(W=ub.length;l<W;++l){var Fb=ub[l];var Sb=Fb.slice(1).trim().replace(md[2],"$1###$2").replace(md[3],"$1###$2").split(md[4]);var fc=Fb.charAt(0);Fb=[fc];var Bc=0;for(Ra=Sb.length;Bc<Ra;++Bc)(O=+Sb[Bc])===O&&Fb.push(O);Sb=Ed[fc.toLowerCase()];if(Fb.length-1>Sb)for(Ra=Fb.length,Bc=1,v.push([fc].concat(Fb.slice(Bc,Bc+=Sb))),fc="M"===fc?"L":"m"===fc?"l":fc;Bc<Ra;Bc+=Sb)v.push([fc].concat(Fb.slice(Bc,Bc+Sb)));else v.push(Fb)}return v}function ab(l,v,O,W,Ra,ub,Fb,Sb,fc){var Bc=qe.call(arguments);
if(xd[Bc])return xd[Bc];var Hc=Fb*le,hd=Math.sin(Hc);Hc=Math.cos(Hc);O=Math.abs(O);W=Math.abs(W);var yd=Hc*(Sb-l)*.5+hd*(fc-v)*.5,Oc=Hc*(fc-v)*.5-hd*(Sb-l)*.5;yd=yd*yd/(O*O)+Oc*Oc/(W*W);1<yd&&(yd=Math.sqrt(yd),O*=yd,W*=yd);var Bd=Hc/O,Ld=hd/O,Le=-hd/W,X=Hc/W;yd=Bd*Sb+Ld*fc;Oc=Le*Sb+X*fc;Bd=Bd*l+Ld*v;Ld=Le*l+X*v;Le=1/((Bd-yd)*(Bd-yd)+(Ld-Oc)*(Ld-Oc))-.25;0>Le&&(Le=0);X=Math.sqrt(Le);ub==Ra&&(X=-X);Le=.5*(yd+Bd)-X*(Ld-Oc);X=.5*(Oc+Ld)+X*(Bd-yd);yd=Math.atan2(Oc-X,yd-Le);Oc=Math.atan2(Ld-X,Bd-Le)-yd;
0>Oc&&1===ub?Oc+=jc:0<Oc&&0===ub&&(Oc-=jc);Bd=Math.ceil(Math.abs(Oc/(Se+.001)));Ld=[];for(var Ea=0;Ea<Bd;++Ea)Ld[Ea]=[Le,X,yd+Ea*Oc/Bd,yd+(Ea+1)*Oc/Bd,O,W,hd,Hc];return xd[Bc]=Ld}function za(l,v,O,W,Ra,ub){var Fb=null,Sb=0,fc=0,Bc=0,Hc=0;null==O&&(O=0);null==W&&(W=0);null==Ra&&(Ra=1);null==ub&&(ub=Ra);l.beginPath&&l.beginPath();for(var hd=0,yd=v.length;hd<yd;++hd){var Oc=v[hd];if(1!==Ra||1!==ub){var Bd=Ra;var Ld=ub;var Le=ne[0]=Oc[0];if("a"===Le||"A"===Le)ne[1]=Bd*Oc[1],ne[2]=Ld*Oc[2],ne[3]=Oc[3],
ne[4]=Oc[4],ne[5]=Oc[5],ne[6]=Bd*Oc[6],ne[7]=Ld*Oc[7];else if("h"===Le||"H"===Le)ne[1]=Bd*Oc[1];else if("v"===Le||"V"===Le)ne[1]=Ld*Oc[1];else{Le=1;for(var X=Oc.length;Le<X;++Le)ne[Le]=(1==Le%2?Bd:Ld)*Oc[Le]}Oc=ne}switch(Oc[0]){case "l":Sb+=Oc[1];fc+=Oc[2];l.lineTo(Sb+O,fc+W);break;case "L":Sb=Oc[1];fc=Oc[2];l.lineTo(Sb+O,fc+W);break;case "h":Sb+=Oc[1];l.lineTo(Sb+O,fc+W);break;case "H":Sb=Oc[1];l.lineTo(Sb+O,fc+W);break;case "v":fc+=Oc[1];l.lineTo(Sb+O,fc+W);break;case "V":fc=Oc[1];l.lineTo(Sb+O,
fc+W);break;case "m":Sb+=Oc[1];fc+=Oc[2];l.moveTo(Sb+O,fc+W);break;case "M":Sb=Oc[1];fc=Oc[2];l.moveTo(Sb+O,fc+W);break;case "c":Bd=Sb+Oc[5];Ld=fc+Oc[6];Bc=Sb+Oc[3];Hc=fc+Oc[4];l.bezierCurveTo(Sb+Oc[1]+O,fc+Oc[2]+W,Bc+O,Hc+W,Bd+O,Ld+W);Sb=Bd;fc=Ld;break;case "C":Sb=Oc[5];fc=Oc[6];Bc=Oc[3];Hc=Oc[4];l.bezierCurveTo(Oc[1]+O,Oc[2]+W,Bc+O,Hc+W,Sb+O,fc+W);break;case "s":Bd=Sb+Oc[3];Ld=fc+Oc[4];Bc=2*Sb-Bc;Hc=2*fc-Hc;l.bezierCurveTo(Bc+O,Hc+W,Sb+Oc[1]+O,fc+Oc[2]+W,Bd+O,Ld+W);Bc=Sb+Oc[1];Hc=fc+Oc[2];Sb=Bd;
fc=Ld;break;case "S":Bd=Oc[3];Ld=Oc[4];Bc=2*Sb-Bc;Hc=2*fc-Hc;l.bezierCurveTo(Bc+O,Hc+W,Oc[1]+O,Oc[2]+W,Bd+O,Ld+W);Sb=Bd;fc=Ld;Bc=Oc[1];Hc=Oc[2];break;case "q":Bd=Sb+Oc[3];Ld=fc+Oc[4];Bc=Sb+Oc[1];Hc=fc+Oc[2];l.quadraticCurveTo(Bc+O,Hc+W,Bd+O,Ld+W);Sb=Bd;fc=Ld;break;case "Q":Bd=Oc[3];Ld=Oc[4];l.quadraticCurveTo(Oc[1]+O,Oc[2]+W,Bd+O,Ld+W);Sb=Bd;fc=Ld;Bc=Oc[1];Hc=Oc[2];break;case "t":Bd=Sb+Oc[1];Ld=fc+Oc[2];null===Fb[0].match(/[QqTt]/)?(Bc=Sb,Hc=fc):"t"===Fb[0]?(Bc=2*Sb-Ea,Hc=2*fc-bb):"q"===Fb[0]&&(Bc=
2*Sb-Bc,Hc=2*fc-Hc);var Ea=Bc;var bb=Hc;l.quadraticCurveTo(Bc+O,Hc+W,Bd+O,Ld+W);Sb=Bd;fc=Ld;Bc=Sb+Oc[1];Hc=fc+Oc[2];break;case "T":Bd=Oc[1];Ld=Oc[2];Bc=2*Sb-Bc;Hc=2*fc-Hc;l.quadraticCurveTo(Bc+O,Hc+W,Bd+O,Ld+W);Sb=Bd;fc=Ld;break;case "a":Y(l,Sb+O,fc+W,[Oc[1],Oc[2],Oc[3],Oc[4],Oc[5],Oc[6]+Sb+O,Oc[7]+fc+W]);Sb+=Oc[6];fc+=Oc[7];break;case "A":Y(l,Sb+O,fc+W,[Oc[1],Oc[2],Oc[3],Oc[4],Oc[5],Oc[6]+O,Oc[7]+W]);Sb=Oc[6];fc=Oc[7];break;case "z":case "Z":l.closePath()}Fb=Oc}}function Y(l,v,O,W){v=ab(W[5],W[6],
W[0],W[1],W[3],W[4],W[2],v,O);for(O=0;O<v.length;++O){var Ra=v[O];W=qe.call(Ra);if(Mb[W])W=Mb[W];else{var ub=Ra[0],Fb=Ra[1],Sb=Ra[2],fc=Ra[3],Bc=Ra[4],Hc=Ra[5],hd=Ra[6],yd=Ra[7];Ra=yd*Bc;var Oc=-hd*Hc;Bc*=hd;Hc*=yd;var Bd=Math.cos(Sb),Ld=Math.sin(Sb);hd=Math.cos(fc);yd=Math.sin(fc);Sb=.5*(fc-Sb);fc=Math.sin(.5*Sb);fc=8/3*fc*fc/Math.sin(Sb);Sb=ub+Bd-fc*Ld;Bd=Fb+Ld+fc*Bd;ub+=hd;Fb+=yd;yd=ub+fc*yd;hd=Fb-fc*hd;W=Mb[W]=[Ra*Sb+Oc*Bd,Bc*Sb+Hc*Bd,Ra*yd+Oc*hd,Bc*yd+Hc*hd,Ra*ub+Oc*Fb,Bc*ub+Hc*Fb]}l.bezierCurveTo(W[0],
W[1],W[2],W[3],W[4],W[5])}}function na(l){return m.hasOwnProperty(Ce,l)?Ce[l]:Ba(l)}function Ba(l){if(!m.hasOwnProperty($e,l)){var v=Sa(l);$e[l]={draw:function(O,W){za(O,v,0,0,Math.sqrt(W)/2)}}}return $e[l]}function Qa(l){return l.x}function ca(l){return l.y}function Z(l){return l.width}function Oa(l){return l.height}function Aa(l){return"function"===typeof l?l:function(){return+l}}function va(l,v,O){return Math.max(v,Math.min(l,O))}function xa(){function l(Hc,hd,yd){var Oc;hd=null!=hd?hd:+v.call(this,
Hc);yd=null!=yd?yd:+O.call(this,Hc);var Bd=+W.call(this,Hc),Ld=+Ra.call(this,Hc),Le=Math.min(Bd,Ld)/2,X=va(+ub.call(this,Hc),0,Le),Ea=va(+Fb.call(this,Hc),0,Le),bb=va(+Sb.call(this,Hc),0,Le);Hc=va(+fc.call(this,Hc),0,Le);Bc||(Bc=Oc=Wa.path());0>=X&&0>=Ea&&0>=bb&&0>=Hc?Bc.rect(hd,yd,Bd,Ld):(Bd=hd+Bd,Ld=yd+Ld,Bc.moveTo(hd+X,yd),Bc.lineTo(Bd-Ea,yd),Bc.bezierCurveTo(Bd-.448084975506*Ea,yd,Bd,yd+.448084975506*Ea,Bd,yd+Ea),Bc.lineTo(Bd,Ld-Hc),Bc.bezierCurveTo(Bd,Ld-.448084975506*Hc,Bd-.448084975506*Hc,
Ld,Bd-Hc,Ld),Bc.lineTo(hd+bb,Ld),Bc.bezierCurveTo(hd+.448084975506*bb,Ld,hd,Ld-.448084975506*bb,hd,Ld-bb),Bc.lineTo(hd,yd+X),Bc.bezierCurveTo(hd,yd+.448084975506*X,hd+.448084975506*X,yd,hd+X,yd),Bc.closePath());if(Oc)return Bc=null,Oc+""||null}var v=Qa,O=ca,W=Z,Ra=Oa,ub=Aa(0),Fb=ub,Sb=ub,fc=ub,Bc=null;l.x=function(Hc){return arguments.length?(v=Aa(Hc),l):v};l.y=function(Hc){return arguments.length?(O=Aa(Hc),l):O};l.width=function(Hc){return arguments.length?(W=Aa(Hc),l):W};l.height=function(Hc){return arguments.length?
(Ra=Aa(Hc),l):Ra};l.cornerRadius=function(Hc,hd,yd,Oc){return arguments.length?(ub=Aa(Hc),Fb=null!=hd?Aa(hd):ub,fc=null!=yd?Aa(yd):ub,Sb=null!=Oc?Aa(Oc):Fb,l):ub};l.context=function(Hc){return arguments.length?(Bc=null==Hc?null:Hc,l):Bc};return l}function fa(){function l(Hc){var hd,yd=Hc.length,Oc,Bd=!1,Ld;null==ub&&(ub=Ld=Wa.path());for(hd=0;hd<=yd;++hd)if(!(hd<yd&&Ra(Oc=Hc[hd],hd,Hc))===Bd&&(Bd=!Bd)&&(Fb=0),Bd){var Le=+v(Oc,hd,Hc),X=+O(Oc,hd,Hc),Ea=+W(Oc,hd,Hc)/2;if(Fb){var bb=fc-X,qb=Le-Sb;if(bb||
qb){var Cb=Math.sqrt(bb*bb+qb*qb),oc=(bb/=Cb)*Bc;Cb=(qb/=Cb)*Bc;var wc=Math.atan2(qb,bb);ub.moveTo(Sb-oc,fc-Cb);ub.lineTo(Le-bb*Ea,X-qb*Ea);ub.arc(Le,X,Ea,wc-Math.PI,wc);ub.lineTo(Sb+oc,fc+Cb);ub.arc(Sb,fc,Bc,wc,wc+Math.PI)}else ub.arc(Le,X,Ea,0,jc);ub.closePath()}else Fb=1;Sb=Le;fc=X;Bc=Ea}if(Ld)return ub=null,Ld+""||null}var v,O,W,Ra,ub=null,Fb,Sb,fc,Bc;l.x=function(Hc){return arguments.length?(v=Hc,l):v};l.y=function(Hc){return arguments.length?(O=Hc,l):O};l.size=function(Hc){return arguments.length?
(W=Hc,l):W};l.defined=function(Hc){return arguments.length?(Ra=Hc,l):Ra};l.context=function(Hc){return arguments.length?(ub=null==Hc?null:Hc,l):ub};return l}function pa(l,v){return null!=l?l:v}function da(l){return l.cornerRadius||l.cornerRadiusTopLeft||l.cornerRadiusTopRight||l.cornerRadiusBottomRight||l.cornerRadiusBottomLeft}function ua(l,v,O,W){return gd.context(l)(v,O,W)}function Ia(l,v,O){var W=v.clip;l=l._defs;v=v.clip_id||(v.clip_id="clip"+de++);l=l.clipping[v]||(l.clipping[v]={id:v});m.isFunction(W)?
l.path=W(null):da(O)?l.path=ua(null,O,0,0):(l.width=O.width||0,l.height=O.height||0);return"url(#"+v+")"}function wa(l){this.clear();l&&this.union(l)}function $a(l){this.mark=l;this.bounds=this.bounds||new wa}function ja(l){$a.call(this,l);this.items=this.items||[]}function u(l){this._pending=0;this._loader=l||gb.loader()}function y(l,v,O){if(v.stroke&&0!==v.opacity&&0!==v.strokeOpacity){var W=null!=v.strokeWidth?+v.strokeWidth:1;l.expand(W+(O?v.strokeJoin&&"miter"!==v.strokeJoin?0:W:0))}return l}
function z(l,v){$d=l;v?(Qe=v*le,ve=Gd=Math.cos(Qe),Jd=Math.sin(Qe),xe=-Jd):(ve=Gd=1,Qe=Jd=xe=0);return df}function D(l,v,O,W){O=(l-v)/(l+O-2*v);0<O&&1>O&&W(l+(v-l)*O)}function C(l,v,O,W,Ra){var ub=W-l+3*v-3*O,Fb=l+O-2*v,Sb=l-v,fc=0,Bc=0;1E-14<Math.abs(ub)?(Sb=Fb*Fb+Sb*ub,0<=Sb&&(Sb=Math.sqrt(Sb),fc=(-Fb+Sb)/ub,Bc=(-Fb-Sb)/ub)):fc=.5*Sb/Fb;0<fc&&1>fc&&Ra(J(fc,l,v,O,W));0<Bc&&1>Bc&&Ra(J(Bc,l,v,O,W))}function J(l,v,O,W,Ra){var ub=1-l,Fb=ub*ub,Sb=l*l;return Fb*ub*v+3*Fb*l*O+3*ub*Sb*W+Sb*l*Ra}function V(l){return function(v,
O){if(!ad)return!0;l(ad,v);cf.clear().union(v.bounds).intersect(O).round();var W=cf;v=W.x1;O=W.x2;var Ra=W.y2;for(W=W.y1;W<=Ra;++W)for(var ub=v;ub<=O;++ub)if(ad.isPointInPath(ub,W))return!0;return!1}}function ia(l,v){return v.contains(l.x||0,l.y||0)}function Pa(l,v){var O=l.x||0,W=l.y||0;return v.intersects(cf.set(O,W,O+(l.width||0),W+(l.height||0)))}function cb(l,v){var O=l.x||0,W=l.y||0;return M(v,O,W,null!=l.x2?l.x2:O,null!=l.y2?l.y2:W)}function M(l,v,O,W,Ra){var ub=l.x1,Fb=l.y1,Sb=l.x2;l=l.y2;
W-=v;Ra-=O;var fc=0,Bc=1,Hc;for(Hc=0;4>Hc;++Hc){if(0===Hc){var hd=-W;var yd=-(ub-v)}1===Hc&&(hd=W,yd=Sb-v);2===Hc&&(hd=-Ra,yd=-(Fb-O));3===Hc&&(hd=Ra,yd=l-O);if(1E-10>Math.abs(hd)&&0>yd)return!1;var Oc=yd/hd;if(0>hd){if(Oc>Bc)return!1;Oc>fc&&(fc=Oc)}else if(0<hd){if(Oc<fc)return!1;Oc<Bc&&(Bc=Oc)}}return!0}function Ka(l,v){l.globalCompositeOperation=v.blend||"source-over"}function ka(l,v){return null==l?v:l}function ha(l,v){for(var O=v.length,W=0;W<O;++W)l.addColorStop(v[W].offset,v[W].color);return l}
function w(l,v,O){var W=O.width(),Ra=O.height();if("radial"===v.gradient)l=l.createRadialGradient(O.x1+ka(v.x1,.5)*W,O.y1+ka(v.y1,.5)*Ra,Math.max(W,Ra)*ka(v.r1,0),O.x1+ka(v.x2,.5)*W,O.y1+ka(v.y2,.5)*Ra,Math.max(W,Ra)*ka(v.r2,.5));else{var ub=ka(v.x1,0),Fb=ka(v.y1,0),Sb=ka(v.x2,1),fc=ka(v.y2,0);if(ub===Sb||Fb===fc||W===Ra)l=l.createLinearGradient(O.x1+ub*W,O.y1+Fb*Ra,O.x1+Sb*W,O.y1+fc*Ra);else{O=Gb.canvas(Math.ceil(W),Math.ceil(Ra));var Bc=O.getContext("2d");Bc.scale(W,Ra);Bc.fillStyle=ha(Bc.createLinearGradient(ub,
Fb,Sb,fc),v.stops);Bc.fillRect(0,0,W,Ra);return l.createPattern(O,"no-repeat")}}return ha(l,v.stops)}function H(l,v,O){O*=null==v.fillOpacity?1:v.fillOpacity;return 0<O?(l.globalAlpha=O,v=(O=v.fill)&&O.gradient?w(l,O,v.bounds):O,l.fillStyle=v,!0):!1}function p(l,v,O){var W=null!=(W=v.strokeWidth)?W:1;if(0>=W)return!1;O*=null==v.strokeOpacity?1:v.strokeOpacity;return 0<O?(l.globalAlpha=O,O=(O=v.stroke)&&O.gradient?w(l,O,v.bounds):O,l.strokeStyle=O,l.lineWidth=W,l.lineCap=v.strokeCap||"butt",l.lineJoin=
v.strokeJoin||"miter",l.miterLimit=v.strokeMiterLimit||10,l.setLineDash&&(l.setLineDash(v.strokeDash||Ve),l.lineDashOffset=v.strokeDashOffset||0),!0):!1}function q(l,v){return l.zindex-v.zindex||l.index-v.index}function t(l){if(!l.zdirty)return l.zitems;var v=l.items,O=[],W;var Ra=0;for(W=v.length;Ra<W;++Ra){var ub=v[Ra];ub.index=Ra;ub.zindex&&O.push(ub)}l.zdirty=!1;return l.zitems=O.sort(q)}function G(l,v){var O=l.items,W;if(O&&O.length){var Ra=t(l);if(Ra&&Ra.length){l=0;for(W=O.length;l<W;++l)O[l].zindex||
v(O[l]);O=Ra}l=0;for(W=O.length;l<W;++l)v(O[l])}}function L(l,v){var O=l.items,W,Ra;if(!O||!O.length)return null;var ub=t(l);ub&&ub.length&&(O=ub);for(Ra=O.length;0<=--Ra;)if(W=v(O[Ra]))return W;if(O===ub)for(O=l.items,Ra=O.length;0<=--Ra;)if(!O[Ra].zindex&&(W=v(O[Ra])))return W;return null}function ba(l){return function(v,O,W){G(O,function(Ra){W&&!W.intersects(Ra.bounds)||La(l,v,Ra,Ra)})}}function Ga(l){return function(v,O,W){!O.items.length||W&&!W.intersects(O.bounds)||La(l,v,O.items[0],O.items)}}
function La(l,v,O,W){var Ra=null==O.opacity?1:O.opacity;0===Ra||l(v,W)||(Ka(v,O),O.fill&&H(v,O,Ra)&&v.fill(),O.stroke&&p(v,O,Ra)&&v.stroke())}function db(l){l=l||m.truthy;return function(v,O,W,Ra,ub,Fb){W*=v.pixelRatio;Ra*=v.pixelRatio;return L(O,function(Sb){var fc=Sb.bounds;if((!fc||fc.contains(ub,Fb))&&fc&&l(v,Sb,W,Ra,ub,Fb))return Sb})}}function sb(l,v){return function(O,W,Ra,ub){var Fb=Array.isArray(W)?W[0]:W,Sb=null==v?Fb.fill:v,fc=Fb.stroke&&O.isPointInStroke;if(fc){var Bc=Fb.strokeWidth;Fb=
Fb.strokeCap;O.lineWidth=null!=Bc?Bc:1;O.lineCap=null!=Fb?Fb:"butt"}return l(O,W)?!1:Sb&&O.isPointInPath(Ra,ub)||fc&&O.isPointInStroke(Ra,ub)}}function S(l,v){return"translate("+l+","+v+")"}function aa(l,v,O){function W(Ra,ub){var Fb=ub.x||0,Sb=ub.y||0,fc=ub.angle||0;Ra.translate(Fb,Sb);fc&&Ra.rotate(fc*=le);Ra.beginPath();v(Ra,ub);fc&&Ra.rotate(-fc);Ra.translate(-Fb,-Sb)}return{type:l,tag:"path",nested:!1,attr:function(Ra,ub){var Fb=S(ub.x||0,ub.y||0)+(ub.angle?" rotate("+(ub.angle+")"):"");Ra("transform",
Fb);Ra("d",v(null,ub))},bound:function(Ra,ub){v(z(Ra,ub.angle),ub);return y(Ra,ub).translate(ub.x||0,ub.y||0)},draw:ba(W),pick:db(sb(W)),isect:O||V(W)}}function qa(l,v,O){function W(ub,Fb){ub.beginPath();v(ub,Fb)}var Ra=sb(W);return{type:l,tag:"path",nested:!0,attr:function(ub,Fb){Fb=Fb.mark.items;Fb.length&&ub("d",v(null,Fb))},bound:function(ub,Fb){Fb=Fb.items;if(0===Fb.length)return ub;v(z(ub),Fb);return y(ub,Fb[0])},draw:Ga(W),pick:function(ub,Fb,Sb,fc,Bc,Hc){var hd=Fb.items;Fb=Fb.bounds;if(!hd||
!hd.length||Fb&&!Fb.contains(Bc,Hc))return null;Sb*=ub.pixelRatio;fc*=ub.pixelRatio;return Ra(ub,hd,Sb,fc)?hd[0]:null},isect:ia,tip:O}}function ta(l,v){l.beginPath();da(v)?ua(l,v,0,0):l.rect(0,0,v.width||0,v.height||0);l.clip()}function ea(l){var v=ka(l.strokeWidth,1);return null!=l.strokeOffset?l.strokeOffset:l.stroke&&.5<v&&1.5>v?.5-Math.abs(v-1):0}function U(l,v,O,W){var Ra=ea(v);l.beginPath();ua(l,v,(O||0)+Ra,(W||0)+Ra)}function Fa(l,v){var O=l.image;if(!O||l.url&&l.url!==O.url)O={complete:!1,
width:0,height:0},v.loadImage(l.url).then(function(W){l.image=W;l.image.url=l.url});return O}function Ja(l,v){return null!=l.width?l.width:v&&v.width?!1!==l.aspect&&l.height?l.height*v.width/v.height:v.width:0}function Ta(l,v){return null!=l.height?l.height:v&&v.height?!1!==l.aspect&&l.width?l.width*v.height/v.width:v.height:0}function ya(l,v){return"center"===l?v/2:"right"===l?v:0}function lb(l,v){return"middle"===l?v/2:"bottom"===l?v:0}function yb(l,v){var O=v.path;if(null==O)return!0;var W=v.x||
0,Ra=v.y||0,ub=v.scaleX||1,Fb=v.scaleY||1,Sb=(v.angle||0)*le,fc=v.pathCache;fc&&fc.path===O||((v.pathCache=fc=Sa(O)).path=O);Sb&&l.rotate&&l.translate?(l.translate(W,Ra),l.rotate(Sb),za(l,fc,0,0,ub,Fb),l.rotate(-Sb),l.translate(-W,-Ra)):za(l,fc,W,Ra,ub,Fb)}function Ya(l,v){l.beginPath();ua(l,v)}function Ob(l,v,O){if(v.stroke&&p(l,v,O)){O=v.x||0;var W=v.y||0;var Ra=null!=v.x2?v.x2:O;v=null!=v.y2?v.y2:W;l.beginPath();l.moveTo(O,W);l.lineTo(Ra,v);return!0}return!1}function Qb(l){Fd.width=l&&ad?Ic:Zb}
function Zb(l,v){v=Xc(l,v);l=Zc(l);return~~(.8*v.length*l)}function Ic(l,v){return 0>=Zc(l)||!(v=Xc(l,v))?0:uc(v,Qd(l))}function uc(l,v){var O="("+v+") "+l,W=Id.get(O);void 0===W&&(ad.font=v,W=ad.measureText(l).width,Id.set(O,W));return W}function Zc(l){return null!=l.fontSize?+l.fontSize||0:11}function Ad(l){return null!=l.lineHeight?l.lineHeight:Zc(l)+2}function Lc(l){l=l.lineBreak&&l.text&&!m.isArray(l.text)?l.text.split(l.lineBreak):l.text;return m.isArray(l)?1<l.length?l:l[0]:l}function Xc(l,
v){v=null==v?"":(v+"").trim();if(0<l.limit&&v.length){var O=+l.limit,W=Uc(l);if(!(W(v)<O)){var Ra=l.ellipsis||"…",ub="rtl"===l.dir;l=0;var Fb=v.length;O-=W(Ra);if(ub){for(;l<Fb;)ub=l+Fb>>>1,W(v.slice(ub))>O?l=ub+1:Fb=ub;v=Ra+v.slice(l)}else{for(;l<Fb;)ub=1+(l+Fb>>>1),W(v.slice(0,ub))<O?l=ub:Fb=ub-1;v=v.slice(0,l)+Ra}}}return v}function Uc(l){if(Fd.width===Ic){var v=Qd(l);return function(W){return uc(W,v)}}var O=Zc(l);return function(W){return~~(.8*W.length*O)}}function Md(l,v){l=l.font;return(v&&
l?String(l).replace(/"/g,"'"):l)||"sans-serif"}function Qd(l,v){return(l.fontStyle?l.fontStyle+" ":"")+(l.fontVariant?l.fontVariant+" ":"")+(l.fontWeight?l.fontWeight+" ":"")+Zc(l)+"px "+Md(l,v)}function fe(l){var v=l.baseline,O=Zc(l);return Math.round("top"===v?.79*O:"middle"===v?.3*O:"bottom"===v?-.21*O:"line-top"===v?.29*O+.5*Ad(l):"line-bottom"===v?.29*O-.5*Ad(l):0)}function Eb(l){var v=l.x||0,O=l.y||0,W=l.radius||0;W&&(l=(l.theta||0)-Se,v+=W*Math.cos(l),O+=W*Math.sin(l));oe.x1=v;oe.y1=O;return oe}
function Rb(l,v,O){var W=Fd.height(v),Ra=v.align,ub=Eb(v),Fb=ub.x1;ub=ub.y1;var Sb=v.dx||0,fc=(v.dy||0)+fe(v)-Math.round(.8*W),Bc=Lc(v);m.isArray(Bc)?(W+=Ad(v)*(Bc.length-1),Bc=Bc.reduce(function(Hc,hd){return Math.max(Hc,Fd.width(v,hd))},0)):Bc=Fd.width(v,Bc);"center"===Ra?Sb-=Bc/2:"right"===Ra&&(Sb-=Bc);l.set(Sb+=Fb,fc+=ub,Sb+Bc,fc+W);if(v.angle&&!O)l.rotate(v.angle*le,Fb,ub);else if(2===O)return l.rotatedPoints(v.angle*le,Fb,ub);return l}function mb(l,v,O){var W=ye[l.mark.marktype];v=v||W.bound;
W.nested&&(l=l.mark);return v(l.bounds||(l.bounds=new wa),l,O)}function rc(l,v,O){var W=ye[l.marktype],Ra=W.bound,ub=l.items,Fb=ub&&ub.length;if(W.nested)return Fb?l=ub[0]:(zf.mark=l,l=zf),O=mb(l,Ra,O),v=v&&v.union(O)||O;v=v||l.bounds&&l.bounds.clear()||new wa;if(Fb)for(W=0,Fb=ub.length;W<Fb;++W)v.union(mb(ub[W],Ra,O));return l.bounds=v}function Cc(l,v){return JSON.stringify(l,tf,v)}function Rc(l){l="string"===typeof l?JSON.parse(l):l;return sd(l)}function sd(l){var v=l.marktype,O=l.items,W;if(O){var Ra=
0;for(W=O.length;Ra<W;++Ra){var ub=v?"mark":"group";O[Ra][ub]=l;O[Ra].zindex&&(O[Ra][ub].zdirty=!0);"group"===(v||ub)&&sd(O[Ra])}}v&&rc(l);return l}function I(l){arguments.length?this.root=Rc(l):(this.root=ma({marktype:"group",name:"root",role:"frame"}),this.root.items=[new ja(this.root)])}function ma(l,v){v={bounds:new wa,clip:!!l.clip,group:v,interactive:!1===l.interactive?!1:!0,items:[],marktype:l.marktype,name:l.name||void 0,role:l.role||void 0,zindex:l.zindex||0};null!=l.aria&&(v.aria=l.aria);
l.description&&(v.description=l.description);return v}function ib(l,v,O){!l&&"undefined"!==typeof document&&document.createElement&&(l=document);return l?O?l.createElementNS(O,v):l.createElement(v):null}function nb(l,v){v=v.toLowerCase();l=l.childNodes;for(var O=0,W=l.length;O<W;++O)if(l[O].tagName.toLowerCase()===v)return l[O]}function Bb(l,v,O,W){v=l.childNodes[v];if(!v||v.tagName.toLowerCase()!==O.toLowerCase()){var Ra=v||null;v=ib(l.ownerDocument,O,W);l.insertBefore(v,Ra)}return v}function Ub(l,
v){for(var O=l.childNodes,W=O.length;W>v;)l.removeChild(O[--W]);return l}function Xb(l){return"mark-"+l.marktype+(l.role?" role-"+l.role:"")+(l.name?" "+l.name:"")}function dc(l,v){var O=v.getBoundingClientRect();return[l.clientX-O.left-(v.clientLeft||0),l.clientY-O.top-(v.clientTop||0)]}function Fc(l,v){this._active=null;this._handlers={};this._loader=l||gb.loader();this._tooltip=v||Jc}function Jc(l,v,O,W){l.element().setAttribute("title",W||"")}function Da(l){this._bgcolor=this._el=null;this._loader=
new u(l)}function Ma(l,v){Fc.call(this,l,v);this._touch=this._down=null;this._first=!0;this._events={}}function Pb(l,v){("touchstart"===v||"touchmove"===v||"touchend"===v?["touchstart","touchmove","touchend"]:[v]).forEach(function(O){return bc(l,O)})}function bc(l,v){var O=l.canvas();O&&!l._events[v]&&(l._events[v]=1,O.addEventListener(v,l[v]?function(W){return l[v](W)}:function(W){return l.fire(v,W)}))}function mc(l,v,O){return function(W){var Ra=this._active,ub=this.pickEvent(W);ub!==Ra&&(Ra&&Ra.exit||
this.fire(O,W),this._active=ub,this.fire(v,W));this.fire(l,W)}}function Dc(l){return function(v){this.fire(l,v);this._active=null}}function Kc(l){Da.call(this,l);this._options={};this._redraw=!1;this._dirty=new wa;this._tempb=new wa}function Hb(l,v){Fc.call(this,l,v);var O=this;O._hrefHandler=eg(O,function(W,Ra){Ra&&Ra.href&&O.handleHref(W,Ra,Ra.href)});O._tooltipHandler=eg(O,function(W,Ra){O.handleTooltip(W,Ra,"mouseout"!==W.type)})}function Wb(l,v){var O=!1===v.aria;l("aria-hidden",O||void 0);if(O||
null==v.description)for(var W in B)l(B[W],void 0);else O=v.mark.marktype,l("aria-label",v.description),l("role",v.ariaRole||("group"===O?"graphics-object":"graphics-symbol")),l("aria-roledescription",v.ariaRoleDescription||O+" mark")}function sc(l){var v={};return!1===l.aria?(v["aria-hidden"]=!0,v):Rf[l.role]?null:A[l.role]?tc(l,A[l.role]):pc(l)}function pc(l){var v=l.marktype,O="group"===v||"text"===v||l.items.some(function(W){return null!=W.description&&!1!==W.aria});return If(O?"graphics-object":
"graphics-symbol",v+" mark container",l.description)}function tc(l,v){try{var O=l.items[0],W=v.caption||function(){return""};return If(v.role||"graphics-symbol",v.desc,O.description||W(O))}catch(Ra){return null}}function Wc(l){try{return m.array(m.peek(l.items).items[0].text).join(" ")}catch(v){return null}}function Kd(l){l=l.map(function(v){return v+("fill"===v||"stroke"===v?" color":"")});return 2>l.length?l[0]:l.slice(0,-1).join(", ")+" and "+m.peek(l)}function od(){var l="",v="",O="",W=[],Ra=
function(Fb,Sb){null!=Sb&&(v+=" "+Fb+'\x3d"'+K(Sb).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")+'"');return ub},ub={open:function(Fb,Sb){for(var fc=[],Bc=1;Bc<arguments.length;++Bc)fc[Bc-1]=arguments[Bc];v&&(l+=v+"\x3e"+O,v=O="");W.push(Fb);v="\x3c"+Fb;fc=$jscomp.makeIterator(fc);for(Bc=fc.next();!Bc.done;Bc=fc.next()){Bc=Bc.value;for(var Hc in Bc)Ra(Hc,Bc[Hc])}return ub},close:function(){var Fb=W.pop();l=v?l+(v+(O?"\x3e"+O+"\x3c/"+Fb+"\x3e":
"/\x3e")):l+("\x3c/"+Fb+"\x3e");v=O="";return ub},attr:Ra,text:function(Fb){return O+=K(Fb),ub},toString:function(){return l}};return ub}function ld(l,v){l.open(v.tagName);if(v.hasAttributes())for(var O=v.attributes,W=O.length,Ra=0;Ra<W;++Ra)l.attr(O[Ra].name,O[Ra].value);if(v.hasChildNodes())for(v=v.childNodes,O=v.length,W=0;W<O;W++)Ra=v[W],3===Ra.nodeType?l.text(Ra.nodeValue):ld(l,Ra);return l.close()}function wd(l){Da.call(this,l);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=
null}function Rd(l,v){for(;l&&l.dirty!==v;l=l.mark.group)if(l.dirty=v,l.mark&&l.mark.dirty!==v)l.mark.dirty=v;else break}function Hd(l,v,O){v=v.lastChild.previousSibling;var W,Ra=0;G(O,function(ub){W=l.mark(v,ub,W);++Ra});Ub(v,1+Ra)}function ce(l,v,O,W,Ra){var ub=l._svg;if(!ub){var Fb=v.ownerDocument;ub=ib(Fb,W,Na);l._svg=ub;l.mark&&(ub.__data__=l,ub.__values__={fill:"default"},"g"===W&&(W=ib(Fb,"path",Na),ub.appendChild(W),W.__data__=l,W=ib(Fb,"g",Na),ub.appendChild(W),W.__data__=l,Fb=ib(Fb,"path",
Na),ub.appendChild(Fb),Fb.__data__=l,Fb.__values__={fill:"default"}))}(ub.ownerSVGElement!==Ra||ub.parentNode&&1<ub.parentNode.childNodes.length&&ub.previousSibling!=O)&&v.insertBefore(ub,O?O.nextSibling:v.firstChild);return ub}function ke(l,v,O){if(v!==ob[l]){if(O){var W=fb;null!=v?W.setAttributeNS(O,l,v):W.removeAttributeNS(O,l)}else P(fb,l,v);ob[l]=v}}function Ke(l,v,O){O!==ob[v]&&(null==O?l.style.removeProperty(v):l.style.setProperty(v,O+""),ob[v]=O)}function Zd(l,v){for(var O in v)P(l,O,v[O])}
function P(l,v,O){null!=O?l.setAttribute(v,O):l.removeAttribute(v)}function oa(){var l;return"undefined"===typeof window?"":(l=window.location).hash?l.href.slice(0,-l.hash.length):l.href}function Ha(l){Da.call(this,l);this._text=null;this._defs={gradient:{},clipping:{}}}function kb(l,v,O,W,Ra){if(null==v)return l;"bgrect"===W&&!1===O.interactive&&(l["pointer-events"]="none");if("bgfore"===W&&(!1===O.interactive&&(l["pointer-events"]="none"),l.display="none",null!==v.fill))return l;"image"===W&&!1===
v.smooth&&(l.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===W&&(l["font-family"]=Md(v),l["font-size"]=Zc(v)+"px",l["font-style"]=v.fontStyle,l["font-variant"]=v.fontVariant,l["font-weight"]=v.fontWeight);for(var ub in la)O=v[ub],W=la[ub],("transparent"!==O||"fill"!==W&&"stroke"!==W)&&null!=O&&(O&&O.gradient&&(O=Lb(O,Ra.gradient,"")),l[W]=O);return l}function eb(l,v,O,W){if(l.bounds&&v.intersects(l.bounds)&&("group"===l.marktype||!1!==l.interactive&&(!O||O(l)))){var Ra=
l.items,ub=l.marktype;l=Ra.length;var Fb=0;if("group"===ub)for(;Fb<l;++Fb)Tb(Ra[Fb],v,O,W);else for(O=ye[ub].isect;Fb<l;++Fb)ub=Ra[Fb],hc(ub,v,O)&&W.push(ub)}return W}function Tb(l,v,O,W){O&&O(l.mark)&&hc(l,v,ye.group.isect)&&W.push(l);var Ra=l.items,ub=Ra&&Ra.length;if(ub){var Fb=l.x||0;l=l.y||0;v.translate(-Fb,-l);for(var Sb=0;Sb<ub;++Sb)eb(Ra[Sb],v,O,W);v.translate(Fb,l)}return W}function hc(l,v,O){var W=l.bounds;return v.encloses(W)||v.intersects(W)&&O(l,v)}function xc(l,v,O){return l===v?!0:
"path"===O?vc(l,v):l instanceof Date&&v instanceof Date?+l===+v:m.isNumber(l)&&m.isNumber(v)?1E-9>=Math.abs(l-v):l&&v&&(m.isObject(l)||m.isObject(v))?lc(l,v):l==v}function vc(l,v){return xc(Sa(l),Sa(v))}function lc(l,v){var O=Object.keys(l),W=Object.keys(v),Ra;if(O.length!==W.length)return!1;O.sort();W.sort();for(Ra=O.length-1;0<=Ra;Ra--)if(O[Ra]!=W[Ra])return!1;for(Ra=O.length-1;0<=Ra;Ra--)if(W=O[Ra],!xc(l[W],v[W],W))return!1;return typeof l===typeof v}var ed=0,pd={basis:{curve:x.curveBasis},"basis-closed":{curve:x.curveBasisClosed},
"basis-open":{curve:x.curveBasisOpen},bundle:{curve:x.curveBundle,tension:"beta",value:.85},cardinal:{curve:x.curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:x.curveCardinalOpen,tension:"tension",value:0},"cardinal-closed":{curve:x.curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:x.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:x.curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:x.curveCatmullRomOpen,tension:"alpha",
value:.5},linear:{curve:x.curveLinear},"linear-closed":{curve:x.curveLinearClosed},monotone:{horizontal:x.curveMonotoneY,vertical:x.curveMonotoneX},natural:{curve:x.curveNatural},step:{curve:x.curveStep},"step-after":{curve:x.curveStepAfter},"step-before":{curve:x.curveStepBefore}},Ed={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},md=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/],le=Math.PI/180,Se=Math.PI/2,jc=2*Math.PI,Dd=Math.sqrt(3)/2,xd={},Mb={},qe=[].join,ne=["l",0,0,0,
0,0,0,0],Ce={circle:{draw:function(l,v){v=Math.sqrt(v)/2;l.moveTo(v,0);l.arc(0,0,v,0,jc)}},cross:{draw:function(l,v){v=Math.sqrt(v)/2;var O=v/2.5;l.moveTo(-v,-O);l.lineTo(-v,O);l.lineTo(-O,O);l.lineTo(-O,v);l.lineTo(O,v);l.lineTo(O,O);l.lineTo(v,O);l.lineTo(v,-O);l.lineTo(O,-O);l.lineTo(O,-v);l.lineTo(-O,-v);l.lineTo(-O,-O);l.closePath()}},diamond:{draw:function(l,v){v=Math.sqrt(v)/2;l.moveTo(-v,0);l.lineTo(0,-v);l.lineTo(v,0);l.lineTo(0,v);l.closePath()}},square:{draw:function(l,v){v=Math.sqrt(v);
var O=-v/2;l.rect(O,O,v,v)}},arrow:{draw:function(l,v){v=Math.sqrt(v)/2;var O=v/7,W=v/2.5,Ra=v/8;l.moveTo(-O,v);l.lineTo(O,v);l.lineTo(O,-Ra);l.lineTo(W,-Ra);l.lineTo(0,-v);l.lineTo(-W,-Ra);l.lineTo(-O,-Ra);l.closePath()}},wedge:{draw:function(l,v){var O=Math.sqrt(v)/2;v=Dd*O;var W=v-.5773502691896257*O;O/=4;l.moveTo(0,-v-W);l.lineTo(-O,v-W);l.lineTo(O,v-W);l.closePath()}},triangle:{draw:function(l,v){v=Math.sqrt(v)/2;var O=Dd*v,W=O-.5773502691896257*v;l.moveTo(0,-O-W);l.lineTo(-v,O-W);l.lineTo(v,
O-W);l.closePath()}},"triangle-up":{draw:function(l,v){v=Math.sqrt(v)/2;var O=Dd*v;l.moveTo(0,-O);l.lineTo(-v,O);l.lineTo(v,O);l.closePath()}},"triangle-down":{draw:function(l,v){v=Math.sqrt(v)/2;var O=Dd*v;l.moveTo(0,O);l.lineTo(-v,-O);l.lineTo(v,-O);l.closePath()}},"triangle-right":{draw:function(l,v){v=Math.sqrt(v)/2;var O=Dd*v;l.moveTo(O,0);l.lineTo(-O,-v);l.lineTo(-O,v);l.closePath()}},"triangle-left":{draw:function(l,v){v=Math.sqrt(v)/2;var O=Dd*v;l.moveTo(-O,0);l.lineTo(O,-v);l.lineTo(O,v);
l.closePath()}},stroke:{draw:function(l,v){v=Math.sqrt(v)/2;l.moveTo(-v,0);l.lineTo(v,0)}}},$e={},Te=function(l){return l.x||0},kf=function(l){return l.y||0},ef=function(l){return!1!==l.defined},Vd=x.arc().startAngle(function(l){return l.startAngle||0}).endAngle(function(l){return l.endAngle||0}).padAngle(function(l){return l.padAngle||0}).innerRadius(function(l){return l.innerRadius||0}).outerRadius(function(l){return l.outerRadius||0}).cornerRadius(function(l){return l.cornerRadius||0}),cc=x.area().x(Te).y1(kf).y0(function(l){return(l.y||
0)+(l.height||0)}).defined(ef),Wd=x.area().y(kf).x1(Te).x0(function(l){return(l.x||0)+(l.width||0)}).defined(ef),Yb=x.line().x(Te).y(kf).defined(ef),gd=xa().x(Te).y(kf).width(function(l){return l.width||0}).height(function(l){return l.height||0}).cornerRadius(function(l){return pa(l.cornerRadiusTopLeft,l.cornerRadius)||0},function(l){return pa(l.cornerRadiusTopRight,l.cornerRadius)||0},function(l){return pa(l.cornerRadiusBottomRight,l.cornerRadius)||0},function(l){return pa(l.cornerRadiusBottomLeft,
l.cornerRadius)||0}),se=x.symbol().type(function(l){return na(l.shape||"circle")}).size(function(l){return pa(l.size,64)}),he=fa().x(Te).y(kf).defined(ef).size(function(l){return l.size||1}),de=1;wa.prototype={clone:function(){return new wa(this)},clear:function(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty:function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===
-Number.MAX_VALUE},equals:function(l){return this.x1===l.x1&&this.y1===l.y1&&this.x2===l.x2&&this.y2===l.y2},set:function(l,v,O,W){O<l?(this.x2=l,this.x1=O):(this.x1=l,this.x2=O);W<v?(this.y2=v,this.y1=W):(this.y1=v,this.y2=W);return this},add:function(l,v){l<this.x1&&(this.x1=l);v<this.y1&&(this.y1=v);l>this.x2&&(this.x2=l);v>this.y2&&(this.y2=v);return this},expand:function(l){this.x1-=l;this.y1-=l;this.x2+=l;this.y2+=l;return this},round:function(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);
this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale:function(l){this.x1*=l;this.y1*=l;this.x2*=l;this.y2*=l;return this},translate:function(l,v){this.x1+=l;this.x2+=l;this.y1+=v;this.y2+=v;return this},rotate:function(l,v,O){l=this.rotatedPoints(l,v,O);return this.clear().add(l[0],l[1]).add(l[2],l[3]).add(l[4],l[5]).add(l[6],l[7])},rotatedPoints:function(l,v,O){var W=this.x1,Ra=this.y1,ub=this.x2,Fb=this.y2,Sb=Math.cos(l);l=Math.sin(l);var fc=v-v*Sb+O*l;v=O-v*l-O*Sb;return[Sb*
W-l*Ra+fc,l*W+Sb*Ra+v,Sb*W-l*Fb+fc,l*W+Sb*Fb+v,Sb*ub-l*Ra+fc,l*ub+Sb*Ra+v,Sb*ub-l*Fb+fc,l*ub+Sb*Fb+v]},union:function(l){l.x1<this.x1&&(this.x1=l.x1);l.y1<this.y1&&(this.y1=l.y1);l.x2>this.x2&&(this.x2=l.x2);l.y2>this.y2&&(this.y2=l.y2);return this},intersect:function(l){l.x1>this.x1&&(this.x1=l.x1);l.y1>this.y1&&(this.y1=l.y1);l.x2<this.x2&&(this.x2=l.x2);l.y2<this.y2&&(this.y2=l.y2);return this},encloses:function(l){return l&&this.x1<=l.x1&&this.x2>=l.x2&&this.y1<=l.y1&&this.y2>=l.y2},alignsWith:function(l){return l&&
(this.x1==l.x1||this.x2==l.x2||this.y1==l.y1||this.y2==l.y2)},intersects:function(l){return l&&!(this.x2<l.x1||this.x1>l.x2||this.y2<l.y1||this.y1>l.y2)},contains:function(l,v){return!(l<this.x1||l>this.x2||v<this.y1||v>this.y2)},width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1}};m.inherits(ja,$a);u.prototype={pending:function(){return this._pending},sanitizeURL:function(l){var v=this;v._pending+=1;return v._loader.sanitize(l,{context:"href"}).then(function(O){--v._pending;
return O}).catch(function(){--v._pending;return null})},loadImage:function(l){var v=this,O=Gb.image();v._pending+=1;return v._loader.sanitize(l,{context:"image"}).then(function(W){var Ra=W.href;if(!Ra||!O)throw{url:Ra};var ub=new O;W=m.hasOwnProperty(W,"crossOrigin")?W.crossOrigin:"anonymous";null!=W&&(ub.crossOrigin=W);ub.onload=function(){--v._pending};ub.onerror=function(){--v._pending};ub.src=Ra;return ub}).catch(function(W){--v._pending;return{complete:!1,width:0,height:0,src:W&&W.url||""}})},
ready:function(){var l=this;return new Promise(function(v){function O(W){l.pending()?setTimeout(function(){O(!0)},10):v(W)}O(!1)})}};var je=jc-1E-8,$d,Ud,Nc,Qe,ve,Jd,xe,Gd,Oe=function(l,v){l=Ud=l;v=Nc=v;return $d.add(l,v)},We=function(l){return $d.add(l,$d.y1)},lf=function(l){return $d.add($d.x1,l)},uf=function(l,v){return $d.add(ve*l+xe*v,Jd*l+Gd*v)},Me=function(l,v){return Oe(ve*l+xe*v,Jd*l+Gd*v)},df={beginPath:function(){},closePath:function(){},moveTo:Me,lineTo:Me,rect:function(l,v,O,W){Qe?(uf(l+
O,v),uf(l+O,v+W),uf(l,v+W),Me(l,v)):($d.add(l+O,v+W),Oe(l,v))},quadraticCurveTo:function(l,v,O,W){var Ra=Jd*l+Gd*v,ub=ve*O+xe*W;O=Jd*O+Gd*W;D(Ud,ve*l+xe*v,ub,We);D(Nc,Ra,O,lf);Oe(ub,O)},bezierCurveTo:function(l,v,O,W,Ra,ub){var Fb=Jd*l+Gd*v,Sb=Jd*O+Gd*W,fc=ve*Ra+xe*ub;Ra=Jd*Ra+Gd*ub;C(Ud,ve*l+xe*v,ve*O+xe*W,fc,We);C(Nc,Fb,Sb,Ra,lf);Oe(fc,Ra)},arc:function(l,v,O,W,Ra,ub){W+=Qe;Ra+=Qe;Ud=O*Math.cos(Ra)+l;Nc=O*Math.sin(Ra)+v;if(Math.abs(Ra-W)>je)$d.add(l-O,v-O),$d.add(l+O,v+O);else{var Fb=function(fc){return $d.add(O*
Math.cos(fc)+l,O*Math.sin(fc)+v)};Fb(W);Fb(Ra);if(Ra!==W){W%=jc;0>W&&(W+=jc);Ra%=jc;0>Ra&&(Ra+=jc);if(Ra<W){ub=!ub;var Sb=W;W=Ra;Ra=Sb}if(ub)for(Ra-=jc,Sb=W-W%Se,W=0;4>W&&Sb>Ra;++W,Sb-=Se)Fb(Sb);else for(Sb=W-W%Se+Se,W=0;4>W&&Sb<Ra;++W,Sb+=Se)Fb(Sb)}}}},ad=(ad=Gb.canvas(1,1))?ad.getContext("2d"):null,cf=new wa,Ve=[],nf=aa("arc",function(l,v){return Vd.context(l)(v)}),of=qa("area",function(l,v){var O=v[0];return("horizontal"===O.orient?Wd:cc).curve(Ua(O.interpolate||"linear",O.orient,O.tension)).context(l)(v)},
function(l,v){v="horizontal"===l[0].orient?v[1]:v[0];for(var O="horizontal"===l[0].orient?"y":"x",W=l.length,Ra=Infinity,ub,Fb;0<=--W;)!1!==l[W].defined&&(Fb=Math.abs(l[W][O]-v),Fb<Ra&&(Ra=Fb,ub=l[W]));return ub}),E=sb(U),Q=sb(U,!1),Va=sb(U,!0),Ab={type:"group",tag:"g",nested:!1,attr:function(l,v){l("transform",S(v.x||0,v.y||0))},bound:function(l,v){if(!v.clip&&v.items)for(var O=v.items,W=O.length,Ra=0;Ra<W;++Ra)l.union(O[Ra].bounds);(v.clip||v.width||v.height)&&!v.noBound&&l.add(0,0).add(v.width||
0,v.height||0);y(l,v);return l.translate(v.x||0,v.y||0)},draw:function(l,v,O){var W=this;G(v,function(Ra){var ub=Ra.x||0,Fb=Ra.y||0,Sb=Ra.strokeForeground,fc=null==Ra.opacity?1:Ra.opacity;(Ra.stroke||Ra.fill)&&fc&&(U(l,Ra,ub,Fb),Ka(l,Ra),Ra.fill&&H(l,Ra,fc)&&l.fill(),Ra.stroke&&!Sb&&p(l,Ra,fc)&&l.stroke());l.save();l.translate(ub,Fb);Ra.clip&&ta(l,Ra);O&&O.translate(-ub,-Fb);G(Ra,function(Bc){W.draw(l,Bc,O)});O&&O.translate(ub,Fb);l.restore();Sb&&Ra.stroke&&fc&&(U(l,Ra,ub,Fb),Ka(l,Ra),p(l,Ra,fc)&&
l.stroke())})},pick:function(l,v,O,W,Ra,ub){var Fb=this;if(v.bounds&&!v.bounds.contains(Ra,ub)||!v.items)return null;var Sb=O*l.pixelRatio,fc=W*l.pixelRatio;return L(v,function(Bc){var Hc=Bc.bounds;if(!Hc||Hc.contains(Ra,ub)){var hd=Bc.x||0;var yd=Bc.y||0;Hc=hd+(Bc.width||0);var Oc=yd+(Bc.height||0),Bd=Bc.clip;if(!Bd||!(Ra<hd||Ra>Hc||ub<yd||ub>Oc)){l.save();l.translate(hd,yd);hd=Ra-hd;yd=ub-yd;if(Bd&&da(Bc)&&!Va(l,Bc,Sb,fc))return l.restore(),null;Oc=Bc.strokeForeground;if((Bd=!1!==v.interactive)&&
Oc&&Bc.stroke&&Q(l,Bc,Sb,fc))return l.restore(),Bc;Hc=L(Bc,function(Ld){return(!1!==Ld.interactive||"group"===Ld.marktype)&&Ld.bounds&&Ld.bounds.contains(hd,yd)?Fb.pick(Ld,O,W,hd,yd):null});!Hc&&Bd&&(Bc.fill||!Oc&&Bc.stroke)&&E(l,Bc,Sb,fc)&&(Hc=Bc);l.restore();return Hc||null}}})},isect:Pa,content:function(l,v,O){v=v.clip?Ia(O,v,v):null;l("clip-path",v)},background:function(l,v){l("class","background");l("aria-hidden",!0);var O=ea(v);l("d",ua(null,v,O,O))},foreground:function(l,v){l("class","foreground");
l("aria-hidden",!0);if(v.strokeForeground){var O=ea(v);l("d",ua(null,v,O,O))}else l("d","")}},Db={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},Nb={type:"image",tag:"image",nested:!1,attr:function(l,v,O){var W=Fa(v,O);O=Ja(v,W);var Ra=Ta(v,W),ub=(v.x||0)-ya(v.align,O),Fb=(v.y||0)-lb(v.baseline,Ra);W=!W.src&&W.toDataURL?W.toDataURL():W.src||"";l("href",W,Db["xmlns:xlink"],"xlink:href");l("transform",S(ub,Fb));l("width",O);l("height",Ra);l("preserveAspectRatio",
!1===v.aspect?"none":"xMidYMid")},bound:function(l,v){var O=v.image,W=Ja(v,O);O=Ta(v,O);var Ra=(v.x||0)-ya(v.align,W);v=(v.y||0)-lb(v.baseline,O);return l.set(Ra,v,Ra+W,v+O)},draw:function(l,v,O){var W=this;G(v,function(Ra){if(!O||O.intersects(Ra.bounds)){var ub=Fa(Ra,W),Fb=Ja(Ra,ub),Sb=Ta(Ra,ub);if(0!==Fb&&0!==Sb){var fc=(Ra.x||0)-ya(Ra.align,Fb),Bc=(Ra.y||0)-lb(Ra.baseline,Sb),Hc;if(!1!==Ra.aspect){var hd=ub.width/ub.height;var yd=Ra.width/Ra.height;hd===hd&&yd===yd&&hd!==yd&&(yd<hd?(hd=Fb/hd,Bc+=
(Sb-hd)/2,Sb=hd):(hd*=Sb,fc+=(Fb-hd)/2,Fb=hd))}if(ub.complete||ub.toDataURL)Ka(l,Ra),l.globalAlpha=null!=(Hc=Ra.opacity)?Hc:1,l.imageSmoothingEnabled=!1!==Ra.smooth,l.drawImage(ub,fc,Bc,Fb,Sb)}}})},pick:db(),isect:m.truthy,get:Fa,xOffset:ya,yOffset:lb},$b=qa("line",function(l,v){var O=v[0];return Yb.curve(Ua(O.interpolate||"linear",O.orient,O.tension)).context(l)(v)},function(l,v){for(var O=Math.pow(l[0].strokeWidth||1,2),W=l.length,Ra,ub;0<=--W;)if(!1!==l[W].defined&&(Ra=l[W].x-v[0],ub=l[W].y-v[1],
Ra=Ra*Ra+ub*ub,Ra<O))return l[W];return null}),Sc={type:"path",tag:"path",nested:!1,attr:function(l,v){var O=v.scaleY||1;1===(v.scaleX||1)&&1===O||l("vector-effect","non-scaling-stroke");O=S(v.x||0,v.y||0)+(v.angle?" rotate("+(v.angle+")"):"")+(v.scaleX||v.scaleY?" scale("+((v.scaleX||1)+","+(v.scaleY||1)+")"):"");l("transform",O);l("d",v.path)},bound:function(l,v){return yb(z(l,v.angle),v)?l.set(0,0,0,0):y(l,v,!0)},draw:ba(yb),pick:db(sb(yb)),isect:V(yb)},Mc={type:"rect",tag:"path",nested:!1,attr:function(l,
v){l("d",ua(null,v))},bound:function(l,v){var O,W;return y(l.set(O=v.x||0,W=v.y||0,O+v.width||0,W+v.height||0),v)},draw:ba(Ya),pick:db(sb(Ya)),isect:Pa},$c={type:"rule",tag:"line",nested:!1,attr:function(l,v){l("transform",S(v.x||0,v.y||0));l("x2",null!=v.x2?v.x2-(v.x||0):0);l("y2",null!=v.y2?v.y2-(v.y||0):0)},bound:function(l,v){var O,W;return y(l.set(O=v.x||0,W=v.y||0,null!=v.x2?v.x2:O,null!=v.y2?v.y2:W),v)},draw:function(l,v,O){G(v,function(W){if(!O||O.intersects(W.bounds)){var Ra=null==W.opacity?
1:W.opacity;Ra&&Ob(l,W,Ra)&&(Ka(l,W),l.stroke())}})},pick:db(function(l,v,O,W){return l.isPointInStroke?Ob(l,v,1)&&l.isPointInStroke(O,W):!1}),isect:cb},nd=aa("shape",function(l,v){return(v.mark.shape||v.shape).context(l)(v)}),qd=aa("symbol",function(l,v){return se.context(l)(v)},ia),Id=m.lruCache(),Fd={height:Zc,measureWidth:Ic,estimateWidth:Zb,width:Zb,canvas:Qb};Qb(!0);var re={left:"start",center:"middle",right:"end"},oe=new wa,pe={type:"text",tag:"text",nested:!1,attr:function(l,v){var O=v.dx||
0,W=(v.dy||0)+fe(v),Ra=Eb(v),ub=Ra.x1;Ra=Ra.y1;var Fb=v.angle||0;l("text-anchor",re[v.align]||"start");if(Fb){if(v=S(ub,Ra)+" rotate("+(Fb+")"),O||W)v+=" "+S(O,W)}else v=S(ub+O,Ra+W);l("transform",v)},bound:Rb,draw:function(l,v,O){G(v,function(W){var Ra=null==W.opacity?1:W.opacity,ub;if(!(O&&!O.intersects(W.bounds)||0===Ra||0>=W.fontSize||null==W.text||0===W.text.length)){l.font=Qd(W);l.textAlign=W.align||"left";var Fb=Eb(W);var Sb=Fb.x1;Fb=Fb.y1;W.angle&&(l.save(),l.translate(Sb,Fb),l.rotate(W.angle*
le),Sb=Fb=0);Sb+=W.dx||0;Fb+=(W.dy||0)+fe(W);var fc=Lc(W);Ka(l,W);if(m.isArray(fc)){var Bc=Ad(W);for(ub=0;ub<fc.length;++ub){var Hc=Xc(W,fc[ub]);W.fill&&H(l,W,Ra)&&l.fillText(Hc,Sb,Fb);W.stroke&&p(l,W,Ra)&&l.strokeText(Hc,Sb,Fb);Fb+=Bc}}else Hc=Xc(W,fc),W.fill&&H(l,W,Ra)&&l.fillText(Hc,Sb,Fb),W.stroke&&p(l,W,Ra)&&l.strokeText(Hc,Sb,Fb);W.angle&&l.restore()}})},pick:db(function(l,v,O,W,Ra,ub){if(0>=v.fontSize)return!1;if(!v.angle)return!0;O=Eb(v);l=O.x1;O=O.y1;W=Rb(oe,v,1);var Fb=-v.angle*le;v=Math.cos(Fb);
Fb=Math.sin(Fb);return W.contains(v*Ra-Fb*ub+(l-v*l+Fb*O),Fb*Ra+v*ub+(O-Fb*l-v*O))}),isect:function(l,v){l=Rb(oe,l,2);return M(v,l[0],l[1],l[2],l[3])||M(v,l[0],l[1],l[4],l[5])||M(v,l[4],l[5],l[6],l[7])||M(v,l[2],l[3],l[6],l[7])}},ge=qa("trail",function(l,v){return he.context(l)(v)},function(l,v){for(var O=l.length,W,Ra;0<=--O;)if(!1!==l[O].defined&&(W=l[O].x-v[0],Ra=l[O].y-v[1],Ra=W*W+Ra*Ra,W=l[O].size||1,Ra<W*W))return l[O];return null}),ye={arc:nf,area:of,group:Ab,image:Nb,line:$b,path:Sc,rect:Mc,
rule:$c,shape:nd,symbol:qd,text:pe,trail:ge},zf={mark:null},tf="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
I.prototype={toJSON:function(l){return Cc(this.root,l||0)},mark:function(l,v,O){v=v||this.root.items[0];l=ma(l,v);v.items[O]=l;l.zindex&&(l.group.zdirty=!0);return l}};Fc.prototype={initialize:function(l,v,O){this._el=l;this._obj=O||null;return this.origin(v)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},origin:function(l){return arguments.length?(this._origin=l||[0,0],this):this._origin.slice()},scene:function(l){if(!arguments.length)return this._scene;
this._scene=l;return this},on:function(){},off:function(){},_handlerIndex:function(l,v,O){for(var W=l?l.length:0;0<=--W;)if(l[W].type===v&&(!O||l[W].handler===O))return W;return-1},handlers:function(l){var v=this._handlers,O=[];if(l)O.push.apply(O,$jscomp.arrayFromIterable(v[this.eventName(l)]));else for(var W in v)O.push.apply(O,$jscomp.arrayFromIterable(v[W]));return O},eventName:function(l){var v=l.indexOf(".");return 0>v?l:l.slice(0,v)},handleHref:function(l,v,O){this._loader.sanitize(O,{context:"href"}).then(function(W){var Ra=
new MouseEvent(l.type,l),ub=ib(null,"a"),Fb;for(Fb in W)ub.setAttribute(Fb,W[Fb]);ub.dispatchEvent(Ra)}).catch(function(){})},handleTooltip:function(l,v,O){if(v&&null!=v.tooltip){var W=this.canvas(),Ra=this._origin,ub=v&&v.mark,Fb;if(ub&&(Fb=ye[ub.marktype]).tip){W=dc(l,W);W[0]-=Ra[0];for(W[1]-=Ra[1];v=v.mark.group;)W[0]-=v.x||0,W[1]-=v.y||0;v=Fb.tip(ub.items,W)}this._tooltip.call(this._obj,this,l,v,O&&v&&v.tooltip||null)}},getItemBoundingClientRect:function(l){var v=this.canvas();if(v){var O=v.getBoundingClientRect(),
W=this._origin,Ra=l.bounds;v=Ra.width();var ub=Ra.height(),Fb=Ra.x1+W[0]+O.left;for(O=Ra.y1+W[1]+O.top;l.mark&&(l=l.mark.group);)Fb+=l.x||0,O+=l.y||0;return{x:Fb,y:O,width:v,height:ub,left:Fb,top:O,right:Fb+v,bottom:O+ub}}}};Da.prototype={initialize:function(l,v,O,W,Ra){this._el=l;return this.resize(v,O,W,Ra)},element:function(){return this._el},canvas:function(){return this._el&&this._el.firstChild},background:function(l){if(0===arguments.length)return this._bgcolor;this._bgcolor=l;return this},
resize:function(l,v,O,W){this._width=l;this._height=v;this._origin=O||[0,0];this._scale=W||1;return this},dirty:function(){},render:function(l){var v=this;v._call=function(){v._render(l)};v._call();v._call=null;return v},_render:function(){},renderAsync:function(l){var v=this.render(l);return this._ready?this._ready.then(function(){return v}):Promise.resolve(v)},_load:function(l,v){var O=this;l=O._loader[l](v);if(!O._ready){var W=O._call;O._ready=O._loader.ready().then(function(Ra){Ra&&W();O._ready=
null})}return l},sanitizeURL:function(l){return this._load("sanitizeURL",l)},loadImage:function(l){return this._load("loadImage",l)}};m.inherits(Ma,Fc,{initialize:function(l,v,O){var W=this;this._canvas=l&&nb(l,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(function(Ra){return Pb(W,Ra)});return Fc.prototype.initialize.call(this,l,v,O)},canvas:function(){return this._canvas},context:function(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),
DOMMouseScroll:function(l){this.fire("mousewheel",l)},mousemove:mc("mousemove","mouseover","mouseout"),dragover:mc("dragover","dragenter","dragleave"),mouseout:Dc("mouseout"),dragleave:Dc("dragleave"),mousedown:function(l){this._down=this._active;this.fire("mousedown",l)},click:function(l){this._down===this._active&&(this.fire("click",l),this._down=null)},touchstart:function(l){this._touch=this.pickEvent(l.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",
l,!0)},touchmove:function(l){this.fire("touchmove",l,!0)},touchend:function(l){this.fire("touchend",l,!0);this._touch=null},fire:function(l,v,O){O=O?this._touch:this._active;var W=this._handlers[l];v.vegaType=l;"click"===l&&O&&O.href?this.handleHref(v,O,O.href):("mousemove"===l||"mouseout"===l)&&this.handleTooltip(v,O,"mouseout"!==l);if(W){l=0;for(var Ra=W.length;l<Ra;++l)W[l].handler.call(this._obj,v,O)}},on:function(l,v){var O=this.eventName(l),W=this._handlers;0>this._handlerIndex(W[O],l,v)&&(Pb(this,
l),(W[O]||(W[O]=[])).push({type:l,handler:v}));return this},off:function(l,v){var O=this.eventName(l);O=this._handlers[O];l=this._handlerIndex(O,l,v);0<=l&&O.splice(l,1);return this},pickEvent:function(l){l=dc(l,this._canvas);var v=this._origin;return this.pick(this._scene,l[0],l[1],l[0]-v[0],l[1]-v[1])},pick:function(l,v,O,W,Ra){var ub=this.context();return ye[l.marktype].pick.call(this,ub,l,v,O,W,Ra)}});var Df="undefined"!==typeof window?window.devicePixelRatio||1:1,pf=Da.prototype;m.inherits(Kc,
Da,{initialize:function(l,v,O,W,Ra,ub){this._options=ub||{};this._canvas=this._options.externalContext?null:Gb.canvas(1,1,this._options.type);l&&this._canvas&&(Ub(l,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return pf.initialize.call(this,l,v,O,W,Ra)},resize:function(l,v,O,W){pf.resize.call(this,l,v,O,W);if(this._canvas){l=this._canvas;v=this._width;O=this._height;W=this._origin;var Ra=this._scale,ub=this._options.context,Fb="undefined"!==typeof HTMLElement&&l instanceof
HTMLElement&&null!=l.parentNode,Sb=l.getContext("2d");Ra=Fb?Df:Ra;l.width=v*Ra;l.height=O*Ra;for(var fc in ub)Sb[fc]=ub[fc];Fb&&1!==Ra&&(l.style.width=v+"px",l.style.height=O+"px");Sb.pixelRatio=Ra;Sb.setTransform(Ra,0,0,Ra,Ra*W[0],Ra*W[1])}else(fc=this._options.externalContext)||m.error("CanvasRenderer is missing a valid canvas or context"),fc.scale(this._scale,this._scale),fc.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas:function(){return this._canvas},context:function(){return this._options.externalContext||
(this._canvas?this._canvas.getContext("2d"):null)},dirty:function(l){var v=this._tempb.clear().union(l.bounds);for(l=l.mark.group;l;)v.translate(l.x||0,l.y||0),l=l.mark.group;this._dirty.union(v)},_render:function(l){var v=this.context(),O=this._origin,W=this._width,Ra=this._height,ub=this._dirty,Fb=(new wa).set(0,0,W,Ra).translate(-O[0],-O[1]);v.save();this._redraw||ub.empty()?Fb=(this._redraw=!1,Fb.expand(1)):(Fb=Fb.intersect(ub),Fb.expand(1).round(),v.pixelRatio%1&&Fb.scale(v.pixelRatio).round().scale(1/
v.pixelRatio),Fb.translate(-(O[0]%1),-(O[1]%1)),v.beginPath(),v.rect(Fb.x1,Fb.y1,Fb.width(),Fb.height()),v.clip());this.clear(-O[0],-O[1],W,Ra);this.draw(v,l,Fb);v.restore();ub.clear();return this},draw:function(l,v,O){var W=ye[v.marktype];if(v.clip){var Ra=v.clip;l.save();m.isFunction(Ra)?(l.beginPath(),Ra(l),l.clip()):ta(l,v.group)}W.draw.call(this,l,v,O);v.clip&&l.restore()},clear:function(l,v,O,W){var Ra=this._options,ub=this.context();"pdf"===Ra.type||Ra.externalContext||ub.clearRect(l,v,O,W);
null!=this._bgcolor&&(ub.fillStyle=this._bgcolor,ub.fillRect(l,v,O,W))}});var eg=function(l,v){return function(O){var W=O.target.__data__;W=Array.isArray(W)?W[0]:W;O.vegaType=O.type;v.call(l._obj,O,W)}};m.inherits(Hb,Fc,{initialize:function(l,v,O){var W=this._svg;W&&(W.removeEventListener("click",this._hrefHandler),W.removeEventListener("mousemove",this._tooltipHandler),W.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=W=l&&nb(l,"svg"))W.addEventListener("click",this._hrefHandler),
W.addEventListener("mousemove",this._tooltipHandler),W.addEventListener("mouseout",this._tooltipHandler);return Fc.prototype.initialize.call(this,l,v,O)},canvas:function(){return this._svg},on:function(l,v){var O=this.eventName(l),W=this._handlers;0>this._handlerIndex(W[O],l,v)&&(l={type:l,handler:v,listener:eg(this,v)},(W[O]||(W[O]=[])).push(l),this._svg&&this._svg.addEventListener(O,l.listener));return this},off:function(l,v){var O=this.eventName(l),W=this._handlers[O];l=this._handlerIndex(W,l,
v);0<=l&&(this._svg&&this._svg.removeEventListener(O,W[l].listener),W.splice(l,1));return this}});var If=function(l,v,O){var W={};return W.role=l,W["aria-roledescription"]=v,W["aria-label"]=O||void 0,W},Rf=m.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),A={axis:{desc:"axis",caption:function(l){var v=l.datum,O=l.orient,W=v.title?Wc(l):null,Ra=l.context;v=Ra.scales[v.scale].value;Ra=Ra.dataflow.locale();
var ub=v.type;return("left"===O||"right"===O?"Y":"X")+"-axis"+(W?" titled '"+W+"'":"")+(" for a "+(wb.isDiscrete(ub)?"discrete":ub)+" scale with ")+wb.domainCaption(Ra,v,l)}},legend:{desc:"legend",caption:function(l){var v=l.datum,O=v.title?Wc(l):null,W=((v.type||"")+" legend").trim(),Ra=v.scales;v=Object.keys(Ra);var ub=l.context;Ra=ub.scales[Ra[v[0]]].value;ub=ub.dataflow.locale();return(W.length?W[0].toUpperCase()+W.slice(1):W)+(O?" titled '"+O+"'":"")+(" for "+Kd(v))+(" with "+wb.domainCaption(ub,
Ra,l))}},"title-text":{desc:"title",caption:function(l){return"Title text '"+m.array(l.text).join(" ")+"'"}},"title-subtitle":{desc:"subtitle",caption:function(l){return"Subtitle text '"+m.array(l.text).join(" ")+"'"}}},B={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},K=function(l){return(l+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")},T=function(l){return ld(od(),l)+""},la={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",
strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},sa={fill:"none","stroke-miterlimit":10},Na=Db.xmlns,hb=Da.prototype;m.inherits(wd,Da,{initialize:function(l,v,O,W,Ra){this._defs={};this._clearDefs();l&&(this._svg=Bb(l,0,"svg",Na),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns",
Na),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",Db["xmlns:xlink"]),this._svg.setAttribute("version",Db.version),this._svg.setAttribute("class","marks"),Ub(l,1),this._root=Bb(this._svg,0,"g",Na),Zd(this._root,sa),Ub(this._svg,1));this.background(this._bgcolor);return hb.initialize.call(this,l,v,O,W,Ra)},background:function(l){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",l);return hb.background.apply(this,arguments)},resize:function(l,v,O,W){hb.resize.call(this,
l,v,O,W);this._svg&&(Zd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height}),this._root.setAttribute("transform","translate("+this._origin+")"));this._dirty=[];return this},canvas:function(){return this._svg},svg:function(){var l=this._svg,v=this._bgcolor;if(!l)return null;if(v){l.removeAttribute("style");var O=Bb(l,0,"rect",Na);Zd(O,{width:this._width,height:this._height,fill:v})}var W=T(l);v&&(l.removeChild(O),this._svg.style.setProperty("background-color",
v));return W},_render:function(l){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,l),Ub(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty:function(l){l.dirty!==this._dirtyID&&(l.dirty=this._dirtyID,this._dirty.push(l))},isDirty:function(l){return this._dirtyAll||!l._svg||l.dirty===this._dirtyID},_dirtyCheck:function(){this._dirtyAll=!0;var l=this._dirty;if(!l.length||!this._dirtyID)return!0;var v=++this._dirtyID,O;var W=0;for(O=l.length;W<O;++W){var Ra=
l[W];var ub=Ra.mark;if(ub.marktype!==Fb){var Fb=ub.marktype;var Sb=ye[Fb]}ub.zdirty&&ub.dirty!==v&&(this._dirtyAll=!1,Rd(Ra,v),ub.items.forEach(function(fc){fc.dirty=v}));ub.zdirty||(Ra.exit?(Sb.nested&&ub.items.length?(ub=ub.items[0],ub._svg&&this._update(Sb,ub._svg,ub)):Ra._svg&&(ub=Ra._svg.parentNode)&&ub.removeChild(Ra._svg),Ra._svg=null):(Ra=Sb.nested?ub.items[0]:Ra,Ra._update!==v&&(Ra._svg&&Ra._svg.ownerSVGElement?this._update(Sb,Ra._svg,Ra):(this._dirtyAll=!1,Rd(Ra,v)),Ra._update=v)))}return!this._dirtyAll},
mark:function(l,v,O){var W=this;if(!this.isDirty(v))return v._svg;var Ra=this._svg,ub=ye[v.marktype],Fb=!1===v.interactive?"none":null,Sb="g"===ub.tag,fc=null,Bc=0,Hc=ce(v,l,O,"g",Ra);Hc.setAttribute("class",Xb(v));l=sc(v);for(var hd in l)P(Hc,hd,l[hd]);Sb||P(Hc,"pointer-events",Fb);P(Hc,"clip-path",v.clip?Ia(this,v,v.group):null);Fb=function(yd){var Oc=W.isDirty(yd),Bd=ce(yd,Hc,fc,ub.tag,Ra);Oc&&(W._update(ub,Bd,yd),Sb&&Hd(W,Bd,yd));fc=Bd;++Bc};ub.nested?v.items.length&&Fb(v.items[0]):G(v,Fb);Ub(Hc,
Bc);return Hc},_update:function(l,v,O){fb=v;ob=v.__values__;Wb(ke,O);l.attr(ke,O,this);var W=pb[l.type];W&&W.call(this,l,v,O);fb&&this.style(fb,O)},style:function(l,v){if(null!=v)for(var O in la){var W="font"===O?Md(v):v[O];if(W!==ob[O]){var Ra=la[O];null==W?l.removeAttribute(Ra):(W&&W.gradient&&(W=Lb(W,this._defs.gradient,oa())),l.setAttribute(Ra,W+""));ob[O]=W}}},defs:function(){var l=this._svg,v=this._defs,O=v.el,W=0;for(Hc in v.gradient){O||(v.el=O=Bb(l,1,"defs",Na));var Ra,ub=O,Fb=v.gradient[Hc];
if("radial"===Fb.gradient){var Sb=Bb(ub,W++,"pattern",Na);Zd(Sb,{id:"p_"+Fb.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"});Sb=Bb(Sb,0,"rect",Na);Zd(Sb,{width:1,height:1,fill:"url("+oa()+"#"+Fb.id+")"});ub=Bb(ub,W++,"radialGradient",Na);Zd(ub,{id:Fb.id,fx:Fb.x1,fy:Fb.y1,fr:Fb.r1,cx:Fb.x2,cy:Fb.y2,r:Fb.r2})}else ub=Bb(ub,W++,"linearGradient",Na),Zd(ub,{id:Fb.id,x1:Fb.x1,x2:Fb.x2,y1:Fb.y1,y2:Fb.y2});var fc=0;for(Ra=Fb.stops.length;fc<Ra;++fc)Sb=Bb(ub,fc,"stop",
Na),Sb.setAttribute("offset",Fb.stops[fc].offset),Sb.setAttribute("stop-color",Fb.stops[fc].color);Ub(ub,fc)}for(var Bc in v.clipping){O||(v.el=O=Bb(l,1,"defs",Na));var Hc=O;ub=v.clipping[Bc];Hc=Bb(Hc,W,"clipPath",Na);Hc.setAttribute("id",ub.id);ub.path?(Fb=Bb(Hc,0,"path",Na),Fb.setAttribute("d",ub.path)):(Fb=Bb(Hc,0,"rect",Na),Zd(Fb,{x:0,y:0,width:ub.width,height:ub.height}));Ub(Hc,1);W+=1}O&&(0===W?(l.removeChild(O),v.el=null):Ub(O,W))},_clearDefs:function(){var l=this._defs;l.gradient={};l.clipping=
{}}});var fb=null,ob=null,pb={group:function(l,v,O){var W=fb=v.childNodes[2];ob=W.__values__;l.foreground(ke,O,this);ob=v.__values__;fb=v.childNodes[1];l.content(ke,O,this);v=fb=v.childNodes[0];l.background(ke,O,this);l=!1===O.mark.interactive?"none":null;l!==ob.events&&(P(W,"pointer-events",l),P(v,"pointer-events",l),ob.events=l);O.strokeForeground&&O.stroke?(l=O.fill,P(W,"display",null),this.style(v,O),P(v,"stroke",null),l&&(O.fill=null),ob=W.__values__,this.style(W,O),l&&(O.fill=l),fb=null):P(W,
"display","none")},image:function(l,v,O){!1===O.smooth?(Ke(v,"image-rendering","optimizeSpeed"),Ke(v,"image-rendering","pixelated")):Ke(v,"image-rendering",null)},text:function(l,v,O){l=Lc(O);if(m.isArray(l)){var W=l.map(function(Fb){return Xc(O,Fb)});l=W.join("\n");if(l!==ob.text){Ub(v,0);var Ra=v.ownerDocument;var ub=Ad(O);W.forEach(function(Fb,Sb){var fc=ib(Ra,"tspan",Na);fc.__data__=O;fc.textContent=Fb;Sb&&(fc.setAttribute("x",0),fc.setAttribute("dy",ub));v.appendChild(fc)});ob.text=l}}else W=
Xc(O,l),W!==ob.text&&(v.textContent=W,ob.text=W);P(v,"font-family",Md(O));P(v,"font-size",Zc(O)+"px");P(v,"font-style",O.fontStyle);P(v,"font-variant",O.fontVariant);P(v,"font-weight",O.fontWeight)}};m.inherits(Ha,Da,{svg:function(){return this._text},_render:function(l){var v=od();v.open("svg",m.extend({},Db,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height}));var O=this._bgcolor;O&&"transparent"!==O&&"none"!==O&&v.open("rect",
{width:this._width,height:this._height,fill:O}).close();v.open("g",sa,{transform:"translate("+this._origin+")"});this.mark(v,l);v.close();this.defs(v);this._text=v.close()+"";return this},mark:function(l,v){var O=this,W=ye[v.marktype],Ra=W.tag,ub=[Wb,W.attr];l.open("g",{"class":Xb(v),"clip-path":v.clip?Ia(this,v,v.group):null},sc(v),{"pointer-events":"g"!==Ra&&!1===v.interactive?"none":null});var Fb=function(Sb){var fc=O.href(Sb);fc&&l.open("a",fc);l.open(Ra,O.attr(v,Sb,ub,"g"!==Ra?Ra:null));if("text"===
Ra){var Bc=Lc(Sb);if(m.isArray(Bc))for(var Hc={x:0,dy:Ad(Sb)},hd=0;hd<Bc.length;++hd)l.open("tspan",hd?Hc:null).text(Xc(Sb,Bc[hd])).close();else l.text(Xc(Sb,Bc))}else"g"===Ra&&(Bc=Sb.strokeForeground,Hc=Sb.fill,hd=Sb.stroke,Bc&&hd&&(Sb.stroke=null),l.open("path",O.attr(v,Sb,W.background,"bgrect")).close(),l.open("g",O.attr(v,Sb,W.content)),G(Sb,function(yd){return O.mark(l,yd)}),l.close(),Bc&&hd?(Hc&&(Sb.fill=null),Sb.stroke=hd,l.open("path",O.attr(v,Sb,W.foreground,"bgrect")).close(),Hc&&(Sb.fill=
Hc)):l.open("path",O.attr(v,Sb,W.foreground,"bgfore")).close());l.close();fc&&l.close()};W.nested?v.items&&v.items.length&&Fb(v.items[0]):G(v,Fb);return l.close()},href:function(l){var v=this,O=l.href;if(O){if(l=this._hrefs&&this._hrefs[O])return l;this.sanitizeURL(O).then(function(W){W["xlink:href"]=W.href;W.href=null;(v._hrefs||(v._hrefs={}))[O]=W})}return null},attr:function(l,v,O,W){var Ra=this,ub={},Fb=function(Sb,fc,Bc,Hc){ub[Hc||Sb]=fc};Array.isArray(O)?O.forEach(function(Sb){return Sb(Fb,
v,Ra)}):O(Fb,v,this);W&&kb(ub,v,l,W,this._defs);return ub},defs:function(l){var v=this._defs.gradient,O=this._defs.clipping;if(0!==Object.keys(v).length+Object.keys(O).length){l.open("defs");for(var W in v){var Ra=v[W],ub=Ra.stops;"radial"===Ra.gradient?(l.open("pattern",{id:"p_"+W,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),l.open("rect",{width:"1",height:"1",fill:"url(#"+W+")"}).close(),l.close(),l.open("radialGradient",{id:W,fx:Ra.x1,fy:Ra.y1,fr:Ra.r1,cx:Ra.x2,
cy:Ra.y2,r:Ra.r2})):l.open("linearGradient",{id:W,x1:Ra.x1,x2:Ra.x2,y1:Ra.y1,y2:Ra.y2});for(Ra=0;Ra<ub.length;++Ra)l.open("stop",{offset:ub[Ra].offset,"stop-color":ub[Ra].color}).close();l.close()}for(var Fb in O)v=O[Fb],l.open("clipPath",{id:Fb}),v.path?l.open("path",{d:v.path}).close():l.open("rect",{x:0,y:0,width:v.width,height:v.height}).close(),l.close();l.close()}}});var Kb={};Kb.canvas=Kb.png={renderer:Kc,headless:Kc,handler:Ma};Kb.svg={renderer:wd,headless:Ha,handler:Hb};Kb.none={};var Vb=
new wa;h.Bounds=wa;h.CanvasHandler=Ma;h.CanvasRenderer=Kc;h.Gradient=function(l,v){var O=[],W;return W={gradient:"linear",x1:l?l[0]:0,y1:l?l[1]:0,x2:v?v[0]:1,y2:v?v[1]:0,stops:O,stop:function(Ra,ub){O.push({offset:Ra,color:ub});return W}}};h.GroupItem=ja;h.Handler=Fc;h.Item=$a;h.Marks=ye;h.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};h.Renderer=Da;h.ResourceLoader=u;h.SVGHandler=Hb;h.SVGRenderer=wd;h.SVGStringRenderer=Ha;h.Scenegraph=I;h.boundClip=function(l){var v=l.clip;if(m.isFunction(v))v(z(Vb.clear()));
else if(v)Vb.set(0,0,l.group.width,l.group.height);else return;l.bounds.intersect(Vb)};h.boundContext=z;h.boundItem=mb;h.boundMark=rc;h.boundStroke=y;h.domChild=Bb;h.domClear=Ub;h.domCreate=ib;h.domFind=nb;h.font=Qd;h.fontFamily=Md;h.fontSize=Zc;h.intersect=function(l,v,O){var W=[];v=(new wa).union(v);var Ra=l.marktype;return Ra?eb(l,v,O,W):"group"===Ra?Tb(l,v,O,W):m.error("Intersect scene must be mark node or group item.")};h.intersectBoxLine=M;h.intersectPath=V;h.intersectPoint=ia;h.intersectRule=
cb;h.lineHeight=Ad;h.markup=od;h.multiLineOffset=function(l){var v=Lc(l);return(m.isArray(v)?v.length-1:0)*Ad(l)};h.pathCurves=Ua;h.pathEqual=vc;h.pathParse=Sa;h.pathRectangle=xa;h.pathRender=za;h.pathSymbols=na;h.pathTrail=fa;h.point=dc;h.renderModule=function(l,v){l=String(l||"").toLowerCase();return 1<arguments.length?(Kb[l]=v,this):Kb[l]};h.resetSVGClipId=function(){de=1};h.resetSVGDefIds=function(){de=1;ed=0};h.sceneEqual=xc;h.sceneFromJSON=Rc;h.scenePickVisit=L;h.sceneToJSON=Cc;h.sceneVisit=
G;h.sceneZOrder=t;h.serializeXML=T;h.textMetrics=Fd;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[25]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(14),xb(24),xb(0)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],m):(h="undefined"!==typeof globalThis?globalThis:h||self,m((h.vega=h.vega||{},h.vega.transforms={}),h.vega,h.vega,h.vega))})(this,function(h,m,x,Wa){function Gb(p){m.Transform.call(this,null,p)}function gb(p,q,t){return q(p.bounds.clear(),p,t)}function wb(p){m.Transform.call(this,
0,p)}function Lb(p){return p._signals[":vega_identifier:"]||(p._signals[":vega_identifier:"]=p.add(0))}function rb(p){m.Transform.call(this,null,p)}function Ua(p){var q=p.groups;p=p.parent;return q&&1===q.size?q.get(Object.keys(q.object)[0]):q&&p?q.lookup(p):null}function Sa(p){m.Transform.call(this,null,p)}function ab(p){m.Transform.call(this,null,p)}function za(p,q,t){return p[q]===t?0:(p[q]=t,1)}function Y(p){p=p.items[0].orient;return"left"===p||"right"===p}function na(p,q,t,G){q=q.items[0];var L=
q.datum,ba=null!=q.translate?q.translate:.5,Ga=q.orient,La=+L.grid;var db=[L.ticks?La++:-1,L.labels?La++:-1,La+ +L.domain];La=q.range;var sb=q.offset,S=q.position,aa=q.minExtent,qa=q.maxExtent;L=L.title&&q.items[db[2]].items[0];var ta=q.titlePadding,ea=q.bounds,U=L&&x.multiLineOffset(L),Fa;ha.clear().union(ea);ea.clear();-1<(Fa=db[0])&&ea.union(q.items[Fa].bounds);-1<(Fa=db[1])&&ea.union(q.items[Fa].bounds);switch(Ga){case "top":t=S||0;G=-sb;aa=Math.max(aa,Math.min(qa,-ea.y1));ea.add(0,-aa).add(La,
0);L&&Ba(p,L,aa,ta,U,0,-1,ea);break;case "left":t=-sb;G=S||0;aa=Math.max(aa,Math.min(qa,-ea.x1));ea.add(-aa,0).add(0,La);L&&Ba(p,L,aa,ta,U,1,-1,ea);break;case "right":t+=sb;G=S||0;aa=Math.max(aa,Math.min(qa,ea.x2));ea.add(0,0).add(aa,La);L&&Ba(p,L,aa,ta,U,1,1,ea);break;case "bottom":t=S||0;G+=sb;aa=Math.max(aa,Math.min(qa,ea.y2));ea.add(0,0).add(La,aa);L&&Ba(p,L,aa,ta,0,0,1,ea);break;default:t=q.x,G=q.y}x.boundStroke(ea.translate(t,G),q);za(q,"x",t+ba)|za(q,"y",G+ba)&&(q.bounds=ha,p.dirty(q),q.bounds=
ea,p.dirty(q));return q.mark.bounds.clear().union(ea)}function Ba(p,q,t,G,L,ba,Ga,La){var db=q.bounds;q.auto&&(t=Ga*(t+L+G),L=G=0,p.dirty(q),ba?G=(q.x||0)-(q.x=t):L=(q.y||0)-(q.y=t),q.mark.bounds.clear().union(db.translate(-G,-L)),p.dirty(q));La.union(db)}function Qa(p){return(new x.Bounds).set(0,0,p.width||0,p.height||0)}function ca(p){var q=p.bounds.clone();return q.empty()?q.set(0,0,0,0):q.translate(-(p.x||0),-(p.y||0))}function Z(p,q,t){p=Wa.isObject(p)?p[q]:p;return null!=p?p:void 0!==t?t:0}
function Oa(p){return 0>p?Math.ceil(-p):0}function Aa(p,q,t){var G=!t.nodirty,L="flush"===t.bounds?Qa:ca,ba=ha.set(0,0,0,0),Ga=Z(t.align,"column"),La=Z(t.align,"row"),db=Z(t.padding,"column"),sb=Z(t.padding,"row"),S=t.columns||q.length,aa=0>=S?1:Math.ceil(q.length/S),qa=q.length,ta=Array(qa),ea=Array(S),U=0,Fa=Array(qa),Ja=Array(aa),Ta=0,ya=Array(qa),lb=Array(qa),yb=Array(qa),Ya,Ob,Qb;for(Ya=0;Ya<S;++Ya)ea[Ya]=0;for(Ya=0;Ya<aa;++Ya)Ja[Ya]=0;for(Ya=0;Ya<qa;++Ya){var Zb=q[Ya];var Ic=yb[Ya]=L(Zb);Zb.x=
Zb.x||0;ya[Ya]=0;Zb.y=Zb.y||0;lb[Ya]=0;Zb=Ya%S;var uc=~~(Ya/S);U=Math.max(U,Ob=Math.ceil(Ic.x2));Ta=Math.max(Ta,Qb=Math.ceil(Ic.y2));ea[Zb]=Math.max(ea[Zb],Ob);Ja[uc]=Math.max(Ja[uc],Qb);ta[Ya]=db+Oa(Ic.x1);Fa[Ya]=sb+Oa(Ic.y1);G&&p.dirty(q[Ya])}for(Ya=0;Ya<qa;++Ya)0===Ya%S&&(ta[Ya]=0),Ya<S&&(Fa[Ya]=0);if("each"===Ga)for(Zb=1;Zb<S;++Zb){L=0;for(Ya=Zb;Ya<qa;Ya+=S)L<ta[Ya]&&(L=ta[Ya]);for(Ya=Zb;Ya<qa;Ya+=S)ta[Ya]=L+ea[Zb-1]}else if("all"===Ga){for(Ya=L=0;Ya<qa;++Ya)Ya%S&&L<ta[Ya]&&(L=ta[Ya]);for(Ya=
0;Ya<qa;++Ya)Ya%S&&(ta[Ya]=L+U)}else for(Ga=!1,Zb=1;Zb<S;++Zb)for(Ya=Zb;Ya<qa;Ya+=S)ta[Ya]+=ea[Zb-1];if("each"===La)for(uc=1;uc<aa;++uc){L=0;Ya=uc*S;for(Zb=Ya+S;Ya<Zb;++Ya)L<Fa[Ya]&&(L=Fa[Ya]);for(Ya=uc*S;Ya<Zb;++Ya)Fa[Ya]=L+Ja[uc-1]}else if("all"===La){L=0;for(Ya=S;Ya<qa;++Ya)L<Fa[Ya]&&(L=Fa[Ya]);for(Ya=S;Ya<qa;++Ya)Fa[Ya]=L+Ta}else for(La=!1,uc=1;uc<aa;++uc)for(Ya=uc*S,Zb=Ya+S;Ya<Zb;++Ya)Fa[Ya]+=Ja[uc-1];for(Ya=uc=0;Ya<qa;++Ya)uc=ta[Ya]+(Ya%S?uc:0),ya[Ya]+=uc-q[Ya].x;for(Zb=0;Zb<S;++Zb)for(ta=0,
Ya=Zb;Ya<qa;Ya+=S)ta+=Fa[Ya],lb[Ya]+=ta-q[Ya].y;if(Ga&&Z(t.center,"column")&&1<aa)for(Ya=0;Ya<qa;++Ya)Ic="all"===Ga?U:ea[Ya%S],uc=Ic-yb[Ya].x2-q[Ya].x-ya[Ya],0<uc&&(ya[Ya]+=uc/2);if(La&&Z(t.center,"row")&&1!==S)for(Ya=0;Ya<qa;++Ya)Ic="all"===La?Ta:Ja[~~(Ya/S)],ta=Ic-yb[Ya].y2-q[Ya].y-lb[Ya],0<ta&&(lb[Ya]+=ta/2);for(Ya=0;Ya<qa;++Ya)ba.union(yb[Ya].translate(ya[Ya],lb[Ya]));uc=Z(t.anchor,"x");ta=Z(t.anchor,"y");switch(Z(t.anchor,"column")){case "end":uc-=ba.width();break;case "middle":uc-=ba.width()/
2}switch(Z(t.anchor,"row")){case "end":ta-=ba.height();break;case "middle":ta-=ba.height()/2}uc=Math.round(uc);ta=Math.round(ta);ba.clear();for(Ya=0;Ya<qa;++Ya)q[Ya].mark.bounds.clear();for(Ya=0;Ya<qa;++Ya)Zb=q[Ya],Zb.x+=ya[Ya]+=uc,Zb.y+=lb[Ya]+=ta,ba.union(Zb.mark.bounds.union(Zb.bounds.translate(ya[Ya],lb[Ya]))),G&&p.dirty(Zb);return ba}function va(p,q){return"x1"===q?p.x||0:"y1"===q?p.y||0:"x2"===q?(p.x||0)+(p.width||0):"y2"===q?(p.y||0)+(p.height||0):void 0}function xa(p,q){return p.bounds[q]}
function fa(p,q,t,G,L,ba,Ga,La,db,sb,S,aa,qa,ta){var ea=t.length,U=G=0,Fa,Ja;if(!ea)return G;for(Fa=S;Fa<ea;Fa+=aa)t[Fa]&&(G=Ga(G,db(t[Fa],sb)));if(!q.length)return G;q.length>L&&(p.warn("Grid headers exceed limit: "+L),q=q.slice(0,L));G+=ba;L=0;for(ba=q.length;L<ba;++L)p.dirty(q[L]),q[L].mark.bounds.clear();Fa=S;L=0;for(ba=q.length;L<ba;++L,Fa+=aa){db=q[L];S=db.mark.bounds;for(ea=Fa;0<=ea&&null==(Ja=t[ea]);ea-=qa);if(La){ea=null==ta?Ja.x:Math.round(Ja.bounds.x1+ta*Ja.bounds.width());var Ta=G}else ea=
G,Ta=null==ta?Ja.y:Math.round(Ja.bounds.y1+ta*Ja.bounds.height());S.union(db.bounds.translate(ea-(db.x||0),Ta-(db.y||0)));db.x=ea;db.y=Ta;p.dirty(db);U=Ga(U,S[sb])}return U}function pa(p,q,t,G,L,ba){if(q){p.dirty(q);var Ga=t;G?Ga=Math.round(L.x1+ba*L.width()):t=Math.round(L.y1+ba*L.height());q.bounds.translate(Ga-(q.x||0),t-(q.y||0));q.mark.bounds.clear().union(q.bounds);q.x=Ga;q.y=t;p.dirty(q)}}function da(p,q){var t=p[q]||{};return function(G,L){return null!=t[G]?t[G]:null!=p[G]?p[G]:L}}function ua(p,
q){var t=-Infinity;p.forEach(function(G){null!=G.offset&&(t=Math.max(t,G.offset))});return-Infinity<t?t:q}function Ia(p,q,t,G,L,ba,Ga){var La=da(t,q);t=ua(p,La("offset",0));var db=La("anchor","start"),sb="end"===db?1:"middle"===db?.5:0;p={align:"each",bounds:La("bounds","flush"),columns:"vertical"===La("direction")?1:p.length,padding:La("margin",8),center:La("center"),nodirty:!0};switch(q){case "left":p.anchor={x:Math.floor(G.x1)-t,column:"end",y:sb*(Ga||G.height()+2*G.y1),row:db};break;case "right":p.anchor=
{x:Math.ceil(G.x2)+t,y:sb*(Ga||G.height()+2*G.y1),row:db};break;case "top":p.anchor={y:Math.floor(L.y1)-t,row:"end",x:sb*(ba||L.width()+2*L.x1),column:db};break;case "bottom":p.anchor={y:Math.ceil(L.y2)+t,x:sb*(ba||L.width()+2*L.x1),column:db};break;case "top-left":p.anchor={x:t,y:t};break;case "top-right":p.anchor={x:ba-t,y:t,column:"end"};break;case "bottom-left":p.anchor={x:t,y:Ga-t,row:"end"};break;case "bottom-right":p.anchor={x:ba-t,y:Ga-t,column:"end",row:"end"}}return p}function wa(p,q){q=
q.items[0];var t=q.datum,G=q.orient,L=q.bounds,ba=q.x,Ga=q.y;q._bounds?q._bounds.clear().union(L):q._bounds=L.clone();L.clear();var La=q.items[0].items[0];var db=q.padding,sb=db-La.x,S=db-La.y;if(q.datum.title){var aa=q.items[1].items[0],qa=aa.anchor,ta=q.titlePadding||0,ea=db-aa.x,U=db-aa.y;switch(aa.orient){case "left":sb+=Math.ceil(aa.bounds.width())+ta;break;case "right":case "bottom":break;default:S+=aa.bounds.height()+ta}(sb||S)&&u(p,La,sb,S);switch(aa.orient){case "left":U+=ja(q,La,aa,qa,1,
1);break;case "right":ea+=ja(q,La,aa,"end",0,0)+ta;U+=ja(q,La,aa,qa,1,1);break;case "bottom":ea+=ja(q,La,aa,qa,0,0);U+=ja(q,La,aa,"end",-1,0,1)+ta;break;default:ea+=ja(q,La,aa,qa,0,0)}(ea||U)&&u(p,aa,ea,U);0>(ea=Math.round(aa.bounds.x1-db))&&(u(p,La,-ea,0),u(p,aa,-ea,0))}else(sb||S)&&u(p,La,sb,S);L=$a(q,L);p=2*q.padding;La=2*q.padding;L.empty()||(p=Math.ceil(L.width()+p),La=Math.ceil(L.height()+La));"symbol"===t.type&&y(q.items[0].items[0].items[0].items);"none"!==G&&(q.x=ba=0,q.y=Ga=0);q.width=p;
q.height=La;x.boundStroke(L.set(ba,Ga,ba+p,Ga+La),q);q.mark.bounds.clear().union(L);return q}function $a(p,q){p.items.forEach(function(t){return q.union(t.bounds)});q.x1=p.padding;q.y1=p.padding;return q}function ja(p,q,t,G,L,ba,Ga){var La=t.datum.vgrad;p=("symbol"===p.datum.type||!ba&&La||Ga?q:q.items[0]).bounds[L?"y2":"x2"]-p.padding;q=La&&ba?p:0;ba=La&&ba?0:p;t=0>=L?0:x.multiLineOffset(t);return Math.round("start"===G?q:"end"===G?ba-t:.5*(p-t))}function u(p,q,t,G){q.x+=t;q.y+=G;q.bounds.translate(t,
G);q.mark.bounds.translate(t,G);p.dirty(q)}function y(p){var q=p.reduce(function(t,G){t[G.column]=Math.max(G.bounds.x2-G.x,t[G.column]||0);return t},{});p.forEach(function(t){t.width=q[t.column];t.height=t.bounds.y2-t.y})}function z(p,q,t,G,L){var ba=q.items[0],Ga=ba.orient,La=ba.anchor,db=ba.offset,sb=ba.padding,S=ba.items[0].items[0],aa=ba.items[1]&&ba.items[1].items[0],qa="left"===Ga||"right"===Ga?G:t,ta=0,ea=t=0;"group"!==ba.frame?"left"===Ga?(ta=L.y2,qa=L.y1):"right"===Ga?(ta=L.y1,qa=L.y2):(ta=
L.x1,qa=L.x2):"left"===Ga&&(ta=G,qa=0);G="start"===La?ta:"end"===La?qa:(ta+qa)/2;if(aa&&aa.text){switch(Ga){case "top":case "bottom":ea=S.bounds.height()+sb;break;case "left":t=S.bounds.width()+sb;break;case "right":t=-S.bounds.width()-sb}ha.clear().union(aa.bounds);ha.translate(t-(aa.x||0),ea-(aa.y||0));za(aa,"x",t)|za(aa,"y",ea)&&(p.dirty(aa),aa.bounds.clear().union(ha),aa.mark.bounds.clear().union(ha),p.dirty(aa));ha.clear().union(aa.bounds)}else ha.clear();ha.union(S.bounds);switch(Ga){case "top":Ga=
G;L=L.y1-ha.height()-db;break;case "left":Ga=L.x1-ha.width()-db;L=G;break;case "right":Ga=L.x2+ha.width()+db;L=G;break;case "bottom":Ga=G;L=L.y2+db;break;default:Ga=ba.x,L=ba.y}za(ba,"x",Ga)|za(ba,"y",L)&&(ha.translate(Ga,L),p.dirty(ba),ba.bounds.clear().union(ha),q.bounds.clear().union(ha),p.dirty(ba));return ba.bounds}function D(p){m.Transform.call(this,null,p)}function C(p){return p&&"legend-entry"!==p.mark.role}function J(p,q,t){var G=q.items,L=Math.max(0,q.width||0),ba=Math.max(0,q.height||0),
Ga=(new x.Bounds).set(0,0,L,ba),La=Ga.clone(),db=Ga.clone(),sb=[],S,aa;var qa=0;for(aa=G.length;qa<aa;++qa){var ta=G[qa];switch(ta.role){case "axis":var ea=Y(ta)?La:db;ea.union(na(p,ta,L,ba));break;case "title":var U=ta;break;case "legend":sb.push(wa(p,ta));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":La.union(ta.bounds);db.union(ta.bounds);break;default:Ga.union(ta.bounds)}}if(sb.length){var Fa=
{};sb.forEach(function(Ta){S=Ta.orient||"right";"none"!==S&&(Fa[S]||(Fa[S]=[])).push(Ta)});for(var Ja in Fa)G=Fa[Ja],Aa(p,G,Ia(G,Ja,t.legends,La,db,L,ba));sb.forEach(function(Ta){var ya=Ta.bounds;ya.equals(Ta._bounds)||(Ta.bounds=Ta._bounds,p.dirty(Ta),Ta.bounds=ya,p.dirty(Ta));if(t.autosize&&"fit"===t.autosize.type)switch(Ta.orient){case "left":case "right":Ga.add(ya.x1,0).add(ya.x2,0);break;case "top":case "bottom":Ga.add(0,ya.y1).add(0,ya.y2)}else Ga.union(ya)})}Ga.union(La).union(db);U&&Ga.union(z(p,
U,L,ba,Ga));q.clip&&Ga.set(0,0,q.width||0,q.height||0);V(p,q,Ga,t)}function V(p,q,t,G){G=G.autosize||{};var L=G.type;if(!(1>p._autosize)&&L){var ba=p._width,Ga=p._height,La=Math.max(0,q.width||0),db=Math.max(0,Math.ceil(-t.x1));q=Math.max(0,q.height||0);var sb=Math.max(0,Math.ceil(-t.y1)),S=Math.max(0,Math.ceil(t.x2-La));t=Math.max(0,Math.ceil(t.y2-q));if("padding"===G.contains){var aa=p.padding();ba-=aa.left+aa.right;Ga-=aa.top+aa.bottom}"none"===L?(sb=db=0,La=ba,q=Ga):"fit"===L?(La=Math.max(0,ba-
db-S),q=Math.max(0,Ga-sb-t)):"fit-x"===L?(La=Math.max(0,ba-db-S),Ga=q+sb+t):"fit-y"===L?(ba=La+db+S,q=Math.max(0,Ga-sb-t)):"pad"===L&&(ba=La+db+S,Ga=q+sb+t);p._resizeView(ba,Ga,La,q,[db,sb],G.resize)}}Wa.inherits(Gb,m.Transform,{transform:function(p,q){var t=q.dataflow,G=p.mark,L=G.marktype,ba=x.Marks[L],Ga=ba.bound,La=G.bounds;if(ba.nested)G.items.length&&t.dirty(G.items[0]),La=gb(G,Ga),G.items.forEach(function(sb){sb.bounds.clear().union(La)});else if("group"===L||p.modified())switch(q.visit(q.MOD,
function(sb){return t.dirty(sb)}),La.clear(),G.items.forEach(function(sb){return La.union(gb(sb,Ga))}),G.role){case "axis":case "legend":case "title":q.reflow()}else{var db=q.changed(q.REM);q.visit(q.ADD,function(sb){La.union(gb(sb,Ga))});q.visit(q.MOD,function(sb){db=db||La.alignsWith(sb.bounds);t.dirty(sb);La.union(gb(sb,Ga))});db&&(La.clear(),G.items.forEach(function(sb){return La.union(sb.bounds)}))}x.boundClip(G);return q.modifies("bounds")}});wb.Definition={type:"Identifier",metadata:{modifies:!0},
params:[{name:"as",type:"string",required:!0}]};Wa.inherits(wb,m.Transform,{transform:function(p,q){var t=Lb(q.dataflow),G=p.as,L=t.value;q.visit(q.ADD,function(ba){return ba[G]=ba[G]||++L});t.set(this.value=L);return q}});Wa.inherits(rb,m.Transform,{transform:function(p,q){var t=this.value;t||(t=q.dataflow.scenegraph().mark(p.markdef,Ua(p),p.index),t.group.context=p.context,p.context.group||(p.context.group=t.group),t.source=this.source,t.clip=p.clip,t.interactive=p.interactive,this.value=t);var G=
"group"===t.marktype?x.GroupItem:x.Item;q.visit(q.ADD,function(L){return G.call(L,t)});if(p.modified("clip")||p.modified("interactive"))t.clip=p.clip,t.interactive=!!p.interactive,t.zdirty=!0,q.reflow();t.items=q.source;return q}});var ia={parity:function(p){return p.filter(function(q,t){return t%2?q.opacity=0:1})},greedy:function(p,q){var t;return p.filter(function(G,L){return L&&Pa(t.bounds,G.bounds,q)?G.opacity=0:(t=G,1)})}},Pa=function(p,q,t){return t>Math.max(q.x1-p.x2,p.x1-q.x2,q.y1-p.y2,p.y1-
q.y2)},cb=function(p,q){for(var t=1,G=p.length,L=p[0].bounds;t<G;++t)if(Pa(L,L=p[t].bounds,q))return!0},M=function(p){p=p.bounds;return 1<p.width()&&1<p.height()},Ka=function(p,q,t){p=p.range();var G=new x.Bounds;"top"===q||"bottom"===q?G.set(p[0],-Infinity,p[1],Infinity):G.set(-Infinity,p[0],Infinity,p[1]);G.expand(t||1);return function(L){return G.encloses(L.bounds)}},ka=function(p){p.forEach(function(q){return q.opacity=1});return p};Wa.inherits(Sa,m.Transform,{transform:function(p,q){var t=ia[p.method]||
ia.parity,G=p.separation||0,L=q.materialize(q.SOURCE).source;if(L&&L.length){if(!p.method)return p.modified("method")&&(ka(L),q=q.reflow(p.modified()).modifies("opacity")),q;L=L.filter(M);if(L.length){p.sort&&(L=L.slice().sort(p.sort));var ba=ka(L);q=q.reflow(p.modified()).modifies("opacity");if(3<=ba.length&&cb(ba,G)){do ba=t(ba,G);while(3<=ba.length&&cb(ba,G));3>ba.length&&!Wa.peek(L).opacity&&(1<ba.length&&(Wa.peek(ba).opacity=0),Wa.peek(L).opacity=1)}if(p.boundScale&&0<=p.boundTolerance){var Ga=
Ka(p.boundScale,p.boundOrient,+p.boundTolerance);L.forEach(function(db){Ga(db)||(db.opacity=0)})}var La=ba[0].mark.bounds.clear();L.forEach(function(db){db.opacity&&La.union(db.bounds)});return q}}}});Wa.inherits(ab,m.Transform,{transform:function(p,q){var t=q.dataflow;q.visit(q.ALL,function(G){return t.dirty(G)});q.fields&&q.fields.zindex&&(p=q.source&&q.source[0])&&(p.mark.zdirty=!0)}});var ha=new x.Bounds,w=function(p,q){return Math.floor(Math.min(p,q))},H=function(p,q){return Math.ceil(Math.max(p,
q))};Wa.inherits(D,m.Transform,{transform:function(p,q){var t=q.dataflow;p.mark.items.forEach(function(G){if(p.layout){for(var L=p.layout,ba=G.items,Ga=ba.length,La=0,db,sb,S=[],aa=[],qa=[],ta=[],ea=[],U=null,Fa=null;La<Ga;++La)if(db=ba[La],sb=db.items,"group"===db.marktype)switch(db.role){case "axis":case "legend":case "title":break;case "row-header":aa.push.apply(aa,$jscomp.arrayFromIterable(sb));break;case "row-footer":qa.push.apply(qa,$jscomp.arrayFromIterable(sb));break;case "column-header":ta.push.apply(ta,
$jscomp.arrayFromIterable(sb));break;case "column-footer":ea.push.apply(ea,$jscomp.arrayFromIterable(sb));break;case "row-title":U=sb[0];break;case "column-title":Fa=sb[0];break;default:S.push.apply(S,$jscomp.arrayFromIterable(sb))}db="flush"===L.bounds?va:xa;ba=L.offset;sb=L.columns||S.length;var Ja=0>=sb?1:Math.ceil(S.length/sb),Ta=Ja*sb;Ga=Aa(t,S,L);Ga.empty()&&Ga.set(0,0,0,0);if(aa){La=Z(L.headerBand,"row",null);var ya=fa(t,aa,S,sb,Ja,-Z(ba,"rowHeader"),w,0,db,"x1",0,sb,1,La)}if(ta){La=Z(L.headerBand,
"column",null);var lb=fa(t,ta,S,sb,sb,-Z(ba,"columnHeader"),w,1,db,"y1",0,1,sb,La)}if(qa){La=Z(L.footerBand,"row",null);var yb=fa(t,qa,S,sb,Ja,Z(ba,"rowFooter"),H,0,db,"x2",sb-1,sb,1,La)}if(ea){La=Z(L.footerBand,"column",null);var Ya=fa(t,ea,S,sb,sb,Z(ba,"columnFooter"),H,1,db,"y2",Ta-sb,1,sb,La)}U&&(aa=Z(L.titleAnchor,"row"),S=Z(ba,"rowTitle"),S="end"===aa?yb+S:ya-S,La=Z(L.titleBand,"row",.5),pa(t,U,S,0,Ga,La));Fa&&(aa=Z(L.titleAnchor,"column"),S=Z(ba,"columnTitle"),S="end"===aa?Ya+S:lb-S,La=Z(L.titleBand,
"column",.5),pa(t,Fa,S,1,Ga,La))}J(t,G,p)});return C(p.mark.group)?q.reflow():q}});h.bound=Gb;h.identifier=wb;h.mark=rb;h.overlap=Sa;h.render=ab;h.viewlayout=D;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[26]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(14),xb(23),xb(0),xb(3),xb(21)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-scale vega-util d3-array d3-interpolate".split(" "),m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.vega={},h.vega,h.vega,h.vega,h.d3,h.d3))})(this,function(h,m,x,Wa,Gb,gb){function wb(C){m.Transform.call(this,null,C)}function Lb(C){m.Transform.call(this,null,C)}function rb(){return m.ingest({})}
function Ua(C){var J=Wa.fastmap().test(function(V){return V.exit});J.lookup=function(V){return J.get(C(V))};return J}function Sa(C){m.Transform.call(this,null,C)}function ab(C){m.Transform.call(this,[],C)}function za(C){m.Transform.call(this,{},C)}function Y(C){m.Transform.call(this,null,C)}function na(C){return x.isContinuous(C)&&C!==x.Sequential}function Ba(C){m.Transform.call(this,null,C);this.modified(!0)}function Qa(C,J,V){x.isLogarithmic(C)&&Math.abs(J.reduce(function(ia,Pa){return ia+(0>Pa?
-1:0<Pa?1:0)},0))!==J.length&&V.warn("Log scale domain includes zero: "+Wa.stringValue(J));return J}function ca(C,J,V){return Wa.isFunction(C)&&(J||V)?x.interpolateRange(C,Z(J||[0,1],V)):C}function Z(C,J){return J?C.slice().reverse():C}function Oa(C){m.Transform.call(this,null,C)}function Aa(C){m.Transform.call(this,null,C)}function va(C,J,V,ia,Pa){J=(J-C.sum)/2;for(var cb=C.length,M=0,Ka;M<cb;++M)Ka=C[M],Ka[ia]=J,Ka[Pa]=J+=Math.abs(V(Ka))}function xa(C,J,V,ia,Pa){J=1/C.sum;for(var cb=0,M=C.length,
Ka=0,ka=0,ha;Ka<M;++Ka)ha=C[Ka],ha[ia]=cb,ha[Pa]=cb=J*(ka+=Math.abs(V(ha)))}function fa(C,J,V,ia,Pa){for(var cb=J=0,M=C.length,Ka=0,ka,ha;Ka<M;++Ka)ha=C[Ka],ka=+V(ha),0>ka?(ha[ia]=cb,ha[Pa]=cb+=ka):(ha[ia]=J,ha[Pa]=J+=ka)}function pa(C,J,V,ia){var Pa=[],cb=function(p){return p(ha)},M;if(null==J)Pa.push(C.slice());else{var Ka={};var ka=0;for(M=C.length;ka<M;++ka){var ha=C[ka];var w=J.map(cb);var H=Ka[w];H||(Ka[w]=H=[],Pa.push(H));H.push(ha)}}cb=w=0;for(C=Pa.length;w<C;++w){H=Pa[w];J=ka=0;for(M=H.length;ka<
M;++ka)J+=Math.abs(ia(H[ka]));H.sum=J;J>cb&&(cb=J);V&&H.sort(V)}Pa.max=cb;return Pa}Wa.inherits(wb,m.Transform,{transform:function(C,J){if(this.value&&!C.modified())return J.StopPropagation;var V=J.dataflow.locale();J=J.fork(J.NO_SOURCE|J.NO_FIELDS);var ia=this.value,Pa=C.scale,cb=x.tickCount(Pa,null==C.count?C.values?C.values.length:10:C.count,C.minstep),M=C.format||x.tickFormat(V,Pa,cb,C.formatSpecifier,C.formatType,!!C.values),Ka=C.values?x.validTicks(Pa,C.values,cb):x.tickValues(Pa,cb);ia&&(J.rem=
ia);ia=Ka.map(function(ka,ha){return m.ingest({index:ha/(Ka.length-1||1),value:ka,label:M(ka)})});C.extra&&ia.length&&ia.push(m.ingest({index:-1,extra:{value:ia[0].value},label:""}));J.source=ia;this.value=J.add=ia;return J}});Wa.inherits(Lb,m.Transform,{transform:function(C,J){var V=J.dataflow,ia=J.fork(J.NO_SOURCE|J.NO_FIELDS),Pa=C.item||rb,cb=C.key||m.tupleid,M=this.value;Wa.isArray(ia.encode)&&(ia.encode=null);M&&(C.modified("key")||J.modified(cb))&&Wa.error("DataJoin does not support modified key function or fields.");
M||(J=J.addAll(),this.value=M=Ua(cb));J.visit(J.ADD,function(Ka){var ka=cb(Ka),ha=M.get(ka);ha?ha.exit?(M.empty--,ia.add.push(ha)):ia.mod.push(ha):(ha=Pa(Ka),M.set(ka,ha),ia.add.push(ha));ha.datum=Ka;ha.exit=!1});J.visit(J.MOD,function(Ka){var ka=cb(Ka);if(ka=M.get(ka))ka.datum=Ka,ia.mod.push(ka)});J.visit(J.REM,function(Ka){var ka=cb(Ka);ka=M.get(ka);Ka!==ka.datum||ka.exit||(ia.rem.push(ka),ka.exit=!0,++M.empty)});J.changed(J.ADD_MOD)&&ia.modifies("datum");(J.clean()||C.clean&&M.empty>V.cleanThreshold)&&
V.runAfter(M.clean);return ia}});Wa.inherits(Sa,m.Transform,{transform:function(C,J){var V=J.fork(J.ADD_REM),ia=C.mod||!1,Pa=C.encoders,cb=J.encode;if(Wa.isArray(cb))if(V.changed()||cb.every(function(H){return Pa[H]}))cb=cb[0],V.encode=null;else return J.StopPropagation;var M="enter"===cb,Ka=Pa.update||Wa.falsy,ka=Pa.enter||Wa.falsy,ha=Pa.exit||Wa.falsy,w=(cb&&!M?Pa[cb]:Ka)||Wa.falsy;J.changed(J.ADD)&&(J.visit(J.ADD,function(H){ka(H,C);Ka(H,C)}),V.modifies(ka.output),V.modifies(Ka.output),w!==Wa.falsy&&
w!==Ka&&(J.visit(J.ADD,function(H){w(H,C)}),V.modifies(w.output)));J.changed(J.REM)&&ha!==Wa.falsy&&(J.visit(J.REM,function(H){ha(H,C)}),V.modifies(ha.output));if(M||w!==Wa.falsy)cb=J.MOD|(C.modified()?J.REFLOW:0),M?(J.visit(cb,function(H){var p=ka(H,C)||ia;(w(H,C)||p)&&V.mod.push(H)}),V.mod.length&&V.modifies(ka.output)):J.visit(cb,function(H){(w(H,C)||ia)&&V.mod.push(H)}),V.mod.length&&V.modifies(w.output);return V.changed()?V:J.StopPropagation}});Wa.inherits(ab,m.Transform,{transform:function(C,
J){if(null!=this.value&&!C.modified())return J.StopPropagation;var V=J.dataflow.locale(),ia=J.fork(J.NO_SOURCE|J.NO_FIELDS),Pa=this.value,cb=C.type||x.SymbolLegend,M=C.scale,Ka=+C.limit,ka=x.tickCount(M,null==C.count?5:C.count,C.minstep),ha=!!C.values||cb===x.SymbolLegend,w=C.format||x.labelFormat(V,M,ka,cb,C.formatSpecifier,C.formatType,ha),H=C.values||x.labelValues(M,ka),p;Pa&&(ia.rem=Pa);if(cb===x.SymbolLegend){if(Ka&&H.length>Ka){J.dataflow.warn("Symbol legend count exceeds limit, filtering items.");
Pa=H.slice(0,Ka-1);var q=!0}else Pa=H;if(Wa.isFunction(p=C.size)){C.values||0!==M(Pa[0])||(Pa=Pa.slice(1));var t=Pa.reduce(function(L,ba){return Math.max(L,p(ba,C))},0)}else p=Wa.constant(t=p||8);Pa=Pa.map(function(L,ba){return m.ingest({index:ba,label:w(L,ba,Pa),value:L,offset:t,size:p(L,C)})});q&&(q=H[Pa.length],Pa.push(m.ingest({index:Pa.length,label:"…"+(H.length-Pa.length)+" entries",value:q,offset:t,size:p(q,C)})))}else if(cb===x.GradientLegend){J=M.domain();var G=x.scaleFraction(M,J[0],Wa.peek(J));
3>H.length&&!C.values&&J[0]!==Wa.peek(J)&&(H=[J[0],Wa.peek(J)]);Pa=H.map(function(L,ba){return m.ingest({index:ba,label:w(L,ba,H),value:L,perc:G(L)})})}else p=H.length-1,G=x.labelFraction(M),Pa=H.map(function(L,ba){return m.ingest({index:ba,label:w(L,ba,H),value:L,perc:ba?G(L):0,perc2:ba===p?1:G(H[ba+1])})});ia.source=Pa;this.value=ia.add=Pa;return ia}});var da=function(C){return C.source.x},ua=function(C){return C.source.y},Ia=function(C){return C.target.x},wa=function(C){return C.target.y};za.Definition=
{type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};
Wa.inherits(za,m.Transform,{transform:function(C,J){var V=C.sourceX||da,ia=C.sourceY||ua,Pa=C.targetX||Ia,cb=C.targetY||wa,M=C.as||"path",Ka=C.shape||"line",ka=y.get(Ka+"-"+(C.orient||"vertical"))||y.get(Ka);ka||Wa.error("LinkPath unsupported type: "+C.shape+(C.orient?"-"+C.orient:""));J.visit(J.SOURCE,function(ha){ha[M]=ka(V(ha),ia(ha),Pa(ha),cb(ha))});return J.reflow(C.modified()).modifies(M)}});var $a=function(C,J,V,ia){return"M"+C+","+J+"L"+V+","+ia},ja=function(C,J,V,ia){var Pa=V-C,cb=ia-J,M=
Math.sqrt(Pa*Pa+cb*cb)/2;return"M"+C+","+J+"A"+M+","+M+" "+180*Math.atan2(cb,Pa)/Math.PI+" 0 1 "+V+","+ia},u=function(C,J,V,ia){var Pa=V-C,cb=ia-J,M=.2*(Pa+cb);Pa=.2*(cb-Pa);return"M"+C+","+J+"C"+(C+M)+","+(J+Pa)+" "+(V+Pa)+","+(ia-M)+" "+V+","+ia},y=Wa.fastmap({line:$a,"line-radial":function(C,J,V,ia){return $a(J*Math.cos(C),J*Math.sin(C),ia*Math.cos(V),ia*Math.sin(V))},arc:ja,"arc-radial":function(C,J,V,ia){return ja(J*Math.cos(C),J*Math.sin(C),ia*Math.cos(V),ia*Math.sin(V))},curve:u,"curve-radial":function(C,
J,V,ia){return u(J*Math.cos(C),J*Math.sin(C),ia*Math.cos(V),ia*Math.sin(V))},"orthogonal-horizontal":function(C,J,V,ia){return"M"+C+","+J+"V"+ia+"H"+V},"orthogonal-vertical":function(C,J,V,ia){return"M"+C+","+J+"H"+V+"V"+ia},"orthogonal-radial":function(C,J,V,ia){var Pa=Math.cos(V),cb=Math.sin(V);return"M"+J*Math.cos(C)+","+J*Math.sin(C)+"A"+J+","+J+" 0 0,"+((Math.abs(V-C)>Math.PI?V<=C:V>C)?1:0)+" "+J*Pa+","+J*cb+"L"+ia*Pa+","+ia*cb},"diagonal-horizontal":function(C,J,V,ia){var Pa=(C+V)/2;return"M"+
C+","+J+"C"+Pa+","+J+" "+Pa+","+ia+" "+V+","+ia},"diagonal-vertical":function(C,J,V,ia){var Pa=(J+ia)/2;return"M"+C+","+J+"C"+C+","+Pa+" "+V+","+Pa+" "+V+","+ia},"diagonal-radial":function(C,J,V,ia){var Pa=Math.cos(C);C=Math.sin(C);var cb=Math.cos(V);V=Math.sin(V);var M=(J+ia)/2;return"M"+J*Pa+","+J*C+"C"+M*Pa+","+M*C+" "+M*cb+","+M*V+" "+ia*cb+","+ia*V}});Y.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",
type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};Wa.inherits(Y,m.Transform,{transform:function(C,J){var V=C.as||["startAngle","endAngle"],ia=V[0],Pa=V[1],cb=C.startAngle||0,M=null!=C.endAngle?C.endAngle:2*Math.PI,Ka=J.source,ka=Ka.map(C.field||Wa.one),ha=ka.length,w=cb;cb=(M-cb)/Gb.sum(ka);M=Gb.range(ha);var H;C.sort&&M.sort(function(t,G){return ka[t]-ka[G]});for(H=0;H<ha;++H){var p=
ka[M[H]];var q=Ka[M[H]];q[ia]=w;q[Pa]=w+=p*cb}this.value=ka;return J.reflow(C.modified()).modifies(V)}});var z=Wa.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));Wa.inherits(Ba,m.Transform,{transform:function(C,J){var V=J.dataflow,ia=this.value;var Pa=C.type;var cb="";if(Pa===x.Sequential)Pa=x.Sequential+"-"+x.Linear;else{var M=C.type;
x.isContinuous(M)&&M!==x.Time&&M!==x.UTC&&(C.scheme||C.range&&C.range.length&&C.range.every(Wa.isString))&&(cb=C.rawDomain?C.rawDomain.length:C.domain?C.domain.length+ +(null!=C.domainMid):0,cb=2===cb?x.Sequential+"-":3===cb?x.Diverging+"-":"");Pa=(cb+Pa||x.Linear).toLowerCase()}ia&&Pa===ia.type||(this.value=ia=x.scale(Pa)());for(Pa in C)z[Pa]||"padding"===Pa&&na(ia.type)||(Wa.isFunction(ia[Pa])?ia[Pa](C[Pa]):V.warn("Unsupported scale property: "+Pa));cb=Pa=ia;(M=C.domainRaw)?(ia.domain(Qa(ia.type,
M,V)),M=M.length):M=-1;if(-1<M)V=M;else{var Ka=C.domain;M=ia.type;var ka;!(ka=C.zero)&&(ka=void 0===C.zero)&&(ka=ia.type,ka=!ia.bins&&(ka===x.Linear||ka===x.Pow||ka===x.Sqrt));if(Ka){if(na(M)&&C.padding&&Ka[0]!==Wa.peek(Ka)){var ha=C.range,w=C.padding;var H=C.exponent;var p=C.constant;ha=Math.abs(Wa.peek(ha)-ha[0]);w=ha/(ha-2*w);H=M===x.Log?Wa.zoomLog(Ka,null,w):M===x.Sqrt?Wa.zoomPow(Ka,null,w,.5):M===x.Pow?Wa.zoomPow(Ka,null,w,H||1):M===x.Symlog?Wa.zoomSymlog(Ka,null,w,p||1):Wa.zoomLinear(Ka,null,
w);Ka=Ka.slice();Ka[0]=H[0];Ka[Ka.length-1]=H[1]}if(ka||null!=C.domainMin||null!=C.domainMax||null!=C.domainMid)H=(Ka=Ka.slice()).length-1||1,ka&&(0<Ka[0]&&(Ka[0]=0),0>Ka[H]&&(Ka[H]=0)),null!=C.domainMin&&(Ka[0]=C.domainMin),null!=C.domainMax&&(Ka[H]=C.domainMax),null!=C.domainMid&&(ka=C.domainMid,p=ka>Ka[H]?H+1:ka<Ka[0]?0:H,p!==H&&V.warn("Scale domainMid exceeds domain min or max.",ka),Ka.splice(p,0,ka));ia.domain(Qa(M,Ka,V));M===x.Ordinal&&ia.unknown(C.domainImplicit?x.scaleImplicit:void 0);C.nice&&
ia.nice&&ia.nice(!0!==C.nice&&x.tickCount(ia,C.nice)||null);V=Ka.length}else V=0}(M=C.bins)&&!Wa.isArray(M)&&(ka=cb.domain(),ia=ka[0],ka=Wa.peek(ka),Ka=M.step,H=null==M.start?ia:M.start,M=null==M.stop?ka:M.stop,Ka||Wa.error("Scale bins parameter missing step property."),H<ia&&(H=Ka*Math.ceil(ia/Ka)),M>ka&&(M=Ka*Math.floor(ka/Ka)),M=Gb.range(H,M+Ka/2,Ka));M?cb.bins=M:cb.bins&&delete cb.bins;cb.type===x.BinOrdinal&&(M?C.domain||C.domainRaw||(cb.domain(M),V=M.length):cb.bins=cb.domain());ia=V;a:{cb=
Pa.type;V=C.round||!1;M=C.range;if(null!=C.rangeStep)cb!==x.Band&&cb!==x.Point&&Wa.error("Only band and point scales support rangeStep."),M=[0,C.rangeStep*x.bandSpace(ia,cb===x.Point?1:(null!=C.paddingInner?C.paddingInner:C.padding)||0,(null!=C.paddingOuter?C.paddingOuter:C.padding)||0)];else if(C.scheme&&(M=C.schemeExtent,Wa.isArray(C.scheme)?ka=x.interpolateColors(C.scheme,C.interpolate,C.interpolateGamma):(ka=C.scheme.toLowerCase(),(ka=x.scheme(ka))||Wa.error("Unrecognized scheme name: "+C.scheme)),
ia=cb===x.Threshold?ia+1:cb===x.BinOrdinal?ia-1:cb===x.Quantile||cb===x.Quantize?+C.schemeCount||5:ia,M=x.isInterpolating(cb)?ca(ka,M,C.reverse):Wa.isFunction(ka)?x.quantizeInterpolator(ca(ka,M),ia):cb===x.Ordinal?ka:ka.slice(0,ia),Wa.isFunction(M)))if(Pa.interpolator){Pa.interpolator(M);break a}else Wa.error("Scale type "+cb+" does not support interpolating color schemes.");M&&x.isInterpolating(cb)?Pa.interpolator(x.interpolateColors(Z(M,C.reverse),C.interpolate,C.interpolateGamma)):(M&&C.interpolate&&
Pa.interpolate?Pa.interpolate(x.interpolate(C.interpolate,C.interpolateGamma)):Wa.isFunction(Pa.round)?Pa.round(V):Wa.isFunction(Pa.rangeRound)&&Pa.interpolate(V?gb.interpolateRound:gb.interpolate),M&&Pa.range(Z(M,C.reverse)))}return J.fork(J.NO_SOURCE|J.NO_FIELDS)}});Wa.inherits(Oa,m.Transform,{transform:function(C,J){var V=C.modified("sort")||J.changed(J.ADD)||J.modified(C.sort.fields)||J.modified("datum");V&&J.source.sort(m.stableCompare(C.sort));this.modified(V);return J}});var D=["y0","y1"];
Aa.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":D}]};Wa.inherits(Aa,m.Transform,{transform:function(C,J){var V=C.as||D,ia=V[0],Pa=V[1],cb=m.stableCompare(C.sort),M=C.field||Wa.one,Ka="center"===C.offset?va:"normalize"===C.offset?xa:fa,ka;cb=pa(J.source,C.groupby,
cb,M);var ha=0;var w=cb.length;for(ka=cb.max;ha<w;++ha)Ka(cb[ha],ka,M,ia,Pa);return J.reflow(C.modified()).modifies(V)}});h.axisticks=wb;h.datajoin=Lb;h.encode=Sa;h.legendentries=ab;h.linkpath=za;h.pie=Y;h.scale=Ba;h.sortitems=Oa;h.stack=Aa;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[27]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(3)):"function"===typeof define&&define.amd?define(["exports","d3-array"],m):(h=h||self,m(h.d3=h.d3||{},h.d3))})(this,function(h,m){function x(X){return 1<X?0:-1>X?eb:Math.acos(X)}function Wa(X){return 1<X?Tb:-1>X?-Tb:Math.asin(X)}function Gb(X){return(X=Mb(X/2))*X}function gb(){}function wb(X,Ea){if(X&&Te.hasOwnProperty(X.type))Te[X.type](X,Ea)}function Lb(X,Ea,bb){var qb=-1;bb=X.length-bb;
for(Ea.lineStart();++qb<bb;){var Cb=X[qb];Ea.point(Cb[0],Cb[1],Cb[2])}Ea.lineEnd()}function rb(X,Ea){var bb=-1,qb=X.length;for(Ea.polygonStart();++bb<qb;)Lb(X[bb],Ea,1);Ea.polygonEnd()}function Ua(X,Ea){if(X&&$e.hasOwnProperty(X.type))$e[X.type](X,Ea);else wb(X,Ea)}function Sa(){se.point=za}function ab(){Y(Vd,cc)}function za(X,Ea){se.point=Y;Vd=X;cc=Ea;X*=lc;Ea*=lc;Wd=X;Yb=md(Ea=Ea/2+hc);gd=Mb(Ea)}function Y(X,Ea){X*=lc;Ea*=lc;Ea=Ea/2+hc;var bb=X-Wd,qb=0<=bb?1:-1,Cb=qb*bb;bb=md(Ea);Ea=Mb(Ea);var oc=
gd*Ea,wc=Yb*bb+oc*md(Cb);qb=oc*qb*Mb(Cb);kf.add(Ed(qb,wc));Wd=X;Yb=bb;gd=Ea}function na(X){return[Ed(X[1],X[0]),Wa(X[2])]}function Ba(X){var Ea=X[0];X=X[1];var bb=md(X);return[bb*md(Ea),bb*Mb(Ea),Mb(X)]}function Qa(X,Ea){return X[0]*Ea[0]+X[1]*Ea[1]+X[2]*Ea[2]}function ca(X,Ea){return[X[1]*Ea[2]-X[2]*Ea[1],X[2]*Ea[0]-X[0]*Ea[2],X[0]*Ea[1]-X[1]*Ea[0]]}function Z(X,Ea){X[0]+=Ea[0];X[1]+=Ea[1];X[2]+=Ea[2]}function Oa(X,Ea){return[X[0]*Ea,X[1]*Ea,X[2]*Ea]}function Aa(X){var Ea=ne(X[0]*X[0]+X[1]*X[1]+
X[2]*X[2]);X[0]/=Ea;X[1]/=Ea;X[2]/=Ea}function va(X,Ea){xe.push(Gd=[he=X,je=X]);Ea<de&&(de=Ea);Ea>$d&&($d=Ea)}function xa(X,Ea){var bb=Ba([X*lc,Ea*lc]);if(ve){var qb=ca(ve,bb);qb=ca([qb[1],-qb[0],0],qb);Aa(qb);qb=na(qb);var Cb=X-Ud,oc=0<Cb?1:-1,wc=qb[0]*vc*oc;Cb=180<ed(Cb);Cb^(oc*Ud<wc&&wc<oc*X)?(qb=qb[1]*vc,qb>$d&&($d=qb)):(wc=(wc+360)%360-180,Cb^(oc*Ud<wc&&wc<oc*X))?(qb=-qb[1]*vc,qb<de&&(de=qb)):(Ea<de&&(de=Ea),Ea>$d&&($d=Ea));Cb?X<Ud?wa(he,X)>wa(he,je)&&(je=X):wa(X,je)>wa(he,je)&&(he=X):je>=he?
(X<he&&(he=X),X>je&&(je=X)):X>Ud?wa(he,X)>wa(he,je)&&(je=X):wa(X,je)>wa(he,je)&&(he=X)}else xe.push(Gd=[he=X,je=X]);Ea<de&&(de=Ea);Ea>$d&&($d=Ea);ve=bb;Ud=X}function fa(){Oe.point=xa}function pa(){Gd[0]=he;Gd[1]=je;Oe.point=va;ve=null}function da(X,Ea){if(ve){var bb=X-Ud;Jd.add(180<ed(bb)?bb+(0<bb?360:-360):bb)}else Nc=X,Qe=Ea;se.point(X,Ea);xa(X,Ea)}function ua(){se.lineStart()}function Ia(){da(Nc,Qe);se.lineEnd();1E-6<ed(Jd)&&(he=-(je=180));Gd[0]=he;Gd[1]=je;ve=null}function wa(X,Ea){return 0>(Ea-=
X)?Ea+360:Ea}function $a(X,Ea){return X[0]-Ea[0]}function ja(X,Ea){return X[0]<=X[1]?X[0]<=Ea&&Ea<=X[1]:Ea<X[0]||X[1]<Ea}function u(X,Ea){X*=lc;Ea*=lc;var bb=md(Ea);y(bb*md(X),bb*Mb(X),Mb(Ea))}function y(X,Ea,bb){++We;uf+=(X-uf)/We;Me+=(Ea-Me)/We;df+=(bb-df)/We}function z(){$b.point=D}function D(X,Ea){X*=lc;Ea*=lc;var bb=md(Ea);Ab=bb*md(X);Db=bb*Mb(X);Nb=Mb(Ea);$b.point=C;y(Ab,Db,Nb)}function C(X,Ea){X*=lc;Ea*=lc;var bb=md(Ea),qb=bb*md(X);X=bb*Mb(X);Ea=Mb(Ea);var Cb=Ed(ne((Cb=Db*Ea-Nb*X)*Cb+(Cb=Nb*
qb-Ab*Ea)*Cb+(Cb=Ab*X-Db*qb)*Cb),Ab*qb+Db*X+Nb*Ea);lf+=Cb;ad+=Cb*(Ab+(Ab=qb));cf+=Cb*(Db+(Db=X));Ve+=Cb*(Nb+(Nb=Ea));y(Ab,Db,Nb)}function J(){$b.point=u}function V(){$b.point=Pa}function ia(){cb(Q,Va);$b.point=u}function Pa(X,Ea){Q=X;Va=Ea;X*=lc;Ea*=lc;$b.point=cb;var bb=md(Ea);Ab=bb*md(X);Db=bb*Mb(X);Nb=Mb(Ea);y(Ab,Db,Nb)}function cb(X,Ea){X*=lc;Ea*=lc;var bb=md(Ea),qb=bb*md(X);X=bb*Mb(X);Ea=Mb(Ea);bb=Db*Ea-Nb*X;var Cb=Nb*qb-Ab*Ea,oc=Ab*X-Db*qb,wc=jc(bb,Cb,oc),qc=Wa(wc);wc=wc&&-qc/wc;nf.add(wc*bb);
of.add(wc*Cb);E.add(wc*oc);lf+=qc;ad+=qc*(Ab+(Ab=qb));cf+=qc*(Db+(Db=X));Ve+=qc*(Nb+(Nb=Ea));y(Ab,Db,Nb)}function M(X){return function(){return X}}function Ka(X,Ea){function bb(qb,Cb){return qb=X(qb,Cb),Ea(qb[0],qb[1])}X.invert&&Ea.invert&&(bb.invert=function(qb,Cb){return qb=Ea.invert(qb,Cb),qb&&X.invert(qb[0],qb[1])});return bb}function ka(X,Ea){return[ed(X)>eb?X+Math.round(-X/xc)*xc:X,Ea]}function ha(X,Ea,bb){return(X%=xc)?Ea||bb?Ka(H(X),p(Ea,bb)):H(X):Ea||bb?p(Ea,bb):ka}function w(X){return function(Ea,
bb){return Ea+=X,[Ea>eb?Ea-xc:Ea<-eb?Ea+xc:Ea,bb]}}function H(X){var Ea=w(X);Ea.invert=w(-X);return Ea}function p(X,Ea){function bb(qc,yc){var Gc=md(yc),jd=md(qc)*Gc;qc=Mb(qc)*Gc;yc=Mb(yc);Gc=yc*qb+jd*Cb;return[Ed(qc*oc-Gc*wc,jd*qb-yc*Cb),Wa(Gc*oc+qc*wc)]}var qb=md(X),Cb=Mb(X),oc=md(Ea),wc=Mb(Ea);bb.invert=function(qc,yc){var Gc=md(yc),jd=md(qc)*Gc;qc=Mb(qc)*Gc;yc=Mb(yc);Gc=yc*oc-qc*wc;return[Ed(qc*oc+yc*wc,jd*qb+Gc*Cb),Wa(Gc*qb-jd*Cb)]};return bb}function q(X){function Ea(bb){bb=X(bb[0]*lc,bb[1]*
lc);return bb[0]*=vc,bb[1]*=vc,bb}X=ha(X[0]*lc,X[1]*lc,2<X.length?X[2]*lc:0);Ea.invert=function(bb){bb=X.invert(bb[0]*lc,bb[1]*lc);return bb[0]*=vc,bb[1]*=vc,bb};return Ea}function t(X,Ea,bb,qb,Cb,oc){if(bb){var wc=md(Ea),qc=Mb(Ea);bb*=qb;if(null==Cb)Cb=Ea+qb*xc,oc=Ea-bb/2;else if(Cb=G(wc,Cb),oc=G(wc,oc),0<qb?Cb<oc:Cb>oc)Cb+=qb*xc;for(;0<qb?Cb>oc:Cb<oc;Cb-=bb)Ea=na([wc,-qc*md(Cb),-qc*Mb(Cb)]),X.point(Ea[0],Ea[1])}}function G(X,Ea){Ea=Ba(Ea);Ea[0]-=X;Aa(Ea);X=x(-Ea[1]);return((0>-Ea[2]?-X:X)+xc-1E-6)%
xc}function L(){var X=[],Ea;return{point:function(bb,qb,Cb){Ea.push([bb,qb,Cb])},lineStart:function(){X.push(Ea=[])},lineEnd:gb,rejoin:function(){1<X.length&&X.push(X.pop().concat(X.shift()))},result:function(){var bb=X;X=[];Ea=null;return bb}}}function ba(X,Ea){return 1E-6>ed(X[0]-Ea[0])&&1E-6>ed(X[1]-Ea[1])}function Ga(X,Ea,bb,qb){this.x=X;this.z=Ea;this.o=bb;this.e=qb;this.v=!1;this.n=this.p=null}function La(X,Ea,bb,qb,Cb){var oc=[],wc=[];X.forEach(function(Tc){if(!(0>=(Pc=Tc.length-1))){var Pc,
bd=Tc[0],rd=Tc[Pc];if(ba(bd,rd)){if(!bd[2]&&!rd[2]){Cb.lineStart();for(qc=0;qc<Pc;++qc)Cb.point((bd=Tc[qc])[0],bd[1]);Cb.lineEnd();return}rd[0]+=2E-6}oc.push(Pc=new Ga(bd,Tc,null,!0));wc.push(Pc.o=new Ga(bd,null,Pc,!1));oc.push(Pc=new Ga(rd,Tc,null,!1));wc.push(Pc.o=new Ga(rd,null,Pc,!0))}});if(oc.length){wc.sort(Ea);db(oc);db(wc);var qc=0;for(X=wc.length;qc<X;++qc)wc[qc].e=bb=!bb;bb=oc[0];for(var yc;;){for(var Gc=bb,jd=!0;Gc.v;)if((Gc=Gc.n)===bb)return;Ea=Gc.z;Cb.lineStart();do{Gc.v=Gc.o.v=!0;if(Gc.e){if(jd)for(qc=
0,X=Ea.length;qc<X;++qc)Cb.point((yc=Ea[qc])[0],yc[1]);else qb(Gc.x,Gc.n.x,1,Cb);Gc=Gc.n}else{if(jd)for(Ea=Gc.p.z,qc=Ea.length-1;0<=qc;--qc)Cb.point((yc=Ea[qc])[0],yc[1]);else qb(Gc.x,Gc.p.x,-1,Cb);Gc=Gc.p}Gc=Gc.o;Ea=Gc.z;jd=!jd}while(!Gc.v);Cb.lineEnd()}}}function db(X){if(Ea=X.length){for(var Ea,bb=0,qb=X[0],Cb;++bb<Ea;)qb.n=Cb=X[bb],Cb.p=qb,qb=Cb;qb.n=Cb=X[0];Cb.p=qb}}function sb(X){return ed(X[0])<=eb?X[0]:qe(X[0])*((ed(X[0])+eb)%xc-eb)}function S(X,Ea){var bb=sb(Ea);Ea=Ea[1];var qb=Mb(Ea),Cb=
[Mb(bb),-md(bb),0],oc=0,wc=0,qc=new m.Adder;1===qb?Ea=Tb+1E-6:-1===qb&&(Ea=-Tb-1E-6);qb=0;for(var yc=X.length;qb<yc;++qb)if(jd=(Gc=X[qb]).length){var Gc,jd,Tc=Gc[jd-1],Pc=sb(Tc),bd=Tc[1]/2+hc,rd=Mb(bd),vd=md(bd);for(bd=0;bd<jd;++bd,Pc=Xd,rd=ee,vd=ud,Tc=ie){var ie=Gc[bd],Xd=sb(ie);ud=ie[1]/2+hc;var ee=Mb(ud),ud=md(ud),Vc=Xd-Pc,Nd=0<=Vc?1:-1,ze=Nd*Vc,Ie=ze>eb;rd*=ee;qc.add(Ed(rd*Nd*Mb(ze),vd*ud+rd*md(ze)));oc+=Ie?Vc+Nd*xc:Vc;Ie^Pc>=bb^Xd>=bb&&(Tc=ca(Ba(Tc),Ba(ie)),Aa(Tc),Pc=ca(Cb,Tc),Aa(Pc),Pc=(Ie^
0<=Vc?-1:1)*Wa(Pc[2]),Ea>Pc||Ea===Pc&&(Tc[0]||Tc[1]))&&(wc+=Ie^0<=Vc?1:-1)}}return(-1E-6>oc||1E-6>oc&&-1E-12>qc)^wc&1}function aa(X,Ea,bb,qb){return function(Cb){function oc(Vc,Nd){X(Vc,Nd)&&Cb.point(Vc,Nd)}function wc(Vc,Nd){Pc.point(Vc,Nd)}function qc(){ud.point=wc;Pc.lineStart()}function yc(){ud.point=oc;Pc.lineEnd()}function Gc(Vc,Nd){ee.push([Vc,Nd]);rd.point(Vc,Nd)}function jd(){rd.lineStart();ee=[]}function Tc(){Gc(ee[0][0],ee[0][1]);rd.lineEnd();var Vc=rd.clean(),Nd=bd.result(),ze=Nd.length,
Ie;ee.pop();ie.push(ee);ee=null;if(ze)if(Vc&1){if(ze=Nd[0],0<(Nd=ze.length-1)){vd||(Cb.polygonStart(),vd=!0);Cb.lineStart();for(Vc=0;Vc<Nd;++Vc)Cb.point((Ie=ze[Vc])[0],Ie[1]);Cb.lineEnd()}}else 1<ze&&Vc&2&&Nd.push(Nd.pop().concat(Nd.shift())),Xd.push(Nd.filter(qa))}var Pc=Ea(Cb),bd=L(),rd=Ea(bd),vd=!1,ie,Xd,ee,ud={point:oc,lineStart:qc,lineEnd:yc,polygonStart:function(){ud.point=Gc;ud.lineStart=jd;ud.lineEnd=Tc;Xd=[];ie=[]},polygonEnd:function(){ud.point=oc;ud.lineStart=qc;ud.lineEnd=yc;Xd=m.merge(Xd);
var Vc=S(ie,qb);Xd.length?(vd||(Cb.polygonStart(),vd=!0),La(Xd,ta,Vc,bb,Cb)):Vc&&(vd||(Cb.polygonStart(),vd=!0),Cb.lineStart(),bb(null,null,1,Cb),Cb.lineEnd());vd&&(Cb.polygonEnd(),vd=!1);Xd=ie=null},sphere:function(){Cb.polygonStart();Cb.lineStart();bb(null,null,1,Cb);Cb.lineEnd();Cb.polygonEnd()}};return ud}}function qa(X){return 1<X.length}function ta(X,Ea){return(0>(X=X.x)[0]?X[1]-Tb-1E-6:Tb-X[1])-(0>(Ea=Ea.x)[0]?Ea[1]-Tb-1E-6:Tb-Ea[1])}function ea(X){function Ea(yc,Gc){return md(yc)*md(Gc)>Cb}
function bb(yc,Gc,jd){var Tc=Ba(yc),Pc=Ba(Gc),bd=[1,0,0];Pc=ca(Tc,Pc);var rd=Qa(Pc,Pc);Tc=Pc[0];var vd=rd-Tc*Tc;if(!vd)return!jd&&yc;rd=Cb*rd/vd;vd=-Cb*Tc/vd;Tc=ca(bd,Pc);bd=Oa(bd,rd);Pc=Oa(Pc,vd);Z(bd,Pc);Pc=Qa(bd,Tc);rd=Qa(Tc,Tc);vd=Pc*Pc-rd*(Qa(bd,bd)-1);if(!(0>vd)){var ie=ne(vd);vd=Oa(Tc,(-Pc-ie)/rd);Z(vd,bd);vd=na(vd);if(!jd)return vd;jd=yc[0];var Xd=Gc[0];yc=yc[1];Gc=Gc[1];if(Xd<jd){var ee=jd;jd=Xd;Xd=ee}var ud=Xd-jd,Vc=1E-6>ed(ud-eb);!Vc&&Gc<yc&&(ee=yc,yc=Gc,Gc=ee);if(Vc||1E-6>ud?Vc?0<yc+Gc^
vd[1]<(1E-6>ed(vd[0]-jd)?yc:Gc):yc<=vd[1]&&vd[1]<=Gc:ud>eb^(jd<=vd[0]&&vd[0]<=Xd))return Gc=Oa(Tc,(-Pc+ie)/rd),Z(Gc,bd),[vd,na(Gc)]}}function qb(yc,Gc){var jd=wc?X:eb-X,Tc=0;yc<-jd?Tc|=1:yc>jd&&(Tc|=2);Gc<-jd?Tc|=4:Gc>jd&&(Tc|=8);return Tc}var Cb=md(X),oc=6*lc,wc=0<Cb,qc=1E-6<ed(Cb);return aa(Ea,function(yc){var Gc,jd,Tc,Pc,bd;return{lineStart:function(){Pc=Tc=!1;bd=1},point:function(rd,vd){var ie=[rd,vd],Xd=Ea(rd,vd);vd=wc?Xd?0:qb(rd,vd):Xd?qb(rd+(0>rd?eb:-eb),vd):0;!Gc&&(Pc=Tc=Xd)&&yc.lineStart();
Xd!==Tc&&(rd=bb(Gc,ie),!rd||ba(Gc,rd)||ba(ie,rd))&&(ie[2]=1);if(Xd!==Tc)bd=0,Xd?(yc.lineStart(),rd=bb(ie,Gc),yc.point(rd[0],rd[1])):(rd=bb(Gc,ie),yc.point(rd[0],rd[1],2),yc.lineEnd()),Gc=rd;else if(qc&&Gc&&wc^Xd){var ee;vd&jd||!(ee=bb(ie,Gc,!0))||(bd=0,wc?(yc.lineStart(),yc.point(ee[0][0],ee[0][1]),yc.point(ee[1][0],ee[1][1]),yc.lineEnd()):(yc.point(ee[1][0],ee[1][1]),yc.lineEnd(),yc.lineStart(),yc.point(ee[0][0],ee[0][1],3)))}!Xd||Gc&&ba(Gc,ie)||yc.point(ie[0],ie[1]);Gc=ie;Tc=Xd;jd=vd},lineEnd:function(){Tc&&
yc.lineEnd();Gc=null},clean:function(){return bd|(Pc&&Tc)<<1}}},function(yc,Gc,jd,Tc){t(Tc,X,oc,jd,yc,Gc)},wc?[0,-X]:[-eb,X-eb])}function U(X,Ea,bb,qb,Cb,oc){var wc=X[0],qc=X[1],yc=0,Gc=1,jd=Ea[0]-wc,Tc=Ea[1]-qc;bb-=wc;if(jd||!(0<bb)){bb/=jd;if(0>jd){if(bb<yc)return;bb<Gc&&(Gc=bb)}else if(0<jd){if(bb>Gc)return;bb>yc&&(yc=bb)}bb=Cb-wc;if(jd||!(0>bb)){bb/=jd;if(0>jd){if(bb>Gc)return;bb>yc&&(yc=bb)}else if(0<jd){if(bb<yc)return;bb<Gc&&(Gc=bb)}bb=qb-qc;if(Tc||!(0<bb)){bb/=Tc;if(0>Tc){if(bb<yc)return;
bb<Gc&&(Gc=bb)}else if(0<Tc){if(bb>Gc)return;bb>yc&&(yc=bb)}bb=oc-qc;if(Tc||!(0>bb)){bb/=Tc;if(0>Tc){if(bb>Gc)return;bb>yc&&(yc=bb)}else if(0<Tc){if(bb<yc)return;bb<Gc&&(Gc=bb)}0<yc&&(X[0]=wc+yc*jd,X[1]=qc+yc*Tc);1>Gc&&(Ea[0]=wc+Gc*jd,Ea[1]=qc+Gc*Tc);return!0}}}}}function Fa(X,Ea,bb,qb){function Cb(yc,Gc,jd,Tc){var Pc=0,bd=0;if(null==yc||(Pc=oc(yc,jd))!==(bd=oc(Gc,jd))||0>qc(yc,Gc)^0<jd){do Tc.point(0===Pc||3===Pc?X:bb,1<Pc?qb:Ea);while((Pc=(Pc+jd+4)%4)!==bd)}else Tc.point(Gc[0],Gc[1])}function oc(yc,
Gc){return 1E-6>ed(yc[0]-X)?0<Gc?0:3:1E-6>ed(yc[0]-bb)?0<Gc?2:1:1E-6>ed(yc[1]-Ea)?0<Gc?1:0:0<Gc?3:2}function wc(yc,Gc){return qc(yc.x,Gc.x)}function qc(yc,Gc){var jd=oc(yc,1),Tc=oc(Gc,1);return jd!==Tc?jd-Tc:0===jd?Gc[1]-yc[1]:1===jd?yc[0]-Gc[0]:2===jd?yc[1]-Gc[1]:Gc[0]-yc[0]}return function(yc){function Gc(we,te){X<=we&&we<=bb&&Ea<=te&&te<=qb&&Tc.point(we,te)}function jd(we,te){var gf=X<=we&&we<=bb&&Ea<=te&&te<=qb;rd&&vd.push([we,te]);if(ze)ie=we,Xd=te,ee=gf,ze=!1,gf&&(Tc.lineStart(),Tc.point(we,
te));else if(gf&&Nd)Tc.point(we,te);else{var Sf=[ud=Math.max(-1E9,Math.min(1E9,ud)),Vc=Math.max(-1E9,Math.min(1E9,Vc))],Jf=[we=Math.max(-1E9,Math.min(1E9,we)),te=Math.max(-1E9,Math.min(1E9,te))];U(Sf,Jf,X,Ea,bb,qb)?(Nd||(Tc.lineStart(),Tc.point(Sf[0],Sf[1])),Tc.point(Jf[0],Jf[1]),gf||Tc.lineEnd(),Ie=!1):gf&&(Tc.lineStart(),Tc.point(we,te),Ie=!1)}ud=we;Vc=te;Nd=gf}var Tc=yc,Pc=L(),bd,rd,vd,ie,Xd,ee,ud,Vc,Nd,ze,Ie,Pe={point:Gc,lineStart:function(){Pe.point=jd;rd&&rd.push(vd=[]);ze=!0;Nd=!1;ud=Vc=NaN},
lineEnd:function(){bd&&(jd(ie,Xd),ee&&Nd&&Pc.rejoin(),bd.push(Pc.result()));Pe.point=Gc;Nd&&Tc.lineEnd()},polygonStart:function(){Tc=Pc;bd=[];rd=[];Ie=!0},polygonEnd:function(){for(var we,te=we=0,gf=rd.length;te<gf;++te){var Sf=rd[te],Jf=1,wh=Sf.length,Cd=Sf[0],Af=Cd[0];for(Cd=Cd[1];Jf<wh;++Jf){var kg=Af;var xh=Cd;Cd=Sf[Jf];Af=Cd[0];Cd=Cd[1];xh<=qb?Cd>qb&&(Af-kg)*(qb-xh)>(Cd-xh)*(X-kg)&&++we:Cd<=qb&&(Af-kg)*(qb-xh)<(Cd-xh)*(X-kg)&&--we}}te=Ie&&we;gf=(bd=m.merge(bd)).length;if(te||gf)yc.polygonStart(),
te&&(yc.lineStart(),Cb(null,null,1,yc),yc.lineEnd()),gf&&La(bd,wc,we,Cb,yc),yc.polygonEnd();Tc=yc;bd=rd=vd=null}};return Pe}}function Ja(){Id.point=Id.lineEnd=gb}function Ta(X,Ea){X*=lc;Ea*=lc;$c=X;nd=Mb(Ea);qd=md(Ea);Id.point=ya}function ya(X,Ea){X*=lc;Ea*=lc;var bb=Mb(Ea);Ea=md(Ea);var qb=ed(X-$c),Cb=md(qb);qb=Mb(qb);qb*=Ea;var oc=qd*bb-nd*Ea*Cb;Cb=nd*bb+qd*Ea*Cb;Mc.add(Ed(ne(qb*qb+oc*oc),Cb));$c=X;nd=bb;qd=Ea}function lb(X){Mc=new m.Adder;Ua(X,Id);return+Mc}function yb(X,Ea){Fd[0]=X;Fd[1]=Ea;return lb(re)}
function Ya(X,Ea){return X&&pe.hasOwnProperty(X.type)?pe[X.type](X,Ea):!1}function Ob(X,Ea){for(var bb,qb,Cb,oc=0,wc=X.length;oc<wc;oc++){qb=yb(X[oc],Ea);if(0===qb||0<oc&&(Cb=yb(X[oc],X[oc-1]),0<Cb&&bb<=Cb&&qb<=Cb&&(bb+qb-Cb)*(1-Math.pow((bb-qb)/Cb,2))<1E-12*Cb))return!0;bb=qb}return!1}function Qb(X,Ea){return!!S(X.map(Zb),Ic(Ea))}function Zb(X){return X=X.map(Ic),X.pop(),X}function Ic(X){return[X[0]*lc,X[1]*lc]}function uc(X,Ea,bb){var qb=m.range(X,Ea-1E-6,bb).concat(Ea);return function(Cb){return qb.map(function(oc){return[Cb,
oc]})}}function Zc(X,Ea,bb){var qb=m.range(X,Ea-1E-6,bb).concat(Ea);return function(Cb){return qb.map(function(oc){return[oc,Cb]})}}function Ad(){function X(){return{type:"MultiLineString",coordinates:Ea()}}function Ea(){return m.range(le(oc/Pc)*Pc,Cb,Pc).map(ie).concat(m.range(le(Gc/bd)*bd,yc,bd).map(Xd)).concat(m.range(le(qb/jd)*jd,bb,jd).filter(function(ud){return 1E-6<ed(ud%Pc)}).map(rd)).concat(m.range(le(qc/Tc)*Tc,wc,Tc).filter(function(ud){return 1E-6<ed(ud%bd)}).map(vd))}var bb,qb,Cb,oc,wc,
qc,yc,Gc,jd=10,Tc=jd,Pc=90,bd=360,rd,vd,ie,Xd,ee=2.5;X.lines=function(){return Ea().map(function(ud){return{type:"LineString",coordinates:ud}})};X.outline=function(){return{type:"Polygon",coordinates:[ie(oc).concat(Xd(yc).slice(1),ie(Cb).reverse().slice(1),Xd(Gc).reverse().slice(1))]}};X.extent=function(ud){return arguments.length?X.extentMajor(ud).extentMinor(ud):X.extentMinor()};X.extentMajor=function(ud){if(!arguments.length)return[[oc,Gc],[Cb,yc]];oc=+ud[0][0];Cb=+ud[1][0];Gc=+ud[0][1];yc=+ud[1][1];
oc>Cb&&(ud=oc,oc=Cb,Cb=ud);Gc>yc&&(ud=Gc,Gc=yc,yc=ud);return X.precision(ee)};X.extentMinor=function(ud){if(!arguments.length)return[[qb,qc],[bb,wc]];qb=+ud[0][0];bb=+ud[1][0];qc=+ud[0][1];wc=+ud[1][1];qb>bb&&(ud=qb,qb=bb,bb=ud);qc>wc&&(ud=qc,qc=wc,wc=ud);return X.precision(ee)};X.step=function(ud){return arguments.length?X.stepMajor(ud).stepMinor(ud):X.stepMinor()};X.stepMajor=function(ud){if(!arguments.length)return[Pc,bd];Pc=+ud[0];bd=+ud[1];return X};X.stepMinor=function(ud){if(!arguments.length)return[jd,
Tc];jd=+ud[0];Tc=+ud[1];return X};X.precision=function(ud){if(!arguments.length)return ee;ee=+ud;rd=uc(qc,wc,90);vd=Zc(qb,bb,ee);ie=uc(Gc,yc,90);Xd=Zc(oc,Cb,ee);return X};return X.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Lc(){If.point=Xc}function Xc(X,Ea){If.point=Uc;tf=pf=X;Df=eg=Ea}function Uc(X,Ea){zf.add(eg*X-pf*Ea);pf=X;eg=Ea}function Md(){Uc(tf,Df)}function Qd(X,Ea){la+=X;sa+=Ea;++Na}function fe(){Ra.point=Eb}function Eb(X,Ea){Ra.point=
Rb;Qd(O=X,W=Ea)}function Rb(X,Ea){var bb=X-O,qb=Ea-W;bb=ne(bb*bb+qb*qb);hb+=bb*(O+X)/2;fb+=bb*(W+Ea)/2;ob+=bb;Qd(O=X,W=Ea)}function mb(){Ra.point=Qd}function rc(){Ra.point=Rc}function Cc(){sd(l,v)}function Rc(X,Ea){Ra.point=sd;Qd(l=O=X,v=W=Ea)}function sd(X,Ea){var bb=X-O,qb=Ea-W;bb=ne(bb*bb+qb*qb);hb+=bb*(O+X)/2;fb+=bb*(W+Ea)/2;ob+=bb;bb=W*X-O*Ea;pb+=bb*(O+X);Kb+=bb*(W+Ea);Vb+=3*bb;Qd(O=X,W=Ea)}function I(X){this._context=X}function ma(X,Ea){hd.point=ib;Sb=Bc=X;fc=Hc=Ea}function ib(X,Ea){Bc-=X;Hc-=
Ea;ub.add(ne(Bc*Bc+Hc*Hc));Bc=X;Hc=Ea}function nb(){this._string=[]}function Bb(X){return"m0,"+X+"a"+X+","+X+" 0 1,1 0,"+-2*X+"a"+X+","+X+" 0 1,1 0,"+2*X+"z"}function Ub(X){return function(Ea){var bb=new Xb,qb;for(qb in X)bb[qb]=X[qb];bb.stream=Ea;return bb}}function Xb(){}function dc(X,Ea,bb){var qb=X.clipExtent&&X.clipExtent();X.scale(150).translate([0,0]);null!=qb&&X.clipExtent(null);Ua(bb,X.stream(T));Ea(T.result());null!=qb&&X.clipExtent(qb);return X}function Fc(X,Ea,bb){return dc(X,function(qb){var Cb=
Ea[1][0]-Ea[0][0],oc=Ea[1][1]-Ea[0][1],wc=Math.min(Cb/(qb[1][0]-qb[0][0]),oc/(qb[1][1]-qb[0][1]));Cb=+Ea[0][0]+(Cb-wc*(qb[1][0]+qb[0][0]))/2;qb=+Ea[0][1]+(oc-wc*(qb[1][1]+qb[0][1]))/2;X.scale(150*wc).translate([Cb,qb])},bb)}function Jc(X,Ea,bb){return dc(X,function(qb){var Cb=+Ea,oc=Cb/(qb[1][0]-qb[0][0]);Cb=(Cb-oc*(qb[1][0]+qb[0][0]))/2;qb=-oc*qb[0][1];X.scale(150*oc).translate([Cb,qb])},bb)}function Da(X,Ea,bb){return dc(X,function(qb){var Cb=+Ea,oc=Cb/(qb[1][1]-qb[0][1]),wc=-oc*qb[0][0];qb=(Cb-
oc*(qb[1][1]+qb[0][1]))/2;X.scale(150*oc).translate([wc,qb])},bb)}function Ma(X){return Ub({point:function(Ea,bb){Ea=X(Ea,bb);this.stream.point(Ea[0],Ea[1])}})}function Pb(X,Ea){function bb(qb,Cb,oc,wc,qc,yc,Gc,jd,Tc,Pc,bd,rd,vd,ie){var Xd=Gc-qb,ee=jd-Cb,ud=Xd*Xd+ee*ee;if(ud>4*Ea&&vd--){var Vc=wc+Pc,Nd=qc+bd,ze=yc+rd,Ie=ne(Vc*Vc+Nd*Nd+ze*ze),Pe=Wa(ze/=Ie),we=1E-6>ed(ed(ze)-1)||1E-6>ed(oc-Tc)?(oc+Tc)/2:Ed(Nd,Vc),te=X(we,Pe);Pe=te[0];te=te[1];var gf=Pe-qb,Sf=te-Cb,Jf=ee*gf-Xd*Sf;if(Jf*Jf/ud>Ea||.3<
ed((Xd*gf+ee*Sf)/ud-.5)||wc*Pc+qc*bd+yc*rd<yd)bb(qb,Cb,oc,wc,qc,yc,Pe,te,we,Vc/=Ie,Nd/=Ie,ze,vd,ie),ie.point(Pe,te),bb(Pe,te,we,Vc,Nd,ze,Gc,jd,Tc,Pc,bd,rd,vd,ie)}}return function(qb){function Cb(Pe,we){Pe=X(Pe,we);qb.point(Pe[0],Pe[1])}function oc(){ee=NaN;Ie.point=wc;qb.lineStart()}function wc(Pe,we){var te=Ba([Pe,we]);we=X(Pe,we);bb(ee,ud,Xd,Vc,Nd,ze,ee=we[0],ud=we[1],Xd=Pe,Vc=te[0],Nd=te[1],ze=te[2],16,qb);qb.point(ee,ud)}function qc(){Ie.point=Cb;qb.lineEnd()}function yc(){oc();Ie.point=Gc;Ie.lineEnd=
jd}function Gc(Pe,we){wc(Tc=Pe,we);Pc=ee;bd=ud;rd=Vc;vd=Nd;ie=ze;Ie.point=wc}function jd(){bb(ee,ud,Xd,Vc,Nd,ze,Pc,bd,Tc,rd,vd,ie,16,qb);Ie.lineEnd=qc;qc()}var Tc,Pc,bd,rd,vd,ie,Xd,ee,ud,Vc,Nd,ze,Ie={point:Cb,lineStart:oc,lineEnd:qc,polygonStart:function(){qb.polygonStart();Ie.lineStart=yc},polygonEnd:function(){qb.polygonEnd();Ie.lineStart=oc}};return Ie}}function bc(X){return Ub({point:function(Ea,bb){Ea=X(Ea,bb);return this.stream.point(Ea[0],Ea[1])}})}function mc(X,Ea,bb,qb,Cb){function oc(wc,
qc){wc*=qb;qc*=Cb;return[Ea+X*wc,bb-X*qc]}oc.invert=function(wc,qc){return[(wc-Ea)/X*qb,(bb-qc)/X*Cb]};return oc}function Dc(X,Ea,bb,qb,Cb,oc){function wc(rd,vd){rd*=qb;vd*=Cb;return[yc*rd-Gc*vd+Ea,bb-Gc*rd-yc*vd]}if(!oc)return mc(X,Ea,bb,qb,Cb);var qc=md(oc);oc=Mb(oc);var yc=qc*X,Gc=oc*X,jd=qc/X,Tc=oc/X,Pc=(oc*bb-qc*Ea)/X,bd=(oc*Ea+qc*bb)/X;wc.invert=function(rd,vd){return[qb*(jd*rd-Tc*vd+Pc),Cb*(bd-Tc*rd-jd*vd)]};return wc}function Kc(X){return Hb(function(){return X})()}function Hb(X){function Ea(Cd){return Sf(Cd[0]*
lc,Cd[1]*lc)}function bb(Cd){return(Cd=Sf.invert(Cd[0],Cd[1]))&&[Cd[0]*vc,Cd[1]*vc]}function qb(){var Cd=Dc(wc,0,0,ie,Xd,vd).apply(null,oc(Gc,jd));Cd=Dc(wc,qc-Cd[0],yc-Cd[1],ie,Xd,vd);rd=ha(Tc,Pc,bd);gf=Ka(oc,Cd);Sf=Ka(rd,gf);Cd=gf;te=+we?Pb(Cd,we):Ma(Cd);return Cb()}function Cb(){Jf=wh=null;return Ea}var oc,wc=150,qc=480,yc=250,Gc=0,jd=0,Tc=0,Pc=0,bd=0,rd,vd=0,ie=1,Xd=1,ee=null,ud=Sc,Vc=null,Nd,ze,Ie,Pe=ge,we=.5,te,gf,Sf,Jf,wh;Ea.stream=function(Cd){return Jf&&wh===Cd?Jf:Jf=Oc(bc(rd)(ud(te(Pe(wh=
Cd)))))};Ea.preclip=function(Cd){return arguments.length?(ud=Cd,ee=void 0,Cb()):ud};Ea.postclip=function(Cd){return arguments.length?(Pe=Cd,Vc=Nd=ze=Ie=null,Cb()):Pe};Ea.clipAngle=function(Cd){return arguments.length?(ud=+Cd?ea(ee=Cd*lc):(ee=null,Sc),Cb()):ee*vc};Ea.clipExtent=function(Cd){return arguments.length?(Pe=null==Cd?(Vc=Nd=ze=Ie=null,ge):Fa(Vc=+Cd[0][0],Nd=+Cd[0][1],ze=+Cd[1][0],Ie=+Cd[1][1]),Cb()):null==Vc?null:[[Vc,Nd],[ze,Ie]]};Ea.scale=function(Cd){return arguments.length?(wc=+Cd,qb()):
wc};Ea.translate=function(Cd){return arguments.length?(qc=+Cd[0],yc=+Cd[1],qb()):[qc,yc]};Ea.center=function(Cd){return arguments.length?(Gc=Cd[0]%360*lc,jd=Cd[1]%360*lc,qb()):[Gc*vc,jd*vc]};Ea.rotate=function(Cd){return arguments.length?(Tc=Cd[0]%360*lc,Pc=Cd[1]%360*lc,bd=2<Cd.length?Cd[2]%360*lc:0,qb()):[Tc*vc,Pc*vc,bd*vc]};Ea.angle=function(Cd){return arguments.length?(vd=Cd%360*lc,qb()):vd*vc};Ea.reflectX=function(Cd){return arguments.length?(ie=Cd?-1:1,qb()):0>ie};Ea.reflectY=function(Cd){return arguments.length?
(Xd=Cd?-1:1,qb()):0>Xd};Ea.precision=function(Cd){if(arguments.length){var Af=gf;var kg=we=Cd*Cd;Af=(te=+kg?Pb(Af,kg):Ma(Af),Cb())}else Af=ne(we);return Af};Ea.fitExtent=function(Cd,Af){return Fc(Ea,Cd,Af)};Ea.fitSize=function(Cd,Af){return Fc(Ea,[[0,0],Cd],Af)};Ea.fitWidth=function(Cd,Af){return Jc(Ea,Cd,Af)};Ea.fitHeight=function(Cd,Af){return Da(Ea,Cd,Af)};return function(){oc=X.apply(this,arguments);Ea.invert=oc.invert&&bb;return qb()}}function Wb(X){var Ea=0,bb=eb/3,qb=Hb(X);X=qb(Ea,bb);X.parallels=
function(Cb){return arguments.length?qb(Ea=Cb[0]*lc,bb=Cb[1]*lc):[Ea*vc,bb*vc]};return X}function sc(X){function Ea(qb,Cb){return[qb*bb,Mb(Cb)/bb]}var bb=md(X);Ea.invert=function(qb,Cb){return[qb/bb,Wa(Cb*bb)]};return Ea}function pc(X,Ea){function bb(qc,yc){yc=ne(oc-2*Cb*Mb(yc))/Cb;return[yc*Mb(qc*=Cb),wc-yc*md(qc)]}var qb=Mb(X),Cb=(qb+Mb(Ea))/2;if(1E-6>ed(Cb))return sc(X);var oc=1+qb*(2*Cb-qb),wc=ne(oc)/Cb;bb.invert=function(qc,yc){yc=wc-yc;var Gc=Ed(qc,ed(yc))*qe(yc);0>yc*Cb&&(Gc-=eb*qe(qc)*qe(yc));
return[Gc/Cb,Wa((oc-(qc*qc+yc*yc)*Cb*Cb)/(2*Cb))]};return bb}function tc(){return Wb(pc).scale(155.424).center([0,33.6442])}function Wc(){return tc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Kd(X){var Ea=X.length;return{point:function(bb,qb){for(var Cb=-1;++Cb<Ea;)X[Cb].point(bb,qb)},sphere:function(){for(var bb=-1;++bb<Ea;)X[bb].sphere()},lineStart:function(){for(var bb=-1;++bb<Ea;)X[bb].lineStart()},lineEnd:function(){for(var bb=-1;++bb<
Ea;)X[bb].lineEnd()},polygonStart:function(){for(var bb=-1;++bb<Ea;)X[bb].polygonStart()},polygonEnd:function(){for(var bb=-1;++bb<Ea;)X[bb].polygonEnd()}}}function od(X){return function(Ea,bb){var qb=md(Ea),Cb=md(bb);qb=X(qb*Cb);return Infinity===qb?[2,0]:[qb*Cb*Mb(Ea),qb*Mb(bb)]}}function ld(X){return function(Ea,bb){var qb=ne(Ea*Ea+bb*bb),Cb=X(qb),oc=Mb(Cb);Cb=md(Cb);return[Ed(Ea*oc,qb*Cb),Wa(qb&&bb*oc/qb)]}}function wd(X,Ea){return[X,Dd(Ce((Tb+Ea)/2))]}function Rd(X){function Ea(){var Tc=eb*Cb(),
Pc=bb(q(bb.rotate()).invert([0,0]));return wc(null==qc?[[Pc[0]-Tc,Pc[1]-Tc],[Pc[0]+Tc,Pc[1]+Tc]]:X===wd?[[Math.max(Pc[0]-Tc,qc),yc],[Math.min(Pc[0]+Tc,Gc),jd]]:[[qc,Math.max(Pc[1]-Tc,yc)],[Gc,Math.min(Pc[1]+Tc,jd)]])}var bb=Kc(X),qb=bb.center,Cb=bb.scale,oc=bb.translate,wc=bb.clipExtent,qc=null,yc,Gc,jd;bb.scale=function(Tc){return arguments.length?(Cb(Tc),Ea()):Cb()};bb.translate=function(Tc){return arguments.length?(oc(Tc),Ea()):oc()};bb.center=function(Tc){return arguments.length?(qb(Tc),Ea()):
qb()};bb.clipExtent=function(Tc){return arguments.length?(null==Tc?qc=yc=Gc=jd=null:(qc=+Tc[0][0],yc=+Tc[0][1],Gc=+Tc[1][0],jd=+Tc[1][1]),Ea()):null==qc?null:[[qc,yc],[Gc,jd]]};return Ea()}function Hd(X,Ea){function bb(wc,qc){0<oc?qc<-Tb+1E-6&&(qc=-Tb+1E-6):qc>Tb-1E-6&&(qc=Tb-1E-6);qc=oc/xd(Ce((Tb+qc)/2),Cb);return[qc*Mb(Cb*wc),oc-qc*md(Cb*wc)]}var qb=md(X),Cb=X===Ea?Mb(X):Dd(qb/md(Ea))/Dd(Ce((Tb+Ea)/2)/Ce((Tb+X)/2)),oc=qb*xd(Ce((Tb+X)/2),Cb)/Cb;if(!Cb)return wd;bb.invert=function(wc,qc){qc=oc-qc;
var yc=qe(Cb)*ne(wc*wc+qc*qc),Gc=Ed(wc,ed(qc))*qe(qc);0>qc*Cb&&(Gc-=eb*qe(wc)*qe(qc));return[Gc/Cb,2*pd(xd(oc/yc,1/Cb))-Tb]};return bb}function ce(X,Ea){return[X,Ea]}function ke(X,Ea){function bb(wc,qc){qc=oc-qc;wc*=Cb;return[qc*Mb(wc),oc-qc*md(wc)]}var qb=md(X),Cb=X===Ea?Mb(X):(qb-md(Ea))/(Ea-X),oc=qb/Cb+X;if(1E-6>ed(Cb))return ce;bb.invert=function(wc,qc){qc=oc-qc;var yc=Ed(wc,ed(qc))*qe(qc);0>qc*Cb&&(yc-=eb*qe(wc)*qe(qc));return[yc/Cb,oc-qe(Cb)*ne(wc*wc+qc*qc)]};return bb}function Ke(X,Ea){Ea=
Wa(Le*Mb(Ea));var bb=Ea*Ea,qb=bb*bb*bb;return[X*md(Ea)/(Le*(1.340264+3*-.081106*bb+qb*(7*8.93E-4+.034164*bb))),Ea*(1.340264+-.081106*bb+qb*(8.93E-4+.003796*bb))]}function Zd(X,Ea){var bb=md(Ea),qb=md(X)*bb;return[bb*Mb(X)/qb,Mb(Ea)/qb]}function P(X,Ea){var bb=Ea*Ea,qb=bb*bb;return[X*(.8707-.131979*bb+qb*(-.013791+qb*(.003971*bb-.001529*qb))),Ea*(1.007226+bb*(.015085+qb*(-.044475+.028874*bb-.005916*qb)))]}function oa(X,Ea){return[md(Ea)*Mb(X),Mb(Ea)]}function Ha(X,Ea){var bb=md(Ea),qb=1+md(X)*bb;return[bb*
Mb(X)/qb,Mb(Ea)/qb]}function kb(X,Ea){return[Dd(Ce((Tb+Ea)/2)),-X]}var eb=Math.PI,Tb=eb/2,hc=eb/4,xc=2*eb,vc=180/eb,lc=eb/180,ed=Math.abs,pd=Math.atan,Ed=Math.atan2,md=Math.cos,le=Math.ceil,Se=Math.exp,jc=Math.hypot,Dd=Math.log,xd=Math.pow,Mb=Math.sin,qe=Math.sign||function(X){return 0<X?1:0>X?-1:0},ne=Math.sqrt,Ce=Math.tan,$e={Feature:function(X,Ea){wb(X.geometry,Ea)},FeatureCollection:function(X,Ea){X=X.features;for(var bb=-1,qb=X.length;++bb<qb;)wb(X[bb].geometry,Ea)}},Te={Sphere:function(X,Ea){Ea.sphere()},
Point:function(X,Ea){X=X.coordinates;Ea.point(X[0],X[1],X[2])},MultiPoint:function(X,Ea){for(var bb=X.coordinates,qb=-1,Cb=bb.length;++qb<Cb;)X=bb[qb],Ea.point(X[0],X[1],X[2])},LineString:function(X,Ea){Lb(X.coordinates,Ea,0)},MultiLineString:function(X,Ea){X=X.coordinates;for(var bb=-1,qb=X.length;++bb<qb;)Lb(X[bb],Ea,0)},Polygon:function(X,Ea){rb(X.coordinates,Ea)},MultiPolygon:function(X,Ea){X=X.coordinates;for(var bb=-1,qb=X.length;++bb<qb;)rb(X[bb],Ea)},GeometryCollection:function(X,Ea){X=X.geometries;
for(var bb=-1,qb=X.length;++bb<qb;)wb(X[bb],Ea)}},kf=new m.Adder,ef=new m.Adder,Vd,cc,Wd,Yb,gd,se={point:gb,lineStart:gb,lineEnd:gb,polygonStart:function(){kf=new m.Adder;se.lineStart=Sa;se.lineEnd=ab},polygonEnd:function(){var X=+kf;ef.add(0>X?xc+X:X);this.lineStart=this.lineEnd=this.point=gb},sphere:function(){ef.add(xc)}},he,de,je,$d,Ud,Nc,Qe,ve,Jd,xe,Gd,Oe={point:va,lineStart:fa,lineEnd:pa,polygonStart:function(){Oe.point=da;Oe.lineStart=ua;Oe.lineEnd=Ia;Jd=new m.Adder;se.polygonStart()},polygonEnd:function(){se.polygonEnd();
Oe.point=va;Oe.lineStart=fa;Oe.lineEnd=pa;0>kf?(he=-(je=180),de=-($d=90)):1E-6<Jd?$d=90:-1E-6>Jd&&(de=-90);Gd[0]=he;Gd[1]=je},sphere:function(){he=-(je=180);de=-($d=90)}},We,lf,uf,Me,df,ad,cf,Ve,nf,of,E,Q,Va,Ab,Db,Nb,$b={sphere:gb,point:u,lineStart:z,lineEnd:J,polygonStart:function(){$b.lineStart=V;$b.lineEnd=ia},polygonEnd:function(){$b.lineStart=z;$b.lineEnd=J}};ka.invert=ka;var Sc=aa(function(){return!0},function(X){var Ea=NaN,bb=NaN,qb=NaN,Cb;return{lineStart:function(){X.lineStart();Cb=1},point:function(oc,
wc){var qc=0<oc?eb:-eb,yc=ed(oc-Ea);if(1E-6>ed(yc-eb))X.point(Ea,bb=0<(bb+wc)/2?Tb:-Tb),X.point(qb,bb),X.lineEnd(),X.lineStart(),X.point(qc,bb),X.point(oc,bb),Cb=0;else if(qb!==qc&&yc>=eb){1E-6>ed(Ea-qb)&&(Ea-=1E-6*qb);1E-6>ed(oc-qc)&&(oc-=1E-6*qc);yc=Ea;var Gc=bb,jd=oc,Tc,Pc,bd=Mb(yc-jd);bb=1E-6<ed(bd)?pd((Mb(Gc)*(Pc=md(wc))*Mb(jd)-Mb(wc)*(Tc=md(Gc))*Mb(yc))/(Tc*Pc*bd)):(Gc+wc)/2;X.point(qb,bb);X.lineEnd();X.lineStart();X.point(qc,bb);Cb=0}X.point(Ea=oc,bb=wc);qb=qc},lineEnd:function(){X.lineEnd();
Ea=bb=NaN},clean:function(){return 2-Cb}}},function(X,Ea,bb,qb){null==X?(bb*=Tb,qb.point(-eb,bb),qb.point(0,bb),qb.point(eb,bb),qb.point(eb,0),qb.point(eb,-bb),qb.point(0,-bb),qb.point(-eb,-bb),qb.point(-eb,0),qb.point(-eb,bb)):1E-6<ed(X[0]-Ea[0])?(X=X[0]<Ea[0]?eb:-eb,bb=bb*X/2,qb.point(-X,bb),qb.point(0,bb),qb.point(X,bb)):qb.point(Ea[0],Ea[1])},[-eb,-Tb]),Mc,$c,nd,qd,Id={sphere:gb,point:gb,lineStart:function(){Id.point=Ta;Id.lineEnd=Ja},lineEnd:gb,polygonStart:gb,polygonEnd:gb},Fd=[null,null],re=
{type:"LineString",coordinates:Fd},oe={Feature:function(X,Ea){return Ya(X.geometry,Ea)},FeatureCollection:function(X,Ea){X=X.features;for(var bb=-1,qb=X.length;++bb<qb;)if(Ya(X[bb].geometry,Ea))return!0;return!1}},pe={Sphere:function(){return!0},Point:function(X,Ea){return 0===yb(X.coordinates,Ea)},MultiPoint:function(X,Ea){X=X.coordinates;for(var bb=-1,qb=X.length;++bb<qb;)if(0===yb(X[bb],Ea))return!0;return!1},LineString:function(X,Ea){return Ob(X.coordinates,Ea)},MultiLineString:function(X,Ea){X=
X.coordinates;for(var bb=-1,qb=X.length;++bb<qb;)if(Ob(X[bb],Ea))return!0;return!1},Polygon:function(X,Ea){return Qb(X.coordinates,Ea)},MultiPolygon:function(X,Ea){X=X.coordinates;for(var bb=-1,qb=X.length;++bb<qb;)if(Qb(X[bb],Ea))return!0;return!1},GeometryCollection:function(X,Ea){X=X.geometries;for(var bb=-1,qb=X.length;++bb<qb;)if(Ya(X[bb],Ea))return!0;return!1}},ge=function(X){return X},ye=new m.Adder,zf=new m.Adder,tf,Df,pf,eg,If={point:gb,lineStart:gb,lineEnd:gb,polygonStart:function(){If.lineStart=
Lc;If.lineEnd=Md},polygonEnd:function(){If.lineStart=If.lineEnd=If.point=gb;ye.add(ed(zf));zf=new m.Adder},result:function(){var X=ye/2;ye=new m.Adder;return X}},Rf=Infinity,A=Rf,B=-Rf,K=B,T={point:function(X,Ea){X<Rf&&(Rf=X);X>B&&(B=X);Ea<A&&(A=Ea);Ea>K&&(K=Ea)},lineStart:gb,lineEnd:gb,polygonStart:gb,polygonEnd:gb,result:function(){var X=[[Rf,A],[B,K]];B=K=-(A=Rf=Infinity);return X}},la=0,sa=0,Na=0,hb=0,fb=0,ob=0,pb=0,Kb=0,Vb=0,l,v,O,W,Ra={point:Qd,lineStart:fe,lineEnd:mb,polygonStart:function(){Ra.lineStart=
rc;Ra.lineEnd=Cc},polygonEnd:function(){Ra.point=Qd;Ra.lineStart=fe;Ra.lineEnd=mb},result:function(){var X=Vb?[pb/Vb,Kb/Vb]:ob?[hb/ob,fb/ob]:Na?[la/Na,sa/Na]:[NaN,NaN];la=sa=Na=hb=fb=ob=pb=Kb=Vb=0;return X}};I.prototype={_radius:4.5,pointRadius:function(X){return this._radius=X,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(X,Ea){switch(this._point){case 0:this._context.moveTo(X,
Ea);this._point=1;break;case 1:this._context.lineTo(X,Ea);break;default:this._context.moveTo(X+this._radius,Ea),this._context.arc(X,Ea,this._radius,0,xc)}},result:gb};var ub=new m.Adder,Fb,Sb,fc,Bc,Hc,hd={point:gb,lineStart:function(){hd.point=ma},lineEnd:function(){Fb&&ib(Sb,fc);hd.point=gb},polygonStart:function(){Fb=!0},polygonEnd:function(){Fb=null},result:function(){var X=+ub;ub=new m.Adder;return X}};nb.prototype={_radius:4.5,_circle:Bb(4.5),pointRadius:function(X){(X=+X)!==this._radius&&(this._radius=
X,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(X,Ea){switch(this._point){case 0:this._string.push("M",X,",",Ea);this._point=1;break;case 1:this._string.push("L",X,",",Ea);break;default:null==this._circle&&(this._circle=Bb(this._radius)),this._string.push("M",X,",",Ea,this._circle)}},result:function(){if(this._string.length){var X=
this._string.join("");this._string=[];return X}return null}};Xb.prototype={constructor:Xb,point:function(X,Ea){this.stream.point(X,Ea)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var yd=md(30*lc),Oc=Ub({point:function(X,Ea){this.stream.point(X*lc,Ea*lc)}}),Bd=od(function(X){return ne(2/(1+X))});Bd.invert=ld(function(X){return 2*
Wa(X/2)});var Ld=od(function(X){return(X=x(X))&&X/Mb(X)});Ld.invert=ld(function(X){return X});wd.invert=function(X,Ea){return[X,2*pd(Se(Ea))-Tb]};ce.invert=ce;var Le=ne(3)/2;Ke.invert=function(X,Ea){for(var bb=Ea,qb=bb*bb,Cb=qb*qb*qb,oc=0,wc;12>oc&&!(wc=bb*(1.340264+-.081106*qb+Cb*(8.93E-4+.003796*qb))-Ea,qb=1.340264+3*-.081106*qb+Cb*(7*8.93E-4+.034164*qb),bb-=wc/=qb,qb=bb*bb,Cb=qb*qb*qb,1E-12>ed(wc));++oc);return[Le*X*(1.340264+3*-.081106*qb+Cb*(7*8.93E-4+.034164*qb))/md(bb),Wa(Mb(bb)/Le)]};Zd.invert=
ld(pd);P.invert=function(X,Ea){var bb=Ea,qb=25;do{var Cb=bb*bb;var oc=Cb*Cb;bb-=oc=(bb*(1.007226+Cb*(.015085+oc*(-.044475+.028874*Cb-.005916*oc)))-Ea)/(1.007226+Cb*(.045255+oc*(-.311325+.259866*Cb-.005916*11*oc)))}while(1E-6<ed(oc)&&0<--qb);return[X/(.8707+(Cb=bb*bb)*(-.131979+Cb*(-.013791+Cb*Cb*Cb*(.003971-.001529*Cb)))),bb]};oa.invert=ld(Wa);Ha.invert=ld(function(X){return 2*pd(X)});kb.invert=function(X,Ea){return[-Ea,2*pd(Se(X))-Tb]};h.geoAlbers=Wc;h.geoAlbersUsa=function(){function X(Pc){var bd=
Pc[0];Pc=Pc[1];return jd=null,(oc.point(bd,Pc),jd)||(qc.point(bd,Pc),jd)||(Gc.point(bd,Pc),jd)}function Ea(){bb=qb=null;return X}var bb,qb,Cb=Wc(),oc,wc=tc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),qc,yc=tc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Gc,jd,Tc={point:function(Pc,bd){jd=[Pc,bd]}};X.invert=function(Pc){var bd=Cb.scale(),rd=Cb.translate(),vd=(Pc[0]-rd[0])/bd;bd=(Pc[1]-rd[1])/bd;return(.12<=bd&&.234>bd&&-.425<=vd&&-.214>vd?wc:.166<=bd&&.234>bd&&-.214<=vd&&-.115>
vd?yc:Cb).invert(Pc)};X.stream=function(Pc){return bb&&qb===Pc?bb:bb=Kd([Cb.stream(qb=Pc),wc.stream(Pc),yc.stream(Pc)])};X.precision=function(Pc){if(!arguments.length)return Cb.precision();Cb.precision(Pc);wc.precision(Pc);yc.precision(Pc);return Ea()};X.scale=function(Pc){if(!arguments.length)return Cb.scale();Cb.scale(Pc);wc.scale(.35*Pc);yc.scale(Pc);return X.translate(Cb.translate())};X.translate=function(Pc){if(!arguments.length)return Cb.translate();var bd=Cb.scale(),rd=+Pc[0],vd=+Pc[1];oc=
Cb.translate(Pc).clipExtent([[rd-.455*bd,vd-.238*bd],[rd+.455*bd,vd+.238*bd]]).stream(Tc);qc=wc.translate([rd-.307*bd,vd+.201*bd]).clipExtent([[rd-.425*bd+1E-6,vd+.12*bd+1E-6],[rd-.214*bd-1E-6,vd+.234*bd-1E-6]]).stream(Tc);Gc=yc.translate([rd-.205*bd,vd+.212*bd]).clipExtent([[rd-.214*bd+1E-6,vd+.166*bd+1E-6],[rd-.115*bd-1E-6,vd+.234*bd-1E-6]]).stream(Tc);return Ea()};X.fitExtent=function(Pc,bd){return Fc(X,Pc,bd)};X.fitSize=function(Pc,bd){return Fc(X,[[0,0],Pc],bd)};X.fitWidth=function(Pc,bd){return Jc(X,
Pc,bd)};X.fitHeight=function(Pc,bd){return Da(X,Pc,bd)};return X.scale(1070)};h.geoArea=function(X){ef=new m.Adder;Ua(X,se);return 2*ef};h.geoAzimuthalEqualArea=function(){return Kc(Bd).scale(124.75).clipAngle(179.999)};h.geoAzimuthalEqualAreaRaw=Bd;h.geoAzimuthalEquidistant=function(){return Kc(Ld).scale(79.4188).clipAngle(179.999)};h.geoAzimuthalEquidistantRaw=Ld;h.geoBounds=function(X){var Ea,bb,qb;$d=je=-(he=de=Infinity);xe=[];Ua(X,Oe);if(Ea=xe.length){xe.sort($a);X=1;var Cb=xe[0];for(bb=[Cb];X<
Ea;++X){var oc=xe[X];ja(Cb,oc[0])||ja(Cb,oc[1])?(wa(Cb[0],oc[1])>wa(Cb[0],Cb[1])&&(Cb[1]=oc[1]),wa(oc[0],Cb[1])>wa(Cb[0],Cb[1])&&(Cb[0]=oc[0])):bb.push(Cb=oc)}var wc=-Infinity;Ea=bb.length-1;X=0;for(Cb=bb[Ea];X<=Ea;Cb=oc,++X)oc=bb[X],(qb=wa(Cb[1],oc[0]))>wc&&(wc=qb,he=oc[0],je=Cb[1])}xe=Gd=null;return Infinity===he||Infinity===de?[[NaN,NaN],[NaN,NaN]]:[[he,de],[je,$d]]};h.geoCentroid=function(X){We=lf=uf=Me=df=ad=cf=Ve=0;nf=new m.Adder;of=new m.Adder;E=new m.Adder;Ua(X,$b);X=+nf;var Ea=+of,bb=+E,
qb=jc(X,Ea,bb);return 1E-12>qb&&(X=ad,Ea=cf,bb=Ve,1E-6>lf&&(X=uf,Ea=Me,bb=df),qb=jc(X,Ea,bb),1E-12>qb)?[NaN,NaN]:[Ed(Ea,X)*vc,Wa(bb/qb)*vc]};h.geoCircle=function(){function X(){var qc=Ea.apply(this,arguments),yc=bb.apply(this,arguments)*lc,Gc=qb.apply(this,arguments)*lc;Cb=[];oc=ha(-qc[0]*lc,-qc[1]*lc,0).invert;t(wc,yc,Gc,1);qc={type:"Polygon",coordinates:[Cb]};Cb=oc=null;return qc}var Ea=M([0,0]),bb=M(90),qb=M(6),Cb,oc,wc={point:function(qc,yc){Cb.push(qc=oc(qc,yc));qc[0]*=vc;qc[1]*=vc}};X.center=
function(qc){return arguments.length?(Ea="function"===typeof qc?qc:M([+qc[0],+qc[1]]),X):Ea};X.radius=function(qc){return arguments.length?(bb="function"===typeof qc?qc:M(+qc),X):bb};X.precision=function(qc){return arguments.length?(qb="function"===typeof qc?qc:M(+qc),X):qb};return X};h.geoClipAntimeridian=Sc;h.geoClipCircle=ea;h.geoClipExtent=function(){var X=0,Ea=0,bb=960,qb=500,Cb,oc,wc;return wc={stream:function(qc){return Cb&&oc===qc?Cb:Cb=Fa(X,Ea,bb,qb)(oc=qc)},extent:function(qc){return arguments.length?
(X=+qc[0][0],Ea=+qc[0][1],bb=+qc[1][0],qb=+qc[1][1],Cb=oc=null,wc):[[X,Ea],[bb,qb]]}}};h.geoClipRectangle=Fa;h.geoConicConformal=function(){return Wb(Hd).scale(109.5).parallels([30,30])};h.geoConicConformalRaw=Hd;h.geoConicEqualArea=tc;h.geoConicEqualAreaRaw=pc;h.geoConicEquidistant=function(){return Wb(ke).scale(131.154).center([0,13.9389])};h.geoConicEquidistantRaw=ke;h.geoContains=function(X,Ea){return(X&&oe.hasOwnProperty(X.type)?oe[X.type]:Ya)(X,Ea)};h.geoDistance=yb;h.geoEqualEarth=function(){return Kc(Ke).scale(177.158)};
h.geoEqualEarthRaw=Ke;h.geoEquirectangular=function(){return Kc(ce).scale(152.63)};h.geoEquirectangularRaw=ce;h.geoGnomonic=function(){return Kc(Zd).scale(144.049).clipAngle(60)};h.geoGnomonicRaw=Zd;h.geoGraticule=Ad;h.geoGraticule10=function(){return Ad()()};h.geoIdentity=function(){function X(){rd=bb*oc;vd=bb*wc;ee=ud=null;return Ea}function Ea(Vc){var Nd=Vc[0]*rd;Vc=Vc[1]*vd;if(qc){var ze=Vc*yc-Nd*Gc;Nd=Nd*yc+Vc*Gc;Vc=ze}return[Nd+qb,Vc+Cb]}var bb=1,qb=0,Cb=0,oc=1,wc=1,qc=0,yc,Gc,jd=null,Tc,Pc,
bd,rd=1,vd=1,ie=Ub({point:function(Vc,Nd){Vc=Ea([Vc,Nd]);this.stream.point(Vc[0],Vc[1])}}),Xd=ge,ee,ud;Ea.invert=function(Vc){var Nd=Vc[0]-qb;Vc=Vc[1]-Cb;if(qc){var ze=Vc*yc+Nd*Gc;Nd=Nd*yc-Vc*Gc;Vc=ze}return[Nd/rd,Vc/vd]};Ea.stream=function(Vc){return ee&&ud===Vc?ee:ee=ie(Xd(ud=Vc))};Ea.postclip=function(Vc){return arguments.length?(Xd=Vc,jd=Tc=Pc=bd=null,X()):Xd};Ea.clipExtent=function(Vc){return arguments.length?(Xd=null==Vc?(jd=Tc=Pc=bd=null,ge):Fa(jd=+Vc[0][0],Tc=+Vc[0][1],Pc=+Vc[1][0],bd=+Vc[1][1]),
X()):null==jd?null:[[jd,Tc],[Pc,bd]]};Ea.scale=function(Vc){return arguments.length?(bb=+Vc,X()):bb};Ea.translate=function(Vc){return arguments.length?(qb=+Vc[0],Cb=+Vc[1],X()):[qb,Cb]};Ea.angle=function(Vc){return arguments.length?(qc=Vc%360*lc,Gc=Mb(qc),yc=md(qc),X()):qc*vc};Ea.reflectX=function(Vc){return arguments.length?(oc=Vc?-1:1,X()):0>oc};Ea.reflectY=function(Vc){return arguments.length?(wc=Vc?-1:1,X()):0>wc};Ea.fitExtent=function(Vc,Nd){return Fc(Ea,Vc,Nd)};Ea.fitSize=function(Vc,Nd){return Fc(Ea,
[[0,0],Vc],Nd)};Ea.fitWidth=function(Vc,Nd){return Jc(Ea,Vc,Nd)};Ea.fitHeight=function(Vc,Nd){return Da(Ea,Vc,Nd)};return Ea};h.geoInterpolate=function(X,Ea){var bb=X[0]*lc,qb=X[1]*lc;X=Ea[0]*lc;Ea=Ea[1]*lc;var Cb=md(qb),oc=Mb(qb),wc=md(Ea),qc=Mb(Ea),yc=Cb*md(bb),Gc=Cb*Mb(bb),jd=wc*md(X),Tc=wc*Mb(X),Pc=2*Wa(ne(Gb(Ea-qb)+Cb*wc*Gb(X-bb))),bd=Mb(Pc);X=Pc?function(rd){var vd=Mb(rd*=Pc)/bd,ie=Mb(Pc-rd)/bd;rd=ie*yc+vd*jd;var Xd=ie*Gc+vd*Tc;vd=ie*oc+vd*qc;return[Ed(Xd,rd)*vc,Ed(vd,ne(rd*rd+Xd*Xd))*vc]}:
function(){return[bb*vc,qb*vc]};X.distance=Pc;return X};h.geoLength=lb;h.geoMercator=function(){return Rd(wd).scale(961/xc)};h.geoMercatorRaw=wd;h.geoNaturalEarth1=function(){return Kc(P).scale(175.295)};h.geoNaturalEarth1Raw=P;h.geoOrthographic=function(){return Kc(oa).scale(249.5).clipAngle(90.000001)};h.geoOrthographicRaw=oa;h.geoPath=function(X,Ea){function bb(wc){wc&&("function"===typeof qb&&oc.pointRadius(+qb.apply(this,arguments)),Ua(wc,Cb(oc)));return oc.result()}var qb=4.5,Cb,oc;bb.area=
function(wc){Ua(wc,Cb(If));return If.result()};bb.measure=function(wc){Ua(wc,Cb(hd));return hd.result()};bb.bounds=function(wc){Ua(wc,Cb(T));return T.result()};bb.centroid=function(wc){Ua(wc,Cb(Ra));return Ra.result()};bb.projection=function(wc){return arguments.length?(Cb=null==wc?(X=null,ge):(X=wc).stream,bb):X};bb.context=function(wc){if(!arguments.length)return Ea;oc=null==wc?(Ea=null,new nb):new I(Ea=wc);"function"!==typeof qb&&oc.pointRadius(qb);return bb};bb.pointRadius=function(wc){if(!arguments.length)return qb;
qb="function"===typeof wc?wc:(oc.pointRadius(+wc),+wc);return bb};return bb.projection(X).context(Ea)};h.geoProjection=Kc;h.geoProjectionMutator=Hb;h.geoRotation=q;h.geoStereographic=function(){return Kc(Ha).scale(250).clipAngle(142)};h.geoStereographicRaw=Ha;h.geoStream=Ua;h.geoTransform=function(X){return{stream:Ub(X)}};h.geoTransverseMercator=function(){var X=Rd(kb),Ea=X.center,bb=X.rotate;X.center=function(qb){return arguments.length?Ea([-qb[1],qb[0]]):(qb=Ea(),[qb[1],-qb[0]])};X.rotate=function(qb){return arguments.length?
bb([qb[0],qb[1],2<qb.length?qb[2]+90:90]):(qb=bb(),[qb[0],qb[1],qb[2]-90])};return bb([0,0,90]).scale(159.155)};h.geoTransverseMercatorRaw=kb;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[28]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(27),xb(3)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-array"],m):m(h.d3=h.d3||{},h.d3,h.d3)})(this,function(h,m,x){function Wa(A){return 1<A?gd:-1>A?-gd:Math.asin(A)}function Gb(A){return 1<A?0:-1>A?Yb:Math.acos(A)}function gb(A){return 0<A?Math.sqrt(A):0}function wb(A){return(qe(A)-qe(-A))/2}function Lb(A){return(qe(A)+qe(-A))/2}function rb(A){function B(la,sa){var Na=
Mb(la),hb=Mb(sa);sa=cc(sa);Na*=hb;Na=-((1-Na?Ce((1+Na)/2)/(1-Na):-.5)+T/(1+Na));return[Na*hb*cc(la),Na*sa]}var K=Wd(A/2),T=2*Ce(Mb(A/2))/(K*K);B.invert=function(la,sa){var Na=gb(la*la+sa*sa),hb=-A/2,fb=50;if(!Na)return[0,0];do{var ob=hb/2;var pb=Mb(ob);ob=cc(ob);var Kb=ob/pb,Vb=-Ce(jc(pb));hb-=pb=(2/Kb*Vb-T*Kb-Na)/(-Vb/(ob*ob)+1-T/(2*pb*pb))*(0>pb?.7:1)}while(1E-6<jc(pb)&&0<--fb);fb=cc(hb);return[xd(la*fb,Na*Mb(hb)),Wa(sa*fb/Na)]};return B}function Ua(A,B){var K=Mb(B);var T=(T=Gb(K*Mb(A/=2)))?T/Math.sin(T):
1;return[2*K*cc(A)*T,cc(B)*T]}function Sa(A){function B(hb,fb){var ob=Mb(fb),pb=Mb(hb/=2);return[(1+ob)*cc(hb),(la*fb>-xd(pb,sa)-.001?0:10*-la)+Na+cc(fb)*T-(1+ob)*K*pb]}var K=cc(A),T=Mb(A),la=0<=A?1:-1,sa=Wd(la*A),Na=(1+K-T)/2;B.invert=function(hb,fb){var ob=0,pb=0,Kb=50;do{var Vb=Mb(ob),l=cc(ob),v=Mb(pb),O=cc(pb),W=1+v,Ra=W*l-hb,ub=Na+O*T-W*K*Vb-fb,Fb=W*Vb/2,Sb=-l*O;l=K*W*l/2;v=T*v+K*Vb*O;Vb=Sb*l-v*Fb;Sb=(ub*Sb-Ra*v)/Vb/2;Ra=(Ra*l-ub*Fb)/Vb;2<jc(Ra)&&(Ra/=2);ob-=Sb;pb-=Ra}while((1E-6<jc(Sb)||1E-6<
jc(Ra))&&0<--Kb);return la*pb>-xd(Mb(ob),sa)-.001?[2*ob,pb]:null};return B}function ab(A,B){B=Wd(B/2);var K=gb(1-B*B),T=1+K*Mb(A/=2);A=cc(A)*K/T;B/=T;T=A*A;K=B*B;return[4/3*A*(3+T-3*K),4/3*B*(3+3*T-K)]}function za(A,B){var K=jc(B);return K<se?[A,Ce(Wd(se+B/2))]:[A*Mb(K)*(2*de-1/cc(K)),Vd(B)*(2*de*(K-se)-Ce(Wd(K/2)))]}function Y(A){function B(T,la){la=m.geoAzimuthalEquidistantRaw(T,la);if(jc(T)>gd){T=xd(la[1],la[0]);var sa=gb(la[0]*la[0]+la[1]*la[1]),Na=K*ef((T-gd)/K)+gd,hb=xd(cc(T-=Na),2-Mb(T));T=
Na+Wa(Yb/sa*cc(hb))-hb;la[0]=sa*Mb(T);la[1]=sa*cc(T)}return la}var K=2*Yb/A;B.invert=function(T,la){var sa=gb(T*T+la*la);if(sa>gd){var Na=xd(la,T);T=K*ef((Na-gd)/K)+gd;la=Na>T?-1:1;Na=sa*Mb(T-Na);Na=1/Wd(la*Gb((Na-Yb)/gb(Yb*(Yb-2*Na)+sa*sa)));Na=T+2*Dd((Na+la*gb(Na*Na-3))/3);T=sa*Mb(Na);la=sa*cc(Na)}return m.geoAzimuthalEquidistantRaw.invert(T,la)};return B}function na(A,B){function K(T,la){T=m.geoAzimuthalEqualAreaRaw(T/B,la);T[0]*=A;return T}2>arguments.length&&(B=A);if(1===B)return m.geoAzimuthalEqualAreaRaw;
if(Infinity===B)return Ba;K.invert=function(T,la){T=m.geoAzimuthalEqualAreaRaw.invert(T/A,la);T[0]*=B;return T};return K}function Ba(A,B){return[A*Mb(B)/Mb(B/=2),2*cc(B)]}function Qa(A,B,K){var T=100;K=void 0===K?0:+K;B=+B;do{var la=A(K);var sa=A(K+1E-6);la===sa&&(sa=la+1E-6);K-=la=-1E-6*(la-B)/(la-sa)}while(0<T--&&1E-6<jc(la));return 0>T?NaN:K}function ca(A,B,K){void 0===B&&(B=40);void 0===K&&(K=1E-12);return function(T,la,sa,Na){sa=void 0===sa?0:+sa;Na=void 0===Na?0:+Na;for(var hb=0;hb<B;hb++){var fb=
A(sa,Na),ob=fb[0]-T,pb=fb[1]-la;if(jc(ob)<K&&jc(pb)<K)break;var Kb=ob*ob+pb*pb;if(Kb>Vb)sa-=v/=2,Na-=W/=2;else{var Vb=Kb;Kb=(0<sa?-1:1)*K;var l=(0<Na?-1:1)*K;var v=A(sa+Kb,Na);var O=A(sa,Na+l);var W=(v[0]-fb[0])/Kb;Kb=(v[1]-fb[1])/Kb;v=(O[0]-fb[0])/l;fb=(O[1]-fb[1])/l;l=fb*W-Kb*v;l=(.5>jc(l)?.5:1)/l;v=(pb*v-ob*fb)*l;W=(ob*Kb-pb*W)*l;sa+=v;Na+=W;if(jc(v)<K&&jc(W)<K)break}}return[sa,Na]}}function Z(){function A(K,T){if(-1.4>K+T){var la=(K-T+1.6)*(K+T+1.4)/8;K+=la;T-=.8*la*cc(T+Yb/2)}la=B(K,T);K=(1-
Mb(K*T))/12;0>la[1]&&(la[0]*=1+K);0<la[1]&&(la[1]*=1+K/1.5*la[0]*la[0]);return la}var B=na(1.68,2);A.invert=ca(A);return A}function Oa(A,B){A*=cc(B);var K=30,T;do B-=T=(B+cc(B)-A)/(1+Mb(B));while(1E-6<jc(T)&&0<--K);return B/2}function Aa(A,B,K){function T(la,sa){return[A*la*Mb(sa=Oa(K,sa)),B*cc(sa)]}T.invert=function(la,sa){return sa=Wa(sa/B),[la/(A*Mb(sa)),Wa((2*sa+cc(2*sa))/K)]};return T}function va(A,B){var K=Oa(Yb,B);return[2.00276*A/(1/Mb(B)+1.11072/Mb(K)),(B+de*cc(K))/2.00276]}function xa(A){var B=
0,K=m.geoProjectionMutator(A);A=K(B);A.parallel=function(T){return arguments.length?K(B=T*Nc):B*Ud};return A}function fa(A,B){return[A*Mb(B),B]}function pa(A){function B(T,la){var sa=K+A-la;T=sa?T*Mb(la)/sa:sa;return[sa*cc(T),K-sa*Mb(T)]}if(!A)return fa;var K=1/Wd(A);B.invert=function(T,la){var sa=gb(T*T+(la=K-la)*la),Na=K+A-sa;return[sa/Mb(Na)*xd(T,la),Na]};return B}function da(A){function B(K,T){K=(T=gd-T)?K*A*cc(T)/T:T;return[T*cc(K)/A,gd-T*Mb(K)]}B.invert=function(K,T){K*=A;var la=gd-T;T=gb(K*
K+la*la);K=xd(K,la);return[(T?T/cc(T):1)*K/A,gd-T]};return B}function ua(A,B,K,T,la,sa){var Na=Mb(sa);if(1<jc(A)||1<jc(sa))A=Gb(K*la+B*T*Na);else{A=cc(A/2);var hb=cc(sa/2);A=2*Wa(gb(A*A+B*T*hb*hb))}return 1E-6<jc(A)?[A,xd(T*cc(sa),B*la-K*T*Na)]:[0,0]}function Ia(A,B,K){return Gb((A*A+B*B-K*K)/(2*A*B))}function wa(A,B,K){var T=[[A[0],A[1],cc(A[1]),Mb(A[1])],[B[0],B[1],cc(B[1]),Mb(B[1])],[K[0],K[1],cc(K[1]),Mb(K[1])]];A=T[2];for(K=0;3>K;++K,A=B)B=T[K],A.v=ua(B[1]-A[1],A[3],A[2],B[3],B[2],B[0]-A[0]),
A.point=[0,0];A=Ia(T[0].v[0],T[2].v[0],T[1].v[0]);var la=Ia(T[0].v[0],T[1].v[0],T[2].v[0]),sa=Yb-A;T[2].point[1]=0;T[0].point[0]=-(T[1].point[0]=T[0].v[0]/2);var Na=[T[2].point[0]=T[0].point[0]+T[2].v[0]*Mb(A),2*(T[0].point[1]=T[1].point[1]=T[2].v[0]*cc(A))];return function(hb,fb){var ob=cc(fb),pb=Mb(fb),Kb=Array(3),Vb;for(Vb=0;3>Vb;++Vb){var l=T[Vb];Kb[Vb]=ua(fb-l[1],l[3],l[2],pb,ob,hb-l[0]);if(!Kb[Vb][0])return l.point;var v=Kb[Vb];l=Kb[Vb][1]-l.v[1];l-=2*Yb*ne((l+Yb)/(2*Yb));v[1]=l}hb=Na.slice();
for(Vb=0;3>Vb;++Vb)fb=Ia(T[Vb].v[0],Kb[Vb][0],Kb[2==Vb?0:Vb+1][0]),0>Kb[Vb][1]&&(fb=-fb),Vb?1==Vb?(fb=la-fb,hb[0]-=Kb[Vb][0]*Mb(fb),hb[1]-=Kb[Vb][0]*cc(fb)):(fb=sa-fb,hb[0]+=Kb[Vb][0]*Mb(fb),hb[1]+=Kb[Vb][0]*cc(fb)):(hb[0]+=Kb[Vb][0]*Mb(fb),hb[1]-=Kb[Vb][0]*cc(fb));hb[0]/=3;hb[1]/=3;return hb}}function $a(A){return A[0]*=Nc,A[1]*=Nc,A}function ja(A,B,K){var T=m.geoCentroid({type:"MultiPoint",coordinates:[A,B,K]});T=[-T[0],-T[1]];var la=m.geoRotation(T);A=wa($a(la(A)),$a(la(B)),$a(la(K)));A.invert=
ca(A);A=m.geoProjection(A).rotate(T);var sa=A.center;delete A.rotate;A.center=function(Na){return arguments.length?sa(la(Na)):la.invert(sa())};return A.clipAngle(90)}function u(A,B){B=gb(1-cc(B));return[2/je*A*B,je*(1-B)]}function y(A){function B(T,la){return[T,(T?T/cc(T):1)*(cc(la)*Mb(T)-K*Mb(la))]}var K=Wd(A);B.invert=K?function(T,la){T&&(la*=cc(T)/T);var sa=Mb(T);return[T,2*xd(gb(sa*sa+K*K-la*la)-sa,K-la)]}:function(T,la){return[T,Wa(T?la*Wd(T)/T:la)]};return B}function z(A,B){return[Gd*A*(2*Mb(2*
B/3)-1)/je,Gd*je*cc(B/3)]}function D(A){function B(T,la){return[T*K,cc(la)/K]}var K=Mb(A);B.invert=function(T,la){return[T/K,Wa(la*K)]};return B}function C(A){function B(T,la){return[T*K,(1+K)*Wd(la/2)]}var K=Mb(A);B.invert=function(T,la){return[T/K,2*Dd(la/(1+K))]};return B}function J(A,B){var K=gb(8/(3*Yb));return[K*A*(1-jc(B)/Yb),K*B]}function V(A,B){var K=gb(4-3*cc(jc(B)));return[2/gb(6*Yb)*A*K,Vd(B)*gb(2*Yb/3)*(2-K)]}function ia(A,B){var K=gb(Yb*(4+Yb));return[2/K*A*(1+gb(1-4*B*B/(Yb*Yb))),4/
K*B]}function Pa(A,B){var K=(2+gd)*cc(B);B/=2;for(var T=0,la=Infinity;10>T&&1E-6<jc(la);T++)la=Mb(B),B-=la=(B+cc(B)*(la+2)-K)/(2*la*(1+la));return[2/gb(Yb*(4+Yb))*A*(1+Mb(B)),2*gb(Yb/(4+Yb))*cc(B)]}function cb(A,B){return[A*(1+Mb(B))/gb(2+Yb),2*B/gb(2+Yb)]}function M(A,B){for(var K=(1+gd)*cc(B),T=0,la=Infinity;10>T&&1E-6<jc(la);T++)B-=la=(B+cc(B)-K)/(1+Mb(B));K=gb(2+Yb);return[A*(1+Mb(B))/K,2*B/K]}function Ka(A,B){var K=cc(A/=2);A=Mb(A);var T=gb(Mb(B)),la=Mb(B/=2);B=cc(B)/(la+de*A*T);var sa=gb(2/
(1+B*B));K=gb((de*la+(A+K)*T)/(de*la+(A-K)*T));return[Oe*(sa*(K-1/K)-2*Ce(K)),Oe*(sa*B*(K+1/K)-2*Dd(B))]}function ka(A,B){B=Wd(B/2);return[A*We*gb(1-B*B),(1+We)*B]}function ha(A,B){var K=B/2,T=Mb(K);return[2*A/je*Mb(B)*T*T,je*Wd(K)]}function w(A){function B(fb,ob){var pb=Mb(ob),Kb=cc(ob);return[pb/(la+A*pb)*fb,la*ob+A*Kb]}function K(fb,ob){fb=B(fb,ob);return[fb[0]*hb,fb[1]/hb]}function T(fb){return K(0,fb)[1]}var la=1-A,sa=B(Yb,0)[0]-B(-Yb,0)[0],Na=B(0,gd)[1]-B(0,-gd)[1],hb=gb(2*Na/sa);K.invert=function(fb,
ob){ob=Qa(T,ob);return[fb/hb*(A+la/Mb(ob)),ob]};return K}function H(A){return[2*A[0],2*Dd(cc(A[1]*Nc))*Ud]}function p(A,B){function K(sa,Na){sa=m.geoAzimuthalEquidistantRaw(sa,Na);Na=sa[0];var hb=sa[1],fb=Na*Na+hb*hb;if(fb>la){var ob=gb(fb);Na=xd(hb,Na);fb=T*ef(Na/T);hb=Na-fb;var pb=A*Mb(hb),Kb=(A*cc(hb)-hb*cc(pb))/(gd-pb),Vb=q(hb,Kb),l=(Yb-A)/t(Vb,pb,Yb);Na=ob;var v=50,O;do Na-=O=(A+t(Vb,pb,Na)*l-ob)/(Vb(Na)*l);while(1E-6<jc(O)&&0<--v);hb*=cc(Na);Na<gd&&(hb-=Kb*(Na-gd));ob=cc(fb);fb=Mb(fb);sa[0]=
Na*fb-hb*ob;sa[1]=Na*ob+hb*fb}return sa}var T=2*Yb/B,la=A*A;K.invert=function(sa,Na){var hb=sa*sa+Na*Na;if(hb>la){var fb=gb(hb);Na=xd(Na,sa);hb=T*ef(Na/T);Na-=hb;sa=fb*Mb(Na);Na=fb*cc(Na);fb=sa-gd;for(var ob=cc(sa),pb=Na/ob,Kb=sa<gd?Infinity:0,Vb=10;;){var l=A*cc(pb),v=A*Mb(pb),O=cc(v),W=gd-v,Ra=(l-pb*O)/W,ub=q(pb,Ra);if(1E-12>jc(Kb)||!--Vb)break;pb-=Kb=(pb*ob-Ra*fb-Na)/(ob-2*fb*(W*(v+pb*l*Mb(v)-O)-l*(l-pb*O))/(W*W))}fb=A+t(ub,v,sa)*(Yb-A)/t(ub,v,Yb);Na=hb+pb;sa=fb*Mb(Na);Na=fb*cc(Na)}return m.geoAzimuthalEquidistantRaw.invert(sa,
Na)};return K}function q(A,B){return function(K){var T=A*Mb(K);K<gd&&(T-=B);return gb(1+T*T)}}function t(A,B,K){var T=(K-B)/50;K=A(B)+A(K);for(var la=1;50>la;++la)K+=2*A(B+=T);return.5*K*T}function G(A,B,K,T,la,sa,Na,hb){function fb(ob,pb){if(!pb)return[A*ob/Yb,0];var Kb=pb*pb,Vb=A+Kb*(B+Kb*(K+Kb*T)),l=pb*(la-1+Kb*(sa-hb+Kb*Na));l=(Vb*Vb+l*l)/(2*l);ob=ob*Wa(Vb/l)/Yb;return[l*cc(ob),pb*(1+Kb*hb)+l*(1-Mb(ob))]}8>arguments.length&&(hb=0);fb.invert=function(ob,pb){var Kb=Yb*ob/A,Vb=pb,l=50;do{var v=Vb*
Vb,O=A+v*(B+v*(K+v*T)),W=Vb*(la-1+v*(sa-hb+v*Na)),Ra=O*O+W*W,ub=2*W;var Fb=Ra/ub;var Sb=Fb*Fb;var fc=Wa(O/Fb)/Yb;var Bc=Kb*fc,Hc=O*O,hd=(2*B+v*(4*K+6*v*T))*Vb,yd=la+v*(3*sa+5*v*Na);W=(2*(O*hd+W*(yd-1))*ub-2*Ra*(yd-1))/(ub*ub);Ra=Mb(Bc);yd=cc(Bc);ub=Fb*Ra;Bc=Fb*yd;Sb=Kb/Yb*(1/gb(1-Hc/Sb))*(hd*Fb-O*W)/Sb;O=Bc-ob;v=Vb*(1+v*hb)+Fb-ub-pb;Fb=W*yd+ub*Sb;Hc=ub*fc;W=1+W-(W*Ra-Bc*Sb);fc*=Bc;Ra=Fb*fc-W*Hc;if(!Ra)break;Kb-=Fb=(v*Fb-O*W)/Ra;Vb-=fc=(O*fc-v*Hc)/Ra}while((1E-6<jc(Fb)||1E-6<jc(fc))&&0<--l);return[Kb,
Vb]};return fb}function L(A,B){var K=A*A,T=B*B;return[A*(1-.162388*T)*(.87-9.52426E-4*K*K),B*(1+T/12)]}function ba(A){function B(T,la){var sa=0<T?-.5:.5;T=A(T+sa*Yb,la);T[0]-=sa*K;return T}var K=A(gd,0)[0]-A(-gd,0)[0];A.invert&&(B.invert=function(T,la){var sa=0<T?-.5:.5;T=A.invert(T+sa*K,la);sa=T[0]-sa*Yb;sa<-Yb?sa+=2*Yb:sa>Yb&&(sa-=2*Yb);T[0]=sa;return T});return B}function Ga(A,B){var K=Vd(A),T=Vd(B),la=Mb(B),sa=Mb(A)*la;A=cc(A)*la;B=cc(T*B);A=jc(xd(A,B));B=Wa(sa);1E-6<jc(A-gd)&&(A%=gd);sa=La(A>
Yb/4?gd-A:A,B);A>Yb/4&&(B=sa[0],sa[0]=-sa[1],sa[1]=-B);return sa[0]*=K,sa[1]*=-T,sa}function La(A,B){if(B===gd)return[0,0];var K=cc(B),T=K*K,la=T*T,sa=1+la,Na=1+3*la,hb=1-la,fb=Wa(1/gb(sa)),ob=hb+T*sa*fb,pb=(1-K)/ob,Kb=gb(pb),Vb=pb*sa,l=gb(Vb),v=Kb*hb;if(0===A)return[0,-(v+T*l)];var O=Mb(B),W=1/O,Ra=2*K*O;fb=(-ob*O-(1-K)*(-3*T+fb*Na)*Ra)/(ob*ob);K=-W*Ra;sa=-W*(T*sa*fb+pb*Na*Ra);hb=-2*W*(.5*fb/Kb*hb-2*T*Kb*Ra);Kb=4*A/Yb;if(A>.222*Yb||B<Yb/4&&A>.175*Yb){B=(v+T*gb(Vb*(1+la)-v*v))/(1+la);if(A>Yb/4)return[B,
B];la=B;W=.5*B;B=.5*(W+la);A=50;do{Ra=gb(Vb-B*B);Ra=B*(hb+K*Ra)+sa*Wa(B/l)-Kb;if(!Ra)break;0>Ra?W=B:la=B;B=.5*(W+la)}while(1E-6<jc(la-W)&&0<--A)}else{B=1E-6;A=25;do Ra=B*B,la=gb(Vb-Ra),Na=hb+K*la,W=B*Na+sa*Wa(B/l)-Kb,Ra=Na+(sa-K*Ra)/la,B-=la=la?W/Ra:0;while(1E-6<jc(la)&&0<--A)}return[B,-v-T*gb(Vb-B*B)]}function db(A,B){if(1E-6>B){var K=cc(A);var T=Mb(A);var la=B*(A-K*T)/4;return[K-la*T,T+la*K,1-B*K*K/2,A-la]}if(.999999<=B){la=(1-B)/4;T=Lb(A);K=qe(2*A);K=(K-1)/(K+1);B=1/T;var sa=T*wb(A);return[K+la*
(sa-A)/(T*T),B-la*K*B*(sa-A),B+la*K*B*(sa+A),2*Dd(qe(A))-gd+la*(sa-A)/T]}var Na=[1,0,0,0,0,0,0,0,0],hb=[gb(B),0,0,0,0,0,0,0,0],fb=0;T=gb(1-B);for(sa=1;1E-6<jc(hb[fb]/Na[fb])&&8>fb;)la=Na[fb++],hb[fb]=(la-T)/2,Na[fb]=(la+T)/2,T=gb(la*T),sa*=2;B=sa*Na[fb]*A;do K=hb[fb]*cc(T=B)/Na[fb],B=(Wa(K)+B)/2;while(--fb);return[cc(B),K=Mb(B),K/Mb(B-T),B]}function sb(A,B){if(!B)return A;if(1===B)return Ce(Wd(A/2+se));var K=1,T=gb(1-B),la=gb(B);for(B=0;1E-6<jc(la);B++)A%Yb?(la=Dd(T*Wd(A)/K),0>la&&(la+=Yb),A+=la+
~~(A/Yb)*Yb):A+=A,la=(K+T)/2,T=gb(K*T),la=((K=la)-T)/2;return A/(kf(2,B)*K)}function S(A,B){var K=(de-1)/(de+1),T=gb(1-K*K),la=sb(gd,T*T),sa=Ce(Wd(Yb/4+jc(B)/2));sa=qe(-1*sa)/gb(K);K=sa*Mb(-1*A);var Na=sa*cc(-1*A);A=K*K;sa=Na+1;Na=1-A-Na*Na;A=[.5*((0<=K?gd:-gd)-xd(Na,2*K)),-.25*Ce(Na*Na+4*A)+.5*Ce(sa*sa+A)];K=A[0];A=A[1];T*=T;sa=jc(K);Na=jc(A);Na=wb(Na);if(sa){var hb=1/cc(sa);sa=1/(Wd(sa)*Wd(sa));Na=-(sa+T*Na*Na*hb*hb-1+T);Na=(-Na+gb(Na*Na-4*(T-1)*sa))/2;T=[sb(Dd(1/gb(Na)),T)*Vd(K),sb(Dd(gb((Na/sa-
1)/T)),1-T)*Vd(A)]}else T=[0,sb(Dd(Na),1-T)*Vd(A)];return[-T[1],(0<=B?1:-1)*(.5*la-T[0])]}function aa(A){function B(sa,Na){var hb=la(sa,Na);sa=hb[0];Na=hb[1];hb=cc(Na);Na=Mb(Na);var fb=Mb(sa),ob=Gb(K*hb+T*Na*fb),pb=cc(ob);ob=1E-6<jc(pb)?ob/pb:1;return[ob*T*cc(sa),(jc(sa)>gd?ob:-ob)*(K*Na-T*hb*fb)]}var K=cc(A),T=Mb(A),la=qa(A);la.invert=qa(-A);B.invert=function(sa,Na){var hb=gb(sa*sa+Na*Na),fb=-cc(hb),ob=Mb(hb),pb=hb*ob,Kb=-Na*fb,Vb=hb*K,l=gb(pb*pb+Kb*Kb-Vb*Vb);pb=xd(pb*Vb+Kb*l,Kb*Vb-pb*l);sa=(hb>
gd?-1:1)*xd(sa*fb,hb*Mb(pb)*ob+Na*cc(pb)*fb);return la.invert(sa,pb)};return B}function qa(A){var B=cc(A),K=Mb(A);return function(T,la){var sa=Mb(la),Na=Mb(T)*sa;T=cc(T)*sa;la=cc(la);return[xd(T,Na*K-la*B),Wa(la*K+Na*B)]}}function ta(A){function B(pb,Kb){var Vb=jc(Kb);if(Vb>K){var l=Te(A-1,$e(0,ne((pb+Yb)/hb)));pb+=Yb*(A-1)/A-l*hb;pb=u(pb,Vb);pb[0]=pb[0]*$d/T-$d*(A-1)/(2*A)+l*$d/A;pb[1]=la+4*(pb[1]-sa)*Na/$d;0>Kb&&(pb[1]=-pb[1])}else pb=cf(pb,Kb);pb[0]*=fb;pb[1]/=ob;return pb}var K=ad*Nc,T=u(Yb,K)[0]-
u(-Yb,K)[0],la=cf(0,K)[1],sa=u(0,K)[1],Na=je-sa,hb=$d/A,fb=4/$d,ob=la+Na*Na*4/$d;B.invert=function(pb,Kb){pb/=fb;Kb*=ob;var Vb=jc(Kb);if(Vb>la){var l=Te(A-1,$e(0,ne((pb+Yb)/hb)));pb=(pb+Yb*(A-1)/A-l*hb)*T/$d;pb=u.invert(pb,.25*(Vb-la)*$d/Na+sa);pb[0]-=Yb*(A-1)/A-l*hb;0>Kb&&(pb[1]=-pb[1]);return pb}return cf.invert(pb,Kb)};return B}function ea(A,B){return[A,B&1?89.999999:ad]}function U(A,B){return[A,B&1?-89.999999:-ad]}function Fa(A){return[.999999*A[0],A[1]]}function Ja(A){var B=[].concat(x.range(-180,
180+A/2,A).map(ea),x.range(180,-180-A/2,-A).map(U));return{type:"Polygon",coordinates:[180===A?B.map(Fa):B]}}function Ta(A){function B(pb,Kb){var Vb=1-cc(Kb);if(Vb&&2>Vb){var l=gd-Kb,v=25;do{var O=cc(l);var W=Mb(l);Kb=la+xd(O,K-W);W=1+ob-2*K*W;l-=O=(l-fb*la-K*O+W*Kb-.5*Vb*Na)/(2*K*O*Kb)}while(1E-12<jc(O)&&0<--v);Vb=sa*gb(W);pb=pb*Kb/Yb}else Vb=sa*(A+Vb),pb=pb*la/Yb;return[Vb*cc(pb),hb-Vb*Mb(pb)]}var K=1+A,T=cc(1/K),la=Wa(T),sa=2*gb(Yb/(Na=Yb+4*la*K)),Na,hb=.5*sa*(K+gb(A*(2+A))),fb=A*A,ob=K*K;B.invert=
function(pb,Kb){var Vb=pb*pb+(Kb-=hb)*Kb;Kb=(1+ob-Vb/(sa*sa))/(2*K);var l=Gb(Kb),v=cc(l),O=la+xd(v,K-Kb);return[Wa(pb/gb(Vb))*Yb/O,Wa(1-2*(l-fb*la-K*v+(1+ob-2*K*Kb)*O)/Na)]};return B}function ya(A,B){return-.7109889596207567<B?(A=Jd(A,B),A[1]+=.0528035274542,A):fa(A,B)}function lb(A,B){return.7109889596207567<jc(B)?(A=Jd(A,B),A[1]-=0<B?.0528035274542:-.0528035274542,A):fa(A,B)}function yb(A,B,K,T){function la(Kb){return gb(1+A*Mb(2*Kb)+B*Mb(4*Kb))}function sa(Kb){Kb*=K;return(2*Kb+(1+A-B/2)*cc(2*
Kb)+(A+B)/2*cc(4*Kb)+B/2*cc(6*Kb))/K}function Na(Kb){return la(Kb)*cc(Kb)}var hb=gb(4*Yb/(2*K+(1+A-B/2)*cc(2*K)+(A+B)/2*cc(4*K)+B/2*cc(6*K))),fb=gb(T*cc(K)*gb((1+A*Mb(2*K)+B*Mb(4*K))/(1+A+B))),ob=K*sa(1),pb=function(Kb,Vb){var l=K*Qa(sa,ob*cc(Vb)/K,Vb/Yb);isNaN(l)&&(l=K*Vd(Vb));Vb=hb*la(l);return[Vb*fb*Kb/Yb*Mb(l),Vb/fb*cc(l)]};pb.invert=function(Kb,Vb){Vb=Qa(Na,Vb*fb/hb);return[Kb*Yb/(Mb(Vb)*hb*fb*la(Vb)),Wa(K*sa(Vb/K)/ob)]};0===K&&(hb=gb(T/Yb),pb=function(Kb,Vb){return[Kb*hb,cc(Vb)/hb]},pb.invert=
function(Kb,Vb){return[Kb/hb,Wa(Vb*hb)]});return pb}function Ya(A,B,K,T,la,sa,Na,hb,fb,ob,pb){if(pb.nanEncountered)return NaN;var Kb=K-B;var Vb=A(B+.25*Kb);var l=A(K-.25*Kb);if(isNaN(Vb))pb.nanEncountered=!0;else if(isNaN(l))pb.nanEncountered=!0;else{var v=Kb*(T+4*Vb+la)/12;var O=Kb*(la+4*l+sa)/12;var W=v+O;Na=(W-Na)/15;if(ob>fb)return pb.maxDepthCount++,W+Na;if(Math.abs(Na)<hb)return W+Na;Kb=B+.5*Kb;B=Ya(A,B,Kb,T,Vb,la,v,.5*hb,fb,ob+1,pb);if(isNaN(B))return pb.nanEncountered=!0,NaN;A=Ya(A,Kb,K,la,
l,sa,O,.5*hb,fb,ob+1,pb);return isNaN(A)?(pb.nanEncountered=!0,NaN):B+A}}function Ob(A,B,K,T,la){void 0===T&&(T=1E-8);void 0===la&&(la=20);var sa=A(B),Na=A(.5*(B+K)),hb=A(K);return Ya(A,B,K,sa,Na,hb,(sa+4*Na+hb)*(K-B)/6,T,la,1,{maxDepthCount:0,nanEncountered:!1})}function Qb(A,B,K){function T(pb){return A+(1-A)*kf(1-kf(pb,B),1/B)}function la(pb){var Kb=0,Vb=1E3,l=500;do hb[l]>pb?Vb=l:Kb=l,l=Kb+Vb>>1;while(l>Kb);(Kb=hb[l+1]-hb[l])&&(Kb=(pb-hb[l+1])/Kb);return(l+1+Kb)/1E3}for(var sa=1/Ob(T,0,1,1E-4),
Na=1.00000001*sa,hb=[],fb=0;1E3>=fb;fb++)hb.push(Ob(T,0,fb/1E3,1E-4)*Na);var ob=2*la(1)/Yb*sa/K;K=function(pb,Kb){var Vb=la(jc(cc(Kb)));pb*=T(Vb);Vb/=ob;return[pb,0<=Kb?Vb:-Vb]};K.invert=function(pb,Kb){var Vb;Kb*=ob;1>jc(Kb)&&(Vb=Vd(Kb)*Wa(Ob(T,0,jc(Kb),1E-4)*sa));return[pb/T(jc(Kb)),Vb]};return K}function Zb(A,B){for(var K=-1,T=A.length,la=A[0],sa,Na,hb,fb=[];++K<T;){sa=A[K];Na=(sa[0]-la[0])/B;hb=(sa[1]-la[1])/B;for(var ob=0;ob<B;++ob)fb.push([la[0]+ob*Na,la[1]+ob*hb]);la=sa}fb.push(sa);return fb}
function Ic(A){var B=[],K,T=A[0].length;for(K=0;K<T;++K){var la=A[0][K];var sa=la[0][0];var Na=la[0][1];var hb=la[1][1];var fb=la[2][0];la=la[2][1];B.push(Zb([[sa+1E-6,Na+1E-6],[sa+1E-6,hb-1E-6],[fb-1E-6,hb-1E-6],[fb-1E-6,la+1E-6]],30))}for(K=A[1].length-1;0<=K;--K)la=A[1][K],sa=la[0][0],Na=la[0][1],hb=la[1][1],fb=la[2][0],la=la[2][1],B.push(Zb([[fb-1E-6,la-1E-6],[fb-1E-6,hb+1E-6],[sa+1E-6,hb+1E-6],[sa+1E-6,Na-1E-6]],30));return{type:"Polygon",coordinates:[x.merge(B)]}}function uc(A,B,K){function T(fb,
ob){for(var pb=0>ob?-1:1,Kb=B[+(0>ob)],Vb=0,l=Kb.length-1;Vb<l&&fb>Kb[Vb][2][0];++Vb);fb=A(fb-Kb[Vb][1][0],ob);fb[0]+=A(Kb[Vb][1][0],pb*ob>pb*Kb[Vb][0][1]?Kb[Vb][0][1]:ob)[0];return fb}var la,sa;K?T.invert=K(T):A.invert&&(T.invert=function(fb,ob){for(var pb=sa[+(0>ob)],Kb=B[+(0>ob)],Vb=0,l=pb.length;Vb<l;++Vb){var v=pb[Vb];if(v[0][0]<=fb&&fb<v[1][0]&&v[0][1]<=ob&&ob<v[1][1])return pb=A.invert(fb-A(Kb[Vb][1][0],0)[0],ob),pb[0]+=Kb[Vb][1][0],Kb=T(pb[0],pb[1]),fb=[fb,ob],1E-6>jc(Kb[0]-fb[0])&&1E-6>jc(Kb[1]-
fb[1])?pb:null}});var Na=m.geoProjection(T),hb=Na.stream;Na.stream=function(fb){var ob=Na.rotate(),pb=hb(fb),Kb=(Na.rotate([0,0]),hb(fb));Na.rotate(ob);pb.sphere=function(){m.geoStream(la,Kb)};return pb};Na.lobes=function(fb){if(!arguments.length)return B.map(function(ob){return ob.map(function(pb){return[[pb[0][0]*Ud,pb[0][1]*Ud],[pb[1][0]*Ud,pb[1][1]*Ud],[pb[2][0]*Ud,pb[2][1]*Ud]]})});la=Ic(fb);B=fb.map(function(ob){return ob.map(function(pb){return[[pb[0][0]*Nc,pb[0][1]*Nc],[pb[1][0]*Nc,pb[1][1]*
Nc],[pb[2][0]*Nc,pb[2][1]*Nc]]})});sa=B.map(function(ob){return ob.map(function(pb){var Kb=A(pb[0][0],pb[0][1])[0],Vb=A(pb[2][0],pb[2][1])[0],l=A(pb[1][0],pb[0][1])[1];pb=A(pb[1][0],pb[1][1])[1];if(l>pb){var v=l;l=pb;pb=v}return[[Kb,l],[Vb,pb]]})});return Na};null!=B&&Na.lobes(B);return Na}function Zc(A,B){return[3/$d*A*gb(Yb*Yb/3-B*B),B]}function Ad(A){function B(K,T){if(1E-6>jc(jc(T)-gd))return[0,0>T?-2:2];T=cc(T);T=kf((1+T)/(1-T),A/2);var la=.5*(T+1/T)+Mb(K*=A);return[2*cc(K)/la,(T-1/T)/la]}B.invert=
function(K,T){var la=jc(T);if(1E-6>jc(la-2))return K?null:[0,Vd(T)*gd];if(2<la)return null;K/=2;T/=2;la=K*K;var sa=T*T;T=2*T/(1+la+sa);T=kf((1+T)/(1-T),1/A);return[xd(2*K,1-la-sa)/A,Wa((T-1)/(T+1))]};return B}function Lc(A,B){return[A*(1+gb(Mb(B)))/2,B/(Mb(B/2)*Mb(A/6))]}function Xc(A,B){var K=A*A,T=B*B;return[A*(.975534+T*(-.119161+-.0143059*K+-.0547009*T)),B*(1.00384+K*(.0802894+-.02855*T+1.99025E-4*K)+T*(.0998909+-.0491032*T))]}function Uc(A,B){return[cc(A)/Mb(B),Wd(B)*Mb(A)]}function Md(A){function B(la,
sa){var Na=sa-A,hb=1E-6>jc(Na)?la*K:1E-6>jc(hb=se+sa/2)||1E-6>jc(jc(hb)-gd)?0:la*Na/Ce(Wd(hb)/T);return[hb,Na]}var K=Mb(A),T=Wd(se+A/2);B.invert=function(la,sa){var Na,hb=sa+A;return[1E-6>jc(sa)?la/K:1E-6>jc(Na=se+hb/2)||1E-6>jc(jc(Na)-gd)?0:la*Ce(Wd(Na)/T)/sa,hb]};return B}function Qd(A,B){return[A,1.25*Ce(Wd(se+.4*B))]}function fe(A){function B(T,la){var sa=Mb(la),Na=2/(1+sa*Mb(T));T=Na*sa*cc(T);la=Na*cc(la);Na=K;sa=A[Na];for(var hb=sa[0],fb=sa[1],ob;0<=--Na;)sa=A[Na],hb=sa[0]+T*(ob=hb)-la*fb,fb=
sa[1]+T*fb+la*ob;hb=T*(ob=hb)-la*fb;return[hb,T*fb+la*ob]}var K=A.length-1;B.invert=function(T,la){var sa=20,Na=T,hb=la;do{for(var fb=K,ob=A[fb],pb=ob[0],Kb=ob[1],Vb=0,l=0,v;0<=--fb;)ob=A[fb],Vb=pb+Na*(v=Vb)-hb*l,l=Kb+Na*l+hb*v,pb=ob[0]+Na*(v=pb)-hb*Kb,Kb=ob[1]+Na*Kb+hb*v;Vb=pb+Na*(v=Vb)-hb*l;l=Kb+Na*l+hb*v;pb=Na*(v=pb)-hb*Kb-T;Kb=Na*Kb+hb*v-la;ob=Vb*Vb+l*l;Na-=fb=(pb*Vb+Kb*l)/ob;hb-=pb=(Kb*Vb-pb*l)/ob}while(1E-12<jc(fb)+jc(pb)&&0<--sa);if(sa)return T=gb(Na*Na+hb*hb),la=2*Dd(.5*T),sa=cc(la),[xd(Na*
sa,T*Mb(la)),T?Wa(hb*sa/T):0]};return B}function Eb(A,B){A=m.geoProjection(fe(A)).rotate(B).clipAngle(90);var K=m.geoRotation(B),T=A.center;delete A.rotate;A.center=function(la){return arguments.length?T(K(la)):K.invert(T())};return A}function Rb(A,B){B=Wa(7*cc(B)/(3*$c));return[$c*A*(2*Mb(2*B/3)-1)/nd,9*cc(B/3)/nd]}function mb(A,B){for(var K=(1+he)*cc(B),T=0,la;25>T&&!(B-=la=(cc(B/2)+cc(B)-K)/(.5*Mb(B/2)+Mb(B)),1E-6>jc(la));T++);return[A*(1+2*Mb(B)/Mb(B/2))/(3*de),2*gb(3)*cc(B/2)/gb(2+de)]}function rc(A,
B){var K=gb(6/(4+Yb)),T=(1+Yb/4)*cc(B);B/=2;for(var la=0,sa;25>la&&!(B-=sa=(B/2+cc(B)-T)/(.5+Mb(B)),1E-6>jc(sa));la++);return[K*(.5+Mb(B))*A/1.5,K*B]}function Cc(A,B){var K=B*B,T=K*K,la=K*T;return[A*(.84719-.13063*K+la*la*(-.04515+.05494*K-.02326*T+.00331*la)),B*(1.01183+T*T*(-.02625+.01926*K-.00396*T))]}function Rc(A,B){return[A*(1+Mb(B))/2,2*(B-Wd(B/2))]}function sd(A,B){var K=cc(B),T=Mb(B),la=Vd(A);if(0===A||jc(B)===gd)return[0,B];if(0===B)return[A,0];if(jc(A)===gd)return[A*T,gd*K];A=Yb/(2*A)-
2*A/Yb;var sa=2*B/Yb,Na=(1-sa*sa)/(K-sa),hb=A*A,fb=Na*Na;sa=1+hb/fb;var ob=1+fb/hb,pb=(A*K/Na-A/2)/sa,Kb=(fb*K/hb+Na/2)/ob;K=Kb*Kb-(fb*K*K/hb+Na*K-1)/ob;return[gd*(pb+gb(pb*pb+T*T/sa)*la),gd*(Kb+gb(0>K?0:K)*Vd(-B*A)*la)]}function I(A,B){var K=B*B;return[A,B*(1.0148+K*K*(.23185+K*(-.14499+.02406*K)))]}function ma(A,B){if(1E-6>jc(B))return[A,0];var K=Wd(B);A*=cc(B);return[cc(A)/K,B+(1-Mb(A))/K]}function ib(A,B){var K=Bb(A[1],A[0]),T=Bb(B[1],B[0]),la=xd(K[0]*T[1]-K[1]*T[0],K[0]*T[0]+K[1]*T[1]);K=gb(K[0]*
K[0]+K[1]*K[1])/gb(T[0]*T[0]+T[1]*T[1]);return nb([1,0,A[0][0],0,1,A[0][1]],nb([K,0,0,0,K,0],nb([Mb(la),cc(la),0,-cc(la),Mb(la),0],[1,0,-B[0][0],0,1,-B[0][1]])))}function nb(A,B){return[A[0]*B[0]+A[1]*B[3],A[0]*B[1]+A[1]*B[4],A[0]*B[2]+A[1]*B[5]+A[2],A[3]*B[0]+A[4]*B[3],A[3]*B[1]+A[4]*B[4],A[3]*B[2]+A[4]*B[5]+A[5]]}function Bb(A,B){return[A[0]-B[0],A[1]-B[1]]}function Ub(A,B){function K(hb,fb){hb.edges=Jc(hb.face);if(fb.face){var ob=hb.shared=Fc(hb.face,fb.face),pb=ib(ob.map(fb.project),ob.map(hb.project));
hb.transform=fb.transform?nb(fb.transform,pb):pb;pb=fb.edges;for(var Kb=0,Vb=pb.length;Kb<Vb;++Kb)dc(ob[0],pb[Kb][1])&&dc(ob[1],pb[Kb][0])&&(pb[Kb]=hb),dc(ob[0],pb[Kb][0])&&dc(ob[1],pb[Kb][1])&&(pb[Kb]=hb);pb=hb.edges;Kb=0;for(Vb=pb.length;Kb<Vb;++Kb)dc(ob[0],pb[Kb][0])&&dc(ob[1],pb[Kb][1])&&(pb[Kb]=fb),dc(ob[0],pb[Kb][1])&&dc(ob[1],pb[Kb][0])&&(pb[Kb]=fb)}else hb.transform=fb.transform;hb.children&&hb.children.forEach(function(l){K(l,hb)});return hb}function T(hb,fb){var ob=B(hb,fb);hb=ob.project([hb*
Ud,fb*Ud]);if(ob=ob.transform)return[ob[0]*hb[0]+ob[1]*hb[1]+ob[2],-(ob[3]*hb[0]+ob[4]*hb[1]+ob[5])];hb[1]=-hb[1];return hb}function la(hb,fb){var ob=hb.project.invert,pb=hb.transform,Kb=fb;if(pb){var Vb=1/(pb[0]*pb[4]-pb[1]*pb[3]);pb=[Vb*pb[4],-Vb*pb[1],Vb*(pb[1]*pb[5]-pb[2]*pb[4]),-Vb*pb[3],Vb*pb[0],Vb*(pb[2]*pb[3]-pb[0]*pb[5])];Kb=[pb[0]*Kb[0]+pb[1]*Kb[1]+pb[2],pb[3]*Kb[0]+pb[4]*Kb[1]+pb[5]]}if(pb=ob)ob=l=ob(Kb),ob=B(ob[0]*Nc,ob[1]*Nc),pb=hb===ob;if(pb)return l;var l;hb=hb.children;ob=0;for(Kb=
hb&&hb.length;ob<Kb;++ob)if(l=la(hb[ob],fb))return l}K(A,{transform:null});Da(A)&&(T.invert=function(hb,fb){return(hb=la(A,[hb,-fb]))&&(hb[0]*=Nc,hb[1]*=Nc,hb)});var sa=m.geoProjection(T),Na=sa.stream;sa.stream=function(hb){var fb=sa.rotate(),ob=Na(hb),pb=(sa.rotate([0,0]),Na(hb));sa.rotate(fb);ob.sphere=function(){pb.polygonStart();pb.lineStart();Xb(pb,A);pb.lineEnd();pb.polygonEnd()};return ob};return sa.angle(-30)}function Xb(A,B,K){var T,la=B.edges,sa=la.length;var Na={type:"MultiPoint",coordinates:B.face};
var hb=B.face.filter(function(Kb){return 90!==jc(Kb[1])}),fb=m.geoBounds({type:"MultiPoint",coordinates:hb});hb=!1;var ob=-1,pb=fb[1][0]-fb[0][0];fb=180===pb||360===pb?[(fb[0][0]+fb[1][0])/2,(fb[0][1]+fb[1][1])/2]:m.geoCentroid(Na);if(K)for(;++ob<sa&&la[ob]!==K;);++ob;for(pb=0;pb<sa;++pb)Na=la[(pb+ob)%sa],Array.isArray(Na)?(hb||(A.point((T=m.geoInterpolate(Na[0],fb)(1E-6))[0],T[1]),hb=!0),A.point((T=m.geoInterpolate(Na[1],fb)(1E-6))[0],T[1])):(hb=!1,Na!==K&&Xb(A,Na,B))}function dc(A,B){return A&&
B&&A[0]===B[0]&&A[1]===B[1]}function Fc(A,B){for(var K,T,la=A.length,sa=null,Na=0;Na<la;++Na){K=A[Na];for(var hb=B.length;0<=--hb;)if(T=B[hb],K[0]===T[0]&&K[1]===T[1]){if(sa)return[sa,K];sa=K}}}function Jc(A){for(var B=A.length,K=[],T=A[B-1],la=0;la<B;++la)K.push([T,T=A[la]]);return K}function Da(A){return A.project.invert||A.children&&A.children.some(Da)}function Ma(A,B){A=u(A,B);return[A[0]*oe,A[1]]}function Pb(A,B){for(var K=0,T=A.length,la=0;K<T;++K)la+=A[K]*B[K];return la}function bc(A,B){return[A[1]*
B[2]-A[2]*B[1],A[2]*B[0]-A[0]*B[2],A[0]*B[1]-A[1]*B[0]]}function mc(A){return[xd(A[1],A[0])*Ud,Wa($e(-1,Te(1,A[2])))*Ud]}function Dc(A){var B=A[0]*Nc;A=A[1]*Nc;var K=Mb(A);return[K*Mb(B),K*cc(B),cc(A)]}function Kc(A,B){return{type:"FeatureCollection",features:A.features.map(function(K){return Hb(K,B)})}}function Hb(A,B){return{type:"Feature",id:A.id,properties:A.properties,geometry:sc(A.geometry,B)}}function Wb(A,B){return{type:"GeometryCollection",geometries:A.geometries.map(function(K){return sc(K,
B)})}}function sc(A,B){if(!A)return null;if("GeometryCollection"===A.type)return Wb(A,B);switch(A.type){case "Point":var K=zf;break;case "MultiPoint":K=zf;break;case "LineString":K=tf;break;case "MultiLineString":K=tf;break;case "Polygon":K=Df;break;case "MultiPolygon":K=Df;break;case "Sphere":K=Df;break;default:return null}m.geoStream(A,B(K));return K.result()}function pc(A){function B(T,la){var sa=jc(T)<gd;la=A(sa?T:0<T?T-Yb:T+Yb,la);T=(la[0]-la[1])*he;la=(la[0]+la[1])*he;if(sa)return[T,la];sa=
K*he;var Na=0<T^0<la?-1:1;return[Na*T-Vd(la)*sa,Na*la-Vd(T)*sa]}var K=A(gd,0)[0]-A(-gd,0)[0];A.invert&&(B.invert=function(T,la){var sa=(T+la)*he,Na=(la-T)*he,hb=jc(sa)<.5*K&&jc(Na)<.5*K;if(!hb){var fb=K*he,ob=0<sa^0<Na?-1:1;T=-ob*T+(0<Na?1:-1)*fb;la=-ob*la+(0<sa?1:-1)*fb;sa=(-T-la)*he;Na=(T-la)*he}la=A.invert(sa,Na);hb||(la[0]+=0<sa?Yb:-Yb);return la});return m.geoProjection(B).rotate([-90,-90,45]).clipAngle(179.999)}function tc(A){function B(T,la){T=K?Wd(T*K/2)/K:T/2;if(!la)return[2*T,-A];T=2*Dd(T*
cc(la));var sa=1/Wd(la);return[cc(T)*sa,la+(1-Mb(T))*sa-A]}var K=cc(A);B.invert=function(T,la){if(1E-6>jc(la+=A))return[K?2*Dd(K*T/2)/K:T,0];var sa=T*T+la*la,Na=0,hb=10;do{var fb=Wd(Na);var ob=1/Mb(Na),pb=sa-2*la*Na+Na*Na;Na-=fb=(fb*pb+2*(Na-la))/(2+pb*ob*ob+2*(Na-la)*fb)}while(1E-6<jc(fb)&&0<--hb);T*=fb=Wd(Na);la=Wd(jc(la)<jc(Na+1/fb)?.5*Wa(T):.5*Gb(T)+Yb/4)/cc(Na);return[K?2*Dd(K*la)/K:2*la,Na]};return B}function Wc(A,B){var K=Te(18,36*jc(B)/Yb),T=ne(K);K-=T;var la=(fb=pf[T])[0],sa=fb[1],Na=(fb=
pf[++T])[0],hb=fb[1];T=(fb=pf[Te(19,++T)])[0];fb=fb[1];var fb;return[A*(Na+K*(T-la)/2+K*K*(T-2*Na+la)/2),(0<B?gd:-gd)*(hb+K*(fb-sa)/2+K*K*(fb-2*hb+sa)/2)]}function Kd(A){function B(K,T){var la=Mb(T),sa=(A-1)/(A-la*Mb(K));return[sa*la*cc(K),sa*cc(T)]}B.invert=function(K,T){var la=K*K+T*T,sa=gb(la);la=(A-gb(1-la*(A+1)/(A-1)))/((A-1)/sa+sa/(A-1));return[xd(K*la,sa*gb(1-la*la)),sa?Wa(T*la/sa):0]};return B}function od(A,B){function K(Na,hb){Na=T(Na,hb);hb=Na[1];var fb=hb*sa/(A-1)+la;return[Na[0]*la/fb,
hb/fb]}var T=Kd(A);if(!B)return T;var la=Mb(B),sa=cc(B);K.invert=function(Na,hb){var fb=(A-1)/(A-1-hb*sa);return T.invert(fb*Na,fb*hb*la)};return K}function ld(A){return 0<A.length}function wd(A){return-90===A||90===A?[0,A]:[-180,Math.floor(1E4*A)/1E4]}function Rd(A){var B=A[0],K=A[1],T=!1;-179.9999>=B?(B=-180,T=!0):179.9999<=B&&(B=180,T=!0);-89.9999>=K?(K=-90,T=!0):89.9999<=K&&(K=90,T=!0);return T?[B,K]:A}function Hd(A){return A.map(Rd)}function ce(A,B,K){for(var T=0,la=A.length;T<la;++T){var sa=
A[T].slice();K.push({index:-1,polygon:B,ring:sa});for(var Na=0,hb=sa.length;Na<hb;++Na){var fb=sa[Na],ob=fb[0],pb=fb[1];if(-179.9999>=ob||179.9999<=ob||-89.9999>=pb||89.9999<=pb){sa[Na]=Rd(fb);for(fb=Na+1;fb<hb;++fb){var Kb=sa[fb];ob=Kb[0];Kb=Kb[1];if(-179.9999<ob&&179.9999>ob&&-89.9999<Kb&&89.9999>Kb)break}if(fb!==Na+1){Na?(Na={index:-1,polygon:B,ring:sa.slice(0,Na+1)},Na.ring[Na.ring.length-1]=wd(pb),K[K.length-1]=Na):K.pop();if(fb>=hb)break;K.push({index:-1,polygon:B,ring:sa=sa.slice(fb-1)});sa[0]=
wd(sa[0][1]);Na=-1;hb=sa.length}}}}}function ke(A){var B,K=A.length,T={},la={};for(B=0;B<K;++B){var sa=A[B];var Na=sa.ring[0];var hb=sa.ring[sa.ring.length-1];Na[0]===hb[0]&&Na[1]===hb[1]?(sa.polygon.push(sa.ring),A[B]=null):(sa.index=B,T[Na]=la[hb]=sa)}for(B=0;B<K;++B)if(sa=A[B]){Na=sa.ring[0];hb=sa.ring[sa.ring.length-1];var fb=la[Na];var ob=T[hb];delete T[Na];delete la[hb];Na[0]===hb[0]&&Na[1]===hb[1]?sa.polygon.push(sa.ring):fb?(delete la[Na],delete T[fb.ring[0]],fb.ring.pop(),A[fb.index]=null,
sa={index:-1,polygon:fb.polygon,ring:fb.ring.concat(sa.ring)},fb===ob?sa.polygon.push(sa.ring):(sa.index=K++,A.push(T[sa.ring[0]]=la[sa.ring[sa.ring.length-1]]=sa))):ob?(delete T[hb],delete la[ob.ring[ob.ring.length-1]],sa.ring.pop(),sa={index:K++,polygon:ob.polygon,ring:sa.ring.concat(ob.ring)},A[ob.index]=null,A.push(T[sa.ring[0]]=la[sa.ring[sa.ring.length-1]]=sa)):(sa.ring.push(sa.ring[0]),sa.polygon.push(sa.ring))}}function Ke(A){var B={type:"Feature",geometry:Zd(A.geometry)};null!=A.id&&(B.id=
A.id);null!=A.bbox&&(B.bbox=A.bbox);null!=A.properties&&(B.properties=A.properties);return B}function Zd(A){if(null==A)return A;switch(A.type){case "GeometryCollection":var B={type:"GeometryCollection",geometries:A.geometries.map(Zd)};break;case "Point":B={type:"Point",coordinates:Rd(A.coordinates)};break;case "MultiPoint":case "LineString":B={type:A.type,coordinates:Hd(A.coordinates)};break;case "MultiLineString":B={type:"MultiLineString",coordinates:A.coordinates.map(Hd)};break;case "Polygon":var K=
[];ce(A.coordinates,K,B=[]);ke(B);B={type:"Polygon",coordinates:K};break;case "MultiPolygon":B=[];K=-1;var T=A.coordinates.length;for(var la=Array(T);++K<T;)ce(A.coordinates[K],la[K]=[],B);ke(B);B={type:"MultiPolygon",coordinates:la.filter(ld)};break;default:return A}null!=A.bbox&&(B.bbox=A.bbox);return B}function P(A,B){B=Wd(B/2);var K=cc(se*B);return[A*(.74482-.34588*K*K),1.70711*B]}function oa(A,B,K){var T=m.geoInterpolate(B,K);K=T(.5);B=m.geoRotation([-K[0],-K[1]])(B);T=T.distance/2;var la=-Wa(cc(B[1]*
Nc)/cc(T));K=[-K[0],-K[1],-(0<B[0]?Yb-la:la)*Ud];A=m.geoProjection(A(T)).rotate(K);var sa=m.geoRotation(K),Na=A.center;delete A.rotate;A.center=function(hb){return arguments.length?Na(sa(hb)):sa.invert(Na())};return A.clipAngle(90)}function Ha(A){function B(T,la){T=m.geoGnomonicRaw(T,la);T[0]*=K;return T}var K=Mb(A);B.invert=function(T,la){return m.geoGnomonicRaw.invert(T/K,la)};return B}function kb(A,B){return oa(Ha,A,B)}function eb(A){function B(hb,fb){var ob=Gb(Mb(fb)*Mb(hb-K));hb=Gb(Mb(fb)*Mb(hb-
T));ob*=ob;hb*=hb;return[(ob-hb)/(2*A),(0>fb?-1:1)*gb(4*la*hb-(la-ob+hb)*(la-ob+hb))/(2*A)]}if(!(A*=2))return m.geoAzimuthalEquidistantRaw;var K=-A/2,T=-K,la=A*A,sa=Wd(T),Na=.5/cc(T);B.invert=function(hb,fb){var ob=fb*fb,pb=Mb(gb(ob+(Kb=hb+K)*Kb));hb=Mb(gb(ob+(Kb=hb+T)*Kb));var Kb,Vb;return[xd(Vb=pb-hb,Kb=(pb+hb)*sa),(0>fb?-1:1)*Gb(gb(Kb*Kb+Vb*Vb)*Na)]};return B}function Tb(A,B){return oa(eb,A,B)}function hc(A,B){if(1E-6>jc(B))return[A,0];var K=jc(B/gd),T=Wa(K);if(1E-6>jc(A)||1E-6>jc(jc(B)-gd))return[0,
Vd(B)*Yb*Wd(T/2)];var la=Mb(T);T=jc(Yb/A-A/Yb)/2;var sa=T*T;la/=K+la-1;K=la*(2/K-1);var Na=K*K,hb=Na+sa,fb=la-Na,ob=sa+la;return[Vd(A)*Yb*(T*fb+gb(sa*fb*fb-hb*(la*la-Na)))/hb,Vd(B)*Yb*(K*ob-T*gb((sa+1)*hb-ob*ob))/hb]}function xc(A,B){if(1E-6>jc(B))return[A,0];var K=jc(B/gd),T=Wa(K);if(1E-6>jc(A)||1E-6>jc(jc(B)-gd))return[0,Vd(B)*Yb*Wd(T/2)];var la=Mb(T);T=jc(Yb/A-A/Yb)/2;var sa=T*T;K=la*(gb(1+sa)-T*la)/(1+sa*K*K);return[Vd(A)*Yb*K,Vd(B)*Yb*gb(1-K*(2*T+K))]}function vc(A,B){if(1E-6>jc(B))return[A,
0];var K=B/gd,T=Wa(K);if(1E-6>jc(A)||1E-6>jc(jc(B)-gd))return[0,Yb*Wd(T/2)];B=(Yb/A-A/Yb)/2;K/=1+Mb(T);return[Yb*(Vd(A)*gb(B*B+1-K*K)-B),Yb*K]}function lc(A,B){if(!B)return[A,0];var K=jc(B);if(!A||K===gd)return[0,B];var T=K/gd;K=T*T;var la=(8*T-K*(K+2)-5)/(2*K*(T-1)),sa=la*la,Na=T*la,hb=K+sa+2*Na;T+=3*la;la=A/gd;la+=1/la;la=Vd(jc(A)-gd)*gb(la*la-4);var fb=la*la;K=(la*(hb+sa-1)+2*gb(hb*(K+sa*fb-1)+(1-K)*(K*(T*T+4*sa)+12*Na*sa+4*sa*sa)))/(4*hb+fb);return[Vd(A)*gd*K,Vd(B)*gd*gb(1+la*jc(K)-K*K)]}function ed(A,
B,K,T,la){function sa(Na,hb){hb=K*cc(T*hb);var fb=gb(1-hb*hb),ob=gb(2/(1+fb*Mb(Na*=la)));return[A*fb*ob*cc(Na),B*hb*ob]}sa.invert=function(Na,hb){var fb=Na/A,ob=hb/B;fb=gb(fb*fb+ob*ob);ob=2*Wa(fb/2);return[xd(Na*Wd(ob),A*fb)/la,fb&&Wa(hb*cc(ob)/(B*K*fb))/T]};return sa}function pd(A,B,K,T){var la=Yb/3;A=$e(A,1E-6);B=$e(B,1E-6);A=Te(A,gd);B=Te(B,Yb-1E-6);K=$e(K,0);K=Te(K,99.999999);T=$e(T,1E-6);var sa=T/100;K=Gb((K/100+1)*Mb(la))/la;la=cc(A)/cc(K*gd);T=B/Yb;B=gb(sa*cc(A/2)/cc(B/2));A=B/gb(T*la*K);B=
1/(B*gb(T*la*K));return ed(A,B,la,K,T)}function Ed(){var A=65*Nc,B=60*Nc,K=20,T=200,la=m.geoProjectionMutator(pd),sa=la(A,B,K,T);sa.poleline=function(Na){return arguments.length?la(A=+Na*Nc,B,K,T):A*Ud};sa.parallels=function(Na){return arguments.length?la(A,B=+Na*Nc,K,T):B*Ud};sa.inflation=function(Na){return arguments.length?la(A,B,K=+Na,T):K};sa.ratio=function(Na){return arguments.length?la(A,B,K,T=+Na):T};return sa.scale(163.775)}function md(A,B){return[A*gb(1-3*B*B/(Yb*Yb)),B]}function le(A,B){var K=
Mb(B),T=Mb(A)*K,la=1-T;B=Mb(A=xd(cc(A)*K,-cc(B)));A=cc(A);K=gb(1-T*T);return[A*K-B*la,-B*K-A*la]}function Se(A,B){var K=Ua(A,B);return[(K[0]+A/gd)/2,(K[1]+B)/2]}var jc=Math.abs,Dd=Math.atan,xd=Math.atan2,Mb=Math.cos,qe=Math.exp,ne=Math.floor,Ce=Math.log,$e=Math.max,Te=Math.min,kf=Math.pow,ef=Math.round,Vd=Math.sign||function(A){return 0<A?1:0>A?-1:0},cc=Math.sin,Wd=Math.tan,Yb=Math.PI,gd=Yb/2,se=Yb/4,he=Math.SQRT1_2,de=gb(2),je=gb(Yb),$d=2*Yb,Ud=180/Yb,Nc=Yb/180;Ua.invert=function(A,B){if(!(A*A+4*
B*B>Yb*Yb+1E-6)){var K=A,T=B,la=25;do{var sa=cc(K),Na=cc(K/2),hb=Mb(K/2),fb=cc(T),ob=Mb(T),pb=cc(2*T),Kb=fb*fb,Vb=ob*ob,l=Na*Na,v=1-Vb*hb*hb,O=v?Gb(ob*hb)*gb(W=1/v):W=0,W;v=2*O*ob*Na-A;var Ra=O*fb-B,ub=W*(Vb*l+O*ob*hb*Kb),Fb=W*(.5*sa*pb-2*O*fb*Na);sa=.25*W*(pb*Na-O*fb*Vb*sa);ob=W*(Kb*hb+O*l*ob);hb=Fb*sa-ob*ub;if(!hb)break;Fb=(Ra*Fb-v*ob)/hb;v=(v*sa-Ra*ub)/hb;K-=Fb;T-=v}while((1E-6<jc(Fb)||1E-6<jc(v))&&0<--la);return[K,T]}};ab.invert=function(A,B){A*=.375;B*=.375;if(!A&&1<jc(B))return null;var K=1+
A*A+B*B,T=gb((K-gb(K*K-4*B*B))/2);K=Wa(T)/3;T?(T=jc(B/T),T=Ce(T+gb(T*T-1))/3):(T=jc(A),T=Ce(T+gb(T*T+1))/3);var la=Mb(K),sa=Lb(T),Na=sa*sa-la*la;return[2*Vd(A)*xd(wb(T)*la,.25-Na),2*Vd(B)*xd(sa*cc(K),.25+Na)]};var Qe=gb(8),ve=Ce(1+de);za.invert=function(A,B){if((la=jc(B))<ve)return[A,2*Dd(qe(B))-gd];var K=se,T=25,la;do{var sa=Mb(K/2);var Na=Wd(K/2);K-=sa=(Qe*(K-se)-Ce(Na)-la)/(Qe-sa*sa/(2*Na))}while(1E-12<jc(sa)&&0<--T);return[A/(Mb(K)*(Qe-1/cc(K))),Vd(B)*K]};Ba.invert=function(A,B){B=2*Wa(B/2);return[A*
Mb(B/2)/Mb(B),B]};var Jd=Aa(de/gd,de,Yb);va.invert=function(A,B){var K=2.00276*B;B=0>B?-se:se;var T=25;do{var la=K-de*cc(B);B-=la=(cc(2*B)+2*B-Yb*cc(la))/(2*Mb(2*B)+2+Yb*Mb(la)*de*Mb(B))}while(1E-6<jc(la)&&0<--T);la=K-de*cc(B);return[A*(1/Mb(la)+1.11072/Mb(B))/2.00276,la]};fa.invert=function(A,B){return[A/Mb(B),B]};var xe=Aa(1,4/Yb,Yb);u.invert=function(A,B){var K=(K=B/je-1)*K;return[0<K?A*gb(Yb/K)/2:0,Wa(1-K)]};var Gd=gb(3);z.invert=function(A,B){B=3*Wa(B/(Gd*je));return[je*A/(Gd*(2*Mb(2*B/3)-1)),
B]};J.invert=function(A,B){var K=gb(8/(3*Yb));B/=K;return[A/(K*(1-jc(B)/Yb)),B]};V.invert=function(A,B){var K=2-jc(B)/gb(2*Yb/3);return[A*gb(6*Yb)/(2*K),Vd(B)*Wa((4-K*K)/3)]};ia.invert=function(A,B){var K=gb(Yb*(4+Yb))/2;return[A*K/(1+gb(1-B*B*(4+Yb)/(4*Yb))),B*K/2]};Pa.invert=function(A,B){B=B*gb((4+Yb)/Yb)/2;var K=Wa(B),T=Mb(K);return[A/(2/gb(Yb*(4+Yb))*(1+T)),Wa((K+B*(T+2))/(2+gd))]};cb.invert=function(A,B){var K=gb(2+Yb);B=B*K/2;return[K*A/(1+Mb(B)),B]};M.invert=function(A,B){var K=1+gd,T=gb(K/
2);return[2*A*T/(1+Mb(B*=T)),Wa((B+cc(B))/K)]};var Oe=3+2*de;Ka.invert=function(A,B){if(!(la=ab.invert(A/1.2,1.065*B)))return null;var K=la[0];la=la[1];var T=20,la;A/=Oe;B/=Oe;do{var sa=K/2,Na=la/2,hb=cc(sa),fb=Mb(sa),ob=cc(Na),pb=Mb(Na),Kb=Mb(la),Vb=gb(Kb),l=ob/(pb+de*fb*Vb),v=l*l,O=gb(2/(1+v)),W=(de*pb+(fb+hb)*Vb)/(de*pb+(fb-hb)*Vb),Ra=gb(W),ub=Ra-1/Ra,Fb=Ra+1/Ra;Na=O*ub-2*Ce(Ra)-A;sa=O*l*Fb-2*Dd(l)-B;var Sb=ob&&he*Vb*hb*v/ob,fc=(de*fb*pb+Vb)/(2*(pb+de*fb*Vb)*(pb+de*fb*Vb)*Vb),Bc=-.5*l*O*O*O,Hc=
Bc*Sb;Bc*=fc;var hd=(hd=2*pb+de*Vb*(fb-hb))*hd*Ra;fb=(de*fb*pb*Vb+Kb)/hd;ob=-(de*hb*ob)/(Vb*hd);hb=ub*Hc-2*fb/Ra+O*(fb+fb/W);Ra=ub*Bc-2*ob/Ra+O*(ob+ob/W);Sb=l*Fb*Hc-2*Sb/(1+v)+O*Fb*Sb+O*l*(fb-fb/W);v=l*Fb*Bc-2*fc/(1+v)+O*Fb*fc+O*l*(ob-ob/W);l=Ra*Sb-v*hb;if(!l)break;v=(sa*Ra-Na*v)/l;Na=(Na*Sb-sa*hb)/l;K-=v;la=$e(-gd,Te(gd,la-Na))}while((1E-6<jc(v)||1E-6<jc(Na))&&0<--T);return 1E-6>jc(jc(la)-gd)?[0,la]:T&&[K,la]};var We=Mb(35*Nc);ka.invert=function(A,B){B/=1+We;return[A&&A/(We*gb(1-B*B)),2*Dd(B)]};
ha.invert=function(A,B){var K=Dd(B/je);B=Mb(K);K*=2;return[A*je/2/(Mb(K)*B*B),K]};var lf=G(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),uf=G(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),Me=G(5/6*Yb,-.62636,-.0344,0,1.3493,-.05524,0,.045);L.invert=function(A,B){var K=A,T=B,la=50,sa;do{var Na=T*T;T-=sa=(T*(1+Na/12)-B)/(1+Na/4)}while(1E-6<jc(sa)&&0<--la);la=50;A/=1-.162388*Na;do{var hb=(hb=K*K)*hb;K-=sa=(K*(.87-9.52426E-4*hb)-A)/(.87-.00476213*hb)}while(1E-6<jc(sa)&&0<--la);
return[K,T]};var df=G(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);Ga.invert=function(A,B){1<jc(A)&&(A=2*Vd(A)-A);1<jc(B)&&(B=2*Vd(B)-B);var K=Vd(A),T=Vd(B),la=-K*A,sa=-T*B;B=1>sa/la;A=B?sa:la;var Na=B?la:sa,hb=0,fb=1;la=.5;for(var ob=50;;){sa=la*la;var pb=gb(la),Kb=Wa(1/gb(1+sa)),Vb=1-sa+la*(1+sa)*Kb,l=(1-pb)/Vb,v=gb(l),O=l*(1+sa),W=v*(1-sa),Ra=gb(O-A*A);W=Na+W+la*Ra;if(1E-12>jc(fb-hb)||0===--ob||0===W)break;0<W?hb=la:fb=la;la=.5*(hb+fb)}ob?(Na=Wa(pb),ob=Mb(Na),hb=1/ob,fb=2*pb*ob,pb=(-Vb*
ob-(1-pb)*(-3*la+Kb*(1+3*sa))*fb)/(Vb*Vb),la=[Yb/4*(A*(-2*hb*(.5*pb/v*(1-sa)-2*la*v*fb)+-hb*fb*Ra)+-hb*(la*(1+sa)*pb+l*(1+3*sa)*fb)*Wa(A/gb(O))),Na]):la=null;A=la[0];la=la[1];sa=Mb(la);B&&(A=-gd-A);return[K*(xd(cc(A)*sa,-cc(la))+Yb),T*Wa(Mb(A)*sa)]};S.invert=function(A,B){var K=(de-1)/(de+1),T=gb(1-K*K);B=.5*sb(gd,T*T)-B;A=-A;T*=T;if(B)if(B=db(B,T),A){A=db(A,1-T);var la=A[1]*A[1]+T*B[0]*B[0]*A[0]*A[0];B=[[B[0]*A[2]/la,B[1]*B[2]*A[0]*A[1]/la],[B[1]*A[1]/la,-B[0]*B[2]*A[0]*A[2]/la],[B[2]*A[1]*A[2]/
la,-T*B[0]*B[1]*A[0]/la]]}else B=[[B[0],0],[B[1],0],[B[2],0]];else A=db(A,1-T),B=[[0,A[0]/A[1]],[1/A[1],0],[A[2]/A[1],0]];T=B[0];B=B[1];A=B[0]*B[0]+B[1]*B[1];T=[(T[0]*B[0]+T[1]*B[1])/A,(T[1]*B[0]-T[0]*B[1])/A];return[xd(T[1],T[0])/-1,2*Dd(qe(-.5*Ce(K*T[0]*T[0]+K*T[1]*T[1])))-gd]};var ad=Wa(1-1/3)*Ud,cf=D(0);ya.invert=function(A,B){return-.7109889596207567<B?Jd.invert(A,B-.0528035274542):fa.invert(A,B)};lb.invert=function(A,B){return.7109889596207567<jc(B)?Jd.invert(A,B+(0<B?.0528035274542:-.0528035274542)):
fa.invert(A,B)};var Ve=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],nf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],of=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,
0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],E=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],Q=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],Va=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];Zc.invert=function(A,
B){return[$d/3*A/gb(Yb*Yb/3-B*B),B]};var Ab=Yb/de;Lc.invert=function(A,B){var K=jc(A),T=jc(B),la=1E-6,sa=gd;T<Ab?sa*=T/Ab:la+=6*Gb(Ab/T);for(var Na=0;25>Na;Na++){var hb=cc(sa),fb=gb(Mb(sa)),ob=cc(sa/2),pb=Mb(sa/2),Kb=cc(la/6),Vb=Mb(la/6),l=.5*la*(1+fb)-K,v=sa/(pb*Vb)-T;hb=fb?-.25*la*hb/fb:0;fb=.5*(1+fb);ob=(1+.5*sa*ob/pb)/(pb*Vb);Kb=sa/pb*(Kb/6)/(Vb*Vb);pb=hb*Kb-ob*fb;Kb=(l*Kb-v*fb)/pb;l=(v*hb-l*ob)/pb;sa-=Kb;la-=l;if(1E-6>jc(Kb)&&1E-6>jc(l))break}return[0>A?-la:la,0>B?-sa:sa]};Xc.invert=function(A,
B){var K=Vd(A)*Yb,T=B/2,la=50;do{var sa=K*K,Na=T*T,hb=K*T,fb=K*(.975534+Na*(-.119161+-.0143059*sa+-.0547009*Na))-A,ob=T*(1.00384+sa*(.0802894+-.02855*Na+1.99025E-4*sa)+Na*(.0998909+-.0491032*Na))-B,pb=.975534-Na*(.119161+.0429177*sa+.0547009*Na),Kb=-hb*(.238322+.2188036*Na+.0286118*sa);hb*=.1605788+7.961E-4*sa+-.0571*Na;Na=1.00384+sa*(.0802894+1.99025E-4*sa)+Na*(3*(.0998909-.02855*sa)-.245516*Na);sa=Kb*hb-Na*pb;Kb=(ob*Kb-fb*Na)/sa;fb=(fb*hb-ob*pb)/sa;K-=Kb;T-=fb}while((1E-6<jc(Kb)||1E-6<jc(fb))&&
0<--la);return la&&[K,T]};Uc.invert=function(A,B){var K=A*A,T=B*B+1,la=K+T;K=A?he*gb((la-gb(la*la-4*K))/K):1/gb(T);return[Wa(A*K),Vd(B)*Gb(K)]};Qd.invert=function(A,B){return[A,2.5*Dd(qe(.8*B))-.625*Yb]};var Db=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Nb=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],$b=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],
[7.388E-4,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Sc=[[.9245,0],[0,0],[.01943,0]],Mc=[[.721316,0],[0,0],[-.00881625,-.00617325]],$c=gb(6),nd=gb(7);Rb.invert=function(A,B){B=3*Wa(B*nd/9);return[A*nd/($c*(2*Mb(2*B/3)-1)),Wa(3*cc(B)*$c/7)]};mb.invert=function(A,B){B=B*gb(2+de)/(2*gb(3));var K=2*Wa(B);return[3*de*A/(1+2*Mb(K)/Mb(K/2)),Wa((B+cc(K))/(1+he))]};rc.invert=function(A,B){var K=gb(6/(4+Yb));B/=K;1E-6>jc(jc(B)-gd)&&(B=0>B?-gd:gd);return[1.5*A/(K*(.5+Mb(B))),
Wa((B/2+cc(B))/(1+Yb/4))]};Cc.invert=function(A,B){var K=B,T=25;do{var la=K*K;var sa=la*la;K-=la=(K*(1.01183+sa*sa*(-.02625+.01926*la-.00396*sa))-B)/(1.01183+sa*sa*(-.23625+.21186*la+-.05148*sa))}while(1E-12<jc(la)&&0<--T);la=K*K;sa=la*la;B=la*sa;return[A/(.84719-.13063*la+B*B*(-.04515+.05494*la-.02326*sa+.00331*B)),K]};Rc.invert=function(A,B){for(var K=B/2,T=0,la=Infinity;10>T&&1E-6<jc(la);++T)la=Mb(B/2),B-=la=(B-Wd(B/2)-K)/(1-.5/(la*la));return[2*A/(1+Mb(B)),B]};var qd=[[[[-180,0],[-90,90],[0,0]],
[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];sd.invert=function(A,B){A/=gd;B/=gd;var K=A*A,T=K+B*B,la=Yb*Yb;return[A?(T-1+gb((1-T)*(1-T)+4*K))/(2*A)*gd:0,Qa(function(sa){return T*(Yb*cc(sa)-2*sa)*Yb+4*sa*sa*(B-cc(sa))+2*Yb*sa-la*B},0)]};var Id=5*.23185;I.invert=function(A,B){1.790857183<B?B=1.790857183:-1.790857183>B&&(B=-1.790857183);var K=B;do{var T=K*K;K-=T=(K*(1.0148+T*T*(.23185+T*(-.14499+.02406*T)))-B)/(1.0148+T*T*(Id+T*(-1.01493+.21654*T)))}while(1E-6<jc(T));
return[A,K]};ma.invert=function(A,B){if(1E-6>jc(B))return[A,0];var K=A*A+B*B,T=.5*B,la=10;do{var sa=Wd(T);var Na=1/Mb(T),hb=K-2*B*T+T*T;T-=sa=(sa*hb+2*(T-B))/(2+hb*Na*Na+2*(T-B)*sa)}while(1E-6<jc(sa)&&0<--la);sa=Wd(T);return[(jc(B)<jc(T+1/sa)?Wa(A*sa):Vd(B)*Vd(A)*(Gb(jc(A*sa))+gd))/cc(T),T]};var Fd=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],re=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(A){return A.map(function(B){return Fd[B]})}),oe=2/gb(3);Ma.invert=function(A,
B){return u.invert(A/oe,B)};var pe=function(){},ge=[],ye=[],zf={point:function(A,B){ge.push([A,B])},result:function(){var A=ge.length?2>ge.length?{type:"Point",coordinates:ge[0]}:{type:"MultiPoint",coordinates:ge}:null;ge=[];return A}},tf={lineStart:pe,point:function(A,B){ge.push([A,B])},lineEnd:function(){ge.length&&(ye.push(ge),ge=[])},result:function(){var A=ye.length?2>ye.length?{type:"LineString",coordinates:ye[0]}:{type:"MultiLineString",coordinates:ye}:null;ye=[];return A}},Df={polygonStart:pe,
lineStart:pe,point:function(A,B){ge.push([A,B])},lineEnd:function(){var A=ge.length;if(A){do ge.push(ge[0].slice());while(4>++A);ye.push(ge);ge=[]}},polygonEnd:pe,result:function(){if(!ye.length)return null;var A=[],B=[];ye.forEach(function(K){if(4>(la=K.length))var T=!1;else{T=0;for(var la,sa=K[la-1][1]*K[0][0]-K[la-1][0]*K[0][1];++T<la;)sa+=K[T-1][1]*K[T][0]-K[T-1][0]*K[T][1];T=0>=sa}T?A.push([K]):B.push(K)});B.forEach(function(K){var T=K[0];A.some(function(la){for(var sa=la[0],Na=T[0],hb=T[1],
fb=!1,ob=0,pb=sa.length,Kb=pb-1;ob<pb;Kb=ob++){var Vb=sa[ob],l=Vb[0];Vb=Vb[1];var v=sa[Kb];Kb=v[0];v=v[1];Vb>hb^v>hb&&Na<(Kb-l)*(hb-Vb)/(v-Vb)+l&&(fb=!fb)}if(fb)return la.push(K),!0})||A.push([K])});ye=[];return A.length?1<A.length?{type:"MultiPolygon",coordinates:A}:{type:"Polygon",coordinates:A[0]}:null}},pf=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],
[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];pf.forEach(function(A){A[1]*=1.0144});Wc.invert=function(A,B){var K=B/gd,T=90*K,la=Te(18,jc(T/5)),sa=$e(0,ne(la));do{var Na=pf[sa][1],hb=pf[sa+1][1],fb=pf[Te(19,sa+2)][1],ob=fb-Na;Na=fb-2*hb+Na;hb=2*(jc(K)-hb)/ob;ob=Na/ob;ob=hb*(1-ob*hb*(1-2*ob*hb));if(0<=ob||1===sa){T=(0<=B?5:-5)*(ob+la);K=50;do la=Te(18,jc(T)/5),sa=ne(la),ob=la-sa,Na=pf[sa][1],hb=pf[sa+1][1],fb=pf[Te(19,sa+2)][1],T-=(la=(0<=B?gd:-gd)*(hb+ob*(fb-Na)/2+ob*ob*(fb-2*
hb+Na)/2)-B)*Ud;while(1E-12<jc(la)&&0<--K);break}}while(0<=--sa);B=pf[sa][0];la=pf[sa+1][0];sa=pf[Te(19,sa+2)][0];return[A/(la+ob*(sa-B)/2+ob*ob*(sa-2*la+B)/2),T*Nc]};P.invert=function(A,B){B/=1.70711;var K=cc(se*B);return[A/(.74482-.34588*K*K),2*Dd(B)]};hc.invert=function(A,B){if(1E-6>jc(B))return[A,0];if(1E-6>jc(A))return[0,gd*cc(2*Dd(B/Yb))];var K=(A/=Yb)*A,T=(B/=Yb)*B,la=K+T,sa=la*la,Na=-jc(B)*(1+la),hb=Na-2*T+K,fb=-2*Na+1+2*T+sa,ob=T/fb+(2*hb*hb*hb/(fb*fb*fb)-9*Na*hb/(fb*fb))/27,pb=(Na-hb*hb/
(3*fb))/fb;Na=2*gb(-pb/3);ob=Gb(3*ob/(pb*Na))/3;return[Yb*(la-1+gb(1+2*(K-T)+sa))/(2*A),Vd(B)*Yb*(-Na*Mb(ob+Yb/3)-hb/(3*fb))]};xc.invert=function(A,B){if(!A)return[0,gd*cc(2*Dd(B/Yb))];var K=jc(A/Yb),T=(1-K*K-(B/=Yb)*B)/(2*K),la=gb(T*T+1);return[Vd(A)*Yb*(la-T),Vd(B)*gd*cc(2*xd(gb((1-2*T*K)*(T+la)-K),gb(la+T+K)))]};vc.invert=function(A,B){if(!B)return[A,0];B/=Yb;var K=(Yb*Yb*(1-B*B)-A*A)/(2*Yb*A);return[A?Yb*(Vd(A)*gb(K*K+1)-K):0,gd*cc(2*Dd(B))]};lc.invert=function(A,B){if(!A||!B)return[A,B];var K=
Vd(B);B=jc(B)/Yb;var T=Vd(A)*A/gd,la=(T*T-1+4*B*B)/jc(T),sa=la*la,Na=B*(2-(.5<B?Te(B,jc(A)):0));B=A*A+B*B;var hb=50;do{var fb=Na*Na;var ob=(8*Na-fb*(fb+2)-5)/(2*fb*(Na-1));var pb=(3*Na-fb*Na-10)/(2*fb*Na),Kb=ob*ob,Vb=Na*ob,l=Na+ob,v=l*l,O=Na+3*ob,W=-2*l*(4*Vb*Kb+(1-4*fb+3*fb*fb)*(1+pb)+Kb*(-6+14*fb-sa+(-8+8*fb-2*sa)*pb)+Vb*(-8+12*fb+(-10+10*fb-sa)*pb));fb=gb(v*(fb+Kb*sa-1)+(1-fb)*(fb*(O*O+4*Kb)+Kb*(12*Vb+4*Kb)));Na-=ob=(la*(v+Kb-1)+2*fb-T*(4*v+sa))/(la*(2*ob*pb+2*l*(1+pb))+W/fb-8*l*(la*(-1+Kb+v)+
2*fb)*(1+pb)/(sa+4*v))}while(1E-6<ob*B*B&&0<--hb);return[Vd(A)*(gb(la*la+4)+la)*Yb/4,K*gd*Na]};var eg=4*Yb+3*gb(3),If=2*gb(2*Yb*gb(3)/eg),Rf=Aa(If*gb(3)/Yb,If,eg/6);md.invert=function(A,B){return[A/gb(1-3*B*B/(Yb*Yb)),B]};le.invert=function(A,B){var K=(A*A+B*B)/-2,T=gb(-K*(2+K)),la=B*K+A*T;A=A*K-B*T;B=gb(A*A+la*la);return[xd(T*la,B*(1+K)),B?-Wa(T*A/B):0]};Se.invert=function(A,B){var K=A,T=B,la=25;do{var sa=Mb(T),Na=cc(T),hb=cc(2*T),fb=Na*Na,ob=sa*sa,pb=cc(K),Kb=Mb(K/2),Vb=cc(K/2),l=Vb*Vb,v=1-ob*Kb*
Kb,O=v?Gb(sa*Kb)*gb(W=1/v):W=0,W;v=.5*(2*O*sa*Vb+K/gd)-A;var Ra=.5*(O*Na+T)-B,ub=.5*W*(ob*l+O*sa*Kb*fb)+.5/gd,Fb=W*(pb*hb/4-O*Na*Vb);Na=.125*W*(hb*Vb-O*Na*ob*pb);fb=.5*W*(fb*Kb+O*l*sa)+.5;sa=Fb*Na-fb*ub;Fb=(Ra*Fb-v*fb)/sa;v=(v*Na-Ra*ub)/sa;K-=Fb;T-=v}while((1E-6<jc(Fb)||1E-6<jc(v))&&0<--la);return[K,T]};h.geoAiry=function(){var A=gd,B=m.geoProjectionMutator(rb),K=B(A);K.radius=function(T){return arguments.length?B(A=T*Nc):A*Ud};return K.scale(179.976).clipAngle(147)};h.geoAiryRaw=rb;h.geoAitoff=function(){return m.geoProjection(Ua).scale(152.63)};
h.geoAitoffRaw=Ua;h.geoArmadillo=function(){var A=20*Nc,B=0<=A?1:-1,K=Wd(B*A),T=m.geoProjectionMutator(Sa),la=T(A),sa=la.stream;la.parallel=function(Na){if(!arguments.length)return A*Ud;K=Wd((B=0<=(A=Na*Nc)?1:-1)*A);return T(A)};la.stream=function(Na){var hb=la.rotate(),fb=sa(Na),ob=(la.rotate([0,0]),sa(Na)),pb=la.precision();la.rotate(hb);fb.sphere=function(){ob.polygonStart();ob.lineStart();for(var Kb=-180*B;180>B*Kb;Kb+=90*B)ob.point(Kb,90*B);if(A)for(;-180<=B*(Kb-=3*B*pb);)ob.point(Kb,B*-xd(Mb(Kb*
Nc/2),K)*Ud);ob.lineEnd();ob.polygonEnd()};return fb};return la.scale(218.695).center([0,28.0974])};h.geoArmadilloRaw=Sa;h.geoAugust=function(){return m.geoProjection(ab).scale(66.1603)};h.geoAugustRaw=ab;h.geoBaker=function(){return m.geoProjection(za).scale(112.314)};h.geoBakerRaw=za;h.geoBerghaus=function(){var A=5,B=m.geoProjectionMutator(Y),K=B(A),T=K.stream,la=-Mb(.01*Nc),sa=cc(.01*Nc);K.lobes=function(Na){return arguments.length?B(A=+Na):A};K.stream=function(Na){var hb=K.rotate(),fb=T(Na),
ob=(K.rotate([0,0]),T(Na));K.rotate(hb);fb.sphere=function(){ob.polygonStart();ob.lineStart();for(var pb=0,Kb=360/A,Vb=2*Yb/A,l=90-180/A,v=gd;pb<A;++pb,l-=Kb,v-=Vb)ob.point(xd(sa*Mb(v),la)*Ud,Wa(sa*cc(v))*Ud),-90>l?(ob.point(-90,-180-l-.01),ob.point(-90,-180-l+.01)):(ob.point(90,l+.01),ob.point(90,l-.01));ob.lineEnd();ob.polygonEnd()};return fb};return K.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};h.geoBerghausRaw=Y;h.geoBertin1953=function(){return m.geoProjection(Z()).rotate([-16.5,-42]).scale(176.57).center([7.93,
.09])};h.geoBertin1953Raw=Z;h.geoBoggs=function(){return m.geoProjection(va).scale(160.857)};h.geoBoggsRaw=va;h.geoBonne=function(){return xa(pa).scale(123.082).center([0,26.1441]).parallel(45)};h.geoBonneRaw=pa;h.geoBottomley=function(){var A=.5,B=m.geoProjectionMutator(da),K=B(A);K.fraction=function(T){return arguments.length?B(A=+T):A};return K.scale(158.837)};h.geoBottomleyRaw=da;h.geoBromley=function(){return m.geoProjection(xe).scale(152.63)};h.geoBromleyRaw=xe;h.geoChamberlin=ja;h.geoChamberlinRaw=
wa;h.geoChamberlinAfrica=function(){return ja([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])};h.geoCollignon=function(){return m.geoProjection(u).scale(95.6464).center([0,30])};h.geoCollignonRaw=u;h.geoCraig=function(){return xa(y).scale(249.828).clipAngle(90)};h.geoCraigRaw=y;h.geoCraster=function(){return m.geoProjection(z).scale(156.19)};h.geoCrasterRaw=z;h.geoCylindricalEqualArea=function(){return xa(D).parallel(38.58).scale(195.044)};h.geoCylindricalEqualAreaRaw=D;h.geoCylindricalStereographic=
function(){return xa(C).scale(124.75)};h.geoCylindricalStereographicRaw=C;h.geoEckert1=function(){return m.geoProjection(J).scale(165.664)};h.geoEckert1Raw=J;h.geoEckert2=function(){return m.geoProjection(V).scale(165.664)};h.geoEckert2Raw=V;h.geoEckert3=function(){return m.geoProjection(ia).scale(180.739)};h.geoEckert3Raw=ia;h.geoEckert4=function(){return m.geoProjection(Pa).scale(180.739)};h.geoEckert4Raw=Pa;h.geoEckert5=function(){return m.geoProjection(cb).scale(173.044)};h.geoEckert5Raw=cb;h.geoEckert6=
function(){return m.geoProjection(M).scale(173.044)};h.geoEckert6Raw=M;h.geoEisenlohr=function(){return m.geoProjection(Ka).scale(62.5271)};h.geoEisenlohrRaw=Ka;h.geoFahey=function(){return m.geoProjection(ka).scale(137.152)};h.geoFaheyRaw=ka;h.geoFoucaut=function(){return m.geoProjection(ha).scale(135.264)};h.geoFoucautRaw=ha;h.geoFoucautSinusoidal=function(){var A=.5,B=m.geoProjectionMutator(w),K=B(A);K.alpha=function(T){return arguments.length?B(A=+T):A};return K.scale(168.725)};h.geoFoucautSinusoidalRaw=
w;h.geoGilbert=function(A){function B(sa){return T([sa[0]/2,Wa(Wd(sa[1]/2*Nc))*Ud])}function K(sa){B[sa]=function(){return arguments.length?(T[sa].apply(T,arguments),B):T[sa]()}}null==A&&(A=m.geoOrthographic);var T=A(),la=m.geoEquirectangular().scale(Ud).precision(0).clipAngle(null).translate([0,0]);T.invert&&(B.invert=function(sa){return H(T.invert(sa))});B.stream=function(sa){var Na=T.stream(sa);sa=la.stream({point:function(hb,fb){Na.point(hb/2,Wa(Wd(-fb/2*Nc))*Ud)},lineStart:function(){Na.lineStart()},
lineEnd:function(){Na.lineEnd()},polygonStart:function(){Na.polygonStart()},polygonEnd:function(){Na.polygonEnd()}});sa.sphere=Na.sphere;return sa};B.rotate=function(sa){return arguments.length?(la.rotate(sa),B):la.rotate()};B.center=function(sa){return arguments.length?(T.center([sa[0]/2,Wa(Wd(sa[1]/2*Nc))*Ud]),B):H(T.center())};K("angle");K("clipAngle");K("clipExtent");K("fitExtent");K("fitHeight");K("fitSize");K("fitWidth");K("scale");K("translate");K("precision");return B.scale(249.5)};h.geoGingery=
function(){var A=6,B=30*Nc,K=Mb(B),T=cc(B),la=m.geoProjectionMutator(p),sa=la(B,A),Na=sa.stream,hb=-Mb(.01*Nc),fb=cc(.01*Nc);sa.radius=function(ob){if(!arguments.length)return B*Ud;K=Mb(B=ob*Nc);T=cc(B);return la(B,A)};sa.lobes=function(ob){return arguments.length?la(B,A=+ob):A};sa.stream=function(ob){var pb=sa.rotate(),Kb=Na(ob),Vb=(sa.rotate([0,0]),Na(ob));sa.rotate(pb);Kb.sphere=function(){Vb.polygonStart();Vb.lineStart();for(var l=0,v=2*Yb/A,O=0;l<A;++l,O-=v)Vb.point(xd(fb*Mb(O),hb)*Ud,Wa(fb*
cc(O))*Ud),Vb.point(xd(T*Mb(O-v/2),K)*Ud,Wa(T*cc(O-v/2))*Ud);Vb.lineEnd();Vb.polygonEnd()};return Kb};return sa.rotate([90,-40]).scale(91.7095).clipAngle(179.999)};h.geoGingeryRaw=p;h.geoGinzburg4=function(){return m.geoProjection(lf).scale(149.995)};h.geoGinzburg4Raw=lf;h.geoGinzburg5=function(){return m.geoProjection(uf).scale(153.93)};h.geoGinzburg5Raw=uf;h.geoGinzburg6=function(){return m.geoProjection(Me).scale(130.945)};h.geoGinzburg6Raw=Me;h.geoGinzburg8=function(){return m.geoProjection(L).scale(131.747)};
h.geoGinzburg8Raw=L;h.geoGinzburg9=function(){return m.geoProjection(df).scale(131.087)};h.geoGinzburg9Raw=df;h.geoGringorten=function(){return m.geoProjection(ba(Ga)).scale(239.75)};h.geoGringortenRaw=Ga;h.geoGuyou=function(){return m.geoProjection(ba(S)).scale(151.496)};h.geoGuyouRaw=S;h.geoHammer=function(){var A=2,B=m.geoProjectionMutator(na),K=B(A);K.coefficient=function(T){return arguments.length?B(A=+T):A};return K.scale(169.529)};h.geoHammerRaw=na;h.geoHammerRetroazimuthal=function(){var A=
0,B=m.geoProjectionMutator(aa),K=B(A),T=K.rotate,la=K.stream,sa=m.geoCircle();K.parallel=function(Na){if(!arguments.length)return A*Ud;var hb=K.rotate();return B(A=Na*Nc).rotate(hb)};K.rotate=function(Na){if(!arguments.length)return Na=T.call(K),Na[1]+=A*Ud,Na;T.call(K,[Na[0],Na[1]-A*Ud]);sa.center([-Na[0],-Na[1]]);return K};K.stream=function(Na){Na=la(Na);Na.sphere=function(){Na.polygonStart();var hb=sa.radius(89.99)().coordinates[0],fb=hb.length-1,ob=-1,pb;for(Na.lineStart();++ob<fb;)Na.point((pb=
hb[ob])[0],pb[1]);Na.lineEnd();hb=sa.radius(90.01)().coordinates[0];for(Na.lineStart();0<=--ob;)Na.point((pb=hb[ob])[0],pb[1]);Na.lineEnd();Na.polygonEnd()};return Na};return K.scale(79.4187).parallel(45).clipAngle(179.999)};h.geoHammerRetroazimuthalRaw=aa;h.geoHealpix=function(){var A=4,B=m.geoProjectionMutator(ta),K=B(A),T=K.stream;K.lobes=function(la){return arguments.length?B(A=+la):A};K.stream=function(la){var sa=K.rotate(),Na=T(la),hb=(K.rotate([0,0]),T(la));K.rotate(sa);Na.sphere=function(){m.geoStream(Ja(180/
A),hb)};return Na};return K.scale(239.75)};h.geoHealpixRaw=ta;h.geoHill=function(){var A=1,B=m.geoProjectionMutator(Ta),K=B(A);K.ratio=function(T){return arguments.length?B(A=+T):A};return K.scale(167.774).center([0,18.67])};h.geoHillRaw=Ta;h.geoHomolosine=function(){return m.geoProjection(lb).scale(152.63)};h.geoHomolosineRaw=lb;h.geoHufnagel=function(){var A=1,B=0,K=45*Nc,T=2,la=m.geoProjectionMutator(yb),sa=la(A,B,K,T);sa.a=function(Na){return arguments.length?la(A=+Na,B,K,T):A};sa.b=function(Na){return arguments.length?
la(A,B=+Na,K,T):B};sa.psiMax=function(Na){return arguments.length?la(A,B,K=+Na*Nc,T):K*Ud};sa.ratio=function(Na){return arguments.length?la(A,B,K,T=+Na):T};return sa.scale(180.739)};h.geoHufnagelRaw=yb;h.geoHyperelliptical=function(){var A=0,B=2.5,K=1.183136,T=m.geoProjectionMutator(Qb),la=T(A,B,K);la.alpha=function(sa){return arguments.length?T(A=+sa,B,K):A};la.k=function(sa){return arguments.length?T(A,B=+sa,K):B};la.gamma=function(sa){return arguments.length?T(A,B,K=+sa):K};return la.scale(152.63)};
h.geoHyperellipticalRaw=Qb;h.geoInterrupt=uc;h.geoInterruptedBoggs=function(){return uc(va,Ve).scale(160.857)};h.geoInterruptedHomolosine=function(){return uc(lb,nf).scale(152.63)};h.geoInterruptedMollweide=function(){return uc(Jd,of).scale(169.529)};h.geoInterruptedMollweideHemispheres=function(){return uc(Jd,E).scale(169.529).rotate([20,0])};h.geoInterruptedSinuMollweide=function(){return uc(ya,Q,ca).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};h.geoInterruptedSinusoidal=function(){return uc(fa,
Va).scale(152.63).rotate([-20,0])};h.geoKavrayskiy7=function(){return m.geoProjection(Zc).scale(158.837)};h.geoKavrayskiy7Raw=Zc;h.geoLagrange=function(){var A=.5,B=m.geoProjectionMutator(Ad),K=B(A);K.spacing=function(T){return arguments.length?B(A=+T):A};return K.scale(124.75)};h.geoLagrangeRaw=Ad;h.geoLarrivee=function(){return m.geoProjection(Lc).scale(97.2672)};h.geoLarriveeRaw=Lc;h.geoLaskowski=function(){return m.geoProjection(Xc).scale(139.98)};h.geoLaskowskiRaw=Xc;h.geoLittrow=function(){return m.geoProjection(Uc).scale(144.049).clipAngle(89.999)};
h.geoLittrowRaw=Uc;h.geoLoximuthal=function(){return xa(Md).parallel(40).scale(158.837)};h.geoLoximuthalRaw=Md;h.geoMiller=function(){return m.geoProjection(Qd).scale(108.318)};h.geoMillerRaw=Qd;h.geoModifiedStereographic=Eb;h.geoModifiedStereographicRaw=fe;h.geoModifiedStereographicAlaska=function(){return Eb(Db,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)};h.geoModifiedStereographicGs48=function(){return Eb(Nb,[95,-38]).scale(1E3).clipAngle(55).center([-96.5563,38.8675])};
h.geoModifiedStereographicGs50=function(){return Eb($b,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])};h.geoModifiedStereographicMiller=function(){return Eb(Sc,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)};h.geoModifiedStereographicLee=function(){return Eb(Mc,[165,10]).scale(250).clipAngle(130).center([-165,-10])};h.geoMollweide=function(){return m.geoProjection(Jd).scale(169.529)};h.geoMollweideRaw=Jd;h.geoMtFlatPolarParabolic=function(){return m.geoProjection(Rb).scale(164.859)};
h.geoMtFlatPolarParabolicRaw=Rb;h.geoMtFlatPolarQuartic=function(){return m.geoProjection(mb).scale(188.209)};h.geoMtFlatPolarQuarticRaw=mb;h.geoMtFlatPolarSinusoidal=function(){return m.geoProjection(rc).scale(166.518)};h.geoMtFlatPolarSinusoidalRaw=rc;h.geoNaturalEarth2=function(){return m.geoProjection(Cc).scale(175.295)};h.geoNaturalEarth2Raw=Cc;h.geoNellHammer=function(){return m.geoProjection(Rc).scale(152.63)};h.geoNellHammerRaw=Rc;h.geoInterruptedQuarticAuthalic=function(){return uc(na(Infinity),
qd).rotate([20,0]).scale(152.63)};h.geoNicolosi=function(){return m.geoProjection(sd).scale(127.267)};h.geoNicolosiRaw=sd;h.geoPatterson=function(){return m.geoProjection(I).scale(139.319)};h.geoPattersonRaw=I;h.geoPolyconic=function(){return m.geoProjection(ma).scale(103.74)};h.geoPolyconicRaw=ma;h.geoPolyhedral=Ub;h.geoPolyhedralButterfly=function(A){A=A||function(K){K=m.geoCentroid({type:"MultiPoint",coordinates:K});return m.geoGnomonic().scale(1).translate([0,0]).rotate([-K[0],-K[1]])};var B=
re.map(function(K){return{face:K,project:A(K)}});[-1,0,0,1,0,1,4,5].forEach(function(K,T){(K=B[K])&&(K.children||(K.children=[])).push(B[T])});return Ub(B[0],function(K,T){return B[K<-Yb/2?0>T?6:4:0>K?0>T?2:0:K<Yb/2?0>T?3:1:0>T?7:5]}).angle(-30).scale(101.858).center([0,45])};h.geoPolyhedralCollignon=function(A){A=A||function(K){K=m.geoCentroid({type:"MultiPoint",coordinates:K});return m.geoProjection(Ma).translate([0,0]).scale(1).rotate(0<K[1]?[-K[0],0]:[180-K[0],180])};var B=re.map(function(K){return{face:K,
project:A(K)}});[-1,0,0,1,0,1,4,5].forEach(function(K,T){(K=B[K])&&(K.children||(K.children=[])).push(B[T])});return Ub(B[0],function(K,T){return B[K<-Yb/2?0>T?6:4:0>K?0>T?2:0:K<Yb/2?0>T?3:1:0>T?7:5]}).angle(-30).scale(121.906).center([0,48.5904])};h.geoPolyhedralWaterman=function(A){A=A||function(sa){sa=6===sa.length?m.geoCentroid({type:"MultiPoint",coordinates:sa}):sa[0];return m.geoGnomonic().scale(1).translate([0,0]).rotate([-sa[0],-sa[1]])};var B=re.map(function(sa){sa=sa.map(Dc);for(var Na=
sa.length,hb=sa[Na-1],fb,ob=[],pb=0;pb<Na;++pb)fb=sa[pb],ob.push(mc([.9486832980505138*hb[0]+.31622776601683794*fb[0],.9486832980505138*hb[1]+.31622776601683794*fb[1],.9486832980505138*hb[2]+.31622776601683794*fb[2]]),mc([.9486832980505138*fb[0]+.31622776601683794*hb[0],.9486832980505138*fb[1]+.31622776601683794*hb[1],.9486832980505138*fb[2]+.31622776601683794*hb[2]])),hb=fb;return ob}),K=[],T=[-1,0,0,1,0,1,4,5];B.forEach(function(sa,Na){for(var hb=re[Na],fb=hb.length,ob=K[Na]=[],pb=0;pb<fb;++pb)B.push([hb[pb],
sa[(2*pb+2)%(2*fb)],sa[(2*pb+1)%(2*fb)]]),T.push(Na),ob.push(bc(Dc(sa[(2*pb+2)%(2*fb)]),Dc(sa[(2*pb+1)%(2*fb)])))});var la=B.map(function(sa){return{project:A(sa),face:sa}});T.forEach(function(sa,Na){(sa=la[sa])&&(sa.children||(sa.children=[])).push(la[Na])});return Ub(la[0],function(sa,Na){var hb=Mb(Na);hb=[hb*Mb(sa),hb*cc(sa),cc(Na)];sa=sa<-Yb/2?0>Na?6:4:0>sa?0>Na?2:0:sa<Yb/2?0>Na?3:1:0>Na?7:5;Na=K[sa];return la[0>Pb(Na[0],hb)?8+3*sa:0>Pb(Na[1],hb)?3*sa+9:0>Pb(Na[2],hb)?3*sa+10:sa]}).angle(-30).scale(110.625).center([0,
45])};h.geoProject=function(A,B){B=B.stream;if(!B)throw Error("invalid projection");switch(A&&A.type){case "Feature":var K=Hb;break;case "FeatureCollection":K=Kc;break;default:K=sc}return K(A,B)};h.geoGringortenQuincuncial=function(){return pc(Ga).scale(176.423)};h.geoPeirceQuincuncial=function(){return pc(S).scale(111.48)};h.geoQuantize=function(A,B){function K(fb){var ob=fb.length,pb=2,Kb=Array(ob);Kb[0]=+fb[0].toFixed(B);for(Kb[1]=+fb[1].toFixed(B);pb<ob;)Kb[pb]=fb[pb],++pb;return Kb}function T(fb){for(var ob=
K(fb[0]),pb=[ob],Kb=1;Kb<fb.length;Kb++){var Vb=K(fb[Kb]);if(2<Vb.length||Vb[0]!=ob[0]||Vb[1]!=ob[1])pb.push(Vb),ob=Vb}1===pb.length&&1<fb.length&&pb.push(K(fb[fb.length-1]));return pb}function la(fb){return fb.map(T)}function sa(fb){if(null==fb)return fb;switch(fb.type){case "GeometryCollection":var ob={type:"GeometryCollection",geometries:fb.geometries.map(sa)};break;case "Point":ob={type:"Point",coordinates:K(fb.coordinates)};break;case "MultiPoint":ob={type:fb.type,coordinates:fb.coordinates.map(K)};
break;case "LineString":ob={type:fb.type,coordinates:T(fb.coordinates)};break;case "MultiLineString":case "Polygon":ob={type:fb.type,coordinates:la(fb.coordinates)};break;case "MultiPolygon":ob={type:"MultiPolygon",coordinates:fb.coordinates.map(la)};break;default:return fb}null!=fb.bbox&&(ob.bbox=fb.bbox);return ob}function Na(fb){var ob={type:"Feature",properties:fb.properties,geometry:sa(fb.geometry)};null!=fb.id&&(ob.id=fb.id);null!=fb.bbox&&(ob.bbox=fb.bbox);return ob}if(!(0<=(B=+B)&&20>=B))throw Error("invalid digits");
if(null!=A)switch(A.type){case "Feature":return Na(A);case "FeatureCollection":var hb={type:"FeatureCollection",features:A.features.map(Na)};null!=A.bbox&&(hb.bbox=A.bbox);return hb;default:return sa(A)}return A};h.geoQuincuncial=pc;h.geoRectangularPolyconic=function(){return xa(tc).scale(131.215)};h.geoRectangularPolyconicRaw=tc;h.geoRobinson=function(){return m.geoProjection(Wc).scale(152.63)};h.geoRobinsonRaw=Wc;h.geoSatellite=function(){var A=2,B=0,K=m.geoProjectionMutator(od),T=K(A,B);T.distance=
function(la){return arguments.length?K(A=+la,B):A};T.tilt=function(la){return arguments.length?K(A,B=la*Nc):B*Ud};return T.scale(432.147).clipAngle(Gb(1/A)*Ud-1E-6)};h.geoSatelliteRaw=od;h.geoSinuMollweide=function(){return m.geoProjection(ya).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};h.geoSinuMollweideRaw=ya;h.geoSinusoidal=function(){return m.geoProjection(fa).scale(152.63)};h.geoSinusoidalRaw=fa;h.geoStitch=function(A){if(null==A)return A;switch(A.type){case "Feature":return Ke(A);
case "FeatureCollection":var B={type:"FeatureCollection",features:A.features.map(Ke)};null!=A.bbox&&(B.bbox=A.bbox);return B;default:return Zd(A)}};h.geoTimes=function(){return m.geoProjection(P).scale(146.153)};h.geoTimesRaw=P;h.geoTwoPointAzimuthal=kb;h.geoTwoPointAzimuthalRaw=Ha;h.geoTwoPointAzimuthalUsa=function(){return kb([-158,21.5],[-77,39]).clipAngle(60).scale(400)};h.geoTwoPointEquidistant=Tb;h.geoTwoPointEquidistantRaw=eb;h.geoTwoPointEquidistantUsa=function(){return Tb([-158,21.5],[-77,
39]).clipAngle(130).scale(122.571)};h.geoVanDerGrinten=function(){return m.geoProjection(hc).scale(79.4183)};h.geoVanDerGrintenRaw=hc;h.geoVanDerGrinten2=function(){return m.geoProjection(xc).scale(79.4183)};h.geoVanDerGrinten2Raw=xc;h.geoVanDerGrinten3=function(){return m.geoProjection(vc).scale(79.4183)};h.geoVanDerGrinten3Raw=vc;h.geoVanDerGrinten4=function(){return m.geoProjection(lc).scale(127.16)};h.geoVanDerGrinten4Raw=lc;h.geoWagner=Ed;h.geoWagner7=function(){return Ed().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)};
h.geoWagnerRaw=pd;h.geoWagner4=function(){return m.geoProjection(Rf).scale(176.84)};h.geoWagner4Raw=Rf;h.geoWagner6=function(){return m.geoProjection(md).scale(152.63)};h.geoWagner6Raw=md;h.geoWiechel=function(){return m.geoProjection(le).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)};h.geoWiechelRaw=le;h.geoWinkel3=function(){return m.geoProjection(Se).scale(158.837)};h.geoWinkel3Raw=Se;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[29]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(27),xb(28)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-geo-projection"],m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.vega={},h.d3,h.d3))})(this,function(h,m,x){function Wa(Ua,Sa){return function za(){var Y=Sa();Y.type=Ua;Y.path=m.geoPath().projection(Y);Y.copy=Y.copy||function(){var na=za();wb.forEach(function(Ba){if(Y[Ba])na[Ba](Y[Ba]())});na.path.pointRadius(Y.path.pointRadius());
return na};return Y}}function Gb(Ua,Sa){if(!Ua||"string"!==typeof Ua)throw Error("Projection type must be a name string.");Ua=Ua.toLowerCase();return 1<arguments.length?(Lb[Ua]=Wa(Ua,Sa),this):Lb[Ua]||null}var gb=m.geoPath(),wb="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),Lb={albers:m.geoAlbers,albersusa:m.geoAlbersUsa,azimuthalequalarea:m.geoAzimuthalEqualArea,azimuthalequidistant:m.geoAzimuthalEquidistant,
conicconformal:m.geoConicConformal,conicequalarea:m.geoConicEqualArea,conicequidistant:m.geoConicEquidistant,equalEarth:m.geoEqualEarth,equirectangular:m.geoEquirectangular,gnomonic:m.geoGnomonic,identity:m.geoIdentity,mercator:m.geoMercator,mollweide:x.geoMollweide,naturalEarth1:m.geoNaturalEarth1,orthographic:m.geoOrthographic,stereographic:m.geoStereographic,transversemercator:m.geoTransverseMercator},rb;for(rb in Lb)Gb(rb,Lb[rb]);h.getProjectionPath=function(Ua){return Ua&&Ua.path||gb};h.projection=
Gb;h.projectionProperties=wb;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[30]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(14),xb(0),xb(3),xb(15),xb(29),xb(27),xb(20),xb(19)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util d3-array vega-statistics vega-projection d3-geo d3-color vega-canvas".split(" "),m):(h="undefined"!==typeof globalThis?globalThis:h||self,m((h.vega=h.vega||{},h.vega.transforms={}),h.vega,h.vega,h.d3,h.vega,h.vega,h.d3,h.d3,h.vega))})(this,function(h,m,x,Wa,Gb,
gb,wb,Lb,rb){function Ua(){}function Sa(){function ha(L,ba){return ba.map(function(Ga){return w(L,Ga)})}function w(L,ba){var Ga=[],La=[];H(L,ba,function(db){G(db,L,ba);for(var sb=0,S=db.length,aa=db[S-1][1]*db[0][0]-db[S-1][0]*db[0][1];++sb<S;)aa+=db[sb-1][1]*db[sb][0]-db[sb-1][0]*db[sb][1];0<aa?Ga.push([db]):La.push(db)});La.forEach(function(db){for(var sb=0,S=Ga.length,aa;sb<S;++sb){a:{var qa=(aa=Ga[sb])[0];for(var ta=db,ea=-1,U=ta.length;++ea<U;){b:{var Fa=qa;for(var Ja=ta[ea],Ta=Ja[0],ya=Ja[1],
lb=-1,yb=0,Ya=Fa.length,Ob=Ya-1;yb<Ya;Ob=yb++){var Qb=Fa[yb],Zb=Qb[0],Ic=Qb[1],uc=Fa[Ob];Ob=uc[0];var Zc=uc[1],Ad,Lc=Qb;Qb=uc;uc=Ja;if(Ad=(Qb[0]-Lc[0])*(uc[1]-Lc[1])===(uc[0]-Lc[0])*(Qb[1]-Lc[1]))Lc=Lc[Ad=+(Lc[0]===Qb[0])],uc=uc[Ad],Qb=Qb[Ad],Ad=Lc<=uc&&uc<=Qb||Qb<=uc&&uc<=Lc;if(Ad){Fa=0;break b}Ic>ya!==Zc>ya&&Ta<(Ob-Zb)*(ya-Ic)/(Zc-Ic)+Zb&&(lb=-lb)}Fa=lb}if(Fa){qa=Fa;break a}}qa=0}if(-1!==qa){aa.push(db);break}}});return{type:"MultiPolygon",value:ba,coordinates:Ga}}function H(L,ba,Ga){function La(Fa){var Ja=
[Fa[0][0]+aa,Fa[0][1]+S];Fa=[Fa[1][0]+aa,Fa[1][1]+S];var Ta=2*Ja[0]+Ja[1]*(q+1)*4,ya=2*Fa[0]+Fa[1]*(q+1)*4,lb,yb;(lb=sb[Ta])?(yb=db[ya])?(delete sb[lb.end],delete db[yb.start],lb===yb?(lb.ring.push(Fa),Ga(lb.ring)):db[lb.start]=sb[yb.end]={start:lb.start,end:yb.end,ring:lb.ring.concat(yb.ring)}):(delete sb[lb.end],lb.ring.push(Fa),sb[lb.end=ya]=lb):(lb=db[ya])?(yb=sb[Ta])?(delete db[lb.start],delete sb[yb.end],lb===yb?(lb.ring.push(Fa),Ga(lb.ring)):db[yb.start]=sb[lb.end]={start:yb.start,end:lb.end,
ring:yb.ring.concat(lb.ring)}):(delete db[lb.start],lb.ring.unshift(Ja),db[lb.start=Ta]=lb):db[Ta]=sb[ya]={start:Ta,end:ya,ring:[Ja,Fa]}}var db=[],sb=[],S;var aa=S=-1;var qa=L[0]>=ba;for(Ka[qa<<1].forEach(La);++aa<q-1;){var ta=qa;qa=L[aa+1]>=ba;Ka[ta|qa<<1].forEach(La)}for(Ka[qa<<0].forEach(La);++S<t-1;){aa=-1;qa=L[S*q+q]>=ba;var ea=L[S*q]>=ba;for(Ka[qa<<1|ea<<2].forEach(La);++aa<q-1;){ta=qa;qa=L[S*q+q+aa+1]>=ba;var U=ea;ea=L[S*q+aa+1]>=ba;Ka[ta|qa<<1|ea<<2|U<<3].forEach(La)}Ka[qa|ea<<3].forEach(La)}aa=
-1;ea=L[S*q]>=ba;for(Ka[ea<<2].forEach(La);++aa<q-1;)U=ea,ea=L[S*q+aa+1]>=ba,Ka[ea<<2|U<<3].forEach(La);Ka[ea<<3].forEach(La)}function p(L,ba,Ga){L.forEach(function(La){var db=La[0],sb=La[1],S=db|0,aa=sb|0,qa=ba[aa*q+S];if(0<db&&db<q&&S===db){var ta=ba[aa*q+S-1];La[0]=db+(Ga-ta)/(qa-ta)-.5}0<sb&&sb<t&&aa===sb&&(ta=ba[(aa-1)*q+S],La[1]=sb+(Ga-ta)/(qa-ta)-.5)})}var q=1,t=1,G=p;ha.contour=w;ha.size=function(L){if(!arguments.length)return[q,t];var ba=Math.floor(L[0]),Ga=Math.floor(L[1]);0<=ba&&0<=Ga||
x.error("invalid size");return q=ba,t=Ga,ha};ha.smooth=function(L){return arguments.length?(G=L?p:Ua,ha):G===p};return ha}function ab(ha,w,H){return function(p){var q=x.extent(p);p=H?Math.min(q[0],0):q[0];q=q[1];var t=q-p;t=w?Wa.tickStep(p,q,ha):t/(ha+1);return Wa.range(p+t,q,t)}}function za(ha){m.Transform.call(this,null,ha)}function Y(ha,w,H){var p=ab(H.levels||10,H.nice,!1!==H.zero);return"shared"!==H.resolve?p:p(ha.map(function(q){return Wa.max(w(q).values)}))}function na(ha,w,H,p){var q=p.scale||
w.scale,t=p.translate||w.translate;x.isFunction(q)&&(q=q(H,p));x.isFunction(t)&&(t=t(H,p));if(1!==q&&null!=q||t)H=(x.isNumber(q)?q:q[0])||1,q=(x.isNumber(q)?q:q[1])||1,ha.forEach(Ba(w,H,q,t&&t[0]||0,t&&t[1]||0))}function Ba(ha,w,H,p,q){function t(db){db.forEach(G)}function G(db){La&&db.reverse();db.forEach(L)}function L(db){db[0]=(db[0]-ba)*w+p;db[1]=(db[1]-Ga)*H+q}var ba=ha.x1||0,Ga=ha.y1||0,La=0>w*H;return function(db){db.coordinates.forEach(t);return db}}function Qa(ha,w,H){ha=0<=ha?ha:Gb.bandwidthNRD(w,
H);return Math.round((Math.sqrt(4*ha*ha+1)-1)/2)}function ca(ha){return x.isFunction(ha)?ha:x.constant(+ha)}function Z(){function ha(ba,Ga){var La=Qa(q[0],ba,w)>>L,db=Qa(q[1],ba,H)>>L,sb=La?La+2:0,S=db?db+2:0,aa=2*sb+(t>>L),qa=2*S+(G>>L),ta=new Float32Array(aa*qa),ea=new Float32Array(aa*qa),U=ta;ba.forEach(function(Fa){var Ja=sb+(+w(Fa)>>L),Ta=S+(+H(Fa)>>L);0<=Ja&&Ja<aa&&0<=Ta&&Ta<qa&&(ta[Ja+Ta*aa]+=+p(Fa))});0<La&&0<db?(Oa(aa,qa,ta,ea,La),Aa(aa,qa,ea,ta,db),Oa(aa,qa,ta,ea,La),Aa(aa,qa,ea,ta,db),
Oa(aa,qa,ta,ea,La),Aa(aa,qa,ea,ta,db)):0<La?(Oa(aa,qa,ta,ea,La),Oa(aa,qa,ea,ta,La),Oa(aa,qa,ta,ea,La),U=ea):0<db&&(Aa(aa,qa,ta,ea,db),Aa(aa,qa,ea,ta,db),Aa(aa,qa,ta,ea,db),U=ea);ba=Ga?Math.pow(2,-2*L):1/Wa.sum(U);Ga=0;for(La=aa*qa;Ga<La;++Ga)U[Ga]*=ba;return{values:U,scale:1<<L,width:aa,height:qa,x1:sb,y1:S,x2:sb+(t>>L),y2:S+(G>>L)}}var w=function(ba){return ba[0]},H=function(ba){return ba[1]},p=x.one,q=[-1,-1],t=960,G=500,L=2;ha.x=function(ba){return arguments.length?(w=ca(ba),ha):w};ha.y=function(ba){return arguments.length?
(H=ca(ba),ha):H};ha.weight=function(ba){return arguments.length?(p=ca(ba),ha):p};ha.size=function(ba){if(!arguments.length)return[t,G];var Ga=+ba[0],La=+ba[1];0<=Ga&&0<=La||x.error("invalid size");return t=Ga,G=La,ha};ha.cellSize=function(ba){if(!arguments.length)return 1<<L;1<=(ba=+ba)||x.error("invalid cell size");L=Math.floor(Math.log(ba)/Math.LN2);return ha};ha.bandwidth=function(ba){if(!arguments.length)return q;ba=x.array(ba);1===ba.length&&(ba=[+ba[0],+ba[0]]);2!==ba.length&&x.error("invalid bandwidth");
return q=ba,ha};return ha}function Oa(ha,w,H,p,q){for(var t=(q<<1)+1,G=0;G<w;++G)for(var L=0,ba=0;L<ha+q;++L)L<ha&&(ba+=H[L+G*ha]),L>=q&&(L>=t&&(ba-=H[L-t+G*ha]),p[L-q+G*ha]=ba/Math.min(L+1,ha-1+t-L,t))}function Aa(ha,w,H,p,q){for(var t=(q<<1)+1,G=0;G<ha;++G)for(var L=0,ba=0;L<w+q;++L)L<w&&(ba+=H[G+L*ha]),L>=q&&(L>=t&&(ba-=H[G+(L-t)*ha]),p[G+(L-q)*ha]=ba/Math.min(L+1,w-1+t-L,t))}function va(ha){m.Transform.call(this,null,ha)}function xa(ha,w){ka.forEach(function(H){return null!=w[H]?ha[H](w[H]):0});
return ha}function fa(ha,w){var H=[],p=function(La){return La(L)},q;if(null==w)H.push(ha);else{var t={};var G=0;for(q=ha.length;G<q;++G){var L=ha[G];var ba=w.map(p);var Ga=t[ba];Ga||(t[ba]=Ga=[],Ga.dims=ba,H.push(Ga));Ga.push(L)}}return H}function pa(ha){m.Transform.call(this,null,ha)}function da(ha){m.Transform.call(this,null,ha)}function ua(ha){m.Transform.call(this,null,ha)}function Ia(ha,w){var H=ha.pointRadius();ha.context(null);null!=w&&ha.pointRadius(w);return H}function wa(ha){m.Transform.call(this,
null,ha)}function $a(ha){m.Transform.call(this,null,ha)}function ja(ha,w,H){var p=null==H?function(q){return ha(w(q))}:function(q){var t=ha.pointRadius();q=ha.pointRadius(H)(w(q));ha.pointRadius(t);return q};p.context=function(q){ha.context(q);return p};return p}function u(ha){m.Transform.call(this,[],ha);this.generator=wb.geoGraticule()}function y(ha){m.Transform.call(this,null,ha)}function z(ha,w){if(x.isFunction(ha)){var H=function(p){return Lb.rgb(ha(p,w))};H.dep=C(ha)}else H=x.constant(Lb.rgb(ha||
"#888"));return H}function D(ha,w){if(x.isFunction(ha)){var H=function(p){return ha(p,w)};H.dep=C(ha)}else ha?H=x.constant(ha):(H=function(p){return p.$value/p.$max||0},H.dep=!0);return H}function C(ha){if(!x.isFunction(ha))return!1;ha=x.toSet(x.accessorFields(ha));return ha.$x||ha.$y||ha.$value||ha.$max}function J(ha,w,H,p){var q=ha.width,t=ha.height,G=ha.x1||0,L=ha.y1||0,ba=ha.x2||q;t=ha.y2||t;var Ga=ha.values;ha=Ga?function(Fa){return Ga[Fa]}:x.zero;for(var La=rb.canvas(ba-G,t-L),db=La.getContext("2d"),
sb=db.getImageData(0,0,ba-G,t-L),S=sb.data,aa=L,qa=0;aa<t;++aa){w.$y=aa-L;for(var ta=G,ea=aa*q;ta<ba;++ta,qa+=4){w.$x=ta-G;w.$value=ha(ta+ea);var U=H(w);S[qa+0]=U.r;S[qa+1]=U.g;S[qa+2]=U.b;S[qa+3]=~~(255*p(w))}}db.putImageData(sb,0,0);return La}function V(ha){m.Transform.call(this,null,ha);this.modified(!0)}function ia(ha,w){var H=cb(w.fit);w.extent?ha.fitExtent(w.extent,H):w.size?ha.fitSize(w.size,H):0}function Pa(ha){var w=gb.projection((ha||"mercator").toLowerCase());w||x.error("Unrecognized projection type: "+
ha);return w()}function cb(ha){ha=x.array(ha);return 1===ha.length?ha[0]:{type:"FeatureCollection",features:ha.reduce(function(w,H){return w.concat(M(H))},[])}}function M(ha){return"FeatureCollection"===ha.type?ha.features:x.array(ha).filter(function(w){return null!=w}).map(function(w){return"Feature"===w.type?w:{type:"Feature",geometry:w}})}var Ka=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],
[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];za.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",
type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};x.inherits(za,m.Transform,{transform:function(ha,w){if(this.value&&!w.changed()&&!ha.modified())return w.StopPropagation;var H=w.fork(w.NO_SOURCE|w.NO_FIELDS);w=w.materialize(w.SOURCE).source;var p=ha.field||x.identity,q=Sa().smooth(!1!==ha.smooth),t=ha.thresholds||Y(w,p,ha),G=null===ha.as?null:ha.as||"contour",L=[];w.forEach(function(ba){var Ga=
p(ba),La=q.size([Ga.width,Ga.height])(Ga.values,x.isArray(t)?t:t(Ga.values));na(La,Ga,ba,ha);La.forEach(function(db){var sb={};L.push(m.rederive(ba,m.ingest(null!=G?(sb[G]=db,sb):db)))})});this.value&&(H.rem=this.value);this.value=H.source=H.add=L;return H}});va.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",
array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};var ka="x y weight size cellSize bandwidth".split(" ");x.inherits(va,m.Transform,{transform:function(ha,w){function H(ba,Ga){for(var La=0;La<q.length;++La)ba[q[La]]=Ga[La];return ba}if(this.value&&!w.changed()&&!ha.modified())return w.StopPropagation;var p=w.fork(w.NO_SOURCE|w.NO_FIELDS);w=w.materialize(w.SOURCE).source;
w=fa(w,ha.groupby);var q=(ha.groupby||[]).map(x.accessorName),t=xa(Z(),ha),G=ha.as||"grid",L=[];L=w.map(function(ba){var Ga={};return m.ingest(H((Ga[G]=t(ba,ha.counts),Ga),ba.dims))});this.value&&(p.rem=this.value);this.value=p.source=p.add=L;return p}});pa.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",
type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};x.inherits(pa,m.Transform,{transform:function(ha,w){if(this.value&&!w.changed()&&!ha.modified())return w.StopPropagation;var H=w.fork(w.NO_SOURCE|w.NO_FIELDS),p=Sa().smooth(!1!==ha.smooth),q=ha.values,t=ha.thresholds||ab(ha.count||10,ha.nice,!!q),G=ha.size;if(!q){q=w.materialize(w.SOURCE).source;
ha=xa(Z(),ha)(q,!0);var L=Ba(ha,ha.scale||1,ha.scale||1,0,0);G=[ha.width,ha.height];q=ha.values}t=x.isArray(t)?t:t(q);q=p.size(G)(q,t);L&&q.forEach(L);this.value&&(H.rem=this.value);this.value=H.source=H.add=(q||[]).map(m.ingest);return H}});da.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};x.inherits(da,m.Transform,{transform:function(ha,w){var H=this._features,p=this._points,q=ha.fields,t=q&&q[0],G=q&&q[1],L=ha.geojson||
!q&&x.identity;q=w.ADD;ha=ha.modified()||w.changed(w.REM)||w.modified(x.accessorFields(L))||t&&w.modified(x.accessorFields(t))||G&&w.modified(x.accessorFields(G));if(!this.value||ha)q=w.SOURCE,this._features=H=[],this._points=p=[];L&&w.visit(q,function(ba){return H.push(L(ba))});t&&G&&(w.visit(q,function(ba){var Ga=t(ba);ba=G(ba);null!=Ga&&null!=ba&&(Ga=+Ga)===Ga&&(ba=+ba)===ba&&p.push([Ga,ba])}),H=H.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:p}}));this.value={type:"FeatureCollection",
features:H}}});ua.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};x.inherits(ua,m.Transform,{transform:function(ha,w){var H=w.fork(w.ALL),p=this.value,q=ha.field||x.identity,t=ha.as||"path",G=H.SOURCE;!p||ha.modified()?(this.value=p=gb.getProjectionPath(ha.projection),H.materialize().reflow()):G=q===x.identity||w.modified(q.fields)?H.ADD_MOD:
H.ADD;ha=Ia(p,ha.pointRadius);H.visit(G,function(L){return L[t]=p(q(L))});p.pointRadius(ha);return H.modifies(t)}});wa.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};x.inherits(wa,m.Transform,{transform:function(ha,w){function H(Ga){var La=p([q(Ga),t(Ga)]);La?(Ga[L]=La[0],Ga[ba]=La[1]):(Ga[L]=void 0,Ga[ba]=void 0)}
var p=ha.projection,q=ha.fields[0],t=ha.fields[1],G=ha.as||["x","y"],L=G[0],ba=G[1];ha.modified()?w=w.materialize().reflow(!0).visit(w.SOURCE,H):(ha=w.modified(q.fields)||w.modified(t.fields),w.visit(ha?w.ADD_MOD:w.ADD,H));return w.modifies(G)}});$a.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};x.inherits($a,
m.Transform,{transform:function(ha,w){w=w.fork(w.ALL);var H=this.value,p=ha.as||"shape",q=w.ADD;if(!H||ha.modified())this.value=H=ja(gb.getProjectionPath(ha.projection),ha.field||x.field("datum"),ha.pointRadius),w.materialize().reflow(),q=w.SOURCE;w.visit(q,function(t){return t[p]=H});return w.modifies(p)}});u.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",
array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};x.inherits(u,m.Transform,{transform:function(ha,w){var H=this.value,p=this.generator;if(!H.length||ha.modified())for(var q in ha)if(x.isFunction(p[q]))p[q](ha[q]);
ha=p();H.length?w.mod.push(m.replace(H[0],ha)):w.add.push(m.ingest(ha));H[0]=ha;return w}});y.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};x.inherits(y,m.Transform,{transform:function(ha,w){if(!w.changed()&&!ha.modified())return w.StopPropagation;var H=
w.materialize(w.SOURCE).source,p="shared"===ha.resolve,q=ha.field||x.identity,t=D(ha.opacity,ha),G=z(ha.color,ha),L=ha.as||"image",ba={$x:0,$y:0,$value:0,$max:p?Wa.max(H.map(function(Ga){return Wa.max(q(Ga).values)})):0};H.forEach(function(Ga){var La=q(Ga),db=x.extend({},Ga,ba);p||(db.$max=Wa.max(La.values||[]));Ga[L]=J(La,db,G.dep?G:x.constant(G(db)),t.dep?t:x.constant(t(db)))});return w.reflow(!0).modifies(L)}});x.inherits(V,m.Transform,{transform:function(ha,w){var H=this.value;!H||ha.modified("type")?
(this.value=H=Pa(ha.type),gb.projectionProperties.forEach(function(p){if(null!=ha[p]){var q=H,t=ha[p];if(x.isFunction(q[p]))q[p](t)}})):gb.projectionProperties.forEach(function(p){if(ha.modified(p)){var q=H,t=ha[p];if(x.isFunction(q[p]))q[p](t)}});null!=ha.pointRadius&&H.path.pointRadius(ha.pointRadius);ha.fit&&ia(H,ha);return w.fork(w.NO_SOURCE|w.NO_FIELDS)}});h.contour=pa;h.geojson=da;h.geopath=ua;h.geopoint=wa;h.geoshape=$a;h.graticule=u;h.heatmap=y;h.isocontour=za;h.kde2d=va;h.projection=V;Object.defineProperty(h,
"__esModule",{value:!0})})};
shadow$provide[31]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb):"function"===typeof define&&define.amd?define(["exports"],m):(h=h||self,m(h.d3=h.d3||{}))})(this,function(h){function m(Ua,Sa,ab,za){if(isNaN(Sa)||isNaN(ab))return Ua;var Y,na=Ua._root;za={data:za};var Ba=Ua._x0,Qa=Ua._y0,ca=Ua._x1,Z=Ua._y1,Oa,Aa,va,xa;if(!na)return Ua._root=za,Ua;for(;na.length;)if((va=Sa>=(Oa=(Ba+ca)/2))?Ba=Oa:ca=Oa,(xa=ab>=(Aa=(Qa+Z)/2))?Qa=Aa:Z=Aa,Y=na,!(na=na[va|=xa<<1]))return Y[va]=
za,Ua;var fa=+Ua._x.call(null,na.data);var pa=+Ua._y.call(null,na.data);if(Sa===fa&&ab===pa)return za.next=na,Y?Y[va]=za:Ua._root=za,Ua;do Y=Y?Y[va]=Array(4):Ua._root=Array(4),(va=Sa>=(Oa=(Ba+ca)/2))?Ba=Oa:ca=Oa,(xa=ab>=(Aa=(Qa+Z)/2))?Qa=Aa:Z=Aa;while((va|=xa<<1)===(xa=(pa>=Aa)<<1|fa>=Oa));return Y[xa]=na,Y[va]=za,Ua}function x(Ua,Sa,ab,za,Y){this.node=Ua;this.x0=Sa;this.y0=ab;this.x1=za;this.y1=Y}function Wa(Ua){return Ua[0]}function Gb(Ua){return Ua[1]}function gb(Ua,Sa,ab){Sa=new wb(null==Sa?Wa:
Sa,null==ab?Gb:ab,NaN,NaN,NaN,NaN);return null==Ua?Sa:Sa.addAll(Ua)}function wb(Ua,Sa,ab,za,Y,na){this._x=Ua;this._y=Sa;this._x0=ab;this._y0=za;this._x1=Y;this._y1=na;this._root=void 0}function Lb(Ua){for(var Sa={data:Ua.data},ab=Sa;Ua=Ua.next;)ab=ab.next={data:Ua.data};return Sa}var rb=gb.prototype=wb.prototype;rb.copy=function(){var Ua=new wb(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Sa=this._root,ab,za;if(!Sa)return Ua;if(!Sa.length)return Ua._root=Lb(Sa),Ua;for(ab=[{source:Sa,target:Ua._root=
Array(4)}];Sa=ab.pop();)for(var Y=0;4>Y;++Y)if(za=Sa.source[Y])za.length?ab.push({source:za,target:Sa.target[Y]=Array(4)}):Sa.target[Y]=Lb(za);return Ua};rb.add=function(Ua){var Sa=+this._x.call(null,Ua),ab=+this._y.call(null,Ua);return m(this.cover(Sa,ab),Sa,ab,Ua)};rb.addAll=function(Ua){var Sa,ab,za=Ua.length,Y,na,Ba=Array(za),Qa=Array(za),ca=Infinity,Z=Infinity,Oa=-Infinity,Aa=-Infinity;for(ab=0;ab<za;++ab)isNaN(Y=+this._x.call(null,Sa=Ua[ab]))||isNaN(na=+this._y.call(null,Sa))||(Ba[ab]=Y,Qa[ab]=
na,Y<ca&&(ca=Y),Y>Oa&&(Oa=Y),na<Z&&(Z=na),na>Aa&&(Aa=na));if(ca>Oa||Z>Aa)return this;this.cover(ca,Z).cover(Oa,Aa);for(ab=0;ab<za;++ab)m(this,Ba[ab],Qa[ab],Ua[ab]);return this};rb.cover=function(Ua,Sa){if(isNaN(Ua=+Ua)||isNaN(Sa=+Sa))return this;var ab=this._x0,za=this._y0,Y=this._x1,na=this._y1;if(isNaN(ab))Y=(ab=Math.floor(Ua))+1,na=(za=Math.floor(Sa))+1;else{for(var Ba=Y-ab||1,Qa=this._root,ca,Z;ab>Ua||Ua>=Y||za>Sa||Sa>=na;)switch(Z=(Sa<za)<<1|Ua<ab,ca=Array(4),ca[Z]=Qa,Qa=ca,Ba*=2,Z){case 0:Y=
ab+Ba;na=za+Ba;break;case 1:ab=Y-Ba;na=za+Ba;break;case 2:Y=ab+Ba;za=na-Ba;break;case 3:ab=Y-Ba,za=na-Ba}this._root&&this._root.length&&(this._root=Qa)}this._x0=ab;this._y0=za;this._x1=Y;this._y1=na;return this};rb.data=function(){var Ua=[];this.visit(function(Sa){if(!Sa.length){do Ua.push(Sa.data);while(Sa=Sa.next)}});return Ua};rb.extent=function(Ua){return arguments.length?this.cover(+Ua[0][0],+Ua[0][1]).cover(+Ua[1][0],+Ua[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};
rb.find=function(Ua,Sa,ab){var za=this._x0,Y=this._y0,na,Ba,Qa,ca,Z=this._x1,Oa=this._y1,Aa=[],va=this._root,xa;va&&Aa.push(new x(va,za,Y,Z,Oa));null==ab?ab=Infinity:(za=Ua-ab,Y=Sa-ab,Z=Ua+ab,Oa=Sa+ab,ab*=ab);for(;xa=Aa.pop();)if(!(!(va=xa.node)||(na=xa.x0)>Z||(Ba=xa.y0)>Oa||(Qa=xa.x1)<za||(ca=xa.y1)<Y))if(va.length){xa=(na+Qa)/2;var fa=(Ba+ca)/2;Aa.push(new x(va[3],xa,fa,Qa,ca),new x(va[2],na,fa,xa,ca),new x(va[1],xa,Ba,Qa,fa),new x(va[0],na,Ba,xa,fa));if(va=(Sa>=fa)<<1|Ua>=xa)xa=Aa[Aa.length-1],
Aa[Aa.length-1]=Aa[Aa.length-1-va],Aa[Aa.length-1-va]=xa}else if(xa=Ua-+this._x.call(null,va.data),fa=Sa-+this._y.call(null,va.data),xa=xa*xa+fa*fa,xa<ab){var pa=Math.sqrt(ab=xa);za=Ua-pa;Y=Sa-pa;Z=Ua+pa;Oa=Sa+pa;pa=va.data}return pa};rb.remove=function(Ua){if(isNaN(ca=+this._x.call(null,Ua))||isNaN(Z=+this._y.call(null,Ua)))return this;var Sa,ab=this._root,za,Y=this._x0,na=this._y0,Ba=this._x1,Qa=this._y1,ca,Z,Oa,Aa,va,xa;if(!ab)return this;if(ab.length)for(;;){(va=ca>=(Oa=(Y+Ba)/2))?Y=Oa:Ba=Oa;
(xa=Z>=(Aa=(na+Qa)/2))?na=Aa:Qa=Aa;if(!(Sa=ab,ab=ab[va|=xa<<1]))return this;if(!ab.length)break;if(Sa[va+1&3]||Sa[va+2&3]||Sa[va+3&3]){var fa=Sa;var pa=va}}for(;ab.data!==Ua;)if(!(za=ab,ab=ab.next))return this;(Ua=ab.next)&&delete ab.next;if(za)return Ua?za.next=Ua:delete za.next,this;if(!Sa)return this._root=Ua,this;Ua?Sa[va]=Ua:delete Sa[va];(ab=Sa[0]||Sa[1]||Sa[2]||Sa[3])&&ab===(Sa[3]||Sa[2]||Sa[1]||Sa[0])&&!ab.length&&(fa?fa[pa]=ab:this._root=ab);return this};rb.removeAll=function(Ua){for(var Sa=
0,ab=Ua.length;Sa<ab;++Sa)this.remove(Ua[Sa]);return this};rb.root=function(){return this._root};rb.size=function(){var Ua=0;this.visit(function(Sa){if(!Sa.length){do++Ua;while(Sa=Sa.next)}});return Ua};rb.visit=function(Ua){var Sa=[],ab,za=this._root,Y,na,Ba,Qa;for(za&&Sa.push(new x(za,this._x0,this._y0,this._x1,this._y1));ab=Sa.pop();)if(!Ua(za=ab.node,na=ab.x0,Ba=ab.y0,Qa=ab.x1,ab=ab.y1)&&za.length){var ca=(na+Qa)/2,Z=(Ba+ab)/2;(Y=za[3])&&Sa.push(new x(Y,ca,Z,Qa,ab));(Y=za[2])&&Sa.push(new x(Y,
na,Z,ca,ab));(Y=za[1])&&Sa.push(new x(Y,ca,Ba,Qa,Z));(Y=za[0])&&Sa.push(new x(Y,na,Ba,ca,Z))}return this};rb.visitAfter=function(Ua){var Sa=[],ab=[],za;for(this._root&&Sa.push(new x(this._root,this._x0,this._y0,this._x1,this._y1));za=Sa.pop();){var Y=za.node;if(Y.length){var na,Ba=za.x0,Qa=za.y0,ca=za.x1,Z=za.y1,Oa=(Ba+ca)/2,Aa=(Qa+Z)/2;(na=Y[0])&&Sa.push(new x(na,Ba,Qa,Oa,Aa));(na=Y[1])&&Sa.push(new x(na,Oa,Qa,ca,Aa));(na=Y[2])&&Sa.push(new x(na,Ba,Aa,Oa,Z));(na=Y[3])&&Sa.push(new x(na,Oa,Aa,ca,
Z))}ab.push(za)}for(;za=ab.pop();)Ua(za.node,za.x0,za.y0,za.x1,za.y1);return this};rb.x=function(Ua){return arguments.length?(this._x=Ua,this):this._x};rb.y=function(Ua){return arguments.length?(this._y=Ua,this):this._y};h.quadtree=gb;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[32]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb):"function"===typeof define&&define.amd?define(["exports"],m):(h=h||self,m(h.d3=h.d3||{}))})(this,function(h){function m(){for(var wb=0,Lb=arguments.length,rb={},Ua;wb<Lb;++wb){if(!(Ua=arguments[wb]+"")||Ua in rb||/[\s.]/.test(Ua))throw Error("illegal type: "+Ua);rb[Ua]=[]}return new x(rb)}function x(wb){this._=wb}function Wa(wb,Lb){return wb.trim().split(/^|\s+/).map(function(rb){var Ua="",
Sa=rb.indexOf(".");0<=Sa&&(Ua=rb.slice(Sa+1),rb=rb.slice(0,Sa));if(rb&&!Lb.hasOwnProperty(rb))throw Error("unknown type: "+rb);return{type:rb,name:Ua}})}function Gb(wb,Lb,rb){for(var Ua=0,Sa=wb.length;Ua<Sa;++Ua)if(wb[Ua].name===Lb){wb[Ua]=gb;wb=wb.slice(0,Ua).concat(wb.slice(Ua+1));break}null!=rb&&wb.push({name:Lb,value:rb});return wb}var gb={value:function(){}};x.prototype=m.prototype={constructor:x,on:function(wb,Lb){var rb=this._,Ua=Wa(wb+"",rb),Sa,ab=-1,za=Ua.length;if(2>arguments.length)for(;++ab<
za;){var Y;if(Y=Sa=(wb=Ua[ab]).type){a:{Y=rb[Sa];for(var na=0,Ba=Y.length;na<Ba;++na)if((Sa=Y[na]).name===wb.name){Sa=Sa.value;break a}Sa=void 0}Y=Sa}if(Y)return Sa}else{if(null!=Lb&&"function"!==typeof Lb)throw Error("invalid callback: "+Lb);for(;++ab<za;)if(Sa=(wb=Ua[ab]).type)rb[Sa]=Gb(rb[Sa],wb.name,Lb);else if(null==Lb)for(Sa in rb)rb[Sa]=Gb(rb[Sa],wb.name,null);return this}},copy:function(){var wb={},Lb=this._,rb;for(rb in Lb)wb[rb]=Lb[rb].slice();return new x(wb)},call:function(wb,Lb){if(0<
(Sa=arguments.length-2))for(var rb=Array(Sa),Ua=0,Sa,ab;Ua<Sa;++Ua)rb[Ua]=arguments[Ua+2];if(!this._.hasOwnProperty(wb))throw Error("unknown type: "+wb);ab=this._[wb];Ua=0;for(Sa=ab.length;Ua<Sa;++Ua)ab[Ua].value.apply(Lb,rb)},apply:function(wb,Lb,rb){if(!this._.hasOwnProperty(wb))throw Error("unknown type: "+wb);wb=this._[wb];for(var Ua=0,Sa=wb.length;Ua<Sa;++Ua)wb[Ua].value.apply(Lb,rb)}};h.dispatch=m;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[33]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb):"function"===typeof define&&define.amd?define(["exports"],m):(h=h||self,m(h.d3=h.d3||{}))})(this,function(h){function m(){return Ba||(Z(x),Ba=ca.now()+Qa)}function x(){Ba=0}function Wa(){this._call=this._time=this._next=null}function Gb(Oa,Aa,va){var xa=new Wa;xa.restart(Oa,Aa,va);return xa}function gb(){m();++Ua;for(var Oa=za,Aa;Oa;)0<=(Aa=Ba-Oa._time)&&Oa._call.call(null,Aa),Oa=Oa._next;--Ua}
function wb(){Ba=(na=ca.now())+Qa;Ua=Sa=0;try{gb()}finally{Ua=0;for(var Oa,Aa=za,va,xa=Infinity;Aa;)Aa._call?(xa>Aa._time&&(xa=Aa._time),Oa=Aa,Aa=Aa._next):(va=Aa._next,Aa._next=null,Aa=Oa?Oa._next=va:za=va);Y=Oa;rb(xa);Ba=0}}function Lb(){var Oa=ca.now(),Aa=Oa-na;1E3<Aa&&(Qa-=Aa,na=Oa)}function rb(Oa){Ua||(Sa&&(Sa=clearTimeout(Sa)),24<Oa-Ba?(Infinity>Oa&&(Sa=setTimeout(wb,Oa-ca.now()-Qa)),ab&&(ab=clearInterval(ab))):(ab||(na=ca.now(),ab=setInterval(Lb,1E3)),Ua=1,Z(wb)))}var Ua=0,Sa=0,ab=0,za,Y,na=
0,Ba=0,Qa=0,ca="object"===typeof performance&&performance.now?performance:Date,Z="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Oa){setTimeout(Oa,17)};Wa.prototype=Gb.prototype={constructor:Wa,restart:function(Oa,Aa,va){if("function"!==typeof Oa)throw new TypeError("callback is not a function");va=(null==va?m():+va)+(null==Aa?0:+Aa);this._next||Y===this||(Y?Y._next=this:za=this,Y=this);this._call=Oa;this._time=va;rb()},stop:function(){this._call&&
(this._call=null,this._time=Infinity,rb())}};h.interval=function(Oa,Aa,va){var xa=new Wa,fa=Aa;if(null==Aa)return xa.restart(Oa,Aa,va),xa;xa._restart=xa.restart;xa.restart=function(pa,da,ua){da=+da;ua=null==ua?m():+ua;xa._restart(function $a(wa){wa+=fa;xa._restart($a,fa+=da,ua);pa(wa)},da,ua)};xa.restart(Oa,Aa,va);return xa};h.now=m;h.timeout=function(Oa,Aa,va){var xa=new Wa;Aa=null==Aa?0:+Aa;xa.restart(function(fa){xa.stop();Oa(fa+Aa)},Aa,va);return xa};h.timer=Gb;h.timerFlush=gb;Object.defineProperty(h,
"__esModule",{value:!0})})};
shadow$provide[34]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(31),xb(32),xb(33)):"function"===typeof define&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],m):(h=h||self,m(h.d3=h.d3||{},h.d3,h.d3,h.d3))})(this,function(h,m,x,Wa){function Gb(Y){return function(){return Y}}function gb(Y){return Y.x+Y.vx}function wb(Y){return Y.y+Y.vy}function Lb(Y){return Y.index}function rb(Y,na){Y=Y.get(na);if(!Y)throw Error("node not found: "+
na);return Y}function Ua(){var Y=1;return function(){return(Y=(1664525*Y+1013904223)%4294967296)/4294967296}}function Sa(Y){return Y.x}function ab(Y){return Y.y}var za=Math.PI*(3-Math.sqrt(5));h.forceCenter=function(Y,na){function Ba(){var Z,Oa=Qa.length,Aa=0,va=0;for(Z=0;Z<Oa;++Z){var xa=Qa[Z];Aa+=xa.x;va+=xa.y}Aa=(Aa/Oa-Y)*ca;va=(va/Oa-na)*ca;for(Z=0;Z<Oa;++Z)xa=Qa[Z],xa.x-=Aa,xa.y-=va}var Qa,ca=1;null==Y&&(Y=0);null==na&&(na=0);Ba.initialize=function(Z){Qa=Z};Ba.x=function(Z){return arguments.length?
(Y=+Z,Ba):Y};Ba.y=function(Z){return arguments.length?(na=+Z,Ba):na};Ba.strength=function(Z){return arguments.length?(ca=+Z,Ba):ca};return Ba};h.forceCollide=function(Y){function na(){function xa(y,z,D,C,J){var V=y.data;y=y.r;var ia=$a+y;if(V)V.index>ua.index&&(z=Ia-V.x-V.vx,D=wa-V.y-V.vy,C=z*z+D*D,C<ia*ia&&(0===z&&(z=1E-6*(Oa()-.5),C+=z*z),0===D&&(D=1E-6*(Oa()-.5),C+=D*D),C=(ia-(C=Math.sqrt(C)))/C*Aa,ua.vx+=(z*=C)*(ia=(y*=y)/(ja+y)),ua.vy+=(D*=C)*ia,V.vx-=z*(ia=1-ia),V.vy-=D*ia));else return z>Ia+
ia||C<Ia-ia||D>wa+ia||J<wa-ia}for(var fa,pa=ca.length,da,ua,Ia,wa,$a,ja,u=0;u<va;++u)for(da=m.quadtree(ca,gb,wb).visitAfter(Ba),fa=0;fa<pa;++fa)ua=ca[fa],$a=Z[ua.index],ja=$a*$a,Ia=ua.x+ua.vx,wa=ua.y+ua.vy,da.visit(xa)}function Ba(xa){if(xa.data)return xa.r=Z[xa.data.index];for(var fa=xa.r=0;4>fa;++fa)xa[fa]&&xa[fa].r>xa.r&&(xa.r=xa[fa].r)}function Qa(){if(ca){var xa,fa=ca.length;Z=Array(fa);for(xa=0;xa<fa;++xa){var pa=ca[xa];Z[pa.index]=+Y(pa,xa,ca)}}}var ca,Z,Oa,Aa=1,va=1;"function"!==typeof Y&&
(Y=Gb(null==Y?1:+Y));na.initialize=function(xa,fa){ca=xa;Oa=fa;Qa()};na.iterations=function(xa){return arguments.length?(va=+xa,na):va};na.strength=function(xa){return arguments.length?(Aa=+xa,na):Aa};na.radius=function(xa){return arguments.length?(Y="function"===typeof xa?xa:Gb(+xa),Qa(),na):Y};return na};h.forceLink=function(Y){function na(wa){for(var $a=0,ja=Y.length;$a<Ia;++$a)for(var u=0,y,z,D,C,J;u<ja;++u)y=Y[u],z=y.source,y=y.target,D=y.x+y.vx-z.x-z.vx||1E-6*(ua()-.5),C=y.y+y.vy-z.y-z.vy||
1E-6*(ua()-.5),J=Math.sqrt(D*D+C*C),J=(J-xa[u])/J*wa*Aa[u],D*=J,C*=J,y.vx-=D*(J=da[u]),y.vy-=C*J,z.vx+=D*(J=1-J),z.vy+=C*J}function Ba(){if(fa){var wa=fa.length,$a=Y.length,ja=new Map(fa.map(function(y,z){return[Z(y,z,fa),y]}));var u=0;for(pa=Array(wa);u<$a;++u)wa=Y[u],wa.index=u,"object"!==typeof wa.source&&(wa.source=rb(ja,wa.source)),"object"!==typeof wa.target&&(wa.target=rb(ja,wa.target)),pa[wa.source.index]=(pa[wa.source.index]||0)+1,pa[wa.target.index]=(pa[wa.target.index]||0)+1;u=0;for(da=
Array($a);u<$a;++u)wa=Y[u],da[u]=pa[wa.source.index]/(pa[wa.source.index]+pa[wa.target.index]);Aa=Array($a);Qa();xa=Array($a);ca()}}function Qa(){if(fa)for(var wa=0,$a=Y.length;wa<$a;++wa)Aa[wa]=+Oa(Y[wa],wa,Y)}function ca(){if(fa)for(var wa=0,$a=Y.length;wa<$a;++wa)xa[wa]=+va(Y[wa],wa,Y)}var Z=Lb,Oa=function(wa){return 1/Math.min(pa[wa.source.index],pa[wa.target.index])},Aa,va=Gb(30),xa,fa,pa,da,ua,Ia=1;null==Y&&(Y=[]);na.initialize=function(wa,$a){fa=wa;ua=$a;Ba()};na.links=function(wa){return arguments.length?
(Y=wa,Ba(),na):Y};na.id=function(wa){return arguments.length?(Z=wa,na):Z};na.iterations=function(wa){return arguments.length?(Ia=+wa,na):Ia};na.strength=function(wa){return arguments.length?(Oa="function"===typeof wa?wa:Gb(+wa),Qa(),na):Oa};na.distance=function(wa){return arguments.length?(va="function"===typeof wa?wa:Gb(+wa),ca(),na):va};return na};h.forceManyBody=function(){function Y(ua){var Ia=ca.length,wa=m.quadtree(ca,Sa,ab).visitAfter(Ba);Aa=ua;for(ua=0;ua<Ia;++ua)Z=ca[ua],wa.visit(Qa)}function na(){if(ca){var ua,
Ia=ca.length;xa=Array(Ia);for(ua=0;ua<Ia;++ua){var wa=ca[ua];xa[wa.index]=+va(wa,ua,ca)}}}function Ba(ua){var Ia=0,wa,$a,ja=0,u,y,z;if(ua.length){for(u=y=z=0;4>z;++z)(wa=ua[z])&&($a=Math.abs(wa.value))&&(Ia+=wa.value,ja+=$a,u+=$a*wa.x,y+=$a*wa.y);ua.x=u/ja;ua.y=y/ja}else{wa=ua;wa.x=wa.data.x;wa.y=wa.data.y;do Ia+=xa[wa.data.index];while(wa=wa.next)}ua.value=Ia}function Qa(ua,Ia,wa,$a){if(!ua.value)return!0;wa=ua.x-Z.x;var ja=ua.y-Z.y;Ia=$a-Ia;$a=wa*wa+ja*ja;if(Ia*Ia/da<$a)return $a<pa&&(0===wa&&(wa=
1E-6*(Oa()-.5),$a+=wa*wa),0===ja&&(ja=1E-6*(Oa()-.5),$a+=ja*ja),$a<fa&&($a=Math.sqrt(fa*$a)),Z.vx+=wa*ua.value*Aa/$a,Z.vy+=ja*ua.value*Aa/$a),!0;if(!(ua.length||$a>=pa)){if(ua.data!==Z||ua.next)0===wa&&(wa=1E-6*(Oa()-.5),$a+=wa*wa),0===ja&&(ja=1E-6*(Oa()-.5),$a+=ja*ja),$a<fa&&($a=Math.sqrt(fa*$a));do ua.data!==Z&&(Ia=xa[ua.data.index]*Aa/$a,Z.vx+=wa*Ia,Z.vy+=ja*Ia);while(ua=ua.next)}}var ca,Z,Oa,Aa,va=Gb(-30),xa,fa=1,pa=Infinity,da=.81;Y.initialize=function(ua,Ia){ca=ua;Oa=Ia;na()};Y.strength=function(ua){return arguments.length?
(va="function"===typeof ua?ua:Gb(+ua),na(),Y):va};Y.distanceMin=function(ua){return arguments.length?(fa=ua*ua,Y):Math.sqrt(fa)};Y.distanceMax=function(ua){return arguments.length?(pa=ua*ua,Y):Math.sqrt(pa)};Y.theta=function(ua){return arguments.length?(da=ua*ua,Y):Math.sqrt(da)};return Y};h.forceRadial=function(Y,na,Ba){function Qa(xa){for(var fa=0,pa=Z.length;fa<pa;++fa){var da=Z[fa],ua=da.x-na||1E-6,Ia=da.y-Ba||1E-6,wa=Math.sqrt(ua*ua+Ia*Ia);wa=(va[fa]-wa)*Aa[fa]*xa/wa;da.vx+=ua*wa;da.vy+=Ia*wa}}
function ca(){if(Z){var xa,fa=Z.length;Aa=Array(fa);va=Array(fa);for(xa=0;xa<fa;++xa)va[xa]=+Y(Z[xa],xa,Z),Aa[xa]=isNaN(va[xa])?0:+Oa(Z[xa],xa,Z)}}var Z,Oa=Gb(.1),Aa,va;"function"!==typeof Y&&(Y=Gb(+Y));null==na&&(na=0);null==Ba&&(Ba=0);Qa.initialize=function(xa){Z=xa;ca()};Qa.strength=function(xa){return arguments.length?(Oa="function"===typeof xa?xa:Gb(+xa),ca(),Qa):Oa};Qa.radius=function(xa){return arguments.length?(Y="function"===typeof xa?xa:Gb(+xa),ca(),Qa):Y};Qa.x=function(xa){return arguments.length?
(na=+xa,Qa):na};Qa.y=function(xa){return arguments.length?(Ba=+xa,Qa):Ba};return Qa};h.forceSimulation=function(Y){function na(){Ba();ua.call("tick",Z);Oa<Aa&&(da.stop(),ua.call("end",Z))}function Ba(wa){var $a,ja=Y.length;void 0===wa&&(wa=1);for(var u=0;u<wa;++u)for(Oa+=(xa-Oa)*va,pa.forEach(function(z){z(Oa)}),$a=0;$a<ja;++$a){var y=Y[$a];null==y.fx?y.x+=y.vx*=fa:(y.x=y.fx,y.vx=0);null==y.fy?y.y+=y.vy*=fa:(y.y=y.fy,y.vy=0)}return Z}function Qa(){for(var wa=0,$a=Y.length,ja;wa<$a;++wa){ja=Y[wa];
ja.index=wa;null!=ja.fx&&(ja.x=ja.fx);null!=ja.fy&&(ja.y=ja.fy);if(isNaN(ja.x)||isNaN(ja.y)){var u=10*Math.sqrt(.5+wa),y=wa*za;ja.x=u*Math.cos(y);ja.y=u*Math.sin(y)}if(isNaN(ja.vx)||isNaN(ja.vy))ja.vx=ja.vy=0}}function ca(wa){wa.initialize&&wa.initialize(Y,Ia);return wa}var Z,Oa=1,Aa=.001,va=1-Math.pow(Aa,1/300),xa=0,fa=.6,pa=new Map,da=Wa.timer(na),ua=x.dispatch("tick","end"),Ia=Ua();null==Y&&(Y=[]);Qa();return Z={tick:Ba,restart:function(){return da.restart(na),Z},stop:function(){return da.stop(),
Z},nodes:function(wa){return arguments.length?(Y=wa,Qa(),pa.forEach(ca),Z):Y},alpha:function(wa){return arguments.length?(Oa=+wa,Z):Oa},alphaMin:function(wa){return arguments.length?(Aa=+wa,Z):Aa},alphaDecay:function(wa){return arguments.length?(va=+wa,Z):+va},alphaTarget:function(wa){return arguments.length?(xa=+wa,Z):xa},velocityDecay:function(wa){return arguments.length?(fa=1-wa,Z):1-fa},randomSource:function(wa){return arguments.length?(Ia=wa,pa.forEach(ca),Z):Ia},force:function(wa,$a){return 1<
arguments.length?(null==$a?pa.delete(wa):pa.set(wa,ca($a)),Z):pa.get(wa)},find:function(wa,$a,ja){var u,y=Y.length;ja=null==ja?Infinity:ja*ja;for(u=0;u<y;++u){var z=Y[u];var D=wa-z.x;var C=$a-z.y;D=D*D+C*C;if(D<ja){var J=z;ja=D}}return J},on:function(wa,$a){return 1<arguments.length?(ua.on(wa,$a),Z):ua.on(wa)}}};h.forceX=function(Y){function na(Aa){for(var va=0,xa=ca.length,fa;va<xa;++va)fa=ca[va],fa.vx+=(Oa[va]-fa.x)*Z[va]*Aa}function Ba(){if(ca){var Aa,va=ca.length;Z=Array(va);Oa=Array(va);for(Aa=
0;Aa<va;++Aa)Z[Aa]=isNaN(Oa[Aa]=+Y(ca[Aa],Aa,ca))?0:+Qa(ca[Aa],Aa,ca)}}var Qa=Gb(.1),ca,Z,Oa;"function"!==typeof Y&&(Y=Gb(null==Y?0:+Y));na.initialize=function(Aa){ca=Aa;Ba()};na.strength=function(Aa){return arguments.length?(Qa="function"===typeof Aa?Aa:Gb(+Aa),Ba(),na):Qa};na.x=function(Aa){return arguments.length?(Y="function"===typeof Aa?Aa:Gb(+Aa),Ba(),na):Y};return na};h.forceY=function(Y){function na(Aa){for(var va=0,xa=ca.length,fa;va<xa;++va)fa=ca[va],fa.vy+=(Oa[va]-fa.y)*Z[va]*Aa}function Ba(){if(ca){var Aa,
va=ca.length;Z=Array(va);Oa=Array(va);for(Aa=0;Aa<va;++Aa)Z[Aa]=isNaN(Oa[Aa]=+Y(ca[Aa],Aa,ca))?0:+Qa(ca[Aa],Aa,ca)}}var Qa=Gb(.1),ca,Z,Oa;"function"!==typeof Y&&(Y=Gb(null==Y?0:+Y));na.initialize=function(Aa){ca=Aa;Ba()};na.strength=function(Aa){return arguments.length?(Qa="function"===typeof Aa?Aa:Gb(+Aa),Ba(),na):Qa};na.y=function(Aa){return arguments.length?(Y="function"===typeof Aa?Aa:Gb(+Aa),Ba(),na):Y};return na};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[35]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(14),xb(0),xb(34)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-force"],m):(h="undefined"!==typeof globalThis?globalThis:h||self,m((h.vega=h.vega||{},h.vega.transforms={}),h.vega,h.vega,h.d3))})(this,function(h,m,x,Wa){function Gb(Y){m.Transform.call(this,null,Y)}function gb(Y,na){return function(){return Y.touch(na).run()}}function wb(Y,na){Y=Wa.forceSimulation(Y);
var Ba=Y.stop,Qa=Y.restart,ca=!1;Y.stopped=function(){return ca};Y.restart=function(){return ca=!1,Qa()};Y.stop=function(){return ca=!0,Ba()};return Lb(Y,na,!0).on("end",function(){return ca=!0})}function Lb(Y,na,Ba,Qa){var ca=x.array(na.forces),Z;var Oa=0;for(Z=Sa.length;Oa<Z;++Oa){var Aa=Sa[Oa];if("forces"!==Aa&&na.modified(Aa))Y[Aa](na[Aa])}Oa=0;for(Z=ca.length;Oa<Z;++Oa){var va="forces"+Oa;if(Ba||na.modified("forces",Oa)){Aa=void 0;var xa=ca[Oa];x.hasOwnProperty(Ua,xa.force)||x.error("Unrecognized force: "+
xa.force);var fa=Ua[xa.force]();for(Aa in xa)x.isFunction(fa[Aa])&&rb(fa[Aa],xa[Aa],xa);Aa=fa}else{if(Aa=Qa)a:{fa=Aa=void 0;xa=ca[Oa];var pa=Qa;for(fa in xa)if(x.isFunction(Aa=xa[fa])&&pa.modified(x.accessorFields(Aa))){Aa=1;break a}Aa=0}Aa=Aa?Y.force(va):null}Aa&&Y.force(va,Aa)}for(Z=Y.numForces||0;Oa<Z;++Oa)Y.force("forces"+Oa,null);Y.numForces=ca.length;return Y}function rb(Y,na,Ba){Y(x.isFunction(na)?function(Qa){return na(Qa,Ba)}:na)}var Ua={center:Wa.forceCenter,collide:Wa.forceCollide,nbody:Wa.forceManyBody,
link:Wa.forceLink,x:Wa.forceX,y:Wa.forceY},Sa=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],ab=["static","iterations"],za=["x","y","vx","vy"];Gb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",
type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},
{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":za}]};
x.inherits(Gb,m.Transform,{transform:function(Y,na){var Ba=this.value,Qa=na.changed(na.ADD_REM),ca=Y.modified(Sa),Z=Y.iterations||300;Ba?(Qa&&(na.modifies("index"),Ba.nodes(na.source)),(ca||na.changed(na.MOD))&&Lb(Ba,Y,0,na)):(this.value=Ba=wb(na.source,Y),Ba.on("tick",gb(na.dataflow,this)),Y.static||(Qa=!0,Ba.tick()),na.modifies("index"));if(ca||Qa||Y.modified(ab)||na.changed()&&Y.restart)if(Ba.alpha(Math.max(Ba.alpha(),Y.alpha||1)).alphaDecay(1-Math.pow(Ba.alphaMin(),1/Z)),Y.static)for(Ba.stop();0<=
--Z;)Ba.tick();else if(Ba.stopped()&&Ba.restart(),!Qa)return na.StopPropagation;return this.finish(Y,na)},finish:function(Y,na){for(var Ba=na.dataflow,Qa=this._argops,ca=0,Z=Qa.length,Oa;ca<Z;++ca)if(Oa=Qa[ca],"forces"===Oa.name&&"link"===Oa.op._argval.force){Oa=Oa.op._argops;for(var Aa=0,va=Oa.length,xa;Aa<va;++Aa)if("links"===Oa[Aa].name&&(xa=Oa[Aa].op.source)){Ba.pulse(xa,Ba.changeset().reflow());break}}return na.reflow(Y.modified()).modifies(za)}});h.force=Gb;Object.defineProperty(h,"__esModule",
{value:!0})})};
shadow$provide[36]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb):"function"===typeof define&&define.amd?define(["exports"],m):(h=h||self,m(h.d3=h.d3||{}))})(this,function(h){function m(p,q){return p.parent===q.parent?1:2}function x(p,q){return p+q.x}function Wa(p,q){return Math.max(p,q.y)}function Gb(p){for(var q;q=p.children;)p=q[0];return p}function gb(p){for(var q;q=p.children;)p=q[q.length-1];return p}function wb(p){var q=0,t=p.children,G=t&&t.length;
if(G)for(;0<=--G;)q+=t[G].value;else q=1;p.value=q}function Lb(){var p=this,q,t,G,L,ba,Ga;return $jscomp.generator.createGenerator(Lb,function(La){switch(La.nextAddress){case 1:q=p,G=[q];case 2:t=G.reverse(),G=[];case 5:if(!(q=t.pop())){La.jumpTo(4);break}return La.yield(q,7);case 7:if(L=q.children)for(ba=0,Ga=L.length;ba<Ga;++ba)G.push(L[ba]);La.jumpTo(5);break;case 4:G.length?La.jumpTo(2):La.jumpToEnd()}})}function rb(p,q){p instanceof Map?(p=[void 0,p],void 0===q&&(q=Sa)):void 0===q&&(q=Ua);p=
new Y(p);for(var t,G=[p],L,ba,Ga,La;t=G.pop();)if((ba=q(t.data))&&(La=(ba=Array.from(ba)).length))for(t.children=ba,Ga=La-1;0<=Ga;--Ga)G.push(L=ba[Ga]=new Y(ba[Ga])),L.parent=t,L.depth=t.depth+1;return p.eachBefore(za)}function Ua(p){return p.children}function Sa(p){return Array.isArray(p)?p[1]:null}function ab(p){void 0!==p.data.value&&(p.value=p.data.value);p.data=p.data.data}function za(p){var q=0;do p.height=q;while((p=p.parent)&&p.height<++q)}function Y(p){this.data=p;this.depth=this.height=
0;this.parent=null}function na(p){var q=0;p=Array.from(p);for(var t=p.length,G,L;t;)L=Math.random()*t--|0,G=p[t],p[t]=p[L],p[L]=G;t=p.length;G=[];for(var ba;q<t;)if(L=p[q],ba&&Qa(ba,L))++q;else{a:if(q=G,ca(L,q))q=[L];else{for(G=0;G<q.length;++G)if(Ba(L,q[G])&&ca(Z(q[G],L),q)){q=[q[G],L];break a}for(G=0;G<q.length-1;++G)for(ba=G+1;ba<q.length;++ba)if(Ba(Z(q[G],q[ba]),L)&&Ba(Z(q[G],L),q[ba])&&Ba(Z(q[ba],L),q[G])&&ca(Oa(q[G],q[ba],L),q)){q=[q[G],q[ba],L];break a}throw Error();}a:{q=G=q;switch(q.length){case 1:q=
q[0];q={x:q.x,y:q.y,r:q.r};break a;case 2:q=Z(q[0],q[1]);break a;case 3:q=Oa(q[0],q[1],q[2]);break a}q=void 0}ba=q;q=0}return ba}function Ba(p,q){var t=p.r-q.r,G=q.x-p.x;p=q.y-p.y;return 0>t||t*t<G*G+p*p}function Qa(p,q){var t=p.r-q.r+1E-9*Math.max(p.r,q.r,1),G=q.x-p.x;p=q.y-p.y;return 0<t&&t*t>G*G+p*p}function ca(p,q){for(var t=0;t<q.length;++t)if(!Qa(p,q[t]))return!1;return!0}function Z(p,q){var t=p.x,G=p.y;p=p.r;var L=q.x,ba=q.y;q=q.r;var Ga=L-t,La=ba-G,db=q-p,sb=Math.sqrt(Ga*Ga+La*La);return{x:(t+
L+Ga/sb*db)/2,y:(G+ba+La/sb*db)/2,r:(sb+p+q)/2}}function Oa(p,q,t){var G=p.x,L=p.y;p=p.r;var ba=q.x,Ga=q.y,La=q.r,db=t.x,sb=t.y,S=t.r;t=G-ba;q=G-db;var aa=L-Ga,qa=L-sb,ta=La-p,ea=S-p,U=G*G+L*L-p*p;Ga=U-ba*ba-Ga*Ga+La*La;sb=U-db*db-sb*sb+S*S;db=q*aa-t*qa;ba=(aa*sb-qa*Ga)/(2*db)-G;aa=(qa*ta-aa*ea)/db;qa=(q*Ga-t*sb)/(2*db)-L;t=(t*ea-q*ta)/db;q=aa*aa+t*t-1;ta=2*(p+ba*aa+qa*t);p=ba*ba+qa*qa-p*p;p=-(q?(ta+Math.sqrt(ta*ta-4*q*p))/(2*q):p/ta);return{x:G+ba+aa*p,y:L+qa+t*p,r:p}}function Aa(p,q,t){var G=p.x-
q.x,L=p.y-q.y,ba=G*G+L*L;if(ba){var Ga=q.r+t.r;Ga*=Ga;var La=p.r+t.r;La*=La;if(Ga>La){var db=(ba+La-Ga)/(2*ba);Ga=Math.sqrt(Math.max(0,La/ba-db*db));t.x=p.x-db*G-Ga*L;t.y=p.y-db*L+Ga*G}else db=(ba+Ga-La)/(2*ba),Ga=Math.sqrt(Math.max(0,Ga/ba-db*db)),t.x=q.x+db*G-Ga*L,t.y=q.y+db*L+Ga*G}else t.x=q.x+t.r,t.y=q.y}function va(p,q){var t=p.r+q.r-1E-6,G=q.x-p.x;p=q.y-p.y;return 0<t&&t*t>G*G+p*p}function xa(p){var q=p._,t=p.next._,G=q.r+t.r;p=(q.x*t.r+t.x*q.r)/G;q=(q.y*t.r+t.y*q.r)/G;return p*p+q*q}function fa(p){this._=
p;this.previous=this.next=null}function pa(p){if(!(t=(p="object"===typeof p&&"length"in p?p:Array.from(p)).length))return 0;var q,t;var G=p[0];G.x=0;G.y=0;if(!(1<t))return G.r;var L=p[1];G.x=-L.r;L.x=G.r;L.y=0;if(!(2<t))return G.r+L.r;Aa(L,G,q=p[2]);G=new fa(G);L=new fa(L);q=new fa(q);G.next=q.previous=L;L.next=G.previous=q;q.next=L.previous=G;var ba=3;a:for(;ba<t;++ba){Aa(G._,L._,q=p[ba]);q=new fa(q);var Ga=L.next;var La=G.previous;var db=L._.r;var sb=G._.r;do if(db<=sb){if(va(Ga._,q._)){L=Ga;G.next=
L;L.previous=G;--ba;continue a}db+=Ga._.r;Ga=Ga.next}else{if(va(La._,q._)){G=La;G.next=L;L.previous=G;--ba;continue a}sb+=La._.r;La=La.previous}while(Ga!==La.next);q.previous=G;q.next=L;G.next=L.previous=L=q;for(Ga=xa(G);(q=q.next)!==L;)(La=xa(q))<Ga&&(G=q,Ga=La);L=G.next}G=[L._];for(q=L;(q=q.next)!==L;)G.push(q._);q=na(G);for(ba=0;ba<t;++ba)G=p[ba],G.x-=q.x,G.y-=q.y;return q.r}function da(p){if("function"!==typeof p)throw Error();return p}function ua(){return 0}function Ia(p){return function(){return p}}
function wa(p){return Math.sqrt(p.value)}function $a(p){return function(q){q.children||(q.r=Math.max(0,+p(q)||0))}}function ja(p,q){return function(t){if(G=t.children){var G,L,ba=G.length,Ga=p(t)*q||0;if(Ga)for(L=0;L<ba;++L)G[L].r+=Ga;var La=pa(G);if(Ga)for(L=0;L<ba;++L)G[L].r-=Ga;t.r=La+Ga}}}function u(p){return function(q){var t=q.parent;q.r*=p;t&&(q.x=t.x+p*q.x,q.y=t.y+p*q.y)}}function y(p){p.x0=Math.round(p.x0);p.y0=Math.round(p.y0);p.x1=Math.round(p.x1);p.y1=Math.round(p.y1)}function z(p,q,t,
G,L){var ba=p.children,Ga=-1,La=ba.length;for(G=p.value&&(G-q)/p.value;++Ga<La;)p=ba[Ga],p.y0=t,p.y1=L,p.x0=q,p.x1=q+=p.value*G}function D(p){return p.id}function C(p){return p.parentId}function J(p,q){return p.parent===q.parent?1:2}function V(p){var q=p.children;return q?q[0]:p.t}function ia(p){var q=p.children;return q?q[q.length-1]:p.t}function Pa(p,q){this._=p;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=q}function cb(p){p=new Pa(p,0);for(var q,
t=[p],G,L,ba;q=t.pop();)if(L=q._.children)for(q.children=Array(G=L.length),ba=G-1;0<=ba;--ba)t.push(G=q.children[ba]=new Pa(L[ba],ba)),G.parent=q;(p.parent=new Pa(null,0)).children=[p];return p}function M(p,q,t,G,L){var ba=p.children,Ga=-1,La=ba.length;for(L=p.value&&(L-t)/p.value;++Ga<La;)p=ba[Ga],p.x0=q,p.x1=G,p.y0=t,p.y1=t+=p.value*L}function Ka(p,q,t,G,L,ba){for(var Ga=[],La=q.children,db,sb,S=db=0,aa=La.length,qa,ta=q.value,ea,U,Fa,Ja,Ta,ya;db<aa;){q=L-t;qa=ba-G;do ea=La[S++].value;while(!ea&&
S<aa);U=Fa=ea;ya=Math.max(qa/q,q/qa)/(ta*p);Ja=ea*ea*ya;for(Ta=Math.max(Fa/Ja,Ja/U);S<aa;++S){ea+=sb=La[S].value;sb<U&&(U=sb);sb>Fa&&(Fa=sb);Ja=ea*ea*ya;Ja=Math.max(Fa/Ja,Ja/U);if(Ja>Ta){ea-=sb;break}Ta=Ja}Ga.push(db={value:ea,dice:q<qa,children:La.slice(db,S)});db.dice?z(db,t,G,L,ta?G+=qa*ea/ta:ba):M(db,t,G,ta?t+=q*ea/ta:L,ba);ta-=ea;db=S}return Ga}var ka={};Y.prototype=rb.prototype=(ka.constructor=Y,ka.count=function(){return this.eachAfter(wb)},ka.each=function(p,q){for(var t=-1,G=$jscomp.makeIterator(this),
L=G.next();!L.done;L=G.next())p.call(q,L.value,++t,this);return this},ka.eachAfter=function(p,q){for(var t,G=[this],L=[],ba,Ga,La=-1;t=G.pop();)if(L.push(t),t=t.children)for(ba=0,Ga=t.length;ba<Ga;++ba)G.push(t[ba]);for(;t=L.pop();)p.call(q,t,++La,this);return this},ka.eachBefore=function(p,q){for(var t,G=[this],L,ba=-1;t=G.pop();)if(p.call(q,t,++ba,this),t=t.children)for(L=t.length-1;0<=L;--L)G.push(t[L]);return this},ka.find=function(p,q){for(var t=-1,G=$jscomp.makeIterator(this),L=G.next();!L.done;L=
G.next())if(L=L.value,p.call(q,L,++t,this))return L},ka.sum=function(p){return this.eachAfter(function(q){for(var t=+p(q.data)||0,G=q.children,L=G&&G.length;0<=--L;)t+=G[L].value;q.value=t})},ka.sort=function(p){return this.eachBefore(function(q){q.children&&q.children.sort(p)})},ka.path=function(p){var q=this;var t=q;var G=p;if(t!==G){var L=t.ancestors(),ba=G.ancestors(),Ga=null;t=L.pop();for(G=ba.pop();t===G;)Ga=t,t=L.pop(),G=ba.pop();t=Ga}for(G=[q];q!==t;)q=q.parent,G.push(q);for(q=G.length;p!==
t;)G.splice(q,0,p),p=p.parent;return G},ka.ancestors=function(){for(var p=this,q=[p];p=p.parent;)q.push(p);return q},ka.descendants=function(){return Array.from(this)},ka.leaves=function(){var p=[];this.eachBefore(function(q){q.children||p.push(q)});return p},ka.links=function(){var p=this,q=[];p.each(function(t){t!==p&&q.push({source:t.parent,target:t})});return q},ka.copy=function(){return rb(this).eachBefore(ab)},ka[Symbol.iterator]=Lb,ka);var ha={depth:-1},w={};Pa.prototype=Object.create(Y.prototype);
ka=(1+Math.sqrt(5))/2;var H=function t(q){function G(L,ba,Ga,La,db){Ka(q,L,ba,Ga,La,db)}G.ratio=function(L){return t(1<(L=+L)?L:1)};return G}(ka);ka=function G(t){function L(ba,Ga,La,db,sb){if((S=ba._squarify)&&S.ratio===t)for(var S,aa,qa,ta=-1,ea,U=S.length,Fa=ba.value;++ta<U;){ba=S[ta];aa=ba.children;qa=ba.value=0;for(ea=aa.length;qa<ea;++qa)ba.value+=aa[qa].value;ba.dice?z(ba,Ga,La,db,Fa?La+=(sb-La)*ba.value/Fa:sb):M(ba,Ga,La,Fa?Ga+=(db-Ga)*ba.value/Fa:db,sb);Fa-=ba.value}else ba._squarify=S=Ka(t,
ba,Ga,La,db,sb),S.ratio=t}L.ratio=function(ba){return G(1<(ba=+ba)?ba:1)};return L}(ka);h.cluster=function(){function t(La){var db,sb=0;La.eachAfter(function(ea){var U=ea.children;if(U){var Fa=U.reduce(x,0)/U.length;ea.x=Fa;ea.y=1+U.reduce(Wa,0)}else ea.x=db?sb+=G(ea,db):0,ea.y=0,db=ea});var S=Gb(La),aa=gb(La),qa=S.x-G(S,aa)/2,ta=aa.x+G(aa,S)/2;return La.eachAfter(Ga?function(ea){ea.x=(ea.x-La.x)*L;ea.y=(La.y-ea.y)*ba}:function(ea){ea.x=(ea.x-qa)/(ta-qa)*L;ea.y=(1-(La.y?ea.y/La.y:1))*ba})}var G=m,
L=1,ba=1,Ga=!1;t.separation=function(La){return arguments.length?(G=La,t):G};t.size=function(La){return arguments.length?(Ga=!1,L=+La[0],ba=+La[1],t):Ga?null:[L,ba]};t.nodeSize=function(La){return arguments.length?(Ga=!0,L=+La[0],ba=+La[1],t):Ga?[L,ba]:null};return t};h.hierarchy=rb;h.pack=function(){function t(La){La.x=L/2;La.y=ba/2;G?La.eachBefore($a(G)).eachAfter(ja(Ga,.5)).eachBefore(u(1)):La.eachBefore($a(wa)).eachAfter(ja(ua,1)).eachAfter(ja(Ga,La.r/Math.min(L,ba))).eachBefore(u(Math.min(L,
ba)/(2*La.r)));return La}var G=null,L=1,ba=1,Ga=ua;t.radius=function(La){return arguments.length?(G=null==La?null:da(La),t):G};t.size=function(La){return arguments.length?(L=+La[0],ba=+La[1],t):[L,ba]};t.padding=function(La){return arguments.length?(Ga="function"===typeof La?La:Ia(+La),t):Ga};return t};h.packEnclose=na;h.packSiblings=function(t){pa(t);return t};h.partition=function(){function t(db){var sb=db.height+1;db.x0=db.y0=Ga;db.x1=L;db.y1=ba/sb;db.eachBefore(G(ba,sb));La&&db.eachBefore(y);
return db}function G(db,sb){return function(S){S.children&&z(S,S.x0,db*(S.depth+1)/sb,S.x1,db*(S.depth+2)/sb);var aa=S.x0,qa=S.y0,ta=S.x1-Ga,ea=S.y1-Ga;ta<aa&&(aa=ta=(aa+ta)/2);ea<qa&&(qa=ea=(qa+ea)/2);S.x0=aa;S.y0=qa;S.x1=ta;S.y1=ea}}var L=1,ba=1,Ga=0,La=!1;t.round=function(db){return arguments.length?(La=!!db,t):La};t.size=function(db){return arguments.length?(L=+db[0],ba=+db[1],t):[L,ba]};t.padding=function(db){return arguments.length?(Ga=+db,t):Ga};return t};h.stratify=function(){function t(ba){var Ga=
Array.from(ba),La=Ga.length,db,sb,S=new Map;for(db=0;db<La;++db){var aa=Ga[db];var qa=Ga[db]=new Y(aa);if(null!=(sb=G(aa,db,ba))&&(sb+="")){var ta=qa.id=sb;S.set(ta,S.has(ta)?w:qa)}null!=(sb=L(aa,db,ba))&&(sb+="")&&(qa.parent=sb)}for(db=0;db<La;++db)if(qa=Ga[db],sb=qa.parent){ba=S.get(sb);if(!ba)throw Error("missing: "+sb);if(ba===w)throw Error("ambiguous: "+sb);ba.children?ba.children.push(qa):ba.children=[qa];qa.parent=ba}else{if(ea)throw Error("multiple roots");var ea=qa}if(!ea)throw Error("no root");
ea.parent=ha;ea.eachBefore(function(U){U.depth=U.parent.depth+1;--La}).eachBefore(za);ea.parent=null;if(0<La)throw Error("cycle");return ea}var G=D,L=C;t.id=function(ba){return arguments.length?(G=da(ba),t):G};t.parentId=function(ba){return arguments.length?(L=da(ba),t):L};return t};h.tree=function(){function t(S){var aa=cb(S);aa.eachAfter(G);aa.parent.m=-aa.z;aa.eachBefore(L);if(sb)S.eachBefore(ba);else{var qa=S,ta=S,ea=S;S.eachBefore(function(Ta){Ta.x<qa.x&&(qa=Ta);Ta.x>ta.x&&(ta=Ta);Ta.depth>ea.depth&&
(ea=Ta)});aa=qa===ta?1:Ga(qa,ta)/2;var U=aa-qa.x,Fa=La/(ta.x+aa+U),Ja=db/(ea.depth||1);S.eachBefore(function(Ta){Ta.x=(Ta.x+U)*Fa;Ta.y=Ta.depth*Ja})}return S}function G(S){var aa=S.children,qa=S.parent.children,ta=S.i?qa[S.i-1]:null;if(aa){for(var ea=0,U=0,Fa=S.children,Ja=Fa.length,Ta;0<=--Ja;)Ta=Fa[Ja],Ta.z+=ea,Ta.m+=ea,ea+=Ta.s+(U+=Ta.c);aa=(aa[0].z+aa[aa.length-1].z)/2;ta?(S.z=ta.z+Ga(S._,ta._),S.m=S.z-aa):S.z=aa}else ta&&(S.z=ta.z+Ga(S._,ta._));aa=S.parent;qa=S.parent.A||qa[0];if(ta){U=ea=S;
Fa=ea.parent.children[0];Ja=ea.m;Ta=U.m;for(var ya=ta.m,lb=Fa.m,yb;ta=ia(ta),ea=V(ea),ta&&ea;){Fa=V(Fa);U=ia(U);U.a=S;yb=ta.z+ya-ea.z-Ja+Ga(ta._,ea._);if(0<yb){var Ya=ta.a.parent===S.parent?ta.a:qa,Ob=S,Qb=yb,Zb=Qb/(Ob.i-Ya.i);Ob.c-=Zb;Ob.s+=Qb;Ya.c+=Zb;Ob.z+=Qb;Ob.m+=Qb;Ja+=yb;Ta+=yb}ya+=ta.m;Ja+=ea.m;lb+=Fa.m;Ta+=U.m}ta&&!ia(U)&&(U.t=ta,U.m+=ya-Ta);ea&&!V(Fa)&&(Fa.t=ea,Fa.m+=Ja-lb,qa=S)}aa.A=qa}function L(S){S._.x=S.z+S.parent.m;S.m+=S.parent.m}function ba(S){S.x*=La;S.y=S.depth*db}var Ga=J,La=
1,db=1,sb=null;t.separation=function(S){return arguments.length?(Ga=S,t):Ga};t.size=function(S){return arguments.length?(sb=!1,La=+S[0],db=+S[1],t):sb?null:[La,db]};t.nodeSize=function(S){return arguments.length?(sb=!0,La=+S[0],db=+S[1],t):sb?[La,db]:null};return t};h.treemap=function(){function t(ea){ea.x0=ea.y0=0;ea.x1=Ga;ea.y1=La;ea.eachBefore(G);db=[0];ba&&ea.eachBefore(y);return ea}function G(ea){var U=db[ea.depth],Fa=ea.x0+U,Ja=ea.y0+U,Ta=ea.x1-U,ya=ea.y1-U;Ta<Fa&&(Fa=Ta=(Fa+Ta)/2);ya<Ja&&(Ja=
ya=(Ja+ya)/2);ea.x0=Fa;ea.y0=Ja;ea.x1=Ta;ea.y1=ya;ea.children&&(U=db[ea.depth+1]=sb(ea)/2,Fa+=ta(ea)-U,Ja+=S(ea)-U,Ta-=aa(ea)-U,ya-=qa(ea)-U,Ta<Fa&&(Fa=Ta=(Fa+Ta)/2),ya<Ja&&(Ja=ya=(Ja+ya)/2),L(ea,Fa,Ja,Ta,ya))}var L=H,ba=!1,Ga=1,La=1,db=[0],sb=ua,S=ua,aa=ua,qa=ua,ta=ua;t.round=function(ea){return arguments.length?(ba=!!ea,t):ba};t.size=function(ea){return arguments.length?(Ga=+ea[0],La=+ea[1],t):[Ga,La]};t.tile=function(ea){return arguments.length?(L=da(ea),t):L};t.padding=function(ea){return arguments.length?
t.paddingInner(ea).paddingOuter(ea):t.paddingInner()};t.paddingInner=function(ea){return arguments.length?(sb="function"===typeof ea?ea:Ia(+ea),t):sb};t.paddingOuter=function(ea){return arguments.length?t.paddingTop(ea).paddingRight(ea).paddingBottom(ea).paddingLeft(ea):t.paddingTop()};t.paddingTop=function(ea){return arguments.length?(S="function"===typeof ea?ea:Ia(+ea),t):S};t.paddingRight=function(ea){return arguments.length?(aa="function"===typeof ea?ea:Ia(+ea),t):aa};t.paddingBottom=function(ea){return arguments.length?
(qa="function"===typeof ea?ea:Ia(+ea),t):qa};t.paddingLeft=function(ea){return arguments.length?(ta="function"===typeof ea?ea:Ia(+ea),t):ta};return t};h.treemapBinary=function(t,G,L,ba,Ga){function La(ta,ea,U,Fa,Ja,Ta,ya){if(ta>=ea-1)ta=db[ta],ta.x0=Fa,ta.y0=Ja,ta.x1=Ta,ta.y1=ya;else{for(var lb=qa[ta],yb=U/2+lb,Ya=ta+1,Ob=ea-1;Ya<Ob;){var Qb=Ya+Ob>>>1;qa[Qb]<yb?Ya=Qb+1:Ob=Qb}yb-qa[Ya-1]<qa[Ya]-yb&&ta+1<Ya&&--Ya;lb=qa[Ya]-lb;yb=U-lb;Ta-Fa>ya-Ja?(U=U?(Fa*yb+Ta*lb)/U:Ta,La(ta,Ya,lb,Fa,Ja,U,ya),La(Ya,
ea,yb,U,Ja,Ta,ya)):(U=U?(Ja*yb+ya*lb)/U:ya,La(ta,Ya,lb,Fa,Ja,Ta,U),La(Ya,ea,yb,Fa,U,Ta,ya))}}var db=t.children,sb,S=db.length,aa,qa=Array(S+1);for(qa[0]=aa=sb=0;sb<S;++sb)qa[sb+1]=aa+=db[sb].value;La(0,S,t.value,G,L,ba,Ga)};h.treemapDice=z;h.treemapResquarify=ka;h.treemapSlice=M;h.treemapSliceDice=function(t,G,L,ba,Ga){(t.depth&1?M:z)(t,G,L,ba,Ga)};h.treemapSquarify=H;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[37]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(14),xb(0),xb(36)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-hierarchy"],m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.vega={},h.vega,h.vega,h.d3))})(this,function(h,m,x,Wa){function Gb(Aa,va,xa){var fa={};Aa.each(function(pa){var da=pa.data;xa(da)&&(fa[va(da)]=pa)});Aa.lookup=fa;return Aa}function gb(Aa){m.Transform.call(this,null,
Aa)}function wb(){function Aa(pa,da){if(da>=xa.length)return pa;for(var ua=pa.length,Ia=xa[da++],wa={},$a={},ja=-1,u,y,z;++ja<ua;)u=Ia(y=pa[ja])+"",(z=wa[u])?z.push(y):wa[u]=[y];for(u in wa)$a[u]=Aa(wa[u],da);return $a}function va(pa,da){if(++da>xa.length)return pa;var ua=[],Ia;for(Ia in pa)ua.push({key:Ia,values:va(pa[Ia],da)});return ua}var xa=[],fa={entries:function(pa){return va(Aa(pa,0),0)},key:function(pa){return xa.push(pa),fa}};return fa}function Lb(Aa){m.Transform.call(this,null,Aa)}function rb(Aa,
va,xa){for(var fa,pa=0,da=va.length;pa<da;++pa)if(fa=va[pa],fa in xa)Aa[fa](xa[fa])}function Ua(Aa){Lb.call(this,Aa)}function Sa(Aa){Lb.call(this,Aa)}function ab(Aa){m.Transform.call(this,null,Aa)}function za(Aa){Lb.call(this,Aa)}function Y(Aa){m.Transform.call(this,[],Aa)}function na(Aa){Lb.call(this,Aa)}gb.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};var Ba=function(Aa){return Aa.values};x.inherits(gb,
m.Transform,{transform:function(Aa,va){va.source||x.error("Nest transform requires an upstream data source.");var xa=Aa.generate,fa=Aa.modified(),pa=va.clone(),da=this.value;if(!da||fa||va.changed())da&&da.each(function(ua){ua.children&&m.isTuple(ua.data)&&pa.rem.push(ua.data)}),this.value=da=Wa.hierarchy({values:x.array(Aa.keys).reduce(function(ua,Ia){ua.key(Ia);return ua},wb()).entries(pa.source)},Ba),xa&&da.each(function(ua){ua.children&&(ua=m.ingest(ua.data),pa.add.push(ua),pa.source.push(ua))}),
Gb(da,m.tupleid,m.tupleid);pa.source.root=da;return pa}});var Qa=function(Aa,va){return Aa.parent===va.parent?1:2};x.inherits(Lb,m.Transform,{transform:function(Aa,va){va.source&&va.source.root||x.error(this.constructor.name+" transform requires a backing tree data source.");var xa=this.layout(Aa.method),fa=this.fields,pa=va.source.root,da=Aa.as||fa;Aa.field?pa.sum(Aa.field):pa.count();Aa.sort&&pa.sort(m.stableCompare(Aa.sort,function(ua){return ua.data}));rb(xa,this.params,Aa);xa.separation&&xa.separation(!1!==
Aa.separation?Qa:x.one);try{this.value=xa(pa)}catch(ua){x.error(ua)}pa.each(function(ua){for(var Ia=ua.data,wa=fa.length-1,$a=0;$a<wa;++$a)Ia[da[$a]]=ua[fa[$a]];Ia[da[wa]]=ua.children?ua.children.length:0});return va.reflow(Aa.modified()).modifies(da).modifies("leaf")}});var ca=["x","y","r","depth","children"];Ua.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field",
"default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:ca.length,"default":ca}]};x.inherits(Ua,Lb,{layout:Wa.pack,params:["radius","size","padding"],fields:ca});ca="x0 y0 x1 y1 depth children".split(" ");Sa.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,
length:2},{name:"as",type:"string",array:!0,length:ca.length,"default":ca}]};x.inherits(Sa,Lb,{layout:Wa.partition,params:["size","round","padding"],fields:ca});ab.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};x.inherits(ab,m.Transform,{transform:function(Aa,va){va.source||x.error("Stratify transform requires an upstream data source.");var xa=this.value,fa=Aa.modified(),pa=va.fork(va.ALL).materialize(va.SOURCE);
va=!xa||fa||va.changed(va.ADD_REM)||va.modified(Aa.key.fields)||va.modified(Aa.parentKey.fields);pa.source=pa.source.slice();va&&(xa=pa.source.length?Gb(Wa.stratify().id(Aa.key).parentId(Aa.parentKey)(pa.source),Aa.key,x.truthy):Gb(Wa.stratify()([{}]),Aa.key,Aa.key));pa.source.root=this.value=xa;return pa}});var Z={tidy:Wa.tree,cluster:Wa.cluster};ca=["x","y","depth","children"];za.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},
{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:ca.length,"default":ca}]};x.inherits(za,Lb,{layout:function(Aa){Aa=Aa||"tidy";if(x.hasOwnProperty(Z,Aa))return Z[Aa]();x.error("Unrecognized Tree layout method: "+Aa)},params:["size","nodeSize"],fields:ca});Y.Definition={type:"TreeLinks",metadata:{tree:!0,
generates:!0,changes:!0},params:[]};x.inherits(Y,m.Transform,{transform:function(Aa,va){Aa=this.value;var xa=va.source&&va.source.root,fa=va.fork(va.NO_SOURCE),pa={};xa||x.error("TreeLinks transform requires a tree data source.");va.changed(va.ADD_REM)?(fa.rem=Aa,va.visit(va.SOURCE,function(da){return pa[m.tupleid(da)]=1}),xa.each(function(da){var ua=da.data;(da=da.parent&&da.parent.data)&&pa[m.tupleid(ua)]&&pa[m.tupleid(da)]&&fa.add.push(m.ingest({source:da,target:ua}))}),this.value=fa.add):va.changed(va.MOD)&&
(va.visit(va.MOD,function(da){return pa[m.tupleid(da)]=1}),Aa.forEach(function(da){(pa[m.tupleid(da.source)]||pa[m.tupleid(da.target)])&&fa.mod.push(da)}));return fa}});var Oa={binary:Wa.treemapBinary,dice:Wa.treemapDice,slice:Wa.treemapSlice,slicedice:Wa.treemapSliceDice,squarify:Wa.treemapSquarify,resquarify:Wa.treemapResquarify};ca="x0 y0 x1 y1 depth children".split(" ");na.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},
{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},
{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:ca.length,"default":ca}]};x.inherits(na,Lb,{layout:function(){var Aa=Wa.treemap();Aa.ratio=function(va){var xa=Aa.tile();xa.ratio&&Aa.tile(xa.ratio(va))};Aa.method=function(va){x.hasOwnProperty(Oa,va)?Aa.tile(Oa[va]):x.error("Unrecognized Treemap layout method: "+va)};return Aa},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),
fields:ca});h.nest=gb;h.pack=Ua;h.partition=Sa;h.stratify=ab;h.tree=za;h.treelinks=Y;h.treemap=na;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[38]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(19),xb(14),xb(24),xb(0)):"function"===typeof define&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-scenegraph","vega-util"],m):(h="undefined"!==typeof globalThis?globalThis:h||self,m((h.vega=h.vega||{},h.vega.transforms={}),h.vega,h.vega,h.vega,h.vega))})(this,function(h,m,x,Wa,Gb){function gb(u,y){var z=u.bitmap();(y||[]).forEach(function(D){return z.set(u(D.boundary[0]),
u(D.boundary[3]))});return[z,void 0]}function wb(u,y,z,D){var C=u.width,J=u.height,V=z||D,ia=m.canvas(C,J).getContext("2d");y.forEach(function(w){return Lb(ia,w,V)});y=new Uint32Array(ia.getImageData(0,0,C,J).data.buffer);z=u.bitmap();var Pa=V&&u.bitmap(),cb,M,Ka;for(M=0;M<J;++M)for(cb=0;cb<C;++cb)if(Ka=y[M*C+cb]&4278190080){var ka=u(cb);var ha=u(M);D||z.set(ka,ha);V&&Ka^268435456&&Pa.set(ka,ha)}return[z,Pa]}function Lb(u,y,z){if(y.length){var D=y[0].mark.marktype;"group"===D?y.forEach(function(C){C.items.forEach(function(J){return Lb(u,
J.items,z)})}):Wa.Marks[D].draw(u,{items:z?y.map(rb):y})}}function rb(u){u=x.rederive(u,{});u.stroke&&(u.strokeOpacity=1);u.fill&&(u.fillOpacity=.0625,u.stroke="#000",u.strokeOpacity=1,u.strokeWidth=2);return u}function Ua(u,y){var z=new Uint32Array(~~((u*y+32)/32));return{array:z,get:function(D,C){D=C*u+D;return z[D>>>5]&1<<(D&31)},set:function(D,C){D=C*u+D;z[D>>>5]|=1<<(D&31)},clear:function(D,C){D=C*u+D;z[D>>>5]&=~(1<<(D&31))},getRange:function(D,C,J,V){for(var ia,Pa,cb,M;V>=C;--V)if(ia=V*u+D,
Pa=V*u+J,cb=ia>>>5,M=Pa>>>5,cb===M){if(z[cb]&Aa[ia&31]&va[(Pa&31)+1])return!0}else{if(z[cb]&Aa[ia&31]||z[M]&va[(Pa&31)+1])return!0;for(ia=cb+1;ia<M;++ia)if(z[ia])return!0}return!1},setRange:function(D,C,J,V){for(var ia,Pa,cb,M;C<=V;++C)if(ia=C*u+D,Pa=C*u+J,cb=ia>>>5,M=Pa>>>5,cb===M)z[cb]|=Aa[ia&31]&va[(Pa&31)+1];else for(z[cb]|=Aa[ia&31],z[M]|=va[(Pa&31)+1],ia=cb+1;ia<M;++ia)z[ia]|=4294967295},clearRange:function(D,C,J,V){for(var ia,Pa,cb,M;C<=V;++C)if(ia=C*u+D,Pa=C*u+J,cb=ia>>>5,M=Pa>>>5,cb===M)z[cb]&=
va[ia&31]|Aa[(Pa&31)+1];else for(z[cb]&=va[ia&31],z[M]&=Aa[(Pa&31)+1],ia=cb+1;ia<M;++ia)z[ia]&=0},outOfBounds:function(D,C,J,V){return 0>D||0>C||V>=y||J>=u}}}function Sa(u,y,z){var D=Math.max(1,Math.sqrt(u*y/1E6)),C=~~((u+2*z+D)/D),J=~~((y+2*z+D)/D),V=function(ia){return~~((ia+z)/D)};V.invert=function(ia){return ia*D-z};V.bitmap=function(){return Ua(C,J)};V.ratio=D;V.padding=z;V.width=u;V.height=y;return V}function ab(u,y,z,D,C,J){z/=2;return 0>u-z||u+z>C||0>y-(z=D/2)||y+z>J}function za(u,y,z,D,C,
J,V,ia){C=C*J/(2*D);D=u(y-C);y=u(y+C);C=u(z-(J/=2));u=u(z+J);return V.outOfBounds(D,C,y,u)||V.getRange(D,C,y,u)||ia&&ia.getRange(D,C,y,u)}function Y(u,y,z,D){var C=u.width,J=u.height,V=y[0],ia=y[1],Pa=D.length;return function(cb){var M=cb.boundary,Ka=cb.datum.fontSize;if(0>M[2]||0>M[5]||M[0]>C||M[3]>J)return!1;for(var ka=0,ha,w,H,p,q,t,G,L,ba,Ga,La,db,sb,S,aa=0;aa<Pa;++aa){ha=(z[aa]&3)-1;w=(z[aa]>>>2&3)-1;H=0===ha&&0===w||0>D[aa];p=ha&&w?Math.SQRT1_2:1;q=0>D[aa]?-1:1;t=M[1+ha]+D[aa]*ha*p;Ga=M[4+w]+
q*Ka*w/2+D[aa]*w*p;p=Ga-Ka/2;L=Ga+Ka/2;La=u(t);sb=u(p);S=u(L);if(!ka){G=La;ba=sb;db=S;var qa=t,ta=t,ea=p,U=L,Fa=H;if(!V.outOfBounds(G,ba,La,db)&&(Fa&&ia?!ia.getRange(G,ba,La,db)&&M[0]<=qa&&ta<=M[2]&&M[3]<=ea&&U<=M[5]:!V.getRange(G,ba,La,db)))ka=Wa.textMetrics.width(cb.datum,cb.datum.text);else continue}ba=t+q*ka*ha/2;t=ba-ka/2;G=ba+ka/2;La=u(t);db=u(G);qa=La;ta=db;ea=sb;U=S;Fa=t;var Ja=G,Ta=p,ya=L;if(!V.outOfBounds(qa,ea,ta,U)&&(H&&ia?!ia.getRange(qa,ea,ta,U)&&M[0]<=Fa&&Ja<=M[2]&&M[3]<=Ta&&ya<=M[5]:
!V.getRange(qa,ea,ta,U)))return cb.x=ha?0>ha*q?G:t:ba,cb.y=w?0>w*q?L:p:Ga,cb.align=da[ha*q+1],cb.baseline=ua[w*q+1],V.setRange(La,sb,db,S),!0}return!1}}function na(u,y,z,D,C,J,V,ia,Pa,cb,M){if(!u.length)return u;var Ka=Math.max(D.length,C.length);D=Ba(D,Ka);C=Qa(C,Ka);Ka=ca(u[0].datum);var ka="group"===Ka&&u[0].datum.items[Pa].marktype,ha="area"===ka,w=Z(Ka,ka,ia,Pa);y=Sa(y[0],y[1],cb);cb=ha&&"naive"===M;ia=u.map(function(q){return{datum:q,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,
boundary:w(q)}});if(!cb){z&&ia.sort(function(q,t){return z(q.datum,t.datum)});var H=!1;for(cb=0;cb<C.length&&!H;++cb)H=5===C[cb]||0>D[cb];Ka&&(V||ha)&&(J=[u.map(function(q){return q.datum})].concat(J));H=J.length?wb(y,J,H,ha):gb(y,V&&ia)}var p=ha?wa[M](y,H,V,Pa):Y(y,H,C,D);ia.forEach(function(q){return q.opacity=+p(q)});return ia}function Ba(u,y){for(var z=new Float64Array(y),D=u.length,C=0;C<D;++C)z[C]=u[C]||0;for(u=D;u<y;++u)z[u]=z[D-1];return z}function Qa(u,y){for(var z=new Int8Array(y),D=u.length,
C=0;C<D;++C)z[C]|=Ia[u[C]];for(u=D;u<y;++u)z[u]=z[D-1];return z}function ca(u){return u&&u.mark&&u.mark.marktype}function Z(u,y,z,D){var C=function(J){return[J.x,J.x,J.x,J.y,J.y,J.y]};return u?"line"===u||"area"===u?function(J){return C(J.datum)}:"line"===y?function(J){J=J.datum.items[D].items;return C(J.length?J["start"===z?0:J.length-1]:{x:NaN,y:NaN})}:function(J){J=J.datum.bounds;return[J.x1,(J.x1+J.x2)/2,J.x2,J.y1,(J.y1+J.y2)/2,J.y2]}:C}function Oa(u){x.Transform.call(this,null,u)}var Aa=new Uint32Array(33),
va=new Uint32Array(33);va[0]=0;Aa[0]=~va[0];for(var xa=1;32>=xa;++xa)va[xa]=va[xa-1]<<1|1,Aa[xa]=~va[xa];var fa=[-1,-1,1,1],pa=[-1,1,-1,1],da=["right","center","left"],ua=["bottom","middle","top"],Ia={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},wa={naive:function(u,y,z,D){var C=u.width,J=u.height;return function(V){for(var ia=V.datum.datum.items[D].items,Pa=ia.length,cb=V.datum.fontSize,M=Wa.textMetrics.width(V.datum,V.datum.text),Ka=0,ka,ha,
w,H,p,q,t=0;t<Pa;++t)ka=ia[t].x,w=ia[t].y,ha=void 0===ia[t].x2?ka:ia[t].x2,H=void 0===ia[t].y2?w:ia[t].y2,p=(ka+ha)/2,q=(w+H)/2,ka=Math.abs(ha-ka+H-w),ka>=Ka&&(Ka=ka,V.x=p,V.y=q);p=M/2;q=cb/2;ka=V.x-p;ha=V.x+p;w=V.y-q;H=V.y+q;V.align="center";0>ka&&ha<=C?V.align="left":0<=ka&&C<ha&&(V.align="right");V.baseline="middle";0>w&&H<=J?V.baseline="top":0<=w&&J<H&&(V.baseline="bottom");return!0}},"reduced-search":function(u,y,z,D){function C(cb,M,Ka,ka,ha){cb=u.invert(cb);M=u.invert(M);var w=Ka,H=V;if(!ab(cb,
M,ka,ha,J,V)&&!za(u,cb,M,ha,ka,w,ia,Pa)&&!za(u,cb,M,ha,ka,ha,ia,null)){for(;1<=H-w;){var p=(w+H)/2;za(u,cb,M,ha,ka,p,ia,Pa)?H=p:w=p}if(w>Ka)return[cb,M,w,!0]}}var J=u.width,V=u.height,ia=y[0],Pa=y[1];return function(cb){for(var M=cb.datum.datum.items[D].items,Ka=M.length,ka=cb.datum.fontSize,ha=Wa.textMetrics.width(cb.datum,cb.datum.text),w=z?ka:0,H=!1,p=!1,q=0,t,G,L,ba,Ga,La,db,sb,S,aa,qa,ta,ea,U=0;U<Ka;++U){t=M[U].x;L=M[U].y;G=void 0===M[U].x2?t:M[U].x2;ba=void 0===M[U].y2?L:M[U].y2;t>G&&(Ga=t,
t=G,G=Ga);L>ba&&(Ga=L,L=ba,ba=Ga);db=u(t);S=u(G);sb=~~((db+S)/2);aa=u(L);ta=u(ba);qa=~~((aa+ta)/2);for(Ga=sb;Ga>=db;--Ga)for(La=qa;La>=aa;--La)if(ea=C(Ga,La,w,ha,ka))H=$jscomp.makeIterator(ea),cb.x=H.next().value,cb.y=H.next().value,w=H.next().value,H=H.next().value;for(Ga=sb;Ga<=S;++Ga)for(La=qa;La<=ta;++La)if(ea=C(Ga,La,w,ha,ka))H=$jscomp.makeIterator(ea),cb.x=H.next().value,cb.y=H.next().value,w=H.next().value,H=H.next().value;H||z||(Ga=Math.abs(G-t+ba-L),t=(t+G)/2,L=(L+ba)/2,Ga>=q&&!ab(t,L,ha,
ka,J,V)&&!za(u,t,L,ka,ha,ka,ia,null)&&(q=Ga,cb.x=t,cb.y=L,p=!0))}return H||p?(t=ha/2,L=ka/2,ia.setRange(u(cb.x-t),u(cb.y-L),u(cb.x+t),u(cb.y+L)),cb.align="center",cb.baseline="middle",!0):!1}},floodfill:function(u,y,z,D){var C=u.width,J=u.height,V=y[0],ia=y[1],Pa=u.bitmap();return function(cb){for(var M=cb.datum.datum.items[D].items,Ka=M.length,ka=cb.datum.fontSize,ha=Wa.textMetrics.width(cb.datum,cb.datum.text),w=[],H=z?ka:0,p=!1,q=!1,t=0,G,L,ba,Ga,La,db,sb,S,aa,qa=0;qa<Ka;++qa){G=M[qa].x;ba=M[qa].y;
L=void 0===M[qa].x2?G:M[qa].x2;Ga=void 0===M[qa].y2?ba:M[qa].y2;for(w.push([u((G+L)/2),u((ba+Ga)/2)]);w.length;)if(La=$jscomp.makeIterator(w.pop()),sb=La.next().value,S=La.next().value,!(V.get(sb,S)||ia.get(sb,S)||Pa.get(sb,S))){Pa.set(sb,S);for(aa=0;4>aa;++aa)La=sb+fa[aa],db=S+pa[aa],Pa.outOfBounds(La,db,La,db)||w.push([La,db]);La=u.invert(sb);db=u.invert(S);sb=H;S=J;if(!ab(La,db,ha,ka,C,J)&&!za(u,La,db,ka,ha,sb,V,ia)&&!za(u,La,db,ka,ha,ka,V,null)){for(;1<=S-sb;)aa=(sb+S)/2,za(u,La,db,ka,ha,aa,V,
ia)?S=aa:sb=aa;sb>H&&(cb.x=La,cb.y=db,H=sb,p=!0)}}p||z||(sb=Math.abs(L-G+Ga-ba),La=(G+L)/2,db=(ba+Ga)/2,sb>=t&&!ab(La,db,ha,ka,C,J)&&!za(u,La,db,ka,ha,ka,V,null)&&(t=sb,cb.x=La,cb.y=db,q=!0))}return p||q?(La=ha/2,db=ka/2,V.setRange(u(cb.x-La),u(cb.y-db),u(cb.x+La),u(cb.y+db)),cb.align="center",cb.baseline="middle",!0):!1}}},$a=["x","y","opacity","align","baseline"],ja="top-left left bottom-left top bottom top-right right bottom-right".split(" ");Oa.Definition={type:"Label",metadata:{modifies:!0},
params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:ja},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",
array:!0,length:$a.length,default:$a}]};Gb.inherits(Oa,x.Transform,{transform:function(u,y){function z(J){J=u[J];return Gb.isFunction(J)&&y.modified(J.fields)}var D=u.modified();if(D||y.changed(y.ADD_REM)||z("sort")){u.size&&2===u.size.length||Gb.error("Size parameter should be specified as a [width, height] array.");var C=u.as||$a;na(y.materialize(y.SOURCE).source,u.size,u.sort,Gb.array(u.offset||1),Gb.array(u.anchor||ja),u.avoidMarks||[],!1===u.avoidBaseMark?!1:!0,u.lineAnchor||"end",u.markIndex||
0,u.padding||0,u.method||"naive").forEach(function(J){var V=J.datum;V[C[0]]=J.x;V[C[1]]=J.y;V[C[2]]=J.opacity;V[C[3]]=J.align;V[C[4]]=J.baseline});return y.reflow(D).modifies(C)}}});h.label=Oa;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[39]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(15),xb(14),xb(0)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.vega={},h.vega,h.vega,h.vega))})(this,function(h,m,x,Wa){function Gb(rb,Ua){var Sa=[],ab=function(Z){return Z(Ba)},za;if(null==Ua)Sa.push(rb);else{var Y={};var na=0;for(za=rb.length;na<za;++na){var Ba=rb[na];
var Qa=Ua.map(ab);var ca=Y[Qa];ca||(Y[Qa]=ca=[],ca.dims=Qa,Sa.push(ca));ca.push(Ba)}}return Sa}function gb(rb){x.Transform.call(this,null,rb)}function wb(rb){x.Transform.call(this,null,rb)}gb.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};Wa.inherits(gb,x.Transform,{transform:function(rb,Ua){var Sa=
Ua.fork(Ua.NO_SOURCE|Ua.NO_FIELDS);if(!this.value||Ua.changed()||rb.modified()){Ua=Ua.materialize(Ua.SOURCE).source;Ua=Gb(Ua,rb.groupby);var ab=(rb.groupby||[]).map(Wa.accessorName),za=ab.length,Y=rb.as||[Wa.accessorName(rb.x),Wa.accessorName(rb.y)],na=[];Ua.forEach(function(Ba){m.regressionLoess(Ba,rb.x,rb.y,rb.bandwidth||.3).forEach(function(Qa){for(var ca={},Z=0;Z<za;++Z)ca[ab[Z]]=Ba.dims[Z];ca[Y[0]]=Qa[0];ca[Y[1]]=Qa[1];na.push(x.ingest(ca))})});this.value&&(Sa.rem=this.value);this.value=Sa.add=
Sa.source=na}return Sa}});var Lb={linear:m.regressionLinear,log:m.regressionLog,exp:m.regressionExp,pow:m.regressionPow,quad:m.regressionQuad,poly:m.regressionPoly};wb.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(Lb)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},
{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};Wa.inherits(wb,x.Transform,{transform:function(rb,Ua){var Sa=Ua.fork(Ua.NO_SOURCE|Ua.NO_FIELDS);if(!this.value||Ua.changed()||rb.modified()){var ab=Ua.materialize(Ua.SOURCE).source;ab=Gb(ab,rb.groupby);var za=(rb.groupby||[]).map(Wa.accessorName),Y=rb.method||"linear",na=rb.order||3,Ba="poly"===Y?na:"quad"===Y?2:1,Qa=rb.as||[Wa.accessorName(rb.x),Wa.accessorName(rb.y)],ca=Lb[Y],Z=[],Oa=rb.extent;Wa.hasOwnProperty(Lb,
Y)||Wa.error("Invalid regression method: "+Y);null!=Oa&&"log"===Y&&0>=Oa[0]&&(Ua.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),Oa=null);ab.forEach(function(Aa){if(Aa.length<=Ba)Ua.dataflow.warn("Skipping regression with more parameters than data points.");else{var va=ca(Aa,rb.x,rb.y,na);if(rb.params)Z.push(x.ingest({keys:Aa.dims,coef:va.coef,rSquared:va.rSquared}));else{var xa=Oa||Wa.extent(Aa,rb.x),fa=function(pa){for(var da={},ua=0;ua<za.length;++ua)da[za[ua]]=Aa.dims[ua];
da[Qa[0]]=pa[0];da[Qa[1]]=pa[1];Z.push(x.ingest(da))};"linear"===Y?xa.forEach(function(pa){return fa([pa,va.predict(pa)])}):m.sampleCurve(va.predict,xa,25,200).forEach(fa)}}});this.value&&(Sa.rem=this.value);this.value=Sa.add=Sa.source=Z}return Sa}});h.loess=gb;h.regression=wb;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[40]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb):"function"===typeof define&&define.amd?define(["exports"],m):(h=h||self,m(h.d3=h.d3||{}))})(this,function(h){function m(fa,pa){fa/=Math.abs(fa)+Math.abs(pa);return(0<pa?3-fa:1+fa)/4}function x(fa,pa,da,ua){fa-=da;pa-=ua;return fa*fa+pa*pa}function Wa(fa,pa,da,ua,Ia,wa){ua=(ua-pa)*(Ia-fa);fa=(da-fa)*(wa-pa);return Math.abs(ua-fa)>=3.3306690738754716E-16*Math.abs(ua+fa)?ua-fa:0}function Gb(fa,
pa,da,ua,Ia,wa){return 0>(Wa(Ia,wa,fa,pa,da,ua)||Wa(fa,pa,da,ua,Ia,wa)||Wa(da,ua,Ia,wa,fa,pa))}function gb(fa,pa,da,ua){if(20>=ua-da)for(var Ia=da+1;Ia<=ua;Ia++){for(var wa=fa[Ia],$a=pa[wa],ja=Ia-1;ja>=da&&pa[fa[ja]]>$a;)fa[ja+1]=fa[ja--];fa[ja+1]=wa}else{Ia=da+1;wa=ua;wb(fa,da+ua>>1,Ia);pa[fa[da]]>pa[fa[ua]]&&wb(fa,da,ua);pa[fa[Ia]]>pa[fa[ua]]&&wb(fa,Ia,ua);pa[fa[da]]>pa[fa[Ia]]&&wb(fa,da,Ia);$a=fa[Ia];for(ja=pa[$a];;){do Ia++;while(pa[fa[Ia]]<ja);do wa--;while(pa[fa[wa]]>ja);if(wa<Ia)break;wb(fa,
Ia,wa)}fa[da+1]=fa[wa];fa[wa]=$a;ua-Ia+1>=wa-da?(gb(fa,pa,Ia,ua),gb(fa,pa,da,wa-1)):(gb(fa,pa,da,wa-1),gb(fa,pa,Ia,ua))}}function wb(fa,pa,da){var ua=fa[pa];fa[pa]=fa[da];fa[da]=ua}function Lb(fa){return fa[0]}function rb(fa){return fa[1]}function Ua(fa){return fa[0]}function Sa(fa){return fa[1]}function ab(fa){var pa=fa.triangles;fa=fa.coords;for(var da=0;da<pa.length;da+=3){var ua=2*pa[da],Ia=2*pa[da+1],wa=2*pa[da+2];if(1E-10<(fa[wa]-fa[ua])*(fa[Ia+1]-fa[ua+1])-(fa[Ia]-fa[ua])*(fa[wa+1]-fa[ua+1]))return!1}return!0}
function za(fa,pa,da){return[fa+Math.sin(fa+pa)*da,pa+Math.cos(fa-pa)*da]}function Y(fa,pa,da,ua){var Ia,wa,$a,ja;return $jscomp.generator.createGenerator(Y,function(u){switch(u.nextAddress){case 1:Ia=0,wa=$jscomp.makeIterator(fa),$a=wa.next();case 2:if($a.done){u.jumpTo(0);break}ja=$a.value;return u.yield(pa.call(ua,ja,Ia,fa),5);case 5:return u.yield(da.call(ua,ja,Ia,fa),6);case 6:++Ia,$a=wa.next(),u.jumpTo(2)}})}var na=Math.pow(2,-52),Ba=new Uint32Array(512),Qa=function(fa){var pa=fa.length>>1;
if(0<pa&&"number"!==typeof fa[0])throw Error("Expected coords to contain numbers.");this.coords=fa;fa=Math.max(2*pa-5,0);this._triangles=new Uint32Array(3*fa);this._halfedges=new Int32Array(3*fa);this._hashSize=Math.ceil(Math.sqrt(pa));this._hullPrev=new Uint32Array(pa);this._hullNext=new Uint32Array(pa);this._hullTri=new Uint32Array(pa);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(pa);this._dists=new Float64Array(pa);this.update()};Qa.from=function(fa,pa,da){pa=
void 0===pa?Lb:pa;da=void 0===da?rb:da;for(var ua=fa.length,Ia=new Float64Array(2*ua),wa=0;wa<ua;wa++){var $a=fa[wa];Ia[2*wa]=pa($a);Ia[2*wa+1]=da($a)}return new Qa(Ia)};Qa.prototype.update=function(){for(var fa,pa,da=this.coords,ua=this._hullPrev,Ia=this._hullNext,wa=this._hullTri,$a=this._hullHash,ja=da.length>>1,u=Infinity,y=Infinity,z=-Infinity,D=-Infinity,C=0;C<ja;C++){var J=da[2*C];fa=da[2*C+1];J<u&&(u=J);fa<y&&(y=fa);J>z&&(z=J);fa>D&&(D=fa);this._ids[C]=C}z=(u+z)/2;y=(y+D)/2;u=Infinity;for(D=
0;D<ja;D++)if(C=x(z,y,da[2*D],da[2*D+1]),C<u){var V=D;u=C}y=da[2*V];D=da[2*V+1];u=Infinity;for(z=0;z<ja;z++)if(z!==V&&(C=x(y,D,da[2*z],da[2*z+1]),C<u&&0<C)){var ia=z;u=C}u=da[2*ia];z=da[2*ia+1];fa=Infinity;for(C=0;C<ja;C++)if(C!==V&&C!==ia){J=u-y;var Pa=z-D;pa=da[2*C]-y;var cb=da[2*C+1]-D,M=J*J+Pa*Pa,Ka=pa*pa+cb*cb,ka=.5/(J*cb-Pa*pa);Pa=(cb*M-Pa*Ka)*ka;J=(J*Ka-pa*M)*ka;J=Pa*Pa+J*J;if(J<fa){var ha=C;fa=J}}C=da[2*ha];J=da[2*ha+1];if(Infinity===fa){for(Ia=0;Ia<ja;Ia++)this._dists[Ia]=da[2*Ia]-da[0]||
da[2*Ia+1]-da[1];gb(this._ids,this._dists,0,ja-1);Ia=new Uint32Array(ja);ua=da=0;for(wa=-Infinity;ua<ja;ua++)$a=this._ids[ua],this._dists[$a]>wa&&(Ia[da++]=$a,wa=this._dists[$a]);this.hull=Ia.subarray(0,da);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{Gb(y,D,u,z,C,J)&&(fa=ia,pa=u,M=z,ia=ha,u=C,z=J,ha=fa,C=pa,J=M);pa=u-y;fa=z-D;M=C-y;cb=J-D;Ka=pa*pa+fa*fa;ka=M*M+cb*cb;Pa=.5/(pa*cb-fa*M);fa=y+(cb*Ka-fa*ka)*Pa;pa=D+(pa*ka-M*Ka)*Pa;this._cx=fa;this._cy=pa;for(M=0;M<ja;M++)this._dists[M]=
x(da[2*M],da[2*M+1],fa,pa);gb(this._ids,this._dists,0,ja-1);this._hullStart=V;ja=3;Ia[V]=ua[ha]=ia;Ia[ia]=ua[V]=ha;Ia[ha]=ua[ia]=V;wa[V]=0;wa[ia]=1;wa[ha]=2;$a.fill(-1);$a[this._hashKey(y,D)]=V;$a[this._hashKey(u,z)]=ia;$a[this._hashKey(C,J)]=ha;this.trianglesLen=0;this._addTriangle(V,ia,ha,-1,-1,-1);y=0;for(u=D=void 0;y<this._ids.length;y++)if(z=this._ids[y],C=da[2*z],J=da[2*z+1],!(0<y&&Math.abs(C-D)<=na&&Math.abs(J-u)<=na)&&(D=C,u=J,z!==V&&z!==ia&&z!==ha)){pa=fa=0;for(M=this._hashKey(C,J);pa<this._hashSize&&
(fa=$a[(M+pa)%this._hashSize],-1===fa||fa===Ia[fa]);pa++);pa=fa=ua[fa];for(M=void 0;M=Ia[pa],!Gb(C,J,da[2*pa],da[2*pa+1],da[2*M],da[2*M+1]);)if(pa=M,pa===fa){pa=-1;break}if(-1!==pa){Ka=this._addTriangle(pa,z,Ia[pa],-1,-1,wa[pa]);wa[z]=this._legalize(Ka+2);wa[pa]=Ka;ja++;for(ka=Ia[pa];M=Ia[ka],Gb(C,J,da[2*ka],da[2*ka+1],da[2*M],da[2*M+1]);)Ka=this._addTriangle(ka,z,M,wa[z],-1,wa[ka]),wa[z]=this._legalize(Ka+2),Ia[ka]=ka,ja--,ka=M;if(pa===fa)for(;M=ua[pa],Gb(C,J,da[2*M],da[2*M+1],da[2*pa],da[2*pa+1]);)Ka=
this._addTriangle(M,z,pa,-1,wa[pa],wa[M]),this._legalize(Ka+2),wa[M]=Ka,Ia[pa]=pa,ja--,pa=M;this._hullStart=ua[z]=pa;Ia[pa]=ua[ka]=z;Ia[z]=ka;$a[this._hashKey(C,J)]=z;$a[this._hashKey(da[2*pa],da[2*pa+1])]=pa}}this.hull=new Uint32Array(ja);da=0;for(ua=this._hullStart;da<ja;da++)this.hull[da]=ua,ua=Ia[ua];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}};Qa.prototype._hashKey=function(fa,pa){return Math.floor(m(fa-this._cx,pa-
this._cy)*this._hashSize)%this._hashSize};Qa.prototype._legalize=function(fa){for(var pa=this._triangles,da=this._halfedges,ua=this.coords,Ia=0,wa;;){var $a=da[fa],ja=fa-fa%3;wa=ja+(fa+2)%3;if(-1===$a){if(0===Ia)break;fa=Ba[--Ia]}else{var u=$a-$a%3,y=u+($a+2)%3,z=pa[wa],D=pa[fa],C=pa[ja+(fa+1)%3];ja=pa[y];var J=ua[2*ja],V=ua[2*ja+1],ia=ua[2*z]-J,Pa=ua[2*z+1]-V,cb=ua[2*D]-J;D=ua[2*D+1]-V;J=ua[2*C]-J;C=ua[2*C+1]-V;V=cb*cb+D*D;var M=J*J+C*C;if(0>ia*(D*M-V*C)-Pa*(cb*M-V*J)+(ia*ia+Pa*Pa)*(cb*C-D*J)){pa[fa]=
ja;pa[$a]=z;z=da[y];if(-1===z){ja=this._hullStart;do{if(this._hullTri[ja]===y){this._hullTri[ja]=fa;break}ja=this._hullPrev[ja]}while(ja!==this._hullStart)}this._link(fa,z);this._link($a,da[wa]);this._link(wa,y);wa=u+($a+1)%3;Ia<Ba.length&&(Ba[Ia++]=wa)}else{if(0===Ia)break;fa=Ba[--Ia]}}}return wa};Qa.prototype._link=function(fa,pa){this._halfedges[fa]=pa;-1!==pa&&(this._halfedges[pa]=fa)};Qa.prototype._addTriangle=function(fa,pa,da,ua,Ia,wa){var $a=this.trianglesLen;this._triangles[$a]=fa;this._triangles[$a+
1]=pa;this._triangles[$a+2]=da;this._link($a,ua);this._link($a+1,Ia);this._link($a+2,wa);this.trianglesLen+=3;return $a};var ca=function(){this._x0=this._y0=this._x1=this._y1=null;this._=""};ca.prototype.moveTo=function(fa,pa){this._+="M"+(this._x0=this._x1=+fa)+","+(this._y0=this._y1=+pa)};ca.prototype.closePath=function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")};ca.prototype.lineTo=function(fa,pa){this._+="L"+(this._x1=+fa)+","+(this._y1=+pa)};ca.prototype.arc=function(fa,
pa,da){fa=+fa;pa=+pa;da=+da;var ua=fa+da,Ia=pa;if(0>da)throw Error("negative radius");if(null===this._x1)this._+="M"+ua+","+Ia;else if(1E-6<Math.abs(this._x1-ua)||1E-6<Math.abs(this._y1-Ia))this._+="L"+ua+","+Ia;da&&(this._+="A"+da+","+da+",0,1,1,"+(fa-da)+","+pa+"A"+da+","+da+",0,1,1,"+(this._x1=ua)+","+(this._y1=Ia))};ca.prototype.rect=function(fa,pa,da,ua){this._+="M"+(this._x0=this._x1=+fa)+","+(this._y0=this._y1=+pa)+"h"+ +da+"v"+ +ua+"h"+-da+"Z"};ca.prototype.value=function(){return this._||
null};var Z=function(){this._=[]};Z.prototype.moveTo=function(fa,pa){this._.push([fa,pa])};Z.prototype.closePath=function(){this._.push(this._[0].slice())};Z.prototype.lineTo=function(fa,pa){this._.push([fa,pa])};Z.prototype.value=function(){return this._.length?this._:null};var Oa=function(fa,pa){var da=$jscomp.makeIterator(void 0===pa?[0,0,960,500]:pa);pa=da.next().value;var ua=da.next().value,Ia=da.next().value;da=da.next().value;if(!((Ia=+Ia)>=(pa=+pa)&&(da=+da)>=(ua=+ua)))throw Error("invalid bounds");
this.delaunay=fa;this._circumcenters=new Float64Array(2*fa.points.length);this.vectors=new Float64Array(2*fa.points.length);this.xmax=Ia;this.xmin=pa;this.ymax=da;this.ymin=ua;this._init()};Oa.prototype.update=function(){this.delaunay.update();this._init();return this};Oa.prototype._init=function(){var fa=this.delaunay,pa=fa.points,da=fa.hull,ua=fa.triangles;fa=this.vectors;for(var Ia=this.circumcenters=this._circumcenters.subarray(0,ua.length/3*2),wa=0,$a=0,ja=ua.length,u,y;wa<ja;wa+=3,$a+=2){y=
2*ua[wa];var z=2*ua[wa+1],D=2*ua[wa+2];u=pa[y];y=pa[y+1];var C=pa[D],J=pa[D+1];D=pa[z]-u;var V=pa[z+1]-y;z=C-u;var ia=J-y,Pa=D*D+V*V,cb=z*z+ia*ia,M=2*(D*ia-V*z);M?1E-8>Math.abs(M)?(u=(u+C)/2,y=(y+J)/2):(C=1/M,u+=(ia*Pa-V*cb)*C,y+=(D*cb-z*Pa)*C):(u=(u+C)/2-1E8*ia,y=(y+J)/2+1E8*z);Ia[$a]=u;Ia[$a+1]=y}ua=da[da.length-1];wa=4*ua;ja=pa[2*ua];y=pa[2*ua+1];fa.fill(0);for(D=0;D<da.length;++D)ua=da[D],Ia=wa,$a=ja,u=y,wa=4*ua,ja=pa[2*ua],y=pa[2*ua+1],fa[Ia+2]=fa[wa]=u-y,fa[Ia+3]=fa[wa+1]=ja-$a};Oa.prototype.render=
function(fa){var pa=null==fa?fa=new ca:void 0,da=this.delaunay,ua=da.halfedges,Ia=da.inedges;da=da.hull;var wa=this.circumcenters,$a=this.vectors;if(1>=da.length)return null;for(var ja=0,u=ua.length;ja<u;++ja){var y=ua[ja];if(!(y<ja)){var z=2*Math.floor(ja/3);y=2*Math.floor(y/3);this._renderSegment(wa[z],wa[z+1],wa[y],wa[y+1],fa)}}ua=da[da.length-1];for(ja=0;ja<da.length;++ja)y=ua,ua=da[ja],z=2*Math.floor(Ia[ua]/3),u=wa[z],z=wa[z+1],y*=4,(y=this._project(u,z,$a[y+2],$a[y+3]))&&this._renderSegment(u,
z,y[0],y[1],fa);return pa&&pa.value()};Oa.prototype.renderBounds=function(fa){var pa=null==fa?fa=new ca:void 0;fa.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return pa&&pa.value()};Oa.prototype.renderCell=function(fa,pa){var da=null==pa?pa=new ca:void 0;fa=this._clip(fa);if(null!==fa&&fa.length){pa.moveTo(fa[0],fa[1]);for(var ua=fa.length;fa[0]===fa[ua-2]&&fa[1]===fa[ua-1]&&1<ua;)ua-=2;for(var Ia=2;Ia<ua;Ia+=2)fa[Ia]===fa[Ia-2]&&fa[Ia+1]===fa[Ia-1]||pa.lineTo(fa[Ia],fa[Ia+1]);
pa.closePath();return da&&da.value()}};Oa.prototype.cellPolygons=function pa(){var da=this,ua,Ia,wa,$a,ja,u;return $jscomp.generator.createGenerator(pa,function(y){switch(y.nextAddress){case 1:ua=da,Ia=ua.delaunay,wa=Ia.points,$a=0,ja=wa.length/2;case 2:if(!($a<ja)){y.jumpTo(0);break}u=da.cellPolygon($a);if(!u){y.jumpTo(3);break}u.index=$a;return y.yield(u,6);case 6:case 3:++$a,y.jumpTo(2)}})};Oa.prototype.cellPolygon=function(pa){var da=new Z;this.renderCell(pa,da);return da.value()};Oa.prototype._renderSegment=
function(pa,da,ua,Ia,wa){var $a=this._regioncode(pa,da),ja=this._regioncode(ua,Ia);if(0===$a&&0===ja)wa.moveTo(pa,da),wa.lineTo(ua,Ia);else if(pa=this._clipSegment(pa,da,ua,Ia,$a,ja))wa.moveTo(pa[0],pa[1]),wa.lineTo(pa[2],pa[3])};Oa.prototype.contains=function(pa,da,ua){return(da=+da,da!==da)||(ua=+ua,ua!==ua)?!1:this.delaunay._step(pa,da,ua)===pa};Oa.prototype.neighbors=function ua(da){var Ia=this,wa,$a,ja,u,y,z,D,C,J;return $jscomp.generator.createGenerator(ua,function(V){switch(V.nextAddress){case 1:wa=
Ia._clip(da);if(!wa){V.jumpTo(0);break}$a=$jscomp.makeIterator(Ia.delaunay.neighbors(da));ja=$a.next();case 3:if(ja.done){V.jumpTo(0);break}u=ja.value;y=Ia._clip(u);if(!y){V.jumpTo(4);break}z=0;D=wa.length;case 9:if(!(z<D)){V.jumpTo(4);break}C=0;J=y.length;case 10:if(!(C<J)){z+=2;V.jumpTo(9);break}if(wa[z]!=y[C]||wa[z+1]!=y[C+1]||wa[(z+2)%D]!=y[(C+J-2)%J]||wa[(z+3)%D]!=y[(C+J-1)%J]){V.jumpTo(11);break}return V.yield(u,14);case 14:V.jumpTo(4);break;case 11:C+=2;V.jumpTo(10);break;case 4:ja=$a.next(),
V.jumpTo(3)}})};Oa.prototype._cell=function(da){var ua=this.circumcenters,Ia=this.delaunay,wa=Ia.halfedges,$a=Ia.triangles;Ia=Ia.inedges[da];if(-1===Ia)return null;var ja=[],u=Ia;do{var y=Math.floor(u/3);ja.push(ua[2*y],ua[2*y+1]);u=2===u%3?u-2:u+1;if($a[u]!==da)break;u=wa[u]}while(u!==Ia&&-1!==u);return ja};Oa.prototype._clip=function(da){if(0===da&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var ua=this._cell(da);if(null===
ua)return null;var Ia=this.vectors,wa=4*da;return Ia[wa]||Ia[wa+1]?this._clipInfinite(da,ua,Ia[wa],Ia[wa+1],Ia[wa+2],Ia[wa+3]):this._clipFinite(da,ua)};Oa.prototype._clipFinite=function(da,ua){for(var Ia=ua.length,wa=null,$a,ja,u=ua[Ia-2],y=ua[Ia-1],z,D=this._regioncode(u,y),C,J,V=0;V<Ia;V+=2)if($a=u,ja=y,u=ua[V],y=ua[V+1],z=D,D=this._regioncode(u,y),0===z&&0===D)J=0,wa?wa.push(u,y):wa=[u,y];else{if(0===z){if(null===($a=this._clipSegment($a,ja,u,y,z,D)))continue;ja=$jscomp.makeIterator($a);ja.next();
ja.next();$a=ja.next().value;z=ja.next().value}else{if(null===($a=this._clipSegment(u,y,$a,ja,D,z)))continue;C=$jscomp.makeIterator($a);$a=C.next().value;z=C.next().value;ja=C.next().value;var ia=C.next().value;C=J;J=this._edgecode(ja,ia);C&&J&&this._edge(da,C,J,wa,wa.length);wa?wa.push(ja,ia):wa=[ja,ia]}C=J;J=this._edgecode($a,z);C&&J&&this._edge(da,C,J,wa,wa.length);wa?wa.push($a,z):wa=[$a,z]}if(wa)C=J,J=this._edgecode(wa[0],wa[1]),C&&J&&this._edge(da,C,J,wa,wa.length);else if(this.contains(da,
(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return wa};Oa.prototype._clipSegment=function(da,ua,Ia,wa,$a,ja){for(;;){if(0===$a&&0===ja)return[da,ua,Ia,wa];if($a&ja)return null;var u=$a||ja;if(u&8){u=da+(Ia-da)*(this.ymax-ua)/(wa-ua);var y=this.ymax}else u&4?(u=da+(Ia-da)*(this.ymin-ua)/(wa-ua),y=this.ymin):u&2?(y=ua+(wa-ua)*(this.xmax-da)/(Ia-da),u=this.xmax):(y=ua+(wa-ua)*(this.xmin-da)/(Ia-da),u=this.xmin);
$a?(da=u,ua=y,$a=this._regioncode(da,ua)):(Ia=u,wa=y,ja=this._regioncode(Ia,wa))}};Oa.prototype._clipInfinite=function(da,ua,Ia,wa,$a,ja){ua=Array.from(ua);var u;(u=this._project(ua[0],ua[1],Ia,wa))&&ua.unshift(u[0],u[1]);(u=this._project(ua[ua.length-2],ua[ua.length-1],$a,ja))&&ua.push(u[0],u[1]);if(ua=this._clipFinite(da,ua))for(Ia=0,wa=ua.length,ja=this._edgecode(ua[wa-2],ua[wa-1]);Ia<wa;Ia+=2)$a=ja,ja=this._edgecode(ua[Ia],ua[Ia+1]),$a&&ja&&(Ia=this._edge(da,$a,ja,ua,Ia),wa=ua.length);else this.contains(da,
(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(ua=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return ua};Oa.prototype._edge=function(da,ua,Ia,wa,$a){for(;ua!==Ia;){var ja=void 0,u=void 0;switch(ua){case 5:ua=4;continue;case 4:ua=6;ja=this.xmax;u=this.ymin;break;case 6:ua=2;continue;case 2:ua=10;ja=this.xmax;u=this.ymax;break;case 10:ua=8;continue;case 8:ua=9;ja=this.xmin;u=this.ymax;break;case 9:ua=1;continue;case 1:ua=5,ja=this.xmin,u=this.ymin}wa[$a]===
ja&&wa[$a+1]===u||!this.contains(da,ja,u)||(wa.splice($a,0,ja,u),$a+=2)}if(4<wa.length)for(da=0;da<wa.length;da+=2)if(ua=(da+2)%wa.length,Ia=(da+4)%wa.length,wa[da]===wa[ua]&&wa[ua]===wa[Ia]||wa[da+1]===wa[ua+1]&&wa[ua+1]===wa[Ia+1])wa.splice(ua,2),da-=2;return $a};Oa.prototype._project=function(da,ua,Ia,wa){var $a=Infinity,ja;if(0>wa){if(ua<=this.ymin)return null;if((ja=(this.ymin-ua)/wa)<$a){var u=this.ymin;var y=da+($a=ja)*Ia}}else if(0<wa){if(ua>=this.ymax)return null;(ja=(this.ymax-ua)/wa)<$a&&
(u=this.ymax,y=da+($a=ja)*Ia)}if(0<Ia){if(da>=this.xmax)return null;(ja=(this.xmax-da)/Ia)<$a&&(y=this.xmax,u=ua+ja*wa)}else if(0>Ia){if(da<=this.xmin)return null;(ja=(this.xmin-da)/Ia)<$a&&(y=this.xmin,u=ua+ja*wa)}return[y,u]};Oa.prototype._edgecode=function(da,ua){return(da===this.xmin?1:da===this.xmax?2:0)|(ua===this.ymin?4:ua===this.ymax?8:0)};Oa.prototype._regioncode=function(da,ua){return(da<this.xmin?1:da>this.xmax?2:0)|(ua<this.ymin?4:ua>this.ymax?8:0)};var Aa=2*Math.PI,va=Math.pow,xa=function(da){this._delaunator=
new Qa(da);this.inedges=new Int32Array(da.length/2);this._hullIndex=new Int32Array(da.length/2);this.points=this._delaunator.coords;this._init()};xa.from=function(da,ua,Ia,wa){ua=void 0===ua?Ua:ua;Ia=void 0===Ia?Sa:Ia;if("length"in da){for(var $a=da.length,ja=new Float64Array(2*$a),u=0;u<$a;++u){var y=da[u];ja[2*u]=ua.call(wa,y,u,da);ja[2*u+1]=Ia.call(wa,y,u,da)}da=ja}else da=Float64Array.from(Y(da,ua,Ia,wa));return new xa(da)};xa.prototype.update=function(){this._delaunator.update();this._init();
return this};xa.prototype._init=function(){var da=this._delaunator,ua=this.points;if(da.hull&&2<da.hull.length&&ab(da)){this.collinear=Int32Array.from({length:ua.length/2},function(D,C){return C}).sort(function(D,C){return ua[2*D]-ua[2*C]||ua[2*D+1]-ua[2*C+1]});da=this.collinear[0];var Ia=this.collinear[this.collinear.length-1];da=[ua[2*da],ua[2*da+1],ua[2*Ia],ua[2*Ia+1]];da=1E-8*Math.hypot(da[3]-da[1],da[2]-da[0]);Ia=0;for(var wa=ua.length/2;Ia<wa;++Ia){var $a=za(ua[2*Ia],ua[2*Ia+1],da);ua[2*Ia]=
$a[0];ua[2*Ia+1]=$a[1]}this._delaunator=new Qa(ua)}else delete this.collinear;$a=this.halfedges=this._delaunator.halfedges;da=this.hull=this._delaunator.hull;var ja=this.triangles=this._delaunator.triangles;Ia=this.inedges.fill(-1);wa=this._hullIndex.fill(-1);for(var u=0,y=$a.length;u<y;++u){var z=ja[2===u%3?u-2:u+1];if(-1===$a[u]||-1===Ia[z])Ia[z]=u}$a=0;for(ja=da.length;$a<ja;++$a)wa[da[$a]]=$a;2>=da.length&&0<da.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),
this.triangles[0]=da[0],this.triangles[1]=da[1],this.triangles[2]=da[1],Ia[da[0]]=1,2===da.length&&(Ia[da[1]]=0))};xa.prototype.voronoi=function(da){return new Oa(this,da)};xa.prototype.neighbors=function Ia(ua){var wa=this,$a,ja,u,y,z,D,C,J,V,ia,Pa,cb;return $jscomp.generator.createGenerator(Ia,function(M){switch(M.nextAddress){case 1:$a=wa;ja=$a.inedges;u=$a.hull;y=$a._hullIndex;z=$a.halfedges;D=$a.triangles;C=$a.collinear;if(!C){M.jumpTo(2);break}J=C.indexOf(ua);if(!(0<J)){M.jumpTo(3);break}return M.yield(C[J-
1],3);case 3:if(!(J<C.length-1)){M.jumpTo(5);break}return M.yield(C[J+1],5);case 5:return M.return();case 2:V=ja[ua];if(-1===V)return M.return();ia=V;Pa=-1;case 7:return M.yield(Pa=D[ia],10);case 10:ia=2===ia%3?ia-2:ia+1;if(D[ia]!==ua)return M.return();ia=z[ia];if(-1!==ia){M.jumpTo(9);break}cb=u[(y[ua]+1)%u.length];if(cb===Pa){M.jumpTo(12);break}return M.yield(cb,12);case 12:return M.return();case 9:ia!==V?M.jumpTo(7):M.jumpToEnd()}})};xa.prototype.find=function(ua,Ia,wa){wa=void 0===wa?0:wa;if((ua=
+ua,ua!==ua)||(Ia=+Ia,Ia!==Ia))return-1;for(var $a=wa,ja;0<=(ja=this._step(wa,ua,Ia))&&ja!==wa&&ja!==$a;)wa=ja;return ja};xa.prototype._step=function(ua,Ia,wa){var $a=this.inedges,ja=this.hull,u=this._hullIndex,y=this.halfedges,z=this.triangles,D=this.points;if(-1===$a[ua]||!D.length)return(ua+1)%(D.length>>1);var C=ua,J=va(Ia-D[2*ua],2)+va(wa-D[2*ua+1],2),V=$a=$a[ua];do{var ia=z[V],Pa=va(Ia-D[2*ia],2)+va(wa-D[2*ia+1],2);Pa<J&&(J=Pa,C=ia);V=2===V%3?V-2:V+1;if(z[V]!==ua)break;V=y[V];if(-1===V){V=ja[(u[ua]+
1)%ja.length];if(V!==ia&&va(Ia-D[2*V],2)+va(wa-D[2*V+1],2)<J)return V;break}}while(V!==$a);return C};xa.prototype.render=function(ua){for(var Ia=null==ua?ua=new ca:void 0,wa=this.points,$a=this.halfedges,ja=this.triangles,u=0,y=$a.length;u<y;++u){var z=$a[u];if(!(z<u)){var D=2*ja[u];z=2*ja[z];ua.moveTo(wa[D],wa[D+1]);ua.lineTo(wa[z],wa[z+1])}}this.renderHull(ua);return Ia&&Ia.value()};xa.prototype.renderPoints=function(ua,Ia){Ia=void 0===Ia?2:Ia;for(var wa=null==ua?ua=new ca:void 0,$a=this.points,
ja=0,u=$a.length;ja<u;ja+=2){var y=$a[ja],z=$a[ja+1];ua.moveTo(y+Ia,z);ua.arc(y,z,Ia,0,Aa)}return wa&&wa.value()};xa.prototype.renderHull=function(ua){var Ia=null==ua?ua=new ca:void 0,wa=this.hull,$a=this.points,ja=2*wa[0],u=wa.length;ua.moveTo($a[ja],$a[ja+1]);for(ja=1;ja<u;++ja){var y=2*wa[ja];ua.lineTo($a[y],$a[y+1])}ua.closePath();return Ia&&Ia.value()};xa.prototype.hullPolygon=function(){var ua=new Z;this.renderHull(ua);return ua.value()};xa.prototype.renderTriangle=function(ua,Ia){var wa=null==
Ia?Ia=new ca:void 0,$a=this.points,ja=this.triangles,u=2*ja[ua*=3],y=2*ja[ua+1];ua=2*ja[ua+2];Ia.moveTo($a[u],$a[u+1]);Ia.lineTo($a[y],$a[y+1]);Ia.lineTo($a[ua],$a[ua+1]);Ia.closePath();return wa&&wa.value()};xa.prototype.trianglePolygons=function Ia(){var wa=this,$a,ja,u,y;return $jscomp.generator.createGenerator(Ia,function(z){1==z.nextAddress&&($a=wa,ja=$a.triangles,u=0,y=ja.length/3);if(3!=z.nextAddress)return u<y?z.yield(wa.trianglePolygon(u),3):z.jumpTo(0);++u;return z.jumpTo(2)})};xa.prototype.trianglePolygon=
function(Ia){var wa=new Z;this.renderTriangle(Ia,wa);return wa.value()};h.Delaunay=xa;h.Voronoi=Oa;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[41]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(14),xb(0),xb(40)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-delaunay"],m):(h="undefined"!==typeof globalThis?globalThis:h||self,m((h.vega=h.vega||{},h.vega.transforms={}),h.vega,h.vega,h.d3))})(this,function(h,m,x,Wa){function Gb(wb){m.Transform.call(this,null,wb)}Gb.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",
required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};var gb=[-1E5,-1E5,1E5,1E5];x.inherits(Gb,m.Transform,{transform:function(wb,Lb){var rb=wb.as||"path",Ua=Lb.source;if(!Ua||!Ua.length)return Lb;var Sa=wb.size;Sa=Sa?[0,0,Sa[0],Sa[1]]:(Sa=wb.extent)?[Sa[0][0],Sa[0][1],Sa[1][0],Sa[1][1]]:gb;
Sa=this.value=Wa.Delaunay.from(Ua,wb.x,wb.y).voronoi(Sa);for(var ab=0,za=Ua.length;ab<za;++ab){var Y=Sa.cellPolygon(ab),na=Ua[ab];if(Y){for(var Ba=Y[0][0],Qa=Y[0][1],ca=Y.length-1;Y[ca][0]===Ba&&Y[ca][1]===Qa;--ca);Y="M"+Y.slice(0,ca+1).join("L")+"Z"}else Y=null;na[rb]=Y}return Lb.reflow(wb.modified()).modifies(rb)}});h.voronoi=Gb;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[42]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(19),xb(14),xb(0),xb(23),xb(15)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),m):(h="undefined"!==typeof globalThis?globalThis:h||self,m((h.vega=h.vega||{},h.vega.transforms={}),h.vega,h.vega,h.vega,h.vega,h.vega))})(this,function(h,m,x,Wa,Gb,gb){function wb(){function ca(u){u.width=u.height=1;var y=Math.sqrt(u.getContext("2d").getImageData(0,
0,1,1).data.length>>2);u.width=2048/y;u.height=2048/y;u=u.getContext("2d");u.fillStyle=u.strokeStyle="red";u.textAlign="center";return{context:u,ratio:y}}function Z(u,y,z){for(var D=y.x,C=y.y,J=Math.sqrt(Oa[0]*Oa[0]+Oa[1]*Oa[1]),V=Ia(Oa),ia=.5>$a()?1:-1,Pa=-ia,cb,M;cb=V(Pa+=ia);){M=~~cb[0];cb=~~cb[1];if(Math.min(Math.abs(M),Math.abs(cb))>=J)break;y.x=D+M;y.y=C+cb;if(!(0>y.x+y.x0||0>y.y+y.y0||y.x+y.x1>Oa[0]||y.y+y.y1>Oa[1])){if(!(M=!z)){a:{M=Oa[0];M>>=5;cb=y.sprite;var Ka=y.width>>5;var ka=y.x-(Ka<<
4);for(var ha=ka&127,w=32-ha,H=y.y1-y.y0,p=(y.y+y.y0)*M+(ka>>5),q=0;q<H;q++){for(var t=ka=0;t<=Ka;t++)if((ka<<w|(t<Ka?(ka=cb[q*Ka+t])>>>ha:0))&u[p+t]){M=!0;break a}p+=M}M=!1}M=!M}if(M&&(!z||y.x+y.x1>z[0].x&&y.x+y.x0<z[1].x&&y.y+y.y1>z[0].y&&y.y+y.y0<z[1].y)){z=y.sprite;D=y.width>>5;C=Oa[0]>>5;Pa=y.x-(D<<4);J=Pa&127;V=32-J;ia=y.y1-y.y0;Pa=(y.y+y.y0)*C+(Pa>>5);for(cb=0;cb<ia;cb++){for(Ka=M=0;Ka<=D;Ka++)u[Pa+Ka]=u[Pa+Ka]|M<<V|(Ka<D?(M=z[cb*D+Ka])>>>J:0);Pa+=C}y.sprite=null;return!0}}}return!1}var Oa=
[256,256],Aa,va,xa,fa,pa,da,ua,Ia=Ua,wa=[],$a=Math.random,ja={layout:function(){for(var u=ca(m.canvas()),y=Sa((Oa[0]>>5)*Oa[1]),z=null,D=wa.length,C=-1,J=[],V=wa.map(function(Pa){return{text:Aa(Pa),font:va(Pa),style:fa(Pa),weight:pa(Pa),rotate:da(Pa),size:~~(xa(Pa)+1E-14),padding:ua(Pa),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:Pa}}).sort(function(Pa,cb){return cb.size-Pa.size});++C<D;){var ia=V[C];ia.x=Oa[0]*($a()+.5)>>1;ia.y=Oa[1]*($a()+.5)>>1;Lb(u,ia,V,C);ia.hasText&&Z(y,ia,
z)&&(J.push(ia),z?rb(z,ia):z=[{x:ia.x+ia.x0,y:ia.y+ia.y0},{x:ia.x+ia.x1,y:ia.y+ia.y1}],ia.x-=Oa[0]>>1,ia.y-=Oa[1]>>1)}return J},words:function(u){return arguments.length?(wa=u,ja):wa},size:function(u){return arguments.length?(Oa=[+u[0],+u[1]],ja):Oa},font:function(u){return arguments.length?(va=ab(u),ja):va},fontStyle:function(u){return arguments.length?(fa=ab(u),ja):fa},fontWeight:function(u){return arguments.length?(pa=ab(u),ja):pa},rotate:function(u){return arguments.length?(da=ab(u),ja):da},text:function(u){return arguments.length?
(Aa=ab(u),ja):Aa},spiral:function(u){return arguments.length?(Ia=na[u]||u,ja):Ia},fontSize:function(u){return arguments.length?(xa=ab(u),ja):xa},padding:function(u){return arguments.length?(ua=ab(u),ja):ua},random:function(u){return arguments.length?($a=u,ja):$a}};return ja}function Lb(ca,Z,Oa,Aa){if(!Z.sprite){var va=ca.context,xa=ca.ratio;va.clearRect(0,0,2048/xa,2048/xa);var fa=ca=0,pa=0,da=Oa.length;for(--Aa;++Aa<da;){Z=Oa[Aa];va.save();va.font=Z.style+" "+Z.weight+" "+~~((Z.size+1)/xa)+"px "+
Z.font;var ua=va.measureText(Z.text+"m").width*xa;var Ia=Z.size<<1;if(Z.rotate){var wa=Math.sin(Z.rotate*Y),$a=Math.cos(Z.rotate*Y),ja=ua*$a,u=ua*wa;$a*=Ia;ua=Ia*wa;ua=Math.max(Math.abs(ja+ua),Math.abs(ja-ua))+31>>5<<5;Ia=~~Math.max(Math.abs(u+$a),Math.abs(u-$a))}else ua=ua+31>>5<<5;Ia>pa&&(pa=Ia);2048<=ca+ua&&(ca=0,fa+=pa,pa=0);if(2048<=fa+Ia)break;va.translate((ca+(ua>>1))/xa,(fa+(Ia>>1))/xa);Z.rotate&&va.rotate(Z.rotate*Y);va.fillText(Z.text,0,0);Z.padding&&(va.lineWidth=2*Z.padding,va.strokeText(Z.text,
0,0));va.restore();Z.width=ua;Z.height=Ia;Z.xoff=ca;Z.yoff=fa;Z.x1=ua>>1;Z.y1=Ia>>1;Z.x0=-Z.x1;Z.y0=-Z.y1;Z.hasText=!0;ca+=ua}da=va.getImageData(0,0,2048/xa,2048/xa).data;for(ja=[];0<=--Aa;)if(Z=Oa[Aa],Z.hasText){ua=Z.width;va=ua>>5;Ia=Z.y1-Z.y0;for(xa=0;xa<Ia*va;xa++)ja[xa]=0;ca=Z.xoff;if(null==ca)break;fa=Z.yoff;u=0;wa=-1;for(pa=0;pa<Ia;pa++){for(xa=0;xa<ua;xa++)$a=da[2048*(fa+pa)+(ca+xa)<<2]?1<<31-xa%32:0,ja[va*pa+(xa>>5)]|=$a,u|=$a;u?wa=pa:(Z.y0++,Ia--,pa--,fa++)}Z.y1=Z.y0+wa;Z.sprite=ja.slice(0,
(Z.y1-Z.y0)*va)}}}function rb(ca,Z){var Oa=ca[0];ca=ca[1];Z.x+Z.x0<Oa.x&&(Oa.x=Z.x+Z.x0);Z.y+Z.y0<Oa.y&&(Oa.y=Z.y+Z.y0);Z.x+Z.x1>ca.x&&(ca.x=Z.x+Z.x1);Z.y+Z.y1>ca.y&&(ca.y=Z.y+Z.y1)}function Ua(ca){var Z=ca[0]/ca[1];return function(Oa){return[Z*(Oa*=.1)*Math.cos(Oa),Oa*Math.sin(Oa)]}}function Sa(ca){for(var Z=[],Oa=-1;++Oa<ca;)Z[Oa]=0;return Z}function ab(ca){return"function"===typeof ca?ca:function(){return ca}}function za(ca){x.Transform.call(this,wb(),ca)}var Y=Math.PI/180,na={archimedean:Ua,rectangular:function(ca){var Z=
4*ca[0]/ca[1],Oa=0,Aa=0;return function(va){var xa=0>va?-1:1;switch(Math.sqrt(1+4*xa*va)-xa&3){case 0:Oa+=Z;break;case 1:Aa+=4;break;case 2:Oa-=Z;break;default:Aa-=4}return[Oa,Aa]}}},Ba="x y font fontSize fontStyle fontWeight angle".split(" "),Qa="text font rotate fontSize fontStyle fontWeight".split(" ");za.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",
expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,"default":Ba}]};Wa.inherits(za,x.Transform,{transform:function(ca,
Z){function Oa(u){u=ca[u];return Wa.isFunction(u)&&Z.modified(u.fields)}!ca.size||ca.size[0]&&ca.size[1]||Wa.error("Wordcloud size dimensions must be non-zero.");var Aa=ca.modified();if(Aa||Z.changed(Z.ADD_REM)||Qa.some(Oa)){var va=Z.materialize(Z.SOURCE).source,xa=this.value,fa=ca.as||Ba,pa=ca.fontSize||14,da;Wa.isFunction(pa)?da=ca.fontSizeRange:pa=Wa.constant(pa);if(da){var ua=pa,Ia=Gb.scale("sqrt")().domain(Wa.extent(va,ua)).range(da);pa=function(u){return Ia(ua(u))}}va.forEach(function(u){u[fa[0]]=
NaN;u[fa[1]]=NaN;u[fa[3]]=0});va=xa.words(va).text(ca.text).size(ca.size||[500,500]).padding(ca.padding||1).spiral(ca.spiral||"archimedean").rotate(ca.rotate||0).font(ca.font||"sans-serif").fontStyle(ca.fontStyle||"normal").fontWeight(ca.fontWeight||"normal").fontSize(pa).random(gb.random).layout();pa=xa.size();xa=pa[0]>>1;pa=pa[1]>>1;da=va.length;for(var wa=0,$a=void 0,ja=void 0;wa<da;++wa)$a=va[wa],ja=$a.datum,ja[fa[0]]=$a.x+xa,ja[fa[1]]=$a.y+pa,ja[fa[2]]=$a.font,ja[fa[3]]=$a.size,ja[fa[4]]=$a.style,
ja[fa[5]]=$a.weight,ja[fa[6]]=$a.rotate;return Z.reflow(Aa).modifies(fa)}}});h.wordcloud=za;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[43]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(3),xb(14),xb(0)):"function"===typeof define&&define.amd?define(["exports","d3-array","vega-dataflow","vega-util"],m):(h="undefined"!==typeof globalThis?globalThis:h||self,m((h.vega=h.vega||{},h.vega.transforms={}),h.d3,h.vega,h.vega))})(this,function(h,m,x,Wa){function Gb(){var na=8,Ba=[],Qa=Y(0),ca=gb(0,na),Z=gb(0,na);return{data:function(){return Ba},seen:function(){var Oa=Qa;var Aa=Ba.length;
Oa.length>=Aa||(Aa=new Oa.constructor(Aa),Aa.set(Oa),Oa=Aa);return Qa=Oa},add:function(Oa){for(var Aa=0,va=Ba.length,xa=Oa.length,fa;Aa<xa;++Aa)fa=Oa[Aa],fa._index=va++,Ba.push(fa)},remove:function(Oa,Aa){var va=Ba.length;Oa=Array(va-Oa);var xa=Ba,fa,pa;for(fa=0;!Aa[fa]&&fa<va;++fa)Oa[fa]=Ba[fa],xa[fa]=fa;for(pa=fa;fa<va;++fa){var da=Ba[fa];Aa[fa]?xa[fa]=-1:(xa[fa]=pa,ca[pa]=ca[fa],Z[pa]=Z[fa],Oa[pa]=da,da._index=pa++);ca[fa]=0}Ba=Oa;return xa},size:function(){return Ba.length},curr:function(){return ca},
prev:function(){return Z},reset:function(Oa){return Z[Oa]=ca[Oa]},all:function(){return 257>na?255:65537>na?65535:4294967295},set:function(Oa,Aa){ca[Oa]|=Aa},clear:function(Oa,Aa){ca[Oa]&=~Aa},resize:function(Oa,Aa){if(Oa>ca.length||Aa>na)na=Math.max(Aa,na),ca=gb(Oa,na,ca),Z=gb(Oa,na)}}}function gb(na,Ba,Qa){na=(257>Ba?ab:65537>Ba?za:Y)(na);Qa&&na.set(Qa);return na}function wb(na,Ba,Qa){var ca=1<<Ba;return{one:ca,zero:~ca,range:Qa.slice(),bisect:na.bisect,index:na.index,size:na.size,onAdd:function(Z,
Oa){var Aa=this.bisect(this.range,Z.value);Z=Z.index;var va=Aa[0];Aa=Aa[1];var xa=Z.length,fa;for(fa=0;fa<va;++fa)Oa[Z[fa]]|=ca;for(fa=Aa;fa<xa;++fa)Oa[Z[fa]]|=ca;return this}}}function Lb(){var na=Y(0),Ba=[],Qa=0;return{insert:function(ca,Z,Oa){if(!Z.length)return[];var Aa=Qa,va=Z.length,xa=Y(va),fa=Array(va),pa;for(pa=0;pa<va;++pa)fa[pa]=ca(Z[pa]),xa[pa]=pa;fa=rb(fa,xa);if(Aa){ca=Ba;Z=na;Ba=Array(Aa+va);na=Y(Aa+va);pa=fa;var da=Ba,ua=na,Ia=0,wa=0,$a;for($a=0;Ia<Aa&&wa<va;++$a)ca[Ia]<pa[wa]?(da[$a]=
ca[Ia],ua[$a]=Z[Ia++]):(da[$a]=pa[wa],ua[$a]=xa[wa++]+Oa);for(;Ia<Aa;++Ia,++$a)da[$a]=ca[Ia],ua[$a]=Z[Ia];for(;wa<va;++wa,++$a)da[$a]=pa[wa],ua[$a]=xa[wa]+Oa}else{if(0<Oa)for(pa=0;pa<va;++pa)xa[pa]+=Oa;Ba=fa;na=xa}Qa=Aa+va;return{index:xa,value:fa}},remove:function(ca,Z){var Oa=Qa,Aa,va,xa;for(va=0;!Z[na[va]]&&va<Oa;++va);for(xa=va;va<Oa;++va)Z[Aa=na[va]]||(na[xa]=Aa,Ba[xa]=Ba[va],++xa);Qa=Oa-ca},bisect:function(ca,Z){if(Z)var Oa=Z.length;else Z=Ba,Oa=Qa;return[m.bisectLeft(Z,ca[0],0,Oa),m.bisectRight(Z,
ca[1],0,Oa)]},reindex:function(ca){for(var Z=0,Oa=Qa;Z<Oa;++Z)na[Z]=ca[na[Z]]},index:function(){return na},size:function(){return Qa}}}function rb(na,Ba){na.sort.call(Ba,function(Qa,ca){Qa=na[Qa];ca=na[ca];return Qa<ca?-1:Qa>ca?1:0});return m.permute(na,Ba)}function Ua(na){x.Transform.call(this,Gb(),na);this._dims=this._indices=null}function Sa(na){x.Transform.call(this,null,na)}var ab=function(na){return new Uint8Array(na)},za=function(na){return new Uint16Array(na)},Y=function(na){return new Uint32Array(na)};
Ua.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Wa.inherits(Ua,x.Transform,{transform:function(na,Ba){return this._dims?na.modified("fields")||na.fields.some(function(Qa){return Ba.modified(Qa.fields)})?this.reinit(na,Ba):this.eval(na,Ba):this.init(na,Ba)},init:function(na,Ba){for(var Qa=na.fields,ca=na.query,Z=this._indices={},Oa=this._dims=[],Aa=ca.length,
va=0,xa;va<Aa;++va)xa=Qa[va].fname,xa=Z[xa]||(Z[xa]=Lb()),Oa.push(wb(xa,va,ca[va]));return this.eval(na,Ba)},reinit:function(na,Ba){var Qa=Ba.materialize().fork(),ca=na.fields,Z=na.query,Oa=this._indices,Aa=this._dims,va=this.value,xa=va.curr(),fa=va.prev(),pa=va.all(),da=Qa.rem=Qa.add,ua=Qa.mod,Ia=Z.length,wa={},$a,ja,u;fa.set(xa);Ba.rem.length&&(u=this.remove(na,Ba,Qa));Ba.add.length&&va.add(Ba.add);if(Ba.mod.length){var y={};var z=Ba.mod;var D=0;for(ja=z.length;D<ja;++D)y[z[D]._index]=1}for(D=
0;D<Ia;++D){var C=ca[D];if(!Aa[D]||na.modified("fields",D)||Ba.modified(C.fields))ja=C.fname,(z=wa[ja])||(Oa[ja]=$a=Lb(),wa[ja]=z=$a.insert(C,Ba.source,0)),Aa[D]=wb($a,D,Z[D]).onAdd(z,xa)}D=0;for(ja=va.data().length;D<ja;++D)u[D]||(fa[D]!==xa[D]?da.push(D):y[D]&&xa[D]!==pa&&ua.push(D));va.mask=(1<<Ia)-1;return Qa},eval:function(na,Ba){var Qa=Ba.materialize().fork(),ca=this._dims.length,Z=0;Ba.rem.length&&(this.remove(na,Ba,Qa),Z|=(1<<ca)-1);na.modified("query")&&!na.modified("fields")&&(Z|=this.update(na,
Ba,Qa));Ba.add.length&&(this.insert(na,Ba,Qa),Z|=(1<<ca)-1);Ba.mod.length&&(this.modify(Ba,Qa),Z|=(1<<ca)-1);this.value.mask=Z;return Qa},insert:function(na,Ba,Qa){Ba=Ba.add;var ca=this.value,Z=this._dims,Oa=this._indices;na=na.fields;var Aa={};Qa=Qa.add;var va=ca.size()+Ba.length,xa=Z.length,fa=ca.size();ca.resize(va,xa);ca.add(Ba);var pa=ca.curr(),da=ca.prev(),ua=ca.all();for(ca=0;ca<xa;++ca){var Ia=na[ca].fname;Ia=Aa[Ia]||(Aa[Ia]=Oa[Ia].insert(na[ca],Ba,fa));Z[ca].onAdd(Ia,pa)}for(;fa<va;++fa)da[fa]=
ua,pa[fa]!==ua&&Qa.push(fa)},modify:function(na,Ba){Ba=Ba.mod;var Qa=this.value,ca=Qa.curr();Qa=Qa.all();na=na.mod;var Z;var Oa=0;for(Z=na.length;Oa<Z;++Oa){var Aa=na[Oa]._index;ca[Aa]!==Qa&&Ba.push(Aa)}},remove:function(na,Ba,Qa){na=this._indices;var ca=this.value,Z=ca.curr(),Oa=ca.prev();ca=ca.all();var Aa={};Qa=Qa.rem;var va=Ba.rem,xa,fa;var pa=0;for(xa=va.length;pa<xa;++pa){var da=va[pa]._index;Aa[da]=1;Oa[da]=fa=Z[da];Z[da]=ca;fa!==ca&&Qa.push(da)}for(da in na)na[da].remove(xa,Aa);this.reindex(Ba,
xa,Aa);return Aa},reindex:function(na,Ba,Qa){var ca=this._indices,Z=this.value;na.runAfter(function(){var Oa=Z.remove(Ba,Qa),Aa;for(Aa in ca)ca[Aa].reindex(Oa)})},update:function(na,Ba,Qa){var ca=this._dims,Z=na.query;Ba=Ba.stamp;var Oa=ca.length,Aa=0,va;for(va=Qa.filters=0;va<Oa;++va)if(na.modified("query",va)){var xa=va;++Aa}if(1===Aa)Aa=ca[xa].one,this.incrementOne(ca[xa],Z[xa],Qa.add,Qa.rem);else for(Aa=va=0;va<Oa;++va)na.modified("query",va)&&(Aa|=ca[va].one,this.incrementAll(ca[va],Z[va],Ba,
Qa.add),Qa.rem=Qa.add);return Aa},incrementAll:function(na,Ba,Qa,ca){var Z=this.value,Oa=Z.seen(),Aa=Z.curr();Z=Z.prev();var va=na.index(),xa=na.bisect(na.range),fa=na.bisect(Ba),pa=fa[0];fa=fa[1];var da=xa[0];xa=xa[1];var ua=na.one,Ia;if(pa<da){var wa=pa;for(Ia=Math.min(da,fa);wa<Ia;++wa){var $a=va[wa];Oa[$a]!==Qa&&(Z[$a]=Aa[$a],Oa[$a]=Qa,ca.push($a));Aa[$a]^=ua}}else if(pa>da)for(wa=da,Ia=Math.min(pa,xa);wa<Ia;++wa)$a=va[wa],Oa[$a]!==Qa&&(Z[$a]=Aa[$a],Oa[$a]=Qa,ca.push($a)),Aa[$a]^=ua;if(fa>xa)for(wa=
Math.max(pa,xa),Ia=fa;wa<Ia;++wa)$a=va[wa],Oa[$a]!==Qa&&(Z[$a]=Aa[$a],Oa[$a]=Qa,ca.push($a)),Aa[$a]^=ua;else if(fa<xa)for(wa=Math.max(da,fa),Ia=xa;wa<Ia;++wa)$a=va[wa],Oa[$a]!==Qa&&(Z[$a]=Aa[$a],Oa[$a]=Qa,ca.push($a)),Aa[$a]^=ua;na.range=Ba.slice()},incrementOne:function(na,Ba,Qa,ca){var Z=this.value.curr(),Oa=na.index(),Aa=na.bisect(na.range),va=na.bisect(Ba),xa=va[0];va=va[1];var fa=Aa[0];Aa=Aa[1];var pa=na.one,da;if(xa<fa){var ua=xa;for(da=Math.min(fa,va);ua<da;++ua){var Ia=Oa[ua];Z[Ia]^=pa;Qa.push(Ia)}}else if(xa>
fa)for(ua=fa,da=Math.min(xa,Aa);ua<da;++ua)Ia=Oa[ua],Z[Ia]^=pa,ca.push(Ia);if(va>Aa)for(ua=Math.max(xa,Aa),da=va;ua<da;++ua)Ia=Oa[ua],Z[Ia]^=pa,Qa.push(Ia);else if(va<Aa)for(ua=Math.max(fa,va),da=Aa;ua<da;++ua)Ia=Oa[ua],Z[Ia]^=pa,ca.push(Ia);na.range=Ba.slice()}});Sa.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};
Wa.inherits(Sa,x.Transform,{transform:function(na,Ba){var Qa=~(na.ignore||0);na=na.filter;var ca=na.mask;if(0===(ca&Qa))return Ba.StopPropagation;Ba=Ba.fork(Ba.ALL);var Z=na.data(),Oa=na.curr(),Aa=na.prev(),va=function(xa){return Oa[xa]&Qa?null:Z[xa]};Ba.filter(Ba.MOD,va);ca&ca-1?(Ba.filter(Ba.ADD,function(xa){var fa=Oa[xa]&Qa;return!fa&&fa^Aa[xa]&Qa?Z[xa]:null}),Ba.filter(Ba.REM,function(xa){var fa=Oa[xa]&Qa;return!fa||fa^fa^Aa[xa]&Qa?null:Z[xa]})):(Ba.filter(Ba.ADD,va),Ba.filter(Ba.REM,function(xa){return(Oa[xa]&
Qa)===ca?Z[xa]:null}));return Ba.filter(Ba.SOURCE,function(xa){return va(xa._index)})}});h.crossfilter=Ua;h.resolvefilter=Sa;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[44]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(0)):"function"===typeof define&&define.amd?define(["exports","vega-util"],m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.vega={},h.vega))})(this,function(h,m){function x(w){this.type=w}function Wa(w){switch(w.type){case "ArrayExpression":return w.elements;case "BinaryExpression":case "LogicalExpression":return[w.left,w.right];case "CallExpression":return[w.callee].concat(w.arguments);
case "ConditionalExpression":return[w.test,w.consequent,w.alternate];case "MemberExpression":return[w.object,w.property];case "ObjectExpression":return w.properties;case "Property":return[w.key,w.value];case "UnaryExpression":return[w.argument];default:return[]}}function Gb(w,H){if(!w)throw Error("ASSERT: "+H);}function gb(w){return 48<=w&&57>=w}function wb(w){return 0<="0123456789abcdefABCDEF".indexOf(w)}function Lb(w){return 0<="01234567".indexOf(w)}function rb(w){return 10===w||13===w||8232===
w||8233===w}function Ua(w){return 36===w||95===w||65<=w&&90>=w||97<=w&&122>=w||92===w||128<=w&&cb.test(String.fromCharCode(w))}function Sa(w){return 36===w||95===w||65<=w&&90>=w||97<=w&&122>=w||48<=w&&57>=w||92===w||128<=w&&M.test(String.fromCharCode(w))}function ab(){for(;V<ia;){var w=J.charCodeAt(V);if(32===w||9===w||11===w||12===w||160===w||5760<=w&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(w)||rb(w))++V;else break}}function za(w){var H=
0;var p="u"===w?4:2;for(w=0;w<p;++w)if(V<ia&&wb(J[V])){var q=J[V++];H=16*H+"0123456789abcdef".indexOf(q.toLowerCase())}else pa({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(H)}function Y(){var w=J.charCodeAt(V++);var H=String.fromCharCode(w);92===w&&(117!==J.charCodeAt(V)&&pa({},"Unexpected token %0","ILLEGAL"),++V,(w=za("u"))&&"\\"!==w&&Ua(w.charCodeAt(0))||pa({},"Unexpected token %0","ILLEGAL"),H=w);for(;V<ia;){w=J.charCodeAt(V);if(!Sa(w))break;++V;H+=String.fromCharCode(w);92===
w&&(H=H.substr(0,H.length-1),117!==J.charCodeAt(V)&&pa({},"Unexpected token %0","ILLEGAL"),++V,(w=za("u"))&&"\\"!==w&&Sa(w.charCodeAt(0))||pa({},"Unexpected token %0","ILLEGAL"),H+=w)}return H}function na(){var w=V,H=J.charCodeAt(V),p=J[V];switch(H){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++V,{type:7,value:String.fromCharCode(H),start:w,end:V};default:var q=J.charCodeAt(V+1);if(61===q)switch(H){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return V+=
2,{type:7,value:String.fromCharCode(H)+String.fromCharCode(q),start:w,end:V};case 33:case 61:return V+=2,61===J.charCodeAt(V)&&++V,{type:7,value:J.slice(w,V),start:w,end:V}}}H=J.substr(V,4);if("\x3e\x3e\x3e\x3d"===H)return V+=4,{type:7,value:H,start:w,end:V};H=H.substr(0,3);if("\x3e\x3e\x3e"===H||"\x3c\x3c\x3d"===H||"\x3e\x3e\x3d"===H)return V+=3,{type:7,value:H,start:w,end:V};H=H.substr(0,2);if(p===H[1]&&0<="+-\x3c\x3e\x26|".indexOf(p)||"\x3d\x3e"===H)return V+=2,{type:7,value:H,start:w,end:V};"//"===
H&&pa({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(p))return++V,{type:7,value:p,start:w,end:V};pa({},"Unexpected token %0","ILLEGAL")}function Ba(){var w=J[V];Gb(gb(w.charCodeAt(0))||"."===w,"Numeric literal must start with a decimal digit or a decimal point");var H=V;var p="";if("."!==w){p=J[V++];w=J[V];if("0"===p){if("x"===w||"X"===w){++V;for(p="";V<ia&&wb(J[V]);)p+=J[V++];0===p.length&&pa({},"Unexpected token %0","ILLEGAL");Ua(J.charCodeAt(V))&&pa({},"Unexpected token %0",
"ILLEGAL");return{type:6,value:parseInt("0x"+p,16),start:H,end:V}}if(Lb(w)){for(p="0"+J[V++];V<ia&&Lb(J[V]);)p+=J[V++];(Ua(J.charCodeAt(V))||gb(J.charCodeAt(V)))&&pa({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(p,8),octal:!0,start:H,end:V}}w&&gb(w.charCodeAt(0))&&pa({},"Unexpected token %0","ILLEGAL")}for(;gb(J.charCodeAt(V));)p+=J[V++];w=J[V]}if("."===w){for(p+=J[V++];gb(J.charCodeAt(V));)p+=J[V++];w=J[V]}if("e"===w||"E"===w){p+=J[V++];w=J[V];if("+"===w||"-"===w)p+=J[V++];if(gb(J.charCodeAt(V)))for(;gb(J.charCodeAt(V));)p+=
J[V++];else pa({},"Unexpected token %0","ILLEGAL")}Ua(J.charCodeAt(V))&&pa({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(p),start:H,end:V}}function Qa(w,H){var p=w;0<=H.indexOf("u")&&(p=p.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(q,t){if(1114111>=parseInt(t,16))return"x";pa({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(p)}catch(q){pa({},"Invalid regular expression")}try{return new RegExp(w,H)}catch(q){return null}}function ca(){ab();
if(V>=ia)return{type:2,start:V,end:V};var w=J.charCodeAt(V);if(Ua(w)){w=V;if(92===J.charCodeAt(V))var H=Y();else a:{for(H=V++;V<ia;){var p=J.charCodeAt(V);if(92===p){V=H;H=Y();break a}if(Sa(p))++V;else break}H=J.slice(H,V)}return{type:1===H.length?3:Ka.hasOwnProperty(H)?4:"null"===H?5:"true"===H||"false"===H?1:3,value:H,start:w,end:V}}if(40===w||41===w||59===w)return na();if(39===w||34===w){var q="";p=!1;w=J[V];Gb("'"===w||'"'===w,"String literal must starts with a quote");H=V;for(++V;V<ia;){var t=
J[V++];if(t===w){w="";break}else if("\\"===t)if((t=J[V++])&&rb(t.charCodeAt(0)))"\r"===t&&"\n"===J[V]&&++V;else switch(t){case "u":case "x":if("{"===J[V]){++V;var G=J[V];t=0;for("}"===G&&pa({},"Unexpected token %0","ILLEGAL");V<ia;){G=J[V++];if(!wb(G))break;t=16*t+"0123456789abcdef".indexOf(G.toLowerCase())}(1114111<t||"}"!==G)&&pa({},"Unexpected token %0","ILLEGAL");t=65535>=t?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320);q+=t}else q+=za(t);break;case "n":q+=
"\n";break;case "r":q+="\r";break;case "t":q+="\t";break;case "b":q+="\b";break;case "f":q+="\f";break;case "v":q+="\x0B";break;default:Lb(t)?(G="01234567".indexOf(t),0!==G&&(p=!0),V<ia&&Lb(J[V])&&(p=!0,G=8*G+"01234567".indexOf(J[V++]),0<="0123".indexOf(t)&&V<ia&&Lb(J[V])&&(G=8*G+"01234567".indexOf(J[V++]))),q+=String.fromCharCode(G)):q+=t}else if(rb(t.charCodeAt(0)))break;else q+=t}""!==w&&pa({},"Unexpected token %0","ILLEGAL");return{type:8,value:q,octal:p,start:H,end:V}}return 46===w?gb(J.charCodeAt(V+
1))?Ba():na():gb(w)?Ba():na()}function Z(){var w=Pa;V=w.end;Pa=ca();V=w.end;return w}function Oa(w,H,p){var q=new x("||"===w||"\x26\x26"===w?"LogicalExpression":"BinaryExpression");q.operator=w;q.left=H;q.right=p;return q}function Aa(w){var H=new x("Identifier");H.name=w;return H}function va(w){var H=new x("Literal");H.value=w.value;H.raw=J.slice(w.start,w.end);w.regex&&("//"===H.raw&&(H.raw="/(?:)/"),H.regex=w.regex);return H}function xa(w,H,p){var q=new x("MemberExpression");q.computed="["===w;
q.object=H;q.property=p;q.computed||(p.member=!0);return q}function fa(w,H,p){var q=new x("Property");q.key=H;q.value=p;q.kind=w;return q}function pa(w,H){var p=Array.prototype.slice.call(arguments,2),q=H.replace(/%(\d)/g,function(G,L){Gb(L<p.length,"Message reference must be in range");return p[L]});var t=Error(q);t.index=V;t.description=q;throw t;}function da(w){2===w.type&&pa(w,"Unexpected end of input");6===w.type&&pa(w,"Unexpected number");8===w.type&&pa(w,"Unexpected string");3===w.type&&pa(w,
"Unexpected identifier");4===w.type&&pa(w,"Unexpected reserved word");pa(w,"Unexpected token %0",w.value)}function ua(w){var H=Z();7===H.type&&H.value===w||da(H)}function Ia(w){return 7===Pa.type&&Pa.value===w}function wa(){V=Pa.start;var w=Z();return 8===w.type||6===w.type?(w.octal&&pa(w,"Octal literals are not allowed in strict mode."),va(w)):Aa(w.value)}function $a(){if(Ia("(")){ua("(");var w=D();ua(")");return w}if(Ia("[")){w=[];V=Pa.start;for(ua("[");!Ia("]");)Ia(",")?(Z(),w.push(null)):(w.push(z()),
Ia("]")||ua(","));Z();var H=new x("ArrayExpression");H.elements=w;return H}if(Ia("{")){w=[];H={};var p=String;V=Pa.start;for(ua("{");!Ia("}");){V=Pa.start;var q=Pa;if(3===q.type){var t=wa();ua(":");q=z();q=fa("init",t,q)}else 2===q.type||7===q.type?(da(q),q=void 0):(t=wa(),ua(":"),q=z(),q=fa("init",t,q));t="Identifier"===q.key.type?q.key.name:p(q.key.value);t="$"+t;Object.prototype.hasOwnProperty.call(H,t)?pa({},"Duplicate data property in object literal not allowed in strict mode"):H[t]=!0;w.push(q);
Ia("}")||ua(",")}ua("}");H=new x("ObjectExpression");H.properties=w;return H}H=Pa.type;V=Pa.start;if(3===H||ka[Pa.value])w=Aa(Z().value);else if(8===H||6===H)Pa.octal&&pa(Pa,"Octal literals are not allowed in strict mode."),w=va(Z());else{if(4===H)throw Error("Disabled.");if(1===H)w=Z(),w.value="true"===w.value,w=va(w);else if(5===H)w=Z(),w.value=null,w=va(w);else if(Ia("/")||Ia("/\x3d")){var G;Pa=null;ab();w=V;H=J[V];Gb("/"===H,"Regular expression literal must start with a slash");p=J[V++];for(t=
q=!1;V<ia;)if(H=J[V++],p+=H,"\\"===H)H=J[V++],rb(H.charCodeAt(0))&&pa({},"Invalid regular expression: missing /"),p+=H;else if(rb(H.charCodeAt(0)))pa({},"Invalid regular expression: missing /");else if(q)"]"===H&&(q=!1);else if("/"===H){t=!0;break}else"["===H&&(q=!0);t||pa({},"Invalid regular expression: missing /");H=p.substr(1,p.length-2);for(G=t="";V<ia;){q=J[V];if(!Sa(q.charCodeAt(0)))break;++V;"\\"===q&&V<ia?pa({},"Unexpected token %0","ILLEGAL"):(G+=q,t+=q)}0<=G.search(/[^gimuy]/g)&&pa({},"Invalid regular expression",
G);q=G;G=Qa(H,q);w=va({literal:p+t,value:G,regex:{pattern:H,flags:q},start:w,end:V});H=V;Pa=ca();V=H}else da(Z())}return w}function ja(){var w;for(w=$a();;)if(Ia(".")){ua(".");V=Pa.start;var H=Z();3===H.type||4===H.type||1===H.type||5===H.type||da(H);H=Aa(H.value);w=xa(".",w,H)}else if(Ia("(")){H=[];ua("(");if(!Ia(")"))for(;V<ia;){H.push(z());if(Ia(")"))break;ua(",")}ua(")");var p=new x("CallExpression");p.callee=w;p.arguments=H;w=p}else if(Ia("["))ua("["),H=D(),ua("]"),w=xa("[",w,H);else break;if(7===
Pa.type&&(Ia("++")||Ia("--")))throw Error("Disabled.");return w}function u(){if(7!==Pa.type&&4!==Pa.type)var w=ja();else{if(Ia("++")||Ia("--"))throw Error("Disabled.");if(Ia("+")||Ia("-")||Ia("~")||Ia("!")){var H=Z();w=u();H=H.value;var p=new x("UnaryExpression");p.operator=H;p.argument=w;p.prefix=!0;w=p}else{if(4===Pa.type&&"delete"===Pa.value||4===Pa.type&&"void"===Pa.value||4===Pa.type&&"typeof"===Pa.value)throw Error("Disabled.");w=ja()}}return w}function y(w){var H=0;if(7!==w.type&&4!==w.type)return 0;
switch(w.value){case "||":H=1;break;case "\x26\x26":H=2;break;case "|":H=3;break;case "^":H=4;break;case "\x26":H=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":H=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":H=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":H=8;break;case "+":case "-":H=9;break;case "*":case "/":case "%":H=11}return H}function z(){var w=Pa;var H=u();var p=Pa;var q=y(p);if(0===q)var t=H;else{p.prec=
q;Z();w=[w,Pa];var G=u();for(t=[H,p,G];0<(q=y(Pa));){for(;2<t.length&&q<=t[t.length-2].prec;)G=t.pop(),p=t.pop().value,H=t.pop(),w.pop(),H=Oa(p,H,G),t.push(H);p=Z();p.prec=q;t.push(p);w.push(Pa);H=u();t.push(H)}q=t.length-1;H=t[q];for(w.pop();1<q;)w.pop(),H=Oa(t[q-1].value,t[q-2],H),q-=2;t=H}Ia("?")&&(Z(),w=z(),ua(":"),q=z(),H=new x("ConditionalExpression"),H.test=t,H.consequent=w,H.alternate=q,t=H);return t}function D(){var w=z();if(Ia(","))throw Error("Disabled.");return w}function C(w){function H(p,
q,t){return function(G){var L=w(G[0]);q&&(L=q+"("+L+")",0===q.lastIndexOf("new ",0)&&(L="("+L+")"));return L+"."+p+(0>t?"":0===t?"()":"("+G.slice(1).map(w).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",
tan:"Math.tan",clamp:function(p){3>p.length&&m.error("Missing arguments to clamp function.");3<p.length&&m.error("Too many arguments to clamp function.");p=p.map(w);return"Math.max("+p[1]+", Math.min("+p[2]+","+p[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:H("getDate","new Date",0),day:H("getDay","new Date",0),year:H("getFullYear","new Date",0),month:H("getMonth","new Date",0),hours:H("getHours","new Date",0),minutes:H("getMinutes","new Date",0),seconds:H("getSeconds","new Date",
0),milliseconds:H("getMilliseconds","new Date",0),time:H("getTime","new Date",0),timezoneoffset:H("getTimezoneOffset","new Date",0),utcdate:H("getUTCDate","new Date",0),utcday:H("getUTCDay","new Date",0),utcyear:H("getUTCFullYear","new Date",0),utcmonth:H("getUTCMonth","new Date",0),utchours:H("getUTCHours","new Date",0),utcminutes:H("getUTCMinutes","new Date",0),utcseconds:H("getUTCSeconds","new Date",0),utcmilliseconds:H("getUTCMilliseconds","new Date",0),length:H("length",null,-1),parseFloat:"parseFloat",
parseInt:"parseInt",upper:H("toUpperCase","String",0),lower:H("toLowerCase","String",0),substring:H("substring","String"),split:H("split","String"),trim:H("trim","String",0),regexp:"RegExp",test:H("test","RegExp"),if:function(p){3>p.length&&m.error("Missing arguments to if function.");3<p.length&&m.error("Too many arguments to if function.");p=p.map(w);return"("+p[0]+"?"+p[1]+":"+p[2]+")"}}}x.prototype.visit=function(w){var H;if(w(this))return 1;var p=Wa(this);var q=0;for(H=p.length;q<H;++q)if(p[q].visit(w))return 1};
var J,V,ia,Pa,cb=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
M=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Ka={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},ka={"if":1},ha={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",
LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};h.ASTNode=x;h.ArrayExpression="ArrayExpression";h.BinaryExpression="BinaryExpression";h.CallExpression="CallExpression";h.ConditionalExpression="ConditionalExpression";h.Identifier="Identifier";h.Literal="Literal";h.LogicalExpression="LogicalExpression";h.MemberExpression="MemberExpression";h.ObjectExpression="ObjectExpression";h.Property="Property";
h.RawCode="RawCode";h.UnaryExpression="UnaryExpression";h.codegenExpression=function(w){function H(qa){if(m.isString(qa))return qa;var ta=aa[qa.type];null==ta&&m.error("Unsupported type: "+qa.type);return ta(qa)}function p(qa){qa={code:H(qa),globals:Object.keys(db),fields:Object.keys(sb)};db={};sb={};return qa}w=w||{};var q=w.allowed?m.toSet(w.allowed):{},t=w.forbidden?m.toSet(w.forbidden):{},G=w.constants||ha,L=(w.functions||C)(H),ba=w.globalvar,Ga=w.fieldvar,La=m.isFunction(ba)?ba:function(qa){return ba+
'["'+qa+'"]'},db={},sb={},S=0,aa={Literal:function(qa){return qa.raw},Identifier:function(qa){qa=qa.name;if(0<S)return qa;if(m.hasOwnProperty(t,qa))return m.error("Illegal identifier: "+qa);if(m.hasOwnProperty(G,qa))return G[qa];if(m.hasOwnProperty(q,qa))return qa;db[qa]=1;return La(qa)},MemberExpression:function(qa){var ta=!qa.computed,ea=H(qa.object);ta&&(S+=1);qa=H(qa.property);if(ea===Ga){var U=sb;var Fa=(Fa=qa&&qa.length-1)&&('"'===qa[0]&&'"'===qa[Fa]||"'"===qa[0]&&"'"===qa[Fa])?qa.slice(1,-1):
qa;U[Fa]=1}ta&&--S;return ea+(ta?"."+qa:"["+qa+"]")},CallExpression:function(qa){"Identifier"!==qa.callee.type&&m.error("Illegal callee type: "+qa.callee.type);var ta=qa.callee.name;qa=qa.arguments;var ea=m.hasOwnProperty(L,ta)&&L[ta];ea||m.error("Unrecognized function: "+ta);return m.isFunction(ea)?ea(qa):ea+"("+qa.map(H).join(",")+")"},ArrayExpression:function(qa){return"["+qa.elements.map(H).join(",")+"]"},BinaryExpression:function(qa){return"("+H(qa.left)+" "+qa.operator+" "+H(qa.right)+")"},
UnaryExpression:function(qa){return"("+qa.operator+H(qa.argument)+")"},ConditionalExpression:function(qa){return"("+H(qa.test)+"?"+H(qa.consequent)+":"+H(qa.alternate)+")"},LogicalExpression:function(qa){return"("+H(qa.left)+qa.operator+H(qa.right)+")"},ObjectExpression:function(qa){return"{"+qa.properties.map(H).join(",")+"}"},Property:function(qa){S+=1;var ta=H(qa.key);--S;return ta+":"+H(qa.value)}};p.functions=L;p.constants=G;return p};h.constants=ha;h.functions=C;h.parseExpression=function(w){J=
w;V=0;ia=J.length;Pa=null;w=V;Pa=ca();V=w;w=D();if(2!==Pa.type)throw Error("Unexpect token after expression.");return w};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[45]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(0),xb(44)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.vega={},h.vega,h.vega))})(this,function(h,m,x){function Wa(Sa){return function(ab,za){ab=Sa(ab);return ab<za?-1:ab>za?1:ab>=za?0:NaN}}function Gb(Sa,ab){var za=ab.fields;ab=ab.values;for(var Y=za.length,na=0,Ba,Qa;na<Y;++na)if(Qa=za[na],
Qa.getter=m.field.getter||m.field(Qa.field),Ba=Qa.getter(Sa),m.isDate(Ba)&&(Ba=m.toNumber(Ba)),m.isDate(ab[na])&&(ab[na]=m.toNumber(ab[na])),m.isDate(ab[na][0])&&(ab[na]=ab[na].map(m.toNumber)),"E"===Qa.type){if(m.isArray(ab[na])?0>ab[na].indexOf(Ba):Ba!==ab[na])return!1}else if("R"===Qa.type){if(!m.inrange(Ba,ab[na]))return!1}else if("R-RE"===Qa.type){if(!m.inrange(Ba,ab[na],!0,!1))return!1}else if("R-E"===Qa.type){if(!m.inrange(Ba,ab[na],!1,!1))return!1}else if("R-LE"===Qa.type&&!m.inrange(Ba,ab[na],
!1,!0))return!1;return!0}var gb=m.field("_vgsid_"),wb=function(Sa){function ab(na,Ba,Qa,ca){null==Qa&&(Qa=0);null==ca&&(ca=na.length);for(;Qa<ca;){var Z=Qa+ca>>>1;0>Y(na[Z],Ba)?Qa=Z+1:ca=Z}return Qa}var za=Sa,Y=Sa;1===Sa.length&&(za=function(na,Ba){return Sa(na)-Ba},Y=Wa(Sa));return{left:ab,center:function(na,Ba,Qa,ca){null==Qa&&(Qa=0);null==ca&&(ca=na.length);ca=ab(na,Ba,Qa,ca-1);return ca>Qa&&za(na[ca-1],Ba)>-za(na[ca],Ba)?ca-1:ca},right:function(na,Ba,Qa,ca){null==Qa&&(Qa=0);null==ca&&(ca=na.length);
for(;Qa<ca;){var Z=Qa+ca>>>1;0<Y(na[Z],Ba)?ca=Z:Qa=Z+1}return Qa}}}(gb),Lb=wb.left,rb=wb.right,Ua={E_union:function(Sa,ab){if(!Sa.length)return ab;for(var za=0,Y=ab.length;za<Y;++za)0>Sa.indexOf(ab[za])&&Sa.push(ab[za]);return Sa},E_intersect:function(Sa,ab){return Sa.length?Sa.filter(function(za){return 0<=ab.indexOf(za)}):ab},R_union:function(Sa,ab){var za=m.toNumber(ab[0]),Y=m.toNumber(ab[1]);za>Y&&(za=ab[1],Y=ab[0]);if(!Sa.length)return[za,Y];Sa[0]>za&&(Sa[0]=za);Sa[1]<Y&&(Sa[1]=Y);return Sa},
R_intersect:function(Sa,ab){var za=m.toNumber(ab[0]),Y=m.toNumber(ab[1]);za>Y&&(za=ab[1],Y=ab[0]);if(!Sa.length)return[za,Y];if(Y<Sa[0]||Sa[1]<za)return[];Sa[0]<za&&(Sa[0]=za);Sa[1]>Y&&(Sa[1]=Y);return Sa}};h.selectionIdTest=function(Sa,ab,za){var Y=this.context.data[Sa];Sa=Y?Y.values.value:[];Y=Y?Y["index:unit"]&&Y["index:unit"].value:void 0;za="intersect"===za;ab=gb(ab);var na=Lb(Sa,ab);if(na===Sa.length||gb(Sa[na])!==ab)return!1;if(Y&&za){if(1===Y.size)return!0;if(rb(Sa,ab)-na<Y.size)return!1}return!0};
h.selectionResolve=function(Sa,ab,za,Y){Sa=(Sa=this.context.data[Sa])?Sa.values.value:[];for(var na={},Ba={},Qa={},ca,Z,Oa,Aa,va,xa,fa=Sa.length,pa=0,da,ua;pa<fa;++pa){ca=Sa[pa];Oa=ca.unit;Z=ca.fields;ca=ca.values;da=0;for(ua=Z.length;da<ua;++da)Aa=Z[da],va=na[Aa.field]||(na[Aa.field]={}),xa=va[Oa]||(va[Oa]=[]),Qa[Aa.field]=Aa=Aa.type.charAt(0),Aa=Ua[Aa+"_union"],va[Oa]=Aa(xa,m.array(ca[da]));za&&(xa=Ba[Oa]||(Ba[Oa]=[]),xa.push(m.array(ca).reduce(function(Ia,wa,$a){return Ia[Z[$a].field]=wa,Ia},{})))}ab=
ab||"union";Object.keys(na).forEach(function(Ia){na[Ia]=Object.keys(na[Ia]).map(function(wa){return na[Ia][wa]}).reduce(function(wa,$a){return void 0===wa?$a:Ua[Qa[Ia]+"_"+ab](wa,$a)})});Sa=Object.keys(Ba);za&&Sa.length&&(za={},Oa={},na[Y?"vlPoint":"vlMulti"]="union"===ab?(za.or=Sa.reduce(function(Ia,wa){return Ia.push.apply(Ia,$jscomp.arrayFromIterable(Ba[wa])),Ia},[]),za):(Oa.and=Sa.map(function(Ia){var wa={};return wa.or=Ba[Ia],wa}),Oa));return na};h.selectionTest=function(Sa,ab,za){var Y=this.context.data[Sa];
Sa=Y?Y.values.value:[];Y=Y?Y["index:unit"]&&Y["index:unit"].value:void 0;za="intersect"===za;for(var na=Sa.length,Ba=0,Qa,ca,Z,Oa;Ba<na;++Ba)if(Qa=Sa[Ba],Y&&za){if(ca=ca||{},Z=ca[Oa=Qa.unit]||0,-1!==Z){Qa=Gb(ab,Qa);ca[Oa]=Qa?-1:++Z;if(Qa&&1===Y.size)return!0;if(!Qa&&Z===Y.get(Oa).count)return!1}}else if(Qa=Gb(ab,Qa),za^Qa)return Qa;return na&&za};h.selectionTuples=function(Sa,ab){return Sa.map(function(za){return m.extend({values:ab.fields.map(function(Y){return(Y.getter||(Y.getter=m.field(Y.field)))(za.datum)})},
ab)})};h.selectionVisitor=function(Sa,ab,za,Y){ab[0].type!==x.Literal&&m.error("First argument to selection functions must be a string literal.");Sa=ab[0].value;ab=2<=ab.length&&m.peek(ab).value;var na=":"+Sa;"intersect"!==ab||m.hasOwnProperty(Y,"@unit")||(Y["@unit"]=za.getData(Sa).indataRef(za,"unit"));m.hasOwnProperty(Y,na)||(Y[na]=za.getData(Sa).tuplesRef())};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[46]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(0),xb(44),xb(27),xb(20),xb(14),xb(23),xb(24),xb(45),xb(15),xb(6),xb(3)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression d3-geo d3-color vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time d3-array".split(" "),m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.vega={},h.vega,h.vega,h.d3,h.d3,h.vega,h.vega,h.vega,h.vega,
h.vega,h.vega,h.d3))})(this,function(h,m,x,Wa,Gb,gb,wb,Lb,rb,Ua,Sa,ab){function za(mb){return(mb=this.context.data[mb])?mb.values.value:[]}function Y(mb,rc,Cc){return(Cc=(mb=this.context.data[mb]["index:"+rc])?mb.value.get(Cc):void 0)?Cc.count:Cc}function na(mb,rc){var Cc=this.context.dataflow;Cc.pulse(this.context.data[mb].input,Cc.changeset().remove(m.truthy).insert(rc));return 1}function Ba(mb,rc,Cc){if(mb){var Rc=this.context.dataflow;Rc.pulse(mb.mark.source,Rc.changeset().encode(mb,rc))}return void 0!==
Cc?Cc:mb}function Qa(mb,rc,Cc){if(!Number.isInteger(mb)||!Number.isInteger(rc))return"";Zc.setYear(2E3);Zc.setMonth(mb);Zc.setDate(rc);return Zb.call(this,Zc,Cc)}function ca(mb){return Qa.call(this,mb,1,"%B")}function Z(mb){return Qa.call(this,mb,1,"%b")}function Oa(mb){return Qa.call(this,0,2+mb,"%A")}function Aa(mb){return Qa.call(this,0,2+mb,"%a")}function va(mb,rc,Cc,Rc){rc[0].type!==x.Literal&&m.error("First argument to data functions must be a string literal.");mb=rc[0].value;rc=":"+mb;if(!m.hasOwnProperty(rc,
Rc))try{Rc[rc]=Cc.getData(mb).tuplesRef()}catch(sd){}}function xa(mb,rc,Cc,Rc){rc[0].type!==x.Literal&&m.error("First argument to indata must be a string literal.");rc[1].type!==x.Literal&&m.error("Second argument to indata must be a string literal.");mb=rc[0].value;rc=rc[1].value;var sd="@"+rc;m.hasOwnProperty(sd,Rc)||(Rc[sd]=Cc.getData(mb).indataRef(Cc,rc))}function fa(mb,rc,Cc,Rc){if(rc[0].type===x.Literal)pa(Cc,Rc,rc[0].value);else for(mb in Cc.scales)pa(Cc,Rc,mb)}function pa(mb,rc,Cc){var Rc=
"%"+Cc;if(!m.hasOwnProperty(rc,Rc))try{rc[Rc]=mb.scaleRef(Cc)}catch(sd){}}function da(mb,rc){var Cc;return m.isFunction(mb)?mb:m.isString(mb)?(Cc=rc.scales[mb])&&Cc.value:void 0}function ua(mb,rc,Cc){rc.__bandwidth=function(sd){return sd&&sd.bandwidth?sd.bandwidth():0};Cc._bandwidth=fa;Cc._range=fa;Cc._scale=fa;var Rc=function(sd){return"_["+(sd.type===x.Literal?m.stringValue("%"+sd.value):m.stringValue("%")+"+"+mb(sd))+"]"};return{_bandwidth:function(sd){return"this.__bandwidth("+Rc(sd[0])+")"},
_range:function(sd){return Rc(sd[0])+".range()"},_scale:function(sd){return Rc(sd[0])+"("+mb(sd[1])+")"}}}function Ia(mb,rc){return function(Cc,Rc,sd){return Cc?(Cc=da(Cc,(sd||this).context))&&Cc.path[mb](Rc):rc(Rc)}}function wa(mb){var rc=this.context.group,Cc=!1;if(rc)for(;mb;){if(mb===rc){Cc=!0;break}mb=mb.mark.group}return Cc}function $a(mb,rc,Cc){try{mb[rc].apply(mb,["EXPRESSION"].concat([].slice.call(Cc)))}catch(Rc){mb.warn(Rc)}return Cc[Cc.length-1]}function ja(){return $a(this.context.dataflow,
"warn",arguments)}function u(){return $a(this.context.dataflow,"info",arguments)}function y(){return $a(this.context.dataflow,"debug",arguments)}function z(mb){mb/=255;return.03928>=mb?mb/12.92:Math.pow((mb+.055)/1.055,2.4)}function D(mb){var rc=Gb.rgb(mb);mb=z(rc.r);var Cc=z(rc.g);rc=z(rc.b);return.2126*mb+.7152*Cc+.0722*rc}function C(mb,rc){mb=D(mb);rc=D(rc);return(Math.max(mb,rc)+.05)/(Math.min(mb,rc)+.05)}function J(){var mb=[].slice.call(arguments);mb.unshift({});return m.extend.apply(m,$jscomp.arrayFromIterable(mb))}
function V(mb,rc){if(mb===rc||mb!==mb&&rc!==rc)mb=!0;else if(m.isArray(mb))if(m.isArray(rc)&&mb.length===rc.length)a:{for(var Cc=0,Rc=mb.length;Cc<Rc;++Cc)if(!V(mb[Cc],rc[Cc])){mb=!1;break a}mb=!0}else mb=!1;else mb=m.isObject(mb)&&m.isObject(rc)?ia(mb,rc):!1;return mb}function ia(mb,rc){for(var Cc in mb)if(!V(mb[Cc],rc[Cc]))return!1;return!0}function Pa(mb){return function(rc){return ia(mb,rc)}}function cb(mb,rc,Cc,Rc,sd,I){var ma=this.context.dataflow,ib=this.context.data[mb],nb=ib.input;mb=ma.stamp();
var Bb=ib.changes,Ub;if(!1===ma._trigger||!(nb.value.length||rc||Rc))return 0;if(!Bb||Bb.stamp<mb)ib.changes=Bb=ma.changeset(),Bb.stamp=mb,ma.runAfter(function(){ib.modified=!0;ma.pulse(nb,Bb).run()},!0,1);Cc&&(Cc=!0===Cc?m.truthy:m.isArray(Cc)||gb.isTuple(Cc)?Cc:Pa(Cc),Bb.remove(Cc));rc&&Bb.insert(rc);Rc&&(Cc=Pa(Rc),nb.value.some(Cc)?Bb.remove(Cc):Bb.insert(Rc));if(sd)for(Ub in I)Bb.modify(sd,Ub,I[Ub]);return 1}function M(mb){var rc=mb.touches;mb=rc[0].clientX-rc[1].clientX;rc=rc[0].clientY-rc[1].clientY;
return Math.sqrt(mb*mb+rc*rc)}function Ka(mb){mb=mb.touches;return Math.atan2(mb[0].clientY-mb[1].clientY,mb[0].clientX-mb[1].clientX)}function ka(mb,rc){rc=Xc[rc]||(Xc[rc]=m.field(rc));return m.isArray(mb)?mb.map(rc):rc(mb)}function ha(mb){return m.isArray(mb)||ArrayBuffer.isView(mb)?mb:null}function w(mb){return ha(mb)||(m.isString(mb)?mb:null)}function H(mb,rc){for(var Cc=[],Rc=1;Rc<arguments.length;++Rc)Cc[Rc-1]=arguments[Rc];var sd;return(sd=ha(mb)).join.apply(sd,$jscomp.arrayFromIterable(Cc))}
function p(mb,rc){for(var Cc=[],Rc=1;Rc<arguments.length;++Rc)Cc[Rc-1]=arguments[Rc];var sd;return(sd=w(mb)).indexOf.apply(sd,$jscomp.arrayFromIterable(Cc))}function q(mb,rc){for(var Cc=[],Rc=1;Rc<arguments.length;++Rc)Cc[Rc-1]=arguments[Rc];var sd;return(sd=w(mb)).lastIndexOf.apply(sd,$jscomp.arrayFromIterable(Cc))}function t(mb,rc){for(var Cc=[],Rc=1;Rc<arguments.length;++Rc)Cc[Rc-1]=arguments[Rc];var sd;return(sd=w(mb)).slice.apply(sd,$jscomp.arrayFromIterable(Cc))}function G(mb,rc,Cc){m.isFunction(Cc)&&
m.error("Function argument passed to replace.");return String(mb).replace(rc,Cc)}function L(mb){return ha(mb).slice().reverse()}function ba(mb,rc,Cc){return wb.bandSpace(mb||0,rc||0,Cc||0)}function Ga(mb,rc){return(mb=da(mb,(rc||this).context))&&mb.bandwidth?mb.bandwidth():0}function La(mb,rc){return(mb=da(mb,(rc||this).context))?mb.copy():void 0}function db(mb,rc){return(mb=da(mb,(rc||this).context))?mb.domain():[]}function sb(mb,rc,Cc){return(mb=da(mb,(Cc||this).context))?m.isArray(rc)?(mb.invertRange||
mb.invert)(rc):(mb.invert||mb.invertExtent)(rc):void 0}function S(mb,rc){return(mb=da(mb,(rc||this).context))&&mb.range?mb.range():[]}function aa(mb,rc,Cc){return(mb=da(mb,(Cc||this).context))?mb(rc):void 0}function qa(mb,rc,Cc,Rc,sd){mb=da(mb,(sd||this).context);var I=Lb.Gradient(rc,Cc);rc=mb.domain();Cc=rc[0];sd=m.peek(rc);var ma=m.identity;sd-Cc?ma=wb.scaleFraction(mb,Cc,sd):mb=(mb.interpolator?wb.scale("sequential")().interpolator(mb.interpolator()):wb.scale("linear")().interpolate(mb.interpolate()).range(mb.range())).domain([Cc=
0,sd=1]);mb.ticks&&(rc=mb.ticks(+Rc||15),Cc!==rc[0]&&rc.unshift(Cc),sd!==m.peek(rc)&&rc.push(sd));rc.forEach(function(ib){return I.stop(ma(ib),mb(ib))});return I}function ta(mb,rc,Cc){var Rc=da(mb,(Cc||this).context);return function(sd){return Rc?Rc.path.context(sd)(rc):""}}function ea(mb){var rc=null;return function(Cc){return Cc?Lb.pathRender(Cc,rc=rc||Lb.pathParse(mb)):mb}}function U(mb,rc){mb=za.call(rc,mb);return mb.root&&mb.root.lookup||{}}function Fa(mb,rc,Cc){mb=U(mb,this);rc=mb[rc];Cc=mb[Cc];
return rc&&Cc?rc.path(Cc).map(Uc):void 0}function Ja(mb,rc){return(mb=U(mb,this)[rc])?mb.ancestors().map(Uc):void 0}function Ta(){var mb="undefined"!==typeof window&&window||null;return mb?mb.screen:{}}function ya(){var mb="undefined"!==typeof window&&window||null;return mb?[mb.innerWidth,mb.innerHeight]:[void 0,void 0]}function lb(){var mb=this.context.dataflow;return(mb=mb.container&&mb.container())?[mb.clientWidth,mb.clientHeight]:[void 0,void 0]}function yb(mb){var rc=null;if(mb){var Cc=m.array(mb.marktype),
Rc=m.array(mb.markname);rc=function(sd){return(!Cc.length||Cc.some(function(I){return sd.marktype===I}))&&(!Rc.length||Rc.some(function(I){return sd.name===I}))}}return rc}function Ya(mb,rc,Cc){if(1===arguments.length)return Md[mb];Md[mb]=rc;Cc&&(fe[mb]=Cc);Rb&&(Rb.functions[mb]="this."+mb);return this}var Ob=function(mb){return function(rc,Cc){return this.context.dataflow.locale()[mb](Cc)(rc)}},Qb=Ob("format"),Zb=Ob("timeFormat"),Ic=Ob("utcFormat"),uc=Ob("timeParse");Ob=Ob("utcParse");var Zc=new Date(2E3,
0,1),Ad=Ia("area",Wa.geoArea),Lc=Ia("bounds",Wa.geoBounds);Wa=Ia("centroid",Wa.geoCentroid);var Xc={},Uc=function(mb){return mb.data},Md={random:function(){return Ua.random()},cumulativeNormal:Ua.cumulativeNormal,cumulativeLogNormal:Ua.cumulativeLogNormal,cumulativeUniform:Ua.cumulativeUniform,densityNormal:Ua.densityNormal,densityLogNormal:Ua.densityLogNormal,densityUniform:Ua.densityUniform,quantileNormal:Ua.quantileNormal,quantileLogNormal:Ua.quantileLogNormal,quantileUniform:Ua.quantileUniform,
sampleNormal:Ua.sampleNormal,sampleLogNormal:Ua.sampleLogNormal,sampleUniform:Ua.sampleUniform,isArray:m.isArray,isBoolean:m.isBoolean,isDate:m.isDate,isDefined:function(mb){return void 0!==mb},isNumber:m.isNumber,isObject:m.isObject,isRegExp:m.isRegExp,isString:m.isString,isTuple:gb.isTuple,isValid:function(mb){return null!=mb&&mb===mb},toBoolean:m.toBoolean,toDate:m.toDate,toNumber:m.toNumber,toString:m.toString,indexof:p,join:H,lastindexof:q,replace:G,reverse:L,slice:t,flush:m.flush,lerp:m.lerp,
merge:J,pad:m.pad,peek:m.peek,pluck:ka,span:m.span,inrange:m.inrange,truncate:m.truncate,rgb:Gb.rgb,lab:Gb.lab,hcl:Gb.hcl,hsl:Gb.hsl,luminance:D,contrast:C,sequence:ab.range,format:Qb,utcFormat:Ic,utcParse:Ob,utcOffset:Sa.utcOffset,utcSequence:Sa.utcSequence,timeFormat:Zb,timeParse:uc,timeOffset:Sa.timeOffset,timeSequence:Sa.timeSequence,timeUnitSpecifier:Sa.timeUnitSpecifier,monthFormat:ca,monthAbbrevFormat:Z,dayFormat:Oa,dayAbbrevFormat:Aa,quarter:m.quarter,utcquarter:m.utcquarter,week:Sa.week,
utcweek:Sa.utcweek,dayofyear:Sa.dayofyear,utcdayofyear:Sa.utcdayofyear,warn:ja,info:u,debug:y,extent:m.extent,inScope:wa,intersect:function(mb,rc,Cc){if(!mb)return[];var Rc=$jscomp.makeIterator(mb);mb=Rc.next().value;Rc=Rc.next().value;mb=(new Lb.Bounds).set(mb[0],mb[1],Rc[0],Rc[1]);Cc=Cc||this.context.dataflow.scenegraph().root;return Lb.intersect(Cc,mb,yb(rc))},clampRange:m.clampRange,pinchDistance:M,pinchAngle:Ka,screen:Ta,containerSize:lb,windowSize:ya,bandspace:ba,setdata:na,pathShape:ea,panLinear:m.panLinear,
panLog:m.panLog,panPow:m.panPow,panSymlog:m.panSymlog,zoomLinear:m.zoomLinear,zoomLog:m.zoomLog,zoomPow:m.zoomPow,zoomSymlog:m.zoomSymlog,encode:Ba,modify:cb},Qd="view item group xy x y".split(" "),fe={},Eb={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:function(mb){return"_["+m.stringValue("$"+mb)+"]"},functions:function(mb){var rc=x.functions(mb);Qd.forEach(function(Rc){return rc[Rc]="event.vega."+Rc});for(var Cc in Md)rc[Cc]="this."+Cc;m.extend(rc,ua(mb,Md,fe));return rc},
constants:x.constants,visitors:fe},Rb=x.codegenExpression(Eb);Ya("bandwidth",Ga,fa);Ya("copy",La,fa);Ya("domain",db,fa);Ya("range",S,fa);Ya("invert",sb,fa);Ya("scale",aa,fa);Ya("gradient",qa,fa);Ya("geoArea",Ad,fa);Ya("geoBounds",Lc,fa);Ya("geoCentroid",Wa,fa);Ya("geoShape",ta,fa);Ya("indata",Y,xa);Ya("data",za,va);Ya("treePath",Fa,va);Ya("treeAncestors",Ja,va);Ya("vlSelectionTest",rb.selectionTest,rb.selectionVisitor);Ya("vlSelectionIdTest",rb.selectionIdTest,rb.selectionVisitor);Ya("vlSelectionResolve",
rb.selectionResolve,rb.selectionVisitor);Ya("vlSelectionTuples",rb.selectionTuples);h.DataPrefix=":";h.IndexPrefix="@";h.ScalePrefix="%";h.SignalPrefix="$";h.bandspace=ba;h.bandwidth=Ga;h.codeGenerator=Rb;h.codegenParams=Eb;h.containerSize=lb;h.contrast=C;h.copy=La;h.data=za;h.dataVisitor=va;h.dayAbbrevFormat=Aa;h.dayFormat=Oa;h.debug=y;h.domain=db;h.encode=Ba;h.expressionFunction=Ya;h.format=Qb;h.functionContext=Md;h.geoArea=Ad;h.geoBounds=Lc;h.geoCentroid=Wa;h.geoShape=ta;h.inScope=wa;h.indata=
Y;h.indataVisitor=xa;h.indexof=p;h.info=u;h.invert=sb;h.join=H;h.lastindexof=q;h.luminance=D;h.merge=J;h.modify=cb;h.monthAbbrevFormat=Z;h.monthFormat=ca;h.parseExpression=function(mb,rc){var Cc={};try{mb=m.isString(mb)?mb:m.stringValue(mb)+"";var Rc=x.parseExpression(mb)}catch(sd){m.error("Expression parse error: "+mb)}Rc.visit(function(sd){if(sd.type===x.CallExpression){var I=sd.callee.name,ma=Eb.visitors[I];ma&&ma(I,sd.arguments,rc,Cc)}});mb=Rb(Rc);mb.globals.forEach(function(sd){var I="$"+sd;
!m.hasOwnProperty(Cc,I)&&rc.getSignal(sd)&&(Cc[I]=rc.signalRef(sd))});return{$expr:m.extend({code:mb.code},rc.options.ast?{ast:Rc}:null),$fields:mb.fields,$params:Cc}};h.pathShape=ea;h.pinchAngle=Ka;h.pinchDistance=M;h.pluck=ka;h.range=S;h.replace=G;h.reverse=L;h.scale=aa;h.scaleGradient=qa;h.scaleVisitor=fa;h.screen=Ta;h.setdata=na;h.slice=t;h.timeFormat=Zb;h.timeParse=uc;h.treeAncestors=Ja;h.treePath=Fa;h.utcFormat=Ic;h.utcParse=Ob;h.warn=ja;h.windowSize=ya;Object.defineProperty(h,"__esModule",
{value:!0})})};
shadow$provide[47]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(0),xb(14)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.vega={},h.vega,h.vega))})(this,function(h,m,x){function Wa(za,Y,na){";"!==na[na.length-1]&&(na="return("+na+");");Y=Function.apply(null,$jscomp.arrayFromIterable(Y.concat(na)));return za&&za.functions?Y.bind(za.functions):Y}function Gb(za,
Y,na){if(!za||!m.isObject(za))return za;for(var Ba=0,Qa=Sa.length,ca;Ba<Qa;++Ba)if(ca=Sa[Ba],m.hasOwnProperty(za,ca.key))return ca.parse(za,Y,na);return za}function gb(za,Y,na,Ba){this.dataflow=za;this.transforms=Y;this.events=za.events.bind(za);this.expr=Ba||Ua;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};na&&(this.functions=Object.create(na),this.functions.context=this)}function wb(za){this.dataflow=za.dataflow;this.transforms=za.transforms;this.events=za.events;this.expr=
za.expr;this.signals=Object.create(za.signals);this.scales=Object.create(za.scales);this.nodes=Object.create(za.nodes);this.data=Object.create(za.data);this.fn=Object.create(za.fn);za.functions&&(this.functions=Object.create(za.functions),this.functions.context=this)}var Lb=m.toSet(["rule"]),rb=m.toSet(["group","image","rect"]),Ua={operator:function(za,Y){return Wa(za,["_"],Y.code)},parameter:function(za,Y){return Wa(za,["datum","_"],Y.code)},event:function(za,Y){return Wa(za,["event"],Y.code)},handler:function(za,
Y){return Wa(za,["_","event"],"var datum\x3devent.item\x26\x26event.item.datum;return "+Y.code+";")},encode:function(za,Y){var na=Y.marktype;Y=Y.channels;var Ba="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(ca in Y){var Qa="o["+m.stringValue(ca)+"]";Ba+="$\x3d"+Y[ca].code+";if("+Qa+"!\x3d\x3d$)"+Qa+"\x3d$,m\x3d1;"}var ca="";Lb[na]||(Y.x2&&(Y.x?(rb[na]&&(ca+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),ca+="o.width\x3do.x2-o.x;"):ca+="o.x\x3do.x2-(o.width||0);"),Y.xc&&(ca+="o.x\x3do.xc-(o.width||0)/2;"),
Y.y2&&(Y.y?(rb[na]&&(ca+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),ca+="o.height\x3do.y2-o.y;"):ca+="o.y\x3do.y2-(o.height||0);"),Y.yc&&(ca+="o.y\x3do.yc-(o.height||0)/2;"));Ba+=ca;return Wa(za,["item","_"],Ba+"return m;")},codegen:{get:function(za){za="["+za.map(m.stringValue).join("][")+"]";var Y=Function("_","return _"+za+";");Y.path=za;return Y},comparator:function(za,Y){var na;za=Function("a","b","var u, v; return "+za.map(function(Ba,Qa){var ca=Y[Qa];if(Ba.path){var Z="a"+Ba.path;Ba=
"b"+Ba.path}else(na=na||{})["f"+Qa]=Ba,Z="this.f"+Qa+"(a)",Ba="this.f"+Qa+"(b)";Qa=-ca;return"((u \x3d "+Z+") \x3c (v \x3d "+Ba+") || u \x3d\x3d null) \x26\x26 v !\x3d null ? "+Qa+"\n  : (u \x3e v || v \x3d\x3d null) \x26\x26 u !\x3d null ? "+ca+"\n  : ((v \x3d v instanceof Date ? +v : v), (u \x3d u instanceof Date ? +u : u)) !\x3d\x3d u \x26\x26 v \x3d\x3d\x3d v ? "+Qa+"\n  : v !\x3d\x3d v \x26\x26 u \x3d\x3d\x3d u ? "+ca+" : "}).join("")+"0;");return na?za.bind(na):za}}},Sa=[{key:"$ref",parse:function(za,
Y){return Y.get(za.$ref)||m.error("Operator not defined: "+za.$ref)}},{key:"$key",parse:function(za,Y){var na="k:"+za.$key+"_"+!!za.$flat;return Y.fn[na]||(Y.fn[na]=m.key(za.$key,za.$flat,Y.expr.codegen))}},{key:"$expr",parse:function(za,Y,na){za.$params&&Y.parseParameters(za.$params,na);na="e:"+za.$expr.code+"_"+za.$name;return Y.fn[na]||(Y.fn[na]=m.accessor(Y.parameterExpression(za.$expr),za.$fields,za.$name))}},{key:"$field",parse:function(za,Y){if(!za.$field)return null;var na="f:"+za.$field+
"_"+za.$name;return Y.fn[na]||(Y.fn[na]=m.field(za.$field,za.$name,Y.expr.codegen))}},{key:"$encode",parse:function(za,Y){za=za.$encode;var na={},Ba;for(Ba in za){var Qa=za[Ba];na[Ba]=m.accessor(Y.encodeExpression(Qa.$expr),Qa.$fields);na[Ba].output=Qa.$output}return na}},{key:"$compare",parse:function(za,Y){var na="c:"+za.$compare+"_"+za.$order,Ba=m.array(za.$compare).map(function(Qa){return Qa&&Qa.$tupleid?x.tupleid:Qa});return Y.fn[na]||(Y.fn[na]=m.compare(Ba,za.$order,Y.expr.codegen))}},{key:"$context",
parse:function(za,Y){return Y}},{key:"$subflow",parse:function(za,Y){var na=za.$subflow;return function(Ba,Qa,ca){var Z=Y.fork().parse(na);Ba=Z.get(na.operators[0].id);(Qa=Z.signals.parent)&&Qa.set(ca);Ba.detachSubflow=function(){return Y.detach(Z)};return Ba}}},{key:"$tupleid",parse:function(){return x.tupleid}}],ab={skip:!0};gb.prototype=wb.prototype={fork:function(){var za=new wb(this);(this.subcontext||(this.subcontext=[])).push(za);return za},detach:function(za){this.subcontext=this.subcontext.filter(function(Qa){return Qa!==
za});for(var Y=Object.keys(za.nodes),na=$jscomp.makeIterator(Y),Ba=na.next();!Ba.done;Ba=na.next())za.nodes[Ba.value]._targets=null;Y=$jscomp.makeIterator(Y);for(Ba=Y.next();!Ba.done;Ba=Y.next())za.nodes[Ba.value].detach();za.nodes=null},get:function(za){return this.nodes[za]},set:function(za,Y){return this.nodes[za]=Y},add:function(za,Y){var na=this,Ba=na.dataflow,Qa=za.value;na.set(za.id,Y);"collect"===(za.type+"").toLowerCase()&&Qa&&(Qa.$ingest?Ba.ingest(Y,Qa.$ingest,Qa.$format):Qa.$request?Ba.preload(Y,
Qa.$request,Qa.$format):Ba.pulse(Y,Ba.changeset().insert(Qa)));za.root&&(na.root=Y);if(za.parent){var ca=na.get(za.parent.$ref);ca?(Ba.connect(ca,[Y]),Y.targets().add(ca)):(na.unresolved=na.unresolved||[]).push(function(){ca=na.get(za.parent.$ref);Ba.connect(ca,[Y]);Y.targets().add(ca)})}za.signal&&(na.signals[za.signal]=Y);za.scale&&(na.scales[za.scale]=Y);if(za.data){Qa={};for(var Z in za.data)Qa.$jscomp$loop$prop$data$524$726=na.data[Z]||(na.data[Z]={}),za.data[Z].forEach(function(Oa){return function(Aa){return Oa.$jscomp$loop$prop$data$524$726[Aa]=
Y}}(Qa)),Qa={$jscomp$loop$prop$data$524$726:Qa.$jscomp$loop$prop$data$524$726}}},resolve:function(){(this.unresolved||[]).forEach(function(za){return za()});delete this.unresolved;return this},operator:function(za,Y){this.add(za,this.dataflow.add(za.value,Y))},transform:function(za,Y){this.add(za,this.dataflow.add(this.transforms[(Y+"").toLowerCase()]))},stream:function(za,Y){this.set(za.id,Y)},update:function(za,Y,na,Ba,Qa){this.dataflow.on(Y,na,Ba,Qa,za.options)},operatorExpression:function(za){return this.expr.operator(this,
za)},parameterExpression:function(za){return this.expr.parameter(this,za)},eventExpression:function(za){return this.expr.event(this,za)},handlerExpression:function(za){return this.expr.handler(this,za)},encodeExpression:function(za){return this.expr.encode(this,za)},parse:function(za){var Y=this,na=za.operators||[];za.background&&(Y.background=za.background);za.eventConfig&&(Y.eventConfig=za.eventConfig);za.locale&&(Y.locale=za.locale);na.forEach(function(Ba){return Y.parseOperator(Ba)});na.forEach(function(Ba){return Y.parseOperatorParameters(Ba)});
(za.streams||[]).forEach(function(Ba){return Y.parseStream(Ba)});(za.updates||[]).forEach(function(Ba){return Y.parseUpdate(Ba)});return Y.resolve()},parseOperator:function(za){"operator"!==(za.type+"").toLowerCase()&&za.type?this.transform(za,za.type):this.operator(za,za.update?this.operatorExpression(za.update):null)},parseOperatorParameters:function(za){if(za.params){var Y=this.get(za.id);Y||m.error("Invalid operator id: "+za.id);this.dataflow.connect(Y,Y.parameters(this.parseParameters(za.params),
za.react,za.initonly))}},parseParameters:function(za,Y){Y=Y||{};var na=this,Ba;for(Ba in za){var Qa=za[Ba];Y[Ba]=m.isArray(Qa)?Qa.map(function(ca){return Gb(ca,na,Y)}):Gb(Qa,na,Y)}return Y},parseStream:function(za){var Y=this,na=null!=za.filter?Y.eventExpression(za.filter):void 0,Ba=null!=za.stream?Y.get(za.stream):void 0;if(za.source)Ba=Y.events(za.source,za.type,na);else if(za.merge){var Qa=za.merge.map(function(ca){return Y.get(ca)});Ba=Qa[0].merge.apply(Qa[0],Qa.slice(1))}za.between&&(Qa=za.between.map(function(ca){return Y.get(ca)}),
Ba=Ba.between(Qa[0],Qa[1]));za.filter&&(Ba=Ba.filter(na));null!=za.throttle&&(Ba=Ba.throttle(+za.throttle));null!=za.debounce&&(Ba=Ba.debounce(+za.debounce));null==Ba&&m.error("Invalid stream definition: "+JSON.stringify(za));za.consume&&Ba.consume(!0);Y.stream(za,Ba)},parseUpdate:function(za){var Y=m.isObject(Y=za.source)?Y.$ref:Y;Y=this.get(Y);var na=za.update,Ba=void 0;Y||m.error("Source not defined: "+za.source);var Qa=za.target&&za.target.$expr?this.eventExpression(za.target.$expr):this.get(za.target);
na&&na.$expr&&(na.$params&&(Ba=this.parseParameters(na.$params)),na=this.handlerExpression(na.$expr));this.update(za,Y,Qa,na,Ba)},getState:function(za){var Y=this,na={};if(za.signals){var Ba=na.signals={};Object.keys(Y.signals).forEach(function(ca){var Z=Y.signals[ca];za.signals(ca,Z)&&(Ba[ca]=Z.value)})}if(za.data){var Qa=na.data={};Object.keys(Y.data).forEach(function(ca){var Z=Y.data[ca];za.data(ca,Z)&&(Qa[ca]=Z.input.value)})}Y.subcontext&&!1!==za.recurse&&(na.subcontext=Y.subcontext.map(function(ca){return ca.getState(za)}));
return na},setState:function(za){var Y=this,na=Y.dataflow,Ba=za.data,Qa=za.signals;Object.keys(Qa||{}).forEach(function(ca){na.update(Y.signals[ca],Qa[ca],ab)});Object.keys(Ba||{}).forEach(function(ca){na.pulse(Y.data[ca].input,na.changeset().remove(m.truthy).insert(Ba[ca]))});(za.subcontext||[]).forEach(function(ca,Z){(Z=Y.subcontext[Z])&&Z.setState(ca)})}};h.context=function(za,Y,na,Ba){return new gb(za,Y,na,Ba)};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[48]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(0),xb(14),xb(24),xb(3),xb(46),xb(47),xb(33),xb(8)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph d3-array vega-functions vega-runtime d3-timer vega-format".split(" "),m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.vega={},h.vega,h.vega,h.vega,h.d3,h.vega,h.vega,h.d3,h.vega))})(this,function(h,m,x,Wa,Gb,gb,wb,Lb,rb){function Ua(U){var Fa=
U.container();Fa&&(Fa.setAttribute("role","graphics-document"),Fa.setAttribute("aria-roleDescription","visualization"),Sa(Fa,U.description()))}function Sa(U,Fa){U&&(null==Fa?U.removeAttribute("aria-label"):U.setAttribute("aria-label",Fa))}function ab(U){U.add(null,function(Fa){U._background=Fa.bg;U._resize=1;return Fa.bg},{bg:U._signals.background})}function za(U){var Fa=U._signals.cursor||(U._signals.cursor=U.add({user:"default",item:null}));U.on(U.events("view","mousemove"),Fa,function(Ja,Ta){var ya=
(Ja=Fa.value)?m.isString(Ja)?Ja:Ja.user:"default";Ta=Ta.item&&Ta.item.cursor||null;return Ja&&ya===Ja.user&&Ta==Ja.item?Ja:{user:ya,item:Ta}});U.add(null,function(Ja){Ja=Ja.cursor;var Ta=this.value;m.isString(Ja)||(Ta=Ja.item,Ja=Ja.user);Y(U,Ja&&"default"!==Ja?Ja:Ta||Ja);return Ta},{cursor:Fa})}function Y(U,Fa){if(U=U.globalCursor()?"undefined"!==typeof document&&document.body:U.container())return null==Fa?U.style.removeProperty("cursor"):U.style.cursor=Fa}function na(U,Fa){U=U._runtime.data;m.hasOwnProperty(U,
Fa)||m.error("Unrecognized data set: "+Fa);return U[Fa]}function Ba(U,Fa){x.isChangeSet(Fa)||m.error("Second argument to changes must be a changeset.");U=na(this,U);U.modified=!0;return this.pulse(U.input,Fa)}function Qa(U){var Fa=U.padding();return Math.max(0,U._viewWidth+Fa.left+Fa.right)}function ca(U){var Fa=U.padding();return Math.max(0,U._viewHeight+Fa.top+Fa.bottom)}function Z(U){var Fa=U.padding();U=U._origin;return[Fa.left+U[0],Fa.top+U[1]]}function Oa(U){var Fa=Z(U),Ja=Qa(U),Ta=ca(U);U._renderer.background(U.background());
U._renderer.resize(Ja,Ta,Fa);U._handler.origin(Fa);U._resizeListeners.forEach(function(ya){try{ya(Ja,Ta)}catch(lb){U.error(lb)}})}function Aa(U,Fa,Ja){var Ta=U._renderer;Ta=Ta&&Ta.canvas();if(Ta){var ya=Z(U);var lb=Fa.changedTouches?Fa.changedTouches[0]:Fa;lb=Wa.point(lb,Ta);lb[0]-=ya[0];lb[1]-=ya[1]}Fa.dataflow=U;Fa.item=Ja;Fa.vega=va(U,Ja,lb);return Fa}function va(U,Fa,Ja){function Ta(yb){var Ya=lb,Ob;if(yb)for(Ob=Fa;Ob;Ob=Ob.mark.group)if(Ob.mark.name===yb){Ya=Ob;break}return Ya&&Ya.mark&&Ya.mark.interactive?
Ya:{}}function ya(yb){if(!yb)return Ja;m.isString(yb)&&(yb=Ta(yb));for(var Ya=Ja.slice();yb;)Ya[0]-=yb.x||0,Ya[1]-=yb.y||0,yb=yb.mark&&yb.mark.group;return Ya}var lb=Fa?"group"===Fa.mark.marktype?Fa:Fa.mark.group:null;return{view:m.constant(U),item:m.constant(Fa||{}),group:Ta,xy:ya,x:function(yb){return ya(yb)[0]},y:function(yb){return ya(yb)[1]}}}function xa(U){U=m.extend({defaults:{}},U);var Fa=function(Ja,Ta){Ta.forEach(function(ya){m.isArray(Ja[ya])&&(Ja[ya]=m.toSet(Ja[ya]))})};Fa(U.defaults,
["prevent","allow"]);Fa(U,["view","window","selector"]);return U}function fa(U,Fa,Ja,Ta){U._eventListeners.push({type:Ja,sources:m.array(Fa),handler:Ta})}function pa(U,Fa,Ja){var Ta=U._eventConfig&&U._eventConfig[Fa];return!1===Ta||m.isObject(Ta)&&!Ta[Ja]?(U.warn("Blocked "+Fa+" "+Ja+" event listener."),!1):!0}function da(U){return U.item}function ua(U){return U.item.mark.source}function Ia(U){return function(Fa,Ja){return Ja.vega.view().changeset().encode(Ja.item,U)}}function wa(U,Fa,Ja){U=document.createElement(U);
for(var Ta in Fa)U.setAttribute(Ta,Fa[Ta]);null!=Ja&&(U.textContent=Ja);return U}function $a(U,Fa,Ja){if(Fa){var Ta=Ja.param,ya=Ja.state;ya||(ya=Ja.state={elements:null,active:!1,set:null,update:function(lb){lb!=U.signal(Ta.signal)&&U.runAsync(null,function(){ya.source=!0;U.signal(Ta.signal,lb)})}},Ta.debounce&&(ya.update=m.debounce(Ta.debounce,ya.update)));(null==Ta.input&&Ta.element?ja:u)(ya,Fa,Ta,U);ya.active||(U.on(U._signals[Ta.signal],null,function(){ya.source?ya.source=!1:ya.set(U.signal(Ta.signal))}),
ya.active=!0);return ya}}function ja(U,Fa,Ja,Ta){var ya=Ja.event||"input",lb=function(){return U.update(Fa.value)};Ta.signal(Ja.signal,Fa.value);Fa.addEventListener(ya,lb);fa(Ta,Fa,ya,lb);U.set=function(yb){Fa.value=yb;Fa.dispatchEvent("undefined"!==typeof Event?new Event(ya):{type:ya})}}function u(U,Fa,Ja,Ta){Ta=Ta.signal(Ja.signal);var ya=wa("div",{"class":"vega-bind"}),lb="radio"===Ja.input?ya:ya.appendChild(wa("label"));lb.appendChild(wa("span",{"class":"vega-bind-name"},Ja.name||Ja.signal));
Fa.appendChild(ya);Fa=y;switch(Ja.input){case "checkbox":Fa=z;break;case "select":Fa=D;break;case "radio":Fa=C;break;case "range":Fa=J}Fa(U,lb,Ja,Ta)}function y(U,Fa,Ja,Ta){var ya=wa("input"),lb;for(lb in Ja)"signal"!==lb&&"element"!==lb&&ya.setAttribute("input"===lb?"type":lb,Ja[lb]);ya.setAttribute("name",Ja.signal);ya.value=Ta;Fa.appendChild(ya);ya.addEventListener("input",function(){return U.update(ya.value)});U.elements=[ya];U.set=function(yb){return ya.value=yb}}function z(U,Fa,Ja,Ta){Ja={type:"checkbox",
name:Ja.signal};Ta&&(Ja.checked=!0);var ya=wa("input",Ja);Fa.appendChild(ya);ya.addEventListener("change",function(){return U.update(ya.checked)});U.elements=[ya];U.set=function(lb){return ya.checked=!!lb||null}}function D(U,Fa,Ja,Ta){var ya=wa("select",{name:Ja.signal}),lb=Ja.labels||[];Ja.options.forEach(function(yb,Ya){var Ob={value:yb};V(yb,Ta)&&(Ob.selected=!0);ya.appendChild(wa("option",Ob,(lb[Ya]||yb)+""))});Fa.appendChild(ya);ya.addEventListener("change",function(){U.update(Ja.options[ya.selectedIndex])});
U.elements=[ya];U.set=function(yb){for(var Ya=0,Ob=Ja.options.length;Ya<Ob;++Ya)if(V(Ja.options[Ya],yb)){ya.selectedIndex=Ya;break}}}function C(U,Fa,Ja,Ta){var ya=wa("span",{"class":"vega-bind-radio"}),lb=Ja.labels||[];Fa.appendChild(ya);U.elements=Ja.options.map(function(yb,Ya){var Ob={type:"radio",name:Ja.signal,value:yb};V(yb,Ta)&&(Ob.checked=!0);Ob=wa("input",Ob);Ob.addEventListener("change",function(){return U.update(yb)});Ya=wa("label",{},(lb[Ya]||yb)+"");Ya.prepend(Ob);ya.appendChild(Ya);return Ob});
U.set=function(yb){for(var Ya=U.elements,Ob=Ya.length,Qb=0;Qb<Ob;++Qb)V(Ya[Qb].value,yb)&&(Ya[Qb].checked=!0)}}function J(U,Fa,Ja,Ta){Ta=void 0!==Ta?Ta:(+Ja.max+ +Ja.min)/2;var ya=null!=Ja.max?Ja.max:Math.max(100,+Ta)||100,lb=Ja.min||Math.min(0,ya,+Ta)||0,yb=Ja.step||Gb.tickStep(lb,ya,100),Ya=wa("input",{type:"range",name:Ja.signal,min:lb,max:ya,step:yb});Ya.value=Ta;var Ob=wa("span",{},+Ta);Fa.appendChild(Ya);Fa.appendChild(Ob);Fa=function(){Ob.textContent=Ya.value;U.update(+Ya.value)};Ya.addEventListener("input",
Fa);Ya.addEventListener("change",Fa);U.elements=[Ya];U.set=function(Qb){Ya.value=Qb;Ob.textContent=Qb}}function V(U,Fa){return U===Fa||U+""===Fa+""}function ia(U,Fa,Ja,Ta,ya,lb){Fa=Fa||new Ta(U.loader());return Fa.initialize(Ja,Qa(U),ca(U),Z(U),ya,lb).background(U.background())}function Pa(U,Fa){return Fa?function(){try{Fa.apply(this,arguments)}catch(Ja){U.error(Ja)}}:null}function cb(U,Fa,Ja,Ta){var ya=(new Ta(U.loader(),Pa(U,U.tooltip()))).scene(U.scenegraph().root).initialize(Ja,Z(U),U);Fa&&Fa.handlers().forEach(function(lb){ya.on(lb.type,
lb.handler)});return ya}function M(U,Fa,Ja){if("string"===typeof Fa)if("undefined"!==typeof document){if(Fa=document.querySelector(Fa),!Fa)return U.error("Signal bind element not found: "+Fa),null}else return U.error("DOM document instance not found."),null;if(Fa&&Ja)try{Fa.innerHTML=""}catch(Ta){Fa=null,U.error(Ta)}return Fa}function Ka(U){m.isObject(U)?U={top:+U.top||0,bottom:+U.bottom||0,left:+U.left||0,right:+U.right||0}:(U=+U||0,U={top:U,bottom:U,left:U,right:U});return U}function ka(U,Fa,Ja,
Ta){var ya,lb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(yb){return 1==yb.nextAddress?((lb=(ya=Wa.renderModule(Fa))&&ya.headless)||m.error("Unrecognized renderer type: "+Fa),yb.yield(U.runAsync(),2)):yb.return(ia(U,null,null,lb,Ja,Ta).renderAsync(U._scenegraph.root))})}function ha(U,Fa){U=new Blob([U],{type:Fa});return window.URL.createObjectURL(U)}function w(U,Fa,Ja){return wb.context(U,x.transforms,gb.functionContext,Ja).parse(Fa)}function H(U,Fa){var Ja=U.autosize();U=U.padding();
return Fa-(Ja&&"padding"===Ja.contains?U.left+U.right:0)}function p(U,Fa){var Ja=U.autosize();U=U.padding();return Fa-(Ja&&"padding"===Ja.contains?U.top+U.bottom:0)}function q(U){function Fa(){U._autosize=U._resize=1}var Ja=U._signals,Ta=Ja.width,ya=Ja.height;Ja=Ja.padding;U._resizeWidth=U.add(null,function(yb){U._width=yb.size;U._viewWidth=H(U,yb.size);Fa()},{size:Ta});U._resizeHeight=U.add(null,function(yb){U._height=yb.size;U._viewHeight=p(U,yb.size);Fa()},{size:ya});var lb=U.add(null,Fa,{pad:Ja});
U._resizeWidth.rank=Ta.rank+1;U._resizeHeight.rank=ya.rank+1;lb.rank=Ja.rank+1}function t(U,Fa){return Fa.modified&&m.isArray(Fa.input.value)&&U.indexOf("_:vega:_")}function G(U,Fa){return!("parent"===U||Fa instanceof x.transforms.proxy)}function L(U,Fa,Ja,Ta){(U=U.element())&&U.setAttribute("title",ba(Ta))}function ba(U){return null==U?"":m.isArray(U)?"["+U.map(La).join(", ")+"]":m.isObject(U)&&!m.isDate(U)?Ga(U):U+""}function Ga(U){return Object.keys(U).map(function(Fa){var Ja=U[Fa];return Fa+": "+
(m.isArray(Ja)?"["+Ja.map(La).join(", ")+"]":La(Ja))}).join("\n")}function La(U){return m.isArray(U)?"[…]":m.isObject(U)&&!m.isDate(U)?"{…}":U}function db(U,Fa){Fa=Fa||{};x.Dataflow.call(this);Fa.loader&&this.loader(Fa.loader);Fa.logger&&this.logger(Fa.logger);null!=Fa.logLevel&&this.logLevel(Fa.logLevel);if(Fa.locale||U.locale){var Ja=m.extend({},U.locale,Fa.locale);this.locale(rb.locale(Ja.number,Ja.time))}this._elBind=this._el=null;this._renderType=Fa.renderer||Wa.RenderType.Canvas;this._scenegraph=
new Wa.Scenegraph;Ja=this._scenegraph.root;this._renderer=null;this._tooltip=Fa.tooltip||L;this._redraw=!0;this._handler=(new Wa.CanvasHandler).scene(Ja);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=xa(U.eventConfig);this.globalCursor(this._eventConfig.globalCursor);var Ta=w(this,U,Fa.expr);this._runtime=Ta;this._signals=Ta.signals;this._bind=(U.bindings||[]).map(function(ya){return{state:null,param:m.extend({},ya)}});
Ta.root&&Ta.root.set(Ja);Ja.source=Ta.data.root.input;this.pulse(Ta.data.root.input,this.changeset().insert(Ja.items));this._width=this.width();this._height=this.height();this._viewWidth=H(this,this._width);this._viewHeight=p(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;q(this);ab(this);za(this);this.description(U.description);Fa.hover&&this.hover();Fa.container&&this.initialize(Fa.container,Fa.bind)}function sb(U,Fa){return m.hasOwnProperty(U._signals,Fa)?U._signals[Fa]:
m.error("Unrecognized signal name: "+m.stringValue(Fa))}function S(U,Fa){U=(U._targets||[]).filter(function(Ja){return Ja._update&&Ja._update.handler===Fa});return U.length?U[0]:null}function aa(U,Fa,Ja,Ta){var ya=S(Ja,Ta);ya||(ya=Pa(U,function(){return Ta(Fa,Ja.value)}),ya.handler=Ta,U.on(Ja,null,ya));return U}function qa(U,Fa,Ja){(Ja=S(Fa,Ja))&&Fa._targets.remove(Ja);return U}var ta={trap:!1},ea={skip:!0};m.inherits(db,x.Dataflow,{evaluate:function(U,Fa,Ja){var Ta=this,ya;return $jscomp.asyncExecutePromiseGeneratorProgram(function(lb){switch(lb.nextAddress){case 1:return lb.yield(x.Dataflow.prototype.evaluate.call(Ta,
U,Fa),2);case 2:if(!Ta._redraw&&!Ta._resize){lb.jumpTo(3);break}lb.setCatchFinallyBlocks(4);if(!Ta._renderer){lb.jumpTo(6);break}Ta._resize&&(Ta._resize=0,Oa(Ta));return lb.yield(Ta._renderer.renderAsync(Ta._scenegraph.root),6);case 6:Ta._redraw=!1;lb.leaveTryBlock(3);break;case 4:ya=lb.enterCatchBlock(),Ta.error(ya);case 3:return Ja&&x.asyncCallback(Ta,Ja),lb.return(Ta)}})},dirty:function(U){this._redraw=!0;this._renderer&&this._renderer.dirty(U)},description:function(U){if(arguments.length){var Fa=
null!=U?U+"":null;Fa!==this._desc&&Sa(this._el,this._desc=Fa);return this}return this._desc},container:function(){return this._el},scenegraph:function(){return this._scenegraph},origin:function(){return this._origin.slice()},signal:function(U,Fa,Ja){var Ta=sb(this,U);return 1===arguments.length?Ta.value:this.update(Ta,Fa,Ja)},width:function(U){return arguments.length?this.signal("width",U):this.signal("width")},height:function(U){return arguments.length?this.signal("height",U):this.signal("height")},
padding:function(U){return arguments.length?this.signal("padding",Ka(U)):Ka(this.signal("padding"))},autosize:function(U){return arguments.length?this.signal("autosize",U):this.signal("autosize")},background:function(U){return arguments.length?this.signal("background",U):this.signal("background")},renderer:function(U){if(!arguments.length)return this._renderType;Wa.renderModule(U)||m.error("Unrecognized renderer type: "+U);U!==this._renderType&&(this._renderType=U,this._resetRenderer());return this},
tooltip:function(U){if(!arguments.length)return this._tooltip;U!==this._tooltip&&(this._tooltip=U,this._resetRenderer());return this},loader:function(U){if(!arguments.length)return this._loader;U!==this._loader&&(x.Dataflow.prototype.loader.call(this,U),this._resetRenderer());return this},resize:function(){this._autosize=1;return this.touch(sb(this,"autosize"))},_resetRenderer:function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(U,Fa,Ja,Ta,
ya,lb){this.runAfter(function(yb){var Ya=0;yb._autosize=0;yb.width()!==Ja&&(Ya=1,yb.signal("width",Ja,ea),yb._resizeWidth.skip(!0));yb.height()!==Ta&&(Ya=1,yb.signal("height",Ta,ea),yb._resizeHeight.skip(!0));yb._viewWidth!==U&&(yb._resize=1,yb._viewWidth=U);yb._viewHeight!==Fa&&(yb._resize=1,yb._viewHeight=Fa);if(yb._origin[0]!==ya[0]||yb._origin[1]!==ya[1])yb._resize=1,yb._origin=ya;Ya&&yb.run("enter");lb&&yb.runAfter(function(Ob){return Ob.resize()})},!1,1)},addEventListener:function(U,Fa,Ja){var Ta=
Fa;Ja&&!1===Ja.trap||(Ta=Pa(this,Fa),Ta.raw=Fa);this._handler.on(U,Ta);return this},removeEventListener:function(U,Fa){for(var Ja=this._handler.handlers(U),Ta=Ja.length,ya,lb;0<=--Ta;)if(lb=Ja[Ta].type,ya=Ja[Ta].handler,U===lb&&(Fa===ya||Fa===ya.raw)){this._handler.off(lb,ya);break}return this},addResizeListener:function(U){var Fa=this._resizeListeners;0>Fa.indexOf(U)&&Fa.push(U);return this},removeResizeListener:function(U){var Fa=this._resizeListeners;U=Fa.indexOf(U);0<=U&&Fa.splice(U,1);return this},
addSignalListener:function(U,Fa){return aa(this,U,sb(this,U),Fa)},removeSignalListener:function(U,Fa){return qa(this,sb(this,U),Fa)},addDataListener:function(U,Fa){return aa(this,U,na(this,U).values,Fa)},removeDataListener:function(U,Fa){return qa(this,na(this,U).values,Fa)},globalCursor:function(U){if(arguments.length){if(this._globalCursor!==!!U){var Fa=Y(this,null);this._globalCursor=!!U;Fa&&Y(this,Fa)}return this}return this._globalCursor},preventDefault:function(U){return arguments.length?(this._preventDefault=
U,this):this._preventDefault},timer:function(U,Fa){this._timers.push(Lb.interval(function(Ja){U({timestamp:Date.now(),elapsed:Ja})},Fa))},events:function(U,Fa,Ja){var Ta=this,ya=new x.EventStream(Ja);Ja=function(Ob,Qb){Ta.runAsync(null,function(){var Zb;if(Zb="view"===U){var Ic=Ta._eventConfig.defaults;Zb=Ic.prevent;Ic=Ic.allow;Zb=!1===Zb||!0===Ic?!1:!0===Zb||!1===Ic?!0:Zb?Zb[Fa]:Ic?!Ic[Fa]:Ta.preventDefault()}Zb&&Ob.preventDefault();ya.receive(Aa(Ta,Ob,Qb))})};var lb;if("timer"===U)pa(Ta,"timer",
Fa)&&Ta.timer(Ja,Fa);else if("view"===U)pa(Ta,"view",Fa)&&Ta.addEventListener(Fa,Ja,ta);else if("window"===U?pa(Ta,"window",Fa)&&"undefined"!==typeof window&&(lb=[window]):"undefined"!==typeof document&&pa(Ta,"selector",Fa)&&(lb=document.querySelectorAll(U)),lb){for(var yb=0,Ya=lb.length;yb<Ya;++yb)lb[yb].addEventListener(Fa,Ja);fa(Ta,lb,Fa,Ja)}else Ta.warn("Can not resolve event source: "+U);return ya},finalize:function(){var U=this._tooltip,Fa=this._timers,Ja=this._eventListeners,Ta;for(Ta=Fa.length;0<=
--Ta;)Fa[Ta].stop();for(Ta=Ja.length;0<=--Ta;){var ya=Ja[Ta];for(Fa=ya.sources.length;0<=--Fa;)ya.sources[Fa].removeEventListener(ya.type,ya.handler)}U&&U.call(this,this._handler,null,null,null);return this},hover:function(U,Fa){U=[U||"hover"];Fa=[Fa||"update",U[0]];this.on(this.events("view","mouseover",da),ua,Ia(U));this.on(this.events("view","mouseout",da),ua,Ia(Fa));return this},data:function(U,Fa){return 2>arguments.length?na(this,U).values.value:Ba.call(this,U,x.changeset().remove(m.truthy).insert(Fa))},
change:Ba,insert:function(U,Fa){return Ba.call(this,U,x.changeset().insert(Fa))},remove:function(U,Fa){return Ba.call(this,U,x.changeset().remove(Fa))},scale:function(U){var Fa=this._runtime.scales;m.hasOwnProperty(Fa,U)||m.error("Unrecognized scale or projection: "+U);return Fa[U].value},initialize:function(U,Fa){var Ja=this,Ta=Ja._renderType,ya=Ja._eventConfig.bind,lb=Wa.renderModule(Ta);U=Ja._el=U?M(Ja,U,!0):null;Ua(Ja);lb||Ja.error("Unrecognized renderer type: "+Ta);Ta=lb.handler||Wa.CanvasHandler;
lb=U?lb.renderer:lb.headless;Ja._renderer=lb?ia(Ja,Ja._renderer,U,lb):null;Ja._handler=cb(Ja,Ja._handler,U,Ta);Ja._redraw=!0;U&&"none"!==ya&&(Fa=Fa?Ja._elBind=M(Ja,Fa,!0):U.appendChild(wa("form",{"class":"vega-bindings"})),Ja._bind.forEach(function(yb){yb.param.element&&"container"!==ya&&(yb.element=M(Ja,yb.param.element,!!yb.param.input))}),Ja._bind.forEach(function(yb){$a(Ja,yb.element||Fa,yb)}));return Ja},toImageURL:function(U,Fa){var Ja=this,Ta;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ya){if(1==
ya.nextAddress)return U!==Wa.RenderType.Canvas&&U!==Wa.RenderType.SVG&&U!==Wa.RenderType.PNG&&m.error("Unrecognized image type: "+U),ya.yield(ka(Ja,U,Fa),2);Ta=ya.yieldResult;return ya.return(U===Wa.RenderType.SVG?ha(Ta.svg(),"image/svg+xml"):Ta.canvas().toDataURL("image/png"))})},toCanvas:function(U,Fa){var Ja=this,Ta;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ya){if(1==ya.nextAddress)return ya.yield(ka(Ja,Wa.RenderType.Canvas,U,Fa),2);Ta=ya.yieldResult;return ya.return(Ta.canvas())})},
toSVG:function(U){var Fa=this,Ja;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ta){if(1==Ta.nextAddress)return Ta.yield(ka(Fa,Wa.RenderType.SVG,U),2);Ja=Ta.yieldResult;return Ta.return(Ja.svg())})},getState:function(U){return this._runtime.getState(U||{data:t,signals:G,recurse:!0})},setState:function(U){this.runAsync(null,function(Fa){Fa._trigger=!1;Fa._runtime.setState(U)},function(Fa){Fa._trigger=!0});return this}});h.View=db;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[49]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb):"function"===typeof define&&define.amd?define(["exports"],m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.vega={}))})(this,function(h){function m(Ua,Sa,ab,za,Y){for(var na=Ua.length,Ba=0,Qa;Sa<na;++Sa)if(Qa=Ua[Sa],Ba||Qa!==ab)Y&&0<=Y.indexOf(Qa)?--Ba:za&&0<=za.indexOf(Qa)&&++Ba;else break;return Sa}function x(Ua){for(var Sa=[],ab=Ua.length,za=0,Y=0;Y<ab;)Y=m(Ua,Y,",","[{","]}"),
Sa.push(Ua.substring(za,Y).trim()),za=++Y;if(0===Sa.length)throw"Empty event selector: "+Ua;return Sa}function Wa(Ua){if("["===Ua[0]){var Sa=Ua;var ab=Sa.length;Ua=m(Sa,1,"]","[","]");if(Ua===ab)throw"Empty between selector: "+Sa;ab=x(Sa.substring(1,Ua));if(2!==ab.length)throw"Between selector must have two elements: "+Sa;Sa=Sa.slice(Ua+1).trim();if("\x3e"!==Sa[0])throw"Expected '\x3e' after between selector: "+Sa;ab=ab.map(Wa);Sa=Wa(Sa.slice(1).trim());Sa.between?Sa={between:ab,stream:Sa}:Sa.between=
ab}else{ab={source:Lb};var za=[],Y=[0,0],na=0,Ba=0,Qa=Ua.length,ca=0;if("}"===Ua[Qa-1]){ca=Ua.lastIndexOf("{");if(0<=ca){try{Y=Gb(Ua.substring(ca+1,Qa-1))}catch(Oa){throw"Invalid throttle specification: "+Ua;}Ua=Ua.slice(0,ca).trim();Qa=Ua.length}else throw"Unmatched right brace: "+Ua;ca=0}if(!Qa)throw Ua;"@"===Ua[0]&&(na=++ca);var Z=m(Ua,ca,":");Z<Qa&&(za.push(Ua.substring(Ba,Z).trim()),Ba=ca=++Z);ca=m(Ua,ca,"[");if(ca===Qa)za.push(Ua.substring(Ba,Qa).trim());else if(za.push(Ua.substring(Ba,ca).trim()),
Sa=[],Ba=++ca,Ba===Qa)throw"Unmatched left bracket: "+Ua;for(;ca<Qa;){ca=m(Ua,ca,"]");if(ca===Qa)throw"Unmatched left bracket: "+Ua;Sa.push(Ua.substring(Ba,ca).trim());if(ca<Qa-1&&"["!==Ua[++ca])throw"Expected left bracket: "+Ua;Ba=++ca}if(!(Qa=za.length)||gb.test(za[Qa-1]))throw"Invalid event selector: "+Ua;1<Qa?(ab.type=za[1],na?ab.markname=za[0].slice(1):rb[za[0]]?ab.marktype=za[0]:ab.source=za[0]):ab.type=za[0];"!"===ab.type.slice(-1)&&(ab.consume=!0,ab.type=ab.type.slice(0,-1));null!=Sa&&(ab.filter=
Sa);Y[0]&&(ab.throttle=Y[0]);Y[1]&&(ab.debounce=Y[1]);Sa=ab}return Sa}function Gb(Ua){var Sa=Ua.split(",");if(!Ua.length||2<Sa.length)throw Ua;return Sa.map(function(ab){ab=+ab;if(ab!==ab)throw Ua;return ab})}var gb=/[[\]{}]/,wb={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Lb,rb;h.parseSelector=function(Ua,Sa,ab){Lb=Sa||"view";rb=ab||wb;return x(Ua.trim()).map(Wa)};Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[50]=function(Ib,xb,gc,vb){(function(h,m){"object"===typeof vb&&"undefined"!==typeof gc?m(vb,xb(0),xb(46),xb(49),xb(23),xb(14)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),m):(h="undefined"!==typeof globalThis?globalThis:h||self,m(h.vega={},h.vega,h.vega,h.vega,h.vega,h.vega))})(this,function(h,m,x,Wa,Gb,gb){function wb(E){return m.isObject(E)?E:{type:E||"pad"}}function Lb(E){m.isObject(E)?E=
E.signal?E:{top:+E.top||0,bottom:+E.bottom||0,left:+E.left||0,right:+E.right||0}:(E=+E||0,E={top:E,bottom:E,left:E,right:E});return E}function rb(E,Q,Va,Ab){return null!=Va?(m.isObject(Va)&&!m.isArray(Va)||m.isArray(Va)&&Va.length&&m.isObject(Va[0])?E.update[Q]=Va:E[Ab||"enter"][Q]={value:Va},1):0}function Ua(E,Q,Va){for(var Ab in Q)rb(E,Ab,Q[Ab]);for(var Db in Va)rb(E,Db,Va[Db],"update")}function Sa(E,Q,Va){for(var Ab in Q)Va&&m.hasOwnProperty(Va,Ab)||(E[Ab]=m.extend(E[Ab]||{},Q[Ab]));return E}function ab(E,
Q){return Q&&(Q.enter&&Q.enter[E]||Q.update&&Q.update[E])}function za(E,Q,Va,Ab,Db){var Nb={},$b={},Sc;var Mc="lineBreak";"text"!==Q||null==Db[Mc]||ab(Mc,E)||Y(Nb,Mc,Db[Mc]);if("legend"==Va||String(Va).startsWith("axis"))Va=null;Va="frame"===Va?Db.group:"mark"===Va?m.extend({},Db.mark,Db[Q]):null;for(Mc in Va)(Q=ab(Mc,E)||("fill"===Mc||"stroke"===Mc)&&(ab("fill",E)||ab("stroke",E)))||Y(Nb,Mc,Va[Mc]);m.array(Ab).forEach(function($c){$c=Db.style&&Db.style[$c];for(var nd in $c)ab(nd,E)||Y(Nb,nd,$c[nd])});
E=m.extend({},E);for(Mc in Nb)Va=Nb[Mc],Va.signal?(Sc=Sc||{})[Mc]=Va:$b[Mc]=Va;E.enter=m.extend($b,E.enter);Sc&&(E.update=m.extend(Sc,E.update));return E}function Y(E,Q,Va){E[Q]=Va&&Va.signal?{signal:Va.signal}:{value:Va}}function na(E){if(null!=E.gradient)return Ba(E);if(E.signal)var Q="("+E.signal+")";else E.color?(Q=E.color,Q=Q.c?eb("hcl",Q.h,Q.c,Q.l):Q.h||Q.s?eb("hsl",Q.h,Q.s,Q.l):Q.l||Q.a?eb("lab",Q.l,Q.a,Q.b):Q.r||Q.g||Q.b?eb("rgb",Q.r,Q.g,Q.b):null):Q=null!=E.field?ca(E.field):void 0!==E.value?
m.stringValue(E.value):void 0;if(null!=E.scale){var Va=kb(E.scale);null!=E.range?Q="lerp(_range("+Va+"), "+ +E.range+")":(void 0!==Q&&(Q="_scale("+Va+", "+Q+")"),E.band&&(Q=(Q?Q+"+":"")+("_bandwidth("+Va+")")+(1===+E.band?"":"*"+Qa(E.band)),E.extra&&(Q="(datum.extra ? _scale("+Va+", datum.extra.value) : "+Q+")")),null==Q&&(Q="0"))}void 0===Q&&(Q=null);null!=E.exponent&&(Q="pow("+Q+","+Qa(E.exponent)+")");null!=E.mult&&(Q+="*"+Qa(E.mult));null!=E.offset&&(Q+="+"+Qa(E.offset));E.round&&(Q="round("+
Q+")");return Q}function Ba(E){for(var Q=[E.start,E.stop,E.count].map(function(Va){return null==Va?null:m.stringValue(Va)});Q.length&&null==m.peek(Q);)Q.pop();Q.unshift(kb(E.gradient));return"gradient("+Q.join(",")+")"}function Qa(E){return m.isObject(E)?"("+na(E)+")":E}function ca(E){return Z(m.isObject(E)?E:{datum:E})}function Z(E){if(E.signal){var Q="datum";var Va=E.signal}else if(E.group||E.parent){Va=Math.max(1,E.level||1);for(Q="item";0<Va--;)Q+=".mark.group";E.parent?(Va=E.parent,Q+=".datum"):
Va=E.group}else E.datum?(Q="datum",Va=E.datum):m.error("Invalid field reference: "+m.stringValue(E));E.signal||(Va=m.isString(Va)?m.splitAccessPath(Va).map(m.stringValue).join("]["):Z(Va));return Q+"["+Va+"]"}function Oa(E){var Q="";E.forEach(function(Va){var Ab=na(Va);Q+=Va.test?"("+Va.test+")?"+Ab+":":Ab});":"===m.peek(Q)&&(Q+="null");return Q}function Aa(E,Q,Va,Ab,Db,Nb){var $b={};Nb=Nb||{};Nb.encoders={$encode:$b};E=za(E,Q,Va,Ab,Db.config);for(var Sc in E){Va=void 0;Ab=E[Sc];var Mc=Q,$c=Nb,nd=
Db,qd={},Id={};for(Va in Ab)if(null!=Ab[Va]){var Fd=Ab[Va];Fd=m.isArray(Fd)?Oa(Fd):na(Fd);qd[Va]=va(Fd,nd,$c,Id)}Va={$expr:{marktype:Mc,channels:qd},$fields:Object.keys(Id),$output:Object.keys(Ab)};$b[Sc]=Va}return Nb}function va(E,Q,Va,Ab){E=x.parseExpression(E,Q);E.$fields.forEach(function(Db){return Ab[Db]=1});m.extend(Va,E.$params);return E.$expr}function xa(E,Q){m.error(E+' for "outer" push: '+m.stringValue(Q))}function fa(E,Q){var Va=E.name;if("outer"===E.push)Q.signals[Va]||xa("No prior signal definition",
Va),Tb.forEach(function(Db){void 0!==E[Db]&&xa("Invalid property ",Db)});else{var Ab=Q.addSignal(Va,E.value);!1===E.react&&(Ab.react=!1);E.bind&&Q.addBinding(Va,E.bind)}}function pa(E,Q,Va,Ab){this.id=-1;this.type=E;this.value=Q;this.params=Va;Ab&&(this.parent=Ab)}function da(E){var Q={$ref:E.id};0>E.id&&(E.refs=E.refs||[]).push(Q);return Q}function ua(E,Q){return Q?{$field:E,$name:Q}:{$field:E}}function Ia(E,Q){E={$key:E};Q&&(E.$flat=!0);return E}function wa(E,Q){return(E&&E.signal?"$"+E.signal:
E||"")+(E&&Q?"_":"")+(Q&&Q.signal?"$"+Q.signal:Q||"")}function $a(E){return E&&E.signal}function ja(E){if($a(E))return!0;if(m.isObject(E))for(var Q in E)if(ja(E[Q]))return!0;return!1}function u(E,Q){return null!=E?E:Q}function y(E){return E&&E.signal||E}function z(E,Q){return(E.merge?C:E.stream?J:E.type?V:m.error("Invalid stream specification: "+m.stringValue(E)))(E,Q)}function D(E){return"scope"===E?"view":E||"view"}function C(E,Q){var Va=E.merge.map(function(Ab){return z(Ab,Q)});E=ia({merge:Va},
E,Q);return Q.addStream(E).id}function J(E,Q){var Va=z(E.stream,Q);E=ia({stream:Va},E,Q);return Q.addStream(E).id}function V(E,Q){if("timer"===E.type){var Va=Q.event("timer",E.throttle);E={between:E.between,filter:E.filter}}else Va=Q.event(D(E.source),E.type);E=ia({stream:Va},E,Q);return 1===Object.keys(E).length?Va:Q.addStream(E).id}function ia(E,Q,Va){var Ab=Q.between;Ab&&(2!==Ab.length&&m.error('Stream "between" parameter must have 2 entries: '+m.stringValue(Q)),E.between=[z(Ab[0],Va),z(Ab[1],
Va)]);Ab=Q.filter?[].concat(Q.filter):[];(Q.marktype||Q.markname||Q.markrole)&&Ab.push(Pa(Q.marktype,Q.markname,Q.markrole));"scope"===Q.source&&Ab.push("inScope(event.item)");Ab.length&&(E.filter=x.parseExpression("("+Ab.join(")\x26\x26(")+")",Va).$expr);null!=(Ab=Q.throttle)&&(E.throttle=+Ab);null!=(Ab=Q.debounce)&&(E.debounce=+Ab);Q.consume&&(E.consume=!0);return E}function Pa(E,Q,Va){return"event.item"+(E&&"*"!==E?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+E+"'":"")+(Va?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+
Va+"'":"")+(Q?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+Q+"'":"")}function cb(E,Q,Va){var Ab=E.encode,Db={target:Va};Va=E.events;var Nb=E.update,$b=[];Va||m.error("Signal update missing events specification.");m.isString(Va)&&(Va=Wa.parseSelector(Va,Q.isSubscope()?"scope":"view"));Va=m.array(Va).filter(function(Sc){return Sc.signal||Sc.scale?($b.push(Sc),0):1});1<$b.length&&($b=[Ka($b)]);Va.length&&$b.push(1<Va.length?{merge:Va}:Va[0]);null!=Ab&&(Nb&&m.error("Signal encode and update are mutually exclusive."),
Nb="encode(item(),"+m.stringValue(Ab)+")");Db.update=m.isString(Nb)?x.parseExpression(Nb,Q):null!=Nb.expr?x.parseExpression(Nb.expr,Q):null!=Nb.value?Nb.value:null!=Nb.signal?{$expr:xc,$params:{$value:Q.signalRef(Nb.signal)}}:m.error("Invalid signal update specification.");E.force&&(Db.options={force:!0});$b.forEach(function(Sc){return Q.addUpdate(m.extend(M(Sc,Q),Db))})}function M(E,Q){return{source:E.signal?Q.signalRef(E.signal):E.scale?Q.scaleRef(E.scale):z(E,Q)}}function Ka(E){return{signal:"["+
E.map(function(Q){return Q.scale?'scale("'+Q.scale+'")':Q.signal})+"]"}}function ka(E,Q){var Va=Q.getSignal(E.name),Ab=E.update;E.init&&(Ab?m.error("Signals can not include both init and update expressions."):(Ab=E.init,Va.initonly=!0));Ab&&(Ab=x.parseExpression(Ab,Q),Va.update=Ab.$expr,Va.params=Ab.$params);E.on&&E.on.forEach(function(Db){return cb(Db,Q,Va.id)})}function ha(E,Q){return m.isObject(E)?E.signal?Q.signalRef(E.signal):m.error("Unsupported object: "+m.stringValue(E)):E}function w(E,Q){return E.signal?
Q.signalRef(E.signal):E.map(function(Va){return ha(Va,Q)})}function H(E){m.error("Can not find data set: "+m.stringValue(E))}function p(E,Q,Va){if(E)return E.signal?Va.signalRef(E.signal):(m.isArray(E)?q:E.fields?G:t)(E,Q,Va);null==Q.domainMin&&null==Q.domainMax||m.error("No scale domain defined for domainMin/domainMax to override.")}function q(E,Q,Va){return E.map(function(Ab){return ha(Ab,Va)})}function t(E,Q,Va){var Ab=Va.getData(E.data);Ab||H(E.data);return Gb.isDiscrete(Q.type)?Ab.valuesRef(Va,
E.field,ba(E.sort,!1)):Gb.isQuantile(Q.type)?Ab.domainRef(Va,E.field):Ab.extentRef(Va,E.field)}function G(E,Q,Va){var Ab=E.data,Db=E.fields.reduce(function(Nb,$b){if(m.isString($b))$b={data:Ab,field:$b};else if(m.isArray($b)||$b.signal){var Sc=$b;$b="_:vega:_"+Ud++;var Mc=Ed({});m.isArray(Sc)?Mc.value={$ingest:Sc}:Sc.signal&&(Sc="setdata("+m.stringValue($b)+","+Sc.signal+")",Mc.params.input=Va.signalRef(Sc));Va.addDataPipeline($b,[Mc,he({})]);$b={data:$b,field:"data"}}Nb.push($b);return Nb},[]);return(Gb.isDiscrete(Q.type)?
L:Gb.isQuantile(Q.type)?Ga:La)(E,Va,Db)}function L(E,Q,Va){var Ab=ba(E.sort,!0);E=Va.map(function(Nb){var $b=Q.getData(Nb.data);$b||H(Nb.data);return $b.countsRef(Q,Nb.field,Ab)});var Db={groupby:hc,pulse:E};Ab&&(E=Ab.op||"count",Va=Ab.field?wa(E,Ab.field):"count",Db.ops=[Nc[E]],Db.fields=[Q.fieldRef(Va)],Db.as=[Va]);E=Q.add(lc(Db));E=Q.add(Ed({pulse:da(E)}));Va=Q.add($d({field:hc,sort:Q.sortRef(Ab),pulse:da(E)}));return da(Va)}function ba(E,Q){E&&(E.field||E.op?E.field||"count"===E.op?Q&&E.field&&
E.op&&!Nc[E.op]&&m.error("Multiple domain scales can not be sorted using "+E.op):m.error("No field provided for sort aggregate op: "+E.op):m.isObject(E)?E.field="key":E={field:"key"});return E}function Ga(E,Q,Va){E=Va.map(function(Ab){var Db=Q.getData(Ab.data);Db||H(Ab.data);return Db.domainRef(Q,Ab.field)});return da(Q.add(Te({values:E})))}function La(E,Q,Va){E=Va.map(function(Ab){var Db=Q.getData(Ab.data);Db||H(Ab.data);return Db.extentRef(Q,Ab.field)});return da(Q.add($e({extents:E})))}function db(E,
Q,Va){var Ab=Q.config.range,Db=E.range;if(Db.signal)return Q.signalRef(Db.signal);if(m.isString(Db)){if(Ab&&m.hasOwnProperty(Ab,Db))return E=m.extend({},E,{range:Ab[Db]}),db(E,Q,Va);"width"===Db?Db=[0,{signal:"width"}]:"height"===Db?Db=Gb.isDiscrete(E.type)?[0,{signal:"height"}]:[{signal:"height"},0]:m.error("Unrecognized scale range value: "+m.stringValue(Db))}else{if(Db.scheme){Va.scheme=m.isArray(Db.scheme)?w(Db.scheme,Q):ha(Db.scheme,Q);Db.extent&&(Va.schemeExtent=w(Db.extent,Q));Db.count&&(Va.schemeCount=
ha(Db.count,Q));return}if(Db.step){Va.rangeStep=ha(Db.step,Q);return}if(Gb.isDiscrete(E.type)&&!m.isArray(Db))return p(Db,E,Q);m.isArray(Db)||m.error("Unsupported range type: "+m.stringValue(Db))}return Db.map(function(Nb){return(m.isArray(Nb)?w:ha)(Nb,Q)})}function sb(E,Q,Va){return m.isArray(E)?E.map(function(Ab){return sb(Ab,Q,Va)}):m.isObject(E)?E.signal?Va.signalRef(E.signal):"fit"===Q?E:m.error("Unsupported parameter object: "+m.stringValue(E)):E}function S(E){E.type="group";E.interactive=E.interactive||
!1;return E}function aa(E,Q){var Va=function(Ab,Db){return u(E[Ab],u(Q[Ab],Db))};Va.isVertical=function(Ab){return"vertical"===u(E.direction,Q.direction||(Ab?Q.symbolDirection:Q.gradientDirection))};Va.gradientLength=function(){return u(E.gradientLength,Q.gradientLength||Q.gradientWidth)};Va.gradientThickness=function(){return u(E.gradientThickness,Q.gradientThickness||Q.gradientHeight)};Va.entryColumns=function(){return u(E.columns,u(Q.columns,+Va.isVertical(!0)))};return Va}function qa(E,Q){return(E=
Q&&(Q.update&&Q.update[E]||Q.enter&&Q.enter[E]))&&E.signal?E:E?E.value:null}function ta(E,Q,Va){return"item.anchor \x3d\x3d\x3d 'start' ? "+E+" : item.anchor \x3d\x3d\x3d 'end' ? "+Q+" : "+Va}function ea(E,Q){return Q?E?m.isObject(E)?Object.assign({},E,{offset:ea(E.offset,Q)}):{value:E,offset:Q}:Q:E}function U(E,Q){Q?(E.name=Q.name,E.style=Q.style||E.style,E.interactive=!!Q.interactive,E.encode=Sa(E.encode,Q,ve)):E.interactive=!1;return E}function Fa(E,Q,Va,Ab){E=aa(E,Va);var Db=E.isVertical();Va=
E.gradientThickness();var Nb=E.gradientLength(),$b;if(Db){Db=[0,1];var Sc=[0,0];var Mc=Va;Va=Nb}else Db=[0,0],Sc=[1,0],Mc=Nb;Q={enter:$b={opacity:Jd,x:Jd,y:Jd,width:Ha(Mc),height:Ha(Va)},update:m.extend({},$b,{opacity:xe,fill:{gradient:Q,start:Db,stop:Sc}}),exit:{opacity:Jd}};Ua(Q,{stroke:E("gradientStrokeColor"),strokeWidth:E("gradientStrokeWidth")},{opacity:E("gradientOpacity")});return U({type:"rect",role:"legend-gradient",encode:Q},Ab)}function Ja(E,Q,Va,Ab,Db){E=aa(E,Va);var Nb=E.isVertical();
Va=E.gradientThickness();var $b=E.gradientLength(),Sc,Mc,$c,nd,qd="";Nb?(Sc="y",$c="y2",Mc="x",nd="width",qd="1-"):(Sc="x",$c="x2",Mc="y",nd="height");Q={opacity:Jd,fill:{scale:Q,field:"value"}};Q[Sc]={signal:qd+"datum.perc",mult:$b};Q[Mc]=Jd;Q[$c]={signal:qd+"datum.perc2",mult:$b};Q[nd]=Ha(Va);Sc={enter:Q,update:m.extend({},Q,{opacity:xe}),exit:{opacity:Jd}};Ua(Sc,{stroke:E("gradientStrokeColor"),strokeWidth:E("gradientStrokeWidth")},{opacity:E("gradientOpacity")});return U({type:"rect",role:"legend-band",
key:"value",from:Db,encode:Sc},Ab)}function Ta(E,Q,Va,Ab){var Db=aa(E,Q),Nb=Db.isVertical(),$b=Ha(Db.gradientThickness()),Sc=Db.gradientLength(),Mc=Db("labelOverlap"),$c,nd,qd="",Id={enter:$c={opacity:Jd},update:nd={opacity:xe,text:{field:"label"}},exit:{opacity:Jd}};Ua(Id,{fill:Db("labelColor"),fillOpacity:Db("labelOpacity"),font:Db("labelFont"),fontSize:Db("labelFontSize"),fontStyle:Db("labelFontStyle"),fontWeight:Db("labelFontWeight"),limit:u(E.labelLimit,Q.gradientLabelLimit)});if(Nb){$c.align=
{value:"left"};$c.baseline=nd.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'};Nb="y";var Fd="x";qd="1-"}else $c.align=nd.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},$c.baseline={value:"top"},Nb="x",Fd="y";$c[Nb]=nd[Nb]={signal:qd+"datum.perc",mult:Sc};$c[Fd]=nd[Fd]=$b;$b.offset=u(E.labelOffset,Q.gradientLabelOffset)||0;Mc=Mc?{separation:Db("labelSeparation"),method:Mc,order:"datum.index"}:void 0;return U({type:"text",role:"legend-label",
style:"guide-label",key:"value",from:Ab,encode:Id,overlap:Mc},Va)}function ya(E,Q,Va,Ab,Db){var Nb=aa(E,Q),$b=Va.entries,Sc=!(!$b||!$b.interactive),Mc=$b?$b.name:void 0,$c=Nb("clipHeight"),nd=Nb("symbolOffset"),qd={data:"value"},Id="("+Db+") ? datum.offset : datum.size",Fd=$c?Ha($c):{field:"size"},re="max(1, "+Db+")",oe,pe;Fd.mult=.5;var ge={enter:oe={opacity:Jd,x:{signal:Id,mult:.5,offset:nd},y:Fd},update:pe={opacity:xe,x:oe.x,y:oe.y},exit:{opacity:Jd}};var ye=null,zf=null;E.fill||(ye=Q.symbolBaseFillColor,
zf=Q.symbolBaseStrokeColor);Ua(ge,{fill:Nb("symbolFillColor",ye),shape:Nb("symbolType"),size:Nb("symbolSize"),stroke:Nb("symbolStrokeColor",zf),strokeDash:Nb("symbolDash"),strokeDashOffset:Nb("symbolDashOffset"),strokeWidth:Nb("symbolStrokeWidth")},{opacity:Nb("symbolOpacity")});Qe.forEach(function(tf){E[tf]&&(pe[tf]=oe[tf]={scale:E[tf],field:"value"})});Q=U({type:"symbol",role:"legend-symbol",key:"value",from:qd,clip:$c?!0:void 0,encode:ge},Va.symbols);ge=Ha(nd);ge.offset=Nb("labelOffset");ge={enter:oe=
{opacity:Jd,x:{signal:Id,offset:ge},y:Fd},update:pe={opacity:xe,text:{field:"label"},x:oe.x,y:oe.y},exit:{opacity:Jd}};Ua(ge,{align:Nb("labelAlign"),baseline:Nb("labelBaseline"),fill:Nb("labelColor"),fillOpacity:Nb("labelOpacity"),font:Nb("labelFont"),fontSize:Nb("labelFontSize"),fontStyle:Nb("labelFontStyle"),fontWeight:Nb("labelFontWeight"),limit:Nb("labelLimit")});Va=U({type:"text",role:"legend-label",style:"guide-label",key:"value",from:qd,encode:ge},Va.labels);ge={enter:{noBound:{value:!$c},
width:Jd,height:$c?Ha($c):Jd,opacity:Jd},exit:{opacity:Jd},update:pe={opacity:xe,row:{signal:null},column:{signal:null}}};Nb.isVertical(!0)?(Nb="ceil(item.mark.items.length / "+re+")",pe.row.signal="datum.index%"+Nb,pe.column.signal="floor(datum.index / "+Nb+")",Nb={field:["row","datum.index"]}):(pe.row.signal="floor(datum.index / "+re+")",pe.column.signal="datum.index % "+re,Nb={field:"datum.index"});pe.column.signal="("+Db+")?"+pe.column.signal+":datum.index";Ab={facet:{data:Ab,name:"value",groupby:"index"}};
return S({role:"scope",from:Ab,encode:Sa(ge,$b,ve),marks:[Q,Va],name:Mc,interactive:Sc,sort:Nb})}function lb(E,Q){E=aa(E,Q);return{align:E("gridAlign"),columns:E.entryColumns(),center:{row:!0,column:!1},padding:{row:E("rowPadding"),column:E("columnPadding")}}}function yb(E,Q,Va,Ab){Q=aa(E,Q);var Db={enter:{opacity:Jd},update:{opacity:xe,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Jd}};Ua(Db,{orient:Q("titleOrient"),_anchor:Q("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},
angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},align:{signal:We},baseline:{signal:lf},text:E.title,fill:Q("titleColor"),fillOpacity:Q("titleOpacity"),font:Q("titleFont"),fontSize:Q("titleFontSize"),fontStyle:Q("titleFontStyle"),fontWeight:Q("titleFontWeight"),limit:Q("titleLimit"),lineHeight:Q("titleLineHeight")},{align:Q("titleAlign"),baseline:Q("titleBaseline")});return U({type:"text",
role:"legend-title",style:"guide-title",from:Ab,encode:Db},Va)}function Ya(E,Q){var Va;m.isObject(E)&&(E.signal?Va=E.signal:E.path?Va="pathShape("+Ob(E.path)+")":E.sphere&&(Va="geoShape("+Ob(E.sphere)+', {type: "Sphere"})'));return Va?Q.signalRef(Va):!!E}function Ob(E){return m.isObject(E)&&E.signal?E.signal:m.stringValue(E)}function Qb(E){var Q=E.role||"";return Q.indexOf("axis")&&Q.indexOf("legend")&&Q.indexOf("title")?"group"===E.type?"scope":Q||"mark":Q}function Zb(E){return{marktype:E.type,name:E.name||
void 0,role:E.role||Qb(E),zindex:+E.zindex||void 0,aria:E.aria,description:E.description}}function Ic(E,Q){return E&&E.signal?Q.signalRef(E.signal):!1===E?!1:!0}function uc(E,Q){var Va=gb.definition(E.type);Va||m.error("Unrecognized transform type: "+m.stringValue(E.type));var Ab=Va.type.toLowerCase();var Db=Zc(Va,E,Q);Ab=new pa(Ab,null,Db,void 0);E.signal&&Q.addSignal(E.signal,Q.proxy(Ab));Ab.metadata=Va.metadata||{};return Ab}function Zc(E,Q,Va){for(var Ab={},Db=E.params.length,Nb=0;Nb<Db;++Nb){var $b=
E.params[Nb];Ab[$b.name]=Ad($b,Q,Va)}return Ab}function Ad(E,Q,Va){var Ab=E.type,Db=Q[E.name];if("index"===Ab)return Xc(E,Q,Va);if(void 0===Db)E.required&&m.error("Missing required "+m.stringValue(Q.type)+" parameter: "+m.stringValue(E.name));else return"param"===Ab?Uc(E,Q,Va):"projection"===Ab?Va.projectionRef(Q[E.name]):E.array&&!$a(Db)?Db.map(function(Nb){return Lc(E,Nb,Va)}):Lc(E,Db,Va)}function Lc(E,Q,Va){var Ab=E.type;return $a(Q)?"expr"===Ab?m.error("Expression references can not be signals."):
"field"===Ab?Va.fieldRef(Q):"compare"===Ab?Va.compareRef(Q):Va.signalRef(Q.signal):(E=E.expr||"field"===Ab)&&Q&&Q.expr?Va.exprRef(Q.expr,Q.as):E&&Q&&Q.field?ua(Q.field,Q.as):"expr"===Ab?x.parseExpression(Q,Va):"data"===Ab?da(Va.getData(Q).values):"field"===Ab?ua(Q):"compare"===Ab?Va.compareRef(Q):Q}function Xc(E,Q,Va){m.isString(Q.from)||m.error('Lookup "from" parameter must be a string literal.');return Va.getData(Q.from).lookupRef(Va,Q.key)}function Uc(E,Q,Va){Q=Q[E.name];return E.array?(m.isArray(Q)||
m.error("Expected an array of sub-parameters. Instead: "+m.stringValue(Q)),Q.map(function(Ab){return Md(E,Ab,Va)})):Md(E,Q,Va)}function Md(E,Q,Va){for(var Ab=E.params.length,Db,Nb=0;Nb<Ab;++Nb){Db=E.params[Nb];for(var $b in Db.key)if(Db.key[$b]!==Q[$b]){Db=null;break}if(Db)break}Db||m.error("Unsupported parameter: "+m.stringValue(Q));E=m.extend(Zc(Db,Q,Va),Db.key);return da(Va.add(ef(E)))}function Qd(E,Q,Va){var Ab,Db;if(!E)var Nb=da(Va.add(Ed(null,[{}])));else if(Ab=E.facet)if(Q||m.error("Only group marks can be faceted."),
null!=Ab.field)Nb=Db=fe(Ab,Va);else{E.data?Db=da(Va.getData(E.data).aggregate):(Q=uc(m.extend({type:"aggregate",groupby:m.array(Ab.groupby)},Ab.aggregate),Va),Q.params.key=Va.keyRef(Ab.groupby),Q.params.pulse=fe(Ab,Va),Nb=Db=da(Va.add(Q)));var $b=Va.keyRef(Ab.groupby,!0)}Nb||(Nb=fe(E,Va));return{key:$b,pulse:Nb,parent:Db}}function fe(E,Q){return E.$ref?E:E.data&&E.data.$ref?E.data:da(Q.getData(E.data).output)}function Eb(E,Q,Va,Ab,Db){this.scope=E;this.input=Q;this.output=Va;this.values=Ab;this.aggregate=
Db;this.index={}}function Rb(E){return m.isString(E)?E:null}function mb(E,Q,Va){var Ab=wa(Va.op,Va.field),Db;if(Q.ops)for(var Nb=0,$b=Q.as.length;Nb<$b;++Nb){if(Q.as[Nb]===Ab)return}else Q.ops=["count"],Q.fields=[null],Q.as=["count"];Va.op&&(Q.ops.push((Db=Va.op.signal)?E.signalRef(Db):Va.op),Q.fields.push(E.fieldRef(Va.field)),Q.as.push(Ab))}function rc(E,Q,Va,Ab,Db,Nb,$b){Va=Q[Va]||(Q[Va]={});var Sc=m.isObject(Nb)?("descending"===Nb.order?"-":"+")+wa(Nb.op,Nb.field):"";var Mc=Rb(Db);if(null!=Mc){E=
Q.scope;Mc+=Sc?"|"+Sc:"";var $c=Va[Mc]}$c||($c=Nb?{field:hc,pulse:Q.countsRef(E,Db,Nb)}:{field:E.fieldRef(Db),pulse:da(Q.output)},Sc&&($c.sort=E.sortRef(Nb)),E=E.add(new pa(Ab,void 0,$c,void 0)),$b&&(Q.index[Db]=E),$c=da(E),null!=Mc&&(Va[Mc]=$c));return $c}function Cc(E,Q,Va){var Ab=E.from.facet,Db=Ab.name,Nb=fe(Ab,Q),$b;Ab.name||m.error("Facet must have a name: "+m.stringValue(Ab));Ab.data||m.error("Facet must reference a data set: "+m.stringValue(Ab));Ab.field?$b=Q.add(Vd({field:Q.fieldRef(Ab.field),
pulse:Nb})):Ab.groupby?$b=Q.add(Dd({key:Q.keyRef(Ab.groupby),group:da(Q.proxy(Va.parent)),pulse:Nb})):m.error("Facet must specify groupby or field: "+m.stringValue(Ab));Q=Q.fork();Va=Q.add(Ed());Ab=Q.add(he({pulse:da(Va)}));Q.addData(Db,new Eb(Q,Va,Va,Ab));Q.addSignal("parent",null);$b.params.subflow={$subflow:Q.parse(E).toRuntime()}}function Rc(E,Q,Va){Va=Q.add(Vd({pulse:Va.pulse}));Q=Q.fork();Q.add(he());Q.addSignal("parent",null);Va.params.subflow={$subflow:Q.parse(E).toRuntime()}}function sd(E,
Q,Va){var Ab=E.remove,Db=E.insert,Nb=E.toggle,$b=E.modify,Sc=E.values,Mc=Q.add(new pa("operator",void 0,void 0,void 0));E="if("+E.trigger+',modify("'+Va+'",'+[Db,Ab,Nb,$b,Sc].map(function($c){return null==$c?"null":$c}).join(",")+"),0)";Q=x.parseExpression(E,Q);Mc.update=Q.$expr;Mc.params=Q.$params}function I(E,Q){var Va=Qb(E),Ab="group"===E.type,Db=E.from&&E.from.facet,Nb=E.overlap,$b=E.layout||"scope"===Va||"frame"===Va,Sc,Mc,$c="mark"===Va||$b||Db,nd=Qd(E.from,Ab,Q);var qd=Q.add(le({key:nd.key||
(E.key?ua(E.key):void 0),pulse:nd.pulse,clean:!Ab}));var Id=da(qd);qd=Sc=Q.add(Ed({pulse:Id}));qd=Q.add(Ce({markdef:Zb(E),interactive:Ic(E.interactive,Q),clip:Ya(E.clip,Q),context:{$context:!0},groups:Q.lookup(),parent:Q.signals.parent?Q.signalRef("parent"):null,index:Q.markpath(),pulse:da(qd)}));var Fd=da(qd);qd=Mc=Q.add(Se(Aa(E.encode,E.type,Va,E.style,Q,{mod:!1,pulse:Fd})));qd.params.parent=Q.encode();E.transform&&E.transform.forEach(function(ye){ye=uc(ye,Q);var zf=ye.metadata;(zf.generates||zf.changes)&&
m.error("Mark transforms should not generate new data.");zf.nomod||(Mc.params.mod=!0);ye.params.pulse=da(qd);Q.add(qd=ye)});E.sort&&(qd=Q.add(de({sort:Q.compareRef(E.sort),pulse:da(qd)})));Va=da(qd);if(Db||$b){$b=Q.add(je({layout:Q.objectProperty(E.layout),legends:Q.legends,mark:Fd,pulse:Va}));var re=da($b)}var oe=Q.add(pd({mark:Fd,pulse:re||Va}));Fd=da(oe);if(Ab){if($c){var pe=Q.operators;pe.pop();$b&&pe.pop()}Q.pushState(Va,re||Fd,Id);Db?Cc(E,Q,nd):$c?Rc(E,Q,nd):Q.parse(E);Q.popState();$c&&($b&&
pe.push($b),pe.push(oe))}Nb&&(Fd=ma(Nb,Fd,Q));Ab=Q.add(gd({pulse:Fd}));Db=Q.add(he({pulse:da(Ab)},void 0,Q.parent()));if(null!=E.name){var ge=E.name;Q.addData(ge,new Eb(Q,Sc,Ab,Db));E.on&&E.on.forEach(function(ye){(ye.insert||ye.remove||ye.toggle)&&m.error("Marks only support modify triggers.");sd(ye,Q,ge)})}}function ma(E,Q,Va){var Ab=E.method,Db=E.bound,Nb=E.separation;Q={separation:$a(Nb)?Va.signalRef(Nb.signal):Nb,method:$a(Ab)?Va.signalRef(Ab.signal):Ab,pulse:Q};E.order&&(Q.sort=Va.compareRef({field:E.order}));
Db&&(E=Db.tolerance,Q.boundTolerance=$a(E)?Va.signalRef(E.signal):+E,Q.boundScale=Va.scaleRef(Db.scale),Q.boundOrient=Db.orient);return da(Va.add(kf(Q)))}function ib(E,Q){var Va=Q.config.legend,Ab=E.encode||{},Db=aa(E,Va),Nb=Ab.legend||{},$b=Nb.name||void 0,Sc=Nb.interactive,Mc=Nb.style,$c={},nd=0,qd;Qe.forEach(function(ge){return E[ge]?($c[ge]=E[ge],nd=nd||E[ge]):0});nd||m.error("Missing valid scale for legend.");var Id=nb(E,Q.scaleType(nd));var Fd={title:null!=E.title,scales:$c,type:Id,vgrad:"symbol"!==
Id&&Db.isVertical()},re=da(Q.add(Ed(null,[Fd]))),oe=da(Q.add(qe(qd={type:Id,scale:Q.scaleRef(nd),count:Q.objectProperty(Db("tickCount")),limit:Q.property(Db("symbolLimit")),values:Q.objectProperty(E.values),minstep:Q.property(E.tickMinStep),formatType:Q.property(E.formatType),formatSpecifier:Q.property(E.format)})));if("gradient"===Id)Id=[Fa(E,nd,Va,Ab.gradient),Ta(E,Va,Ab.labels,oe)],qd.count=qd.count||Q.signalRef("max(2,2*floor(("+y(Db.gradientLength())+")/100))");else if("discrete"===Id)Id=[Ja(E,
nd,Va,Ab.gradient,oe),Ta(E,Va,Ab.labels,oe)];else{var pe=lb(E,Va);Id=[ya(E,Va,Ab,oe,y(pe.columns))];qd.size=Xb(E,Q,Id[0].marks)}Id=[S({role:"legend-entry",from:re,encode:{enter:{x:{value:0},y:{value:0}}},marks:Id,layout:pe,interactive:Sc})];Fd.title&&Id.push(yb(E,Va,Ab.title,re));return I(S({role:"legend",from:re,encode:Sa(Ub(Db,E,Va),Nb,ve),marks:Id,aria:Db("aria"),description:Db("description"),zindex:Db("zindex"),name:$b,interactive:Sc,style:Mc}),Q)}function nb(E,Q){var Va=E.type||"symbol";E.type||
1!==Bb(E)||!E.fill&&!E.stroke||(Va=Gb.isContinuous(Q)?"gradient":Gb.isDiscretizing(Q)?"discrete":"symbol");return"gradient"!==Va?Va:Gb.isDiscretizing(Q)?"discrete":"gradient"}function Bb(E){return Qe.reduce(function(Q,Va){return Q+(E[Va]?1:0)},0)}function Ub(E,Q,Va){var Ab={enter:{},update:{}};Ua(Ab,{orient:E("orient"),offset:E("offset"),padding:E("padding"),titlePadding:E("titlePadding"),cornerRadius:E("cornerRadius"),fill:E("fillColor"),stroke:E("strokeColor"),strokeWidth:Va.strokeWidth,strokeDash:Va.strokeDash,
x:E("legendX"),y:E("legendY"),format:Q.format,formatType:Q.formatType});return Ab}function Xb(E,Q,Va){var Ab=y(dc("size",E,Va));E=y(dc("strokeWidth",E,Va));(Va=qa("fontSize",Va[1].encode))||(Va=(Va=Q.config.style["guide-label"])&&Va.fontSize);Va=y(Va);return x.parseExpression("max(ceil(sqrt("+Ab+")+"+E+"),"+Va+")",Q)}function dc(E,Q,Va){return Q[E]?'scale("'+Q[E]+'",datum)':qa(E,Va[0].encode)}function Fc(E,Q){E=m.isString(E)?{text:E}:E;var Va=aa(E,Q.config.title),Ab=E.encode||{},Db=Ab.group||{},Nb=
Db.name||void 0,$b=Db.interactive,Sc=Db.style,Mc=[],$c=da(Q.add(Ed(null,[{}])));Mc.push(Da(E,Va,Jc(E),$c));E.subtitle&&Mc.push(Ma(E,Va,Ab.subtitle,$c));E={enter:{},update:{}};Ua(E,{orient:Va("orient"),anchor:Va("anchor"),align:{signal:Gd},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:Va("limit"),frame:Va("frame"),offset:Va("offset")||0,padding:Va("subtitlePadding")});Db=Sa(E,Db,ve);return I(S({role:"title",from:$c,encode:Db,marks:Mc,aria:Va("aria"),description:Va("description"),
zindex:Va("zindex"),name:Nb,interactive:$b,style:Sc}),Q)}function Jc(E){var Q=E.encode;return Q&&Q.title||m.extend({name:E.name,interactive:E.interactive,style:E.style},Q)}function Da(E,Q,Va,Ab){var Db={value:0};Db={enter:{opacity:Db},update:{opacity:{value:1}},exit:{opacity:Db}};Ua(Db,{text:E.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Q("dx"),dy:Q("dy"),fill:Q("color"),font:Q("font"),fontSize:Q("fontSize"),
fontStyle:Q("fontStyle"),fontWeight:Q("fontWeight"),lineHeight:Q("lineHeight")},{align:Q("align"),angle:Q("angle"),baseline:Q("baseline")});return U({type:"text",role:"title-text",style:"group-title",from:Ab,encode:Db},Va)}function Ma(E,Q,Va,Ab){var Db={value:0};Db={enter:{opacity:Db},update:{opacity:{value:1}},exit:{opacity:Db}};Ua(Db,{text:E.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:Q("dx"),dy:Q("dy"),
fill:Q("subtitleColor"),font:Q("subtitleFont"),fontSize:Q("subtitleFontSize"),fontStyle:Q("subtitleFontStyle"),fontWeight:Q("subtitleFontWeight"),lineHeight:Q("subtitleLineHeight")},{align:Q("align"),angle:Q("angle"),baseline:Q("baseline")});return U({type:"text",role:"title-subtitle",style:"group-subtitle",from:Ab,encode:Db},Va)}function Pb(E,Q){var Va=[];E.transform&&E.transform.forEach(function(Ab){Va.push(uc(Ab,Q))});E.on&&E.on.forEach(function(Ab){sd(Ab,Q,E.name)});Q.addDataPipeline(E.name,bc(E,
Q,Va))}function bc(E,Q,Va){var Ab=[],Db=null,Nb=!1,$b=!1,Sc,Mc;E.values?$a(E.values)||ja(E.format)?(Ab.push(Dc(Q,E)),Ab.push(Db=mc())):Ab.push(Db=mc({$ingest:E.values,$format:E.format})):E.url?ja(E.url)||ja(E.format)?(Ab.push(Dc(Q,E)),Ab.push(Db=mc())):Ab.push(Db=mc({$request:E.url,$format:E.format})):E.source&&(Db=Sc=m.array(E.source).map(function(qd){return da(Q.getData(qd).output)}),Ab.push(null));E=0;for(Mc=Va.length;E<Mc;++E){var $c=Va[E];var nd=$c.metadata;Db||nd.source||Ab.push(Db=mc());Ab.push($c);
nd.generates&&($b=!0);nd.modifies&&!$b&&(Nb=!0);nd.source?Db=$c:nd.changes&&(Db=null)}Sc&&(Mc=Sc.length-1,Ab[0]=Yb({derive:Nb,pulse:Mc?Sc:Sc[0]}),(Nb||Mc)&&Ab.splice(1,0,mc()));Db||Ab.push(mc());Ab.push(he({}));return Ab}function mc(E){E=Ed({},E);E.metadata={source:!0};return E}function Dc(E,Q){return ne({url:Q.url?E.property(Q.url):void 0,async:Q.async?E.property(Q.async):void 0,values:Q.values?E.property(Q.values):void 0,format:E.objectProperty(Q.format)})}function Kc(E,Q,Va,Ab){if(Q&&m.hasOwnProperty(Q,
E))return Q[E];if(m.hasOwnProperty(Va,E))return Va[E];if(E.startsWith("title")){switch(E){case "titleColor":var Db="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Db=E[5].toLowerCase()+E.slice(6)}return Ab["guide-title"][Db]}if(E.startsWith("label")){switch(E){case "labelColor":Db="fill";break;case "labelFont":case "labelFontSize":Db=E[5].toLowerCase()+E.slice(6)}return Ab["guide-label"][Db]}return null}function Hb(E){var Q={};E=$jscomp.makeIterator(E);for(var Va=E.next();!Va.done;Va=
E.next())if(Va=Va.value)for(var Ab in Va)Q[Ab]=1;return Object.keys(Q)}function Wb(E,Q,Va,Ab){var Db=aa(E,Q);Q=E.orient;var Nb,$b,Sc={enter:Nb={opacity:Jd},update:$b={opacity:xe},exit:{opacity:Jd}};Ua(Sc,{stroke:Db("domainColor"),strokeCap:Db("domainCap"),strokeDash:Db("domainDash"),strokeDashOffset:Db("domainDashOffset"),strokeWidth:Db("domainWidth"),strokeOpacity:Db("domainOpacity")});Db={scale:E.scale,range:0};E={scale:E.scale,range:1};Nb.x=$b.x=Me(Q,Db,Jd);Nb.x2=$b.x2=Me(Q,E);Nb.y=$b.y=df(Q,Db,
Jd);Nb.y2=$b.y2=df(Q,E);return U({type:"rule",role:"axis-domain",from:Ab,encode:Sc},Va)}function sc(E,Q,Va,Ab,Db){var Nb=aa(E,Q);Q=E.orient;var $b=E.gridScale,Sc=uf(Q,1,-1);a:{var Mc=E.offset;if(1!==Sc)if(m.isObject(Mc)){for(var $c=Mc=m.extend({},Mc);null!=$c.mult;)if(m.isObject($c.mult))$c=$c.mult=m.extend({},$c.mult);else{$c.mult=$a(Sc)?{signal:"("+$c.mult+") * ("+Sc.signal+")"}:$c.mult*Sc;break a}$c.mult=Sc}else Mc=$a(Sc)?{signal:"("+Sc.signal+") * ("+(Mc||0)+")"}:Sc*(Mc||0)}var nd=Mc,qd,Id={enter:Mc=
{opacity:Jd},update:qd={opacity:xe},exit:$c={opacity:Jd}};Ua(Id,{stroke:Nb("gridColor"),strokeCap:Nb("gridCap"),strokeDash:Nb("gridDash"),strokeDashOffset:Nb("gridDashOffset"),strokeOpacity:Nb("gridOpacity"),strokeWidth:Nb("gridWidth")});E={scale:E.scale,field:"value",band:Db.band,extra:Db.extra,offset:Db.offset,round:Nb("tickRound")};Nb=Me(Q,{signal:"height"},{signal:"width"});Db=$b?{scale:$b,range:0,mult:Sc,offset:nd}:{value:0,offset:nd};$b=$b?{scale:$b,range:1,mult:Sc,offset:nd}:m.extend(Nb,{mult:Sc,
offset:nd});Mc.x=qd.x=Me(Q,E,Db);Mc.y=qd.y=df(Q,E,Db);Mc.x2=qd.x2=df(Q,$b);Mc.y2=qd.y2=Me(Q,$b);$c.x=Me(Q,E);$c.y=df(Q,E);return U({type:"rule",role:"axis-grid",key:"value",from:Ab,encode:Id},Va)}function pc(E,Q,Va,Ab,Db,Nb){var $b=aa(E,Q);Q=E.orient;var Sc=uf(Q,-1,1),Mc,$c,nd,qd={enter:Mc={opacity:Jd},update:nd={opacity:xe},exit:$c={opacity:Jd}};Ua(qd,{stroke:$b("tickColor"),strokeCap:$b("tickCap"),strokeDash:$b("tickDash"),strokeDashOffset:$b("tickDashOffset"),strokeOpacity:$b("tickOpacity"),strokeWidth:$b("tickWidth")});
Db=Ha(Db);Db.mult=Sc;E={scale:E.scale,field:"value",band:Nb.band,extra:Nb.extra,offset:Nb.offset,round:$b("tickRound")};nd.y=Mc.y=Me(Q,Jd,E);nd.y2=Mc.y2=Me(Q,Db);$c.x=Me(Q,E);nd.x=Mc.x=df(Q,Jd,E);nd.x2=Mc.x2=df(Q,Db);$c.y=df(Q,E);return U({type:"rule",role:"axis-tick",key:"value",from:Ab,encode:qd},Va)}function tc(E,Q,Va,Ab,Db){return{signal:'flush(range("'+E+'"), scale("'+E+'", datum.value), '+Q+","+Va+","+Ab+","+Db+")"}}function Wc(E,Q,Va,Ab,Db,Nb){Q=aa(E,Q);var $b=E.orient;E=E.scale;var Sc=uf($b,
-1,1),Mc=y(Q("labelFlush")),$c=y(Q("labelFlushOffset")),nd=Q("labelAlign"),qd=Q("labelBaseline"),Id=0===Mc||!!Mc,Fd=Ha(Db);Fd.mult=Sc;Fd.offset=Ha(Q("labelPadding")||0);Fd.offset.mult=Sc;Sc={scale:E,field:"value",band:.5,offset:ea(Nb.offset,Q("labelOffset"))};Nb=Id?tc(E,Mc,'"left"','"right"','"center"'):{value:"center"};Db=$a($b)?Ve($b.signal+" \x3d\x3d\x3d 'right'","left","right"):"right"===$b?{value:"left"}:{value:"right"};Nb=Me($b,Nb,Db);Db=Me($b,ad($b,"bottom","top"),Id?tc(E,Mc,'"top"','"bottom"',
'"middle"'):{value:"middle"});Mc=tc(E,Mc,"-("+$c+")",$c,0);Id=Id&&$c;Fd={opacity:Jd,x:Me($b,Sc,Fd),y:df($b,Sc,Fd)};Fd={enter:Fd,update:$c={opacity:xe,text:{field:"label"},x:Fd.x,y:Fd.y,align:Nb,baseline:Db},exit:{opacity:Jd,x:Fd.x,y:Fd.y}};Ua(Fd,{dx:!nd&&Id?Me($b,Mc):null,dy:!qd&&Id?df($b,Mc):null});Ua(Fd,{angle:Q("labelAngle"),fill:Q("labelColor"),fillOpacity:Q("labelOpacity"),font:Q("labelFont"),fontSize:Q("labelFontSize"),fontWeight:Q("labelFontWeight"),fontStyle:Q("labelFontStyle"),limit:Q("labelLimit"),
lineHeight:Q("labelLineHeight")},{align:nd,baseline:qd});nd=Q("labelBound");qd=(qd=Q("labelOverlap"))||nd?{separation:Q("labelSeparation"),method:qd,order:"datum.index",bound:nd?{scale:E,orient:$b,tolerance:nd}:null}:void 0;$c.align!==Nb&&($c.align=of($c.align,Nb));$c.baseline!==Db&&($c.baseline=of($c.baseline,Db));return U({type:"text",role:"axis-label",style:"guide-label",key:"value",from:Ab,encode:Fd,overlap:qd},Va)}function Kd(E,Q,Va,Ab){Q=aa(E,Q);var Db=E.orient,Nb=uf(Db,-1,1),$b,Sc,Mc={enter:$b=
{opacity:Jd,anchor:Ha(Q("titleAnchor",null)),align:{signal:Gd}},update:Sc=m.extend({},$b,{opacity:xe,text:Ha(E.title)}),exit:{opacity:Jd}};E={signal:'lerp(range("'+E.scale+'"), '+ta(0,1,.5)+")"};Sc.x=Me(Db,E);Sc.y=df(Db,E);$b.angle=Me(Db,Jd,$a(Nb)?{signal:"("+Nb.signal+") * 90"}:{value:90*Nb});$b.baseline=Me(Db,ad(Db,"bottom","top"),{value:"bottom"});Sc.angle=$b.angle;Sc.baseline=$b.baseline;Ua(Mc,{fill:Q("titleColor"),fillOpacity:Q("titleOpacity"),font:Q("titleFont"),fontSize:Q("titleFontSize"),
fontStyle:Q("titleFontStyle"),fontWeight:Q("titleFontWeight"),limit:Q("titleLimit"),lineHeight:Q("titleLineHeight")},{align:Q("titleAlign"),angle:Q("titleAngle"),baseline:Q("titleBaseline")});od(Q,Db,Mc,Va);Mc.update.align=of(Mc.update.align,$b.align);Mc.update.angle=of(Mc.update.angle,$b.angle);Mc.update.baseline=of(Mc.update.baseline,$b.baseline);return U({type:"text",role:"axis-title",style:"guide-title",from:Ab,encode:Mc},Va)}function od(E,Q,Va,Ab){var Db=function($b,Sc){return null!=$b?(Va.update[Sc]=
of(Ha($b),Va.update[Sc]),!1):ab(Sc,Ab)?!1:!0},Nb=Db(E("titleX"),"x");E=Db(E("titleY"),"y");Va.enter.auto=E===Nb?Ha(E):Me(Q,Ha(E),Ha(Nb))}function ld(E,Q,Va){var Ab=m.array(E.signals),Db=m.array(E.scales);Va||Ab.forEach(function(Nb){return fa(Nb,Q)});m.array(E.projections).forEach(function(Nb){var $b=Q.config.projection||{},Sc={},Mc;for(Mc in Nb)"name"!==Mc&&(Sc[Mc]=sb(Nb[Mc],Mc,Q));for(var $c in $b)null==Sc[$c]&&(Sc[$c]=sb($b[$c],$c,Q));Q.addProjection(Nb.name,Sc)});Db.forEach(function(Nb){var $b=
Nb.type||"linear";Gb.isValidScaleType($b)||m.error("Unrecognized scale type: "+m.stringValue($b));Q.addScale(Nb.name,{type:$b,domain:void 0})});m.array(E.data).forEach(function(Nb){return Pb(Nb,Q)});Db.forEach(function(Nb){var $b=Q.getScale(Nb.name).params,Sc;$b.domain=p(Nb.domain,Nb,Q);null!=Nb.range&&($b.range=db(Nb,Q,$b));if(null!=Nb.interpolate){var Mc=Nb.interpolate;$b.interpolate=ha(Mc.type||Mc);null!=Mc.gamma&&($b.interpolateGamma=ha(Mc.gamma))}null!=Nb.nice&&(Mc=Nb.nice,Mc=m.isObject(Mc)?
{interval:ha(Mc.interval),step:ha(Mc.step)}:ha(Mc),$b.nice=Mc);null!=Nb.bins&&(Mc=Nb.bins,Mc=Mc.signal||m.isArray(Mc)?w(Mc,Q):Q.objectProperty(Mc),$b.bins=Mc);for(Sc in Nb)m.hasOwnProperty($b,Sc)||"name"===Sc||($b[Sc]=ha(Nb[Sc],Q))});(Va||Ab).forEach(function(Nb){return ka(Nb,Q)});m.array(E.axes).forEach(function(Nb){var $b=Q.config,Sc=$b.style,Mc=$b.axis,$c="band"===Q.scaleType(Nb.scale)&&$b.axisBand,nd=Nb.orient,qd;if($a(nd)){var Id=Hb([$b.axisX,$b.axisY]);var Fd=Hb([$b.axisTop,$b.axisBottom,$b.axisLeft,
$b.axisRight]);var re={};Id=$jscomp.makeIterator(Id);for(qd=Id.next();!qd.done;qd=Id.next())qd=qd.value,re[qd]=Me(nd,Kc(qd,$b.axisX,Mc,Sc),Kc(qd,$b.axisY,Mc,Sc));Id={};Fd=$jscomp.makeIterator(Fd);for(qd=Fd.next();!qd.done;qd=Fd.next()){qd=qd.value;var oe=Id,pe=qd,ge=nd.signal,ye=Kc(qd,$b.axisTop,Mc,Sc),zf=Kc(qd,$b.axisBottom,Mc,Sc),tf=Kc(qd,$b.axisLeft,Mc,Sc);qd=Kc(qd,$b.axisRight,Mc,Sc);qd={signal:(null!=tf?ge+" \x3d\x3d\x3d 'left' ? ("+nf(tf)+") : ":"")+(null!=zf?ge+" \x3d\x3d\x3d 'bottom' ? ("+
nf(zf)+") : ":"")+(null!=qd?ge+" \x3d\x3d\x3d 'right' ? ("+nf(qd)+") : ":"")+(null!=ye?ge+" \x3d\x3d\x3d 'top' ? ("+nf(ye)+") : ":"")+"(null)"};oe[pe]=qd}}else re="top"===nd||"bottom"===nd?$b.axisX:$b.axisY,Id=$b["axis"+nd[0].toUpperCase()+nd.slice(1)];re=re||Id||$c?m.extend({},Mc,re,Id,$c):Mc;Id=Nb.encode||{};$b=Id.axis||{};Sc=$b.name||void 0;Mc=$b.interactive;$c=$b.style;nd=aa(Nb,re);Fd=nd("tickBand");qd=nd("tickOffset");Fd?Fd.signal?(oe={signal:"("+Fd.signal+") \x3d\x3d\x3d 'extent' ? 1 : 0.5"},
pe={signal:"("+Fd.signal+") \x3d\x3d\x3d 'extent'"},m.isObject(qd)||(qd={signal:"("+Fd.signal+") \x3d\x3d\x3d 'extent' ? 0 : "+qd})):"extent"===Fd?(oe=1,pe=!0,qd=0):(oe=.5,pe=!1):(oe=nd("bandPosition"),pe=nd("tickExtra"));oe={extra:pe,band:oe,offset:qd};pe={scale:Nb.scale,ticks:!!nd("ticks"),labels:!!nd("labels"),grid:!!nd("grid"),domain:!!nd("domain"),title:null!=Nb.title};Fd=da(Q.add(Ed({},[pe])));ge=da(Q.add(ed({scale:Q.scaleRef(Nb.scale),extra:Q.property(oe.extra),count:Q.objectProperty(Nb.tickCount),
values:Q.objectProperty(Nb.values),minstep:Q.property(Nb.tickMinStep),formatType:Q.property(Nb.formatType),formatSpecifier:Q.property(Nb.format)})));qd=[];pe.grid&&qd.push(sc(Nb,re,Id.grid,ge,oe));if(pe.ticks){var Df=nd("tickSize");qd.push(pc(Nb,re,Id.ticks,ge,Df,oe))}pe.labels&&(Df=pe.ticks?Df:0,qd.push(Wc(Nb,re,Id.labels,ge,Df,oe)));pe.domain&&qd.push(Wb(Nb,re,Id.domain,Fd));pe.title&&qd.push(Kd(Nb,re,Id.title,Fd));Df={enter:{},update:{}};Ua(Df,{orient:nd("orient"),offset:nd("offset")||0,position:u(Nb.position,
0),titlePadding:nd("titlePadding"),minExtent:nd("minExtent"),maxExtent:nd("maxExtent"),range:{signal:'abs(span(range("'+Nb.scale+'")))'},translate:nd("translate"),format:Nb.format,formatType:Nb.formatType});return I(S({role:"axis",from:Fd,encode:Sa(Df,$b,ve),marks:qd,aria:nd("aria"),description:nd("description"),zindex:nd("zindex"),name:Sc,interactive:Mc,style:$c}),Q)});m.array(E.marks).forEach(function(Nb){return I(Nb,Q)});m.array(E.legends).forEach(function(Nb){return ib(Nb,Q)});E.title&&Fc(E.title,
Q);Q.parseLambdas();return Q}function wd(E,Q){var Va=Q.config,Ab=da(Q.root=Q.add(new pa("operator",void 0,void 0,void 0))),Db=Hd(E,Va);Db.forEach(function(Sc){return fa(Sc,Q)});Q.description=E.description||Va.description;Q.eventConfig=Va.events;Q.legends=Q.objectProperty(Va.legend&&Va.legend.layout);Q.locale=Va.locale;Va=Q.add(Ed());var Nb=Q.add(Se(Aa(Sa({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},E.encode),"group","frame",E.style,Q,{pulse:da(Va)}))),
$b=Q.add(je({layout:Q.objectProperty(E.layout),legends:Q.legends,autosize:Q.signalRef("autosize"),mark:Ab,pulse:da(Nb)}));Q.operators.pop();Q.pushState(da(Nb),da($b),null);ld(E,Q,Db);Q.operators.push($b);E=Q.add(pd({mark:Ab,pulse:da($b)}));E=Q.add(gd({pulse:da(E)}));E=Q.add(he({pulse:da(E)}));Q.addData("root",new Eb(Q,Va,Va,E));return Q}function Rd(E,Q){return Q&&Q.signal?{name:E,update:Q.signal}:{name:E,value:Q}}function Hd(E,Q){var Va=function($b){return u(E[$b],Q[$b])},Ab=[Rd("background",Va("background")),
Rd("autosize",wb(Va("autosize"))),Rd("padding",Lb(Va("padding"))),Rd("width",Va("width")||0),Rd("height",Va("height")||0)],Db=Ab.reduce(function($b,Sc){return $b[Sc.name]=Sc,$b},{}),Nb={};m.array(E.signals).forEach(function($b){m.hasOwnProperty(Db,$b.name)?$b=m.extend(Db[$b.name],$b):Ab.push($b);Nb[$b.name]=$b});m.array(Q.signals).forEach(function($b){m.hasOwnProperty(Nb,$b.name)||m.hasOwnProperty(Db,$b.name)||Ab.push($b)});return Ab}function ce(E,Q){this.config=E||{};this.options=Q||{};this.bindings=
[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function ke(E){this.config=E.config;this.options=E.options;this.legends=E.legends;this.field=Object.create(E.field);this.signals=Object.create(E.signals);this.lambdas=Object.create(E.lambdas);this.scales=Object.create(E.scales);
this.events=Object.create(E.events);this.data=Object.create(E.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++E._nextsub[0];this._nextsub=E._nextsub;this._parent=E._parent.slice();this._encode=E._encode.slice();this._lookup=E._lookup.slice();this._markpath=E._markpath}function Ke(E){return(m.isArray(E)?Zd:P)(E)}function Zd(E){for(var Q=E.length,Va="[",Ab=0;Ab<Q;++Ab){var Db=E[Ab];Va+=(0<Ab?",":"")+(m.isObject(Db)?Db.signal||Ke(Db):m.stringValue(Db))}return Va+"]"}
function P(E){var Q="{",Va=0,Ab;for(Ab in E){var Db=E[Ab];Q+=(1<++Va?",":"")+m.stringValue(Ab)+":"+(m.isObject(Db)?Db.signal||Ke(Db):m.stringValue(Db))}return Q+"}"}function oa(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},
symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},
cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,
rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",
left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}var Ha=function(E){return m.isObject(E)&&!m.isArray(E)?m.extend({},E):{value:E}},kb=function(E){return m.isString(E)?m.stringValue(E):E.signal?"("+E.signal+")":ca(E)},eb=function(E,
Q,Va,Ab){return"("+E+"("+[Q,Va,Ab].map(na).join(",")+")+'')"},Tb=["value","update","init","react","bind"],hc=ua("key"),xc={code:"_.$value",ast:{type:"Identifier",value:"value"}},vc=function(E){return function(Q,Va,Ab){return new pa(E,Va,Q||void 0,Ab)}},lc=vc("aggregate"),ed=vc("axisticks"),pd=vc("bound"),Ed=vc("collect"),md=vc("compare"),le=vc("datajoin"),Se=vc("encode"),jc=vc("expression"),Dd=vc("facet"),xd=vc("field"),Mb=vc("key"),qe=vc("legendentries"),ne=vc("load"),Ce=vc("mark"),$e=vc("multiextent"),
Te=vc("multivalues"),kf=vc("overlap"),ef=vc("params"),Vd=vc("prefacet"),cc=vc("projection"),Wd=vc("proxy"),Yb=vc("relay"),gd=vc("render"),se=vc("scale"),he=vc("sieve"),de=vc("sortitems"),je=vc("viewlayout"),$d=vc("values"),Ud=0,Nc={min:"min",max:"max",count:"sum"},Qe="size shape fill stroke strokeWidth strokeDash opacity".split(" "),ve={name:1,style:1,interactive:1},Jd={value:0},xe={value:1},Gd=ta(m.stringValue("left"),m.stringValue("right"),m.stringValue("center")),Oe=ta('"top"','"bottom"','"middle"'),
We='datum.vgrad \x26\x26 item.orient \x3d\x3d\x3d "right" ? ('+ta('"right"','"left"','"center"')+') : ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") \x26\x26 !(datum.vgrad \x26\x26 item.orient \x3d\x3d\x3d "left")) ? "left" : '+Gd,lf='(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (datum.vgrad ? (item.orient \x3d\x3d\x3d "right" ? "bottom" : "top") : '+Oe+') : "top"';Eb.fromEntries=function(E,Q){var Va=Q.length,Ab=Q[Va-1],Db=Q[Va-2],Nb=Q[0],$b=null,
Sc=1;Nb&&"load"===Nb.type&&(Nb=Q[1]);for(E.add(Q[0]);Sc<Va;++Sc)Q[Sc].params.pulse=da(Q[Sc-1]),E.add(Q[Sc]),"aggregate"===Q[Sc].type&&($b=Q[Sc]);return new Eb(E,Nb,Db,Ab,$b)};Eb.prototype={countsRef:function(E,Q,Va){var Ab=this.counts||(this.counts={}),Db=Rb(Q);if(null!=Db){E=this.scope;var Nb=Ab[Db]}Nb?Va&&Va.field&&mb(E,Nb.agg.params,Va):(Nb={groupby:E.fieldRef(Q,"key"),pulse:da(this.output)},Va&&Va.field&&mb(E,Nb,Va),Va=E.add(lc(Nb)),Nb=E.add(Ed({pulse:da(Va)})),Nb={agg:Va,ref:da(Nb)},null!=Db&&
(Ab[Db]=Nb));return Nb.ref},tuplesRef:function(){return da(this.values)},extentRef:function(E,Q){return rc(E,this,"extent","extent",Q,!1)},domainRef:function(E,Q){return rc(E,this,"domain","values",Q,!1)},valuesRef:function(E,Q,Va){return rc(E,this,"vals","values",Q,Va||!0)},lookupRef:function(E,Q){return rc(E,this,"lookup","tupleindex",Q,!1)},indataRef:function(E,Q){return rc(E,this,"indata","tupleindex",Q,!0,!0)}};var uf=function(E,Q,Va){$a(E)?(E=E.signal,Q=Ve(E+" \x3d\x3d\x3d 'left' || "+E+" \x3d\x3d\x3d 'top'",
Q,Va)):Q="left"===E||"top"===E?Q:Va;return Q},Me=function(E,Q,Va){$a(E)?(E=E.signal,Q=cf(E+" \x3d\x3d\x3d 'top' || "+E+" \x3d\x3d\x3d 'bottom'",Q,Va)):Q="bottom"===E||"top"===E?Q:Va;return Q},df=function(E,Q,Va){$a(E)?(E=E.signal,Q=cf(E+" !\x3d\x3d 'top' \x26\x26 "+E+" !\x3d\x3d 'bottom'",Q,Va)):Q="bottom"===E||"top"===E?Va:Q;return Q},ad=function(E,Q,Va){return $a(E)?Ve(E.signal+" \x3d\x3d\x3d 'top'",Q,Va):"top"===E?{value:Q}:{value:Va}},cf=function(E,Q,Va){Q=null!=Q?Ha(Q):Q;Va=null!=Va?Ha(Va):Va;
if(null!=Q&&1!==Object.keys(Q).length||null!=Va&&1!==Object.keys(Va).length)return[m.extend({test:E},Q)].concat(Va||[]);Q=Q?Q.signal||m.stringValue(Q.value):null;Va=Va?Va.signal||m.stringValue(Va.value):null;return{signal:E+" ? ("+Q+") : ("+Va+")"}},Ve=function(E,Q,Va){return{signal:E+" ? ("+nf(Q)+") : ("+nf(Va)+")"}},nf=function(E){return $a(E)?E.signal:null==E?null:m.stringValue(E)},of=function(E,Q){var Va=E.signal;return Va&&Va.endsWith("(null)")?{signal:Va.slice(0,-6)+Q.signal}:E};ce.prototype=
ke.prototype={parse:function(E){return ld(E,this)},fork:function(){return new ke(this)},isSubscope:function(){return 0<this._subid},toRuntime:function(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id:function(){return(this._subid?this._subid+":":0)+this._id++},add:function(E){this.operators.push(E);E.id=this.id();E.refs&&(E.refs.forEach(function(Q){Q.$ref=
E.id}),E.refs=null);return E},proxy:function(E){E=E instanceof pa?da(E):E;return this.add(Wd({value:E}))},addStream:function(E){this.streams.push(E);E.id=this.id();return E},addUpdate:function(E){this.updates.push(E);return E},finish:function(){function E(Db,Nb,$b){Db&&(Db=Db.data||(Db.data={}),Nb=Db[Nb]||(Db[Nb]=[]),Nb.push($b))}var Q;this.root&&(this.root.root=!0);for(Q in this.signals)this.signals[Q].signal=Q;for(Q in this.scales)this.scales[Q].scale=Q;for(Q in this.data){var Va=this.data[Q];E(Va.input,
Q,"input");E(Va.output,Q,"output");E(Va.values,Q,"values");for(var Ab in Va.index)E(Va.index[Ab],Q,"index:"+Ab)}return this},pushState:function(E,Q,Va){this._encode.push(da(this.add(he({pulse:E}))));this._parent.push(Q);this._lookup.push(Va?da(this.proxy(Va)):null);this._markpath.push(-1)},popState:function(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent:function(){return m.peek(this._parent)},encode:function(){return m.peek(this._encode)},lookup:function(){return m.peek(this._lookup)},
markpath:function(){var E=this._markpath;return++E[E.length-1]},fieldRef:function(E,Q){if(m.isString(E))return ua(E,Q);E.signal||m.error("Unsupported field reference: "+m.stringValue(E));E=E.signal;var Va=this.field[E];Va||(Va={name:this.signalRef(E)},Q&&(Va.as=Q),this.field[E]=Va=da(this.add(xd(Va))));return Va},compareRef:function(E){var Q=this,Va=!1,Ab=function(Nb){return $a(Nb)?(Va=!0,Q.signalRef(Nb.signal)):Nb&&Nb.expr?(Va=!0,Q.exprRef(Nb.expr)):Nb},Db=m.array(E.field).map(Ab);E=m.array(E.order).map(Ab);
return Va?da(this.add(md({fields:Db,orders:E}))):{$compare:Db,$order:E}},keyRef:function(E,Q){var Va=!1,Ab=this.signals;E=m.array(E).map(function(Db){return $a(Db)?(Va=!0,da(Ab[Db.signal])):Db});return Va?da(this.add(Mb({fields:E,flat:Q}))):Ia(E,Q)},sortRef:function(E){if(!E)return E;var Q=wa(E.op,E.field);E=E.order||"ascending";return E.signal?da(this.add(md({fields:Q,orders:this.signalRef(E.signal)}))):{$compare:Q,$order:E}},event:function(E,Q){var Va=E+":"+Q;if(!this.events[Va]){var Ab=this.id();
this.streams.push({id:Ab,source:E,type:Q});this.events[Va]=Ab}return this.events[Va]},hasOwnSignal:function(E){return m.hasOwnProperty(this.signals,E)},addSignal:function(E,Q){this.hasOwnSignal(E)&&m.error("Duplicate signal name: "+m.stringValue(E));Q=Q instanceof pa?Q:this.add(new pa("operator",Q,void 0,void 0));return this.signals[E]=Q},getSignal:function(E){this.signals[E]||m.error("Unrecognized signal name: "+m.stringValue(E));return this.signals[E]},signalRef:function(E){if(this.signals[E])return da(this.signals[E]);
m.hasOwnProperty(this.lambdas,E)||(this.lambdas[E]=this.add(new pa("operator",null,void 0,void 0)));return da(this.lambdas[E])},parseLambdas:function(){for(var E=Object.keys(this.lambdas),Q=0,Va=E.length;Q<Va;++Q){var Ab=E[Q],Db=x.parseExpression(Ab,this);Ab=this.lambdas[Ab];Ab.params=Db.$params;Ab.update=Db.$expr}},property:function(E){return E&&E.signal?this.signalRef(E.signal):E},objectProperty:function(E){return E&&m.isObject(E)?this.signalRef(E.signal||Ke(E)):E},exprRef:function(E,Q){E={expr:x.parseExpression(E,
this)};Q&&(E.expr.$name=Q);return da(this.add(jc(E)))},addBinding:function(E,Q){this.bindings||m.error("Nested signals do not support binding: "+m.stringValue(E));this.bindings.push(m.extend({signal:E},Q))},addScaleProj:function(E,Q){m.hasOwnProperty(this.scales,E)&&m.error("Duplicate scale or projection name: "+m.stringValue(E));this.scales[E]=this.add(Q)},addScale:function(E,Q){this.addScaleProj(E,se(Q))},addProjection:function(E,Q){this.addScaleProj(E,cc(Q))},getScale:function(E){this.scales[E]||
m.error("Unrecognized scale name: "+m.stringValue(E));return this.scales[E]},scaleRef:function(E){return da(this.getScale(E))},scaleType:function(E){return this.getScale(E).params.type},projectionRef:function(E){return this.scaleRef(E)},projectionType:function(E){return this.scaleType(E)},addData:function(E,Q){m.hasOwnProperty(this.data,E)&&m.error("Duplicate data set name: "+m.stringValue(E));return this.data[E]=Q},getData:function(E){this.data[E]||m.error("Undefined data set name: "+m.stringValue(E));
return this.data[E]},addDataPipeline:function(E,Q){m.hasOwnProperty(this.data,E)&&m.error("Duplicate data set name: "+m.stringValue(E));return this.addData(E,Eb.fromEntries(this,Q))}};h.AxisDomainRole="axis-domain";h.AxisGridRole="axis-grid";h.AxisLabelRole="axis-label";h.AxisRole="axis";h.AxisTickRole="axis-tick";h.AxisTitleRole="axis-title";h.DataScope=Eb;h.FrameRole="frame";h.LegendEntryRole="legend-entry";h.LegendLabelRole="legend-label";h.LegendRole="legend";h.LegendSymbolRole="legend-symbol";
h.LegendTitleRole="legend-title";h.MarkRole="mark";h.Scope=ce;h.ScopeRole="scope";h.config=oa;h.parse=function(E,Q,Va){m.isObject(E)||m.error("Input Vega specification must be an object.");Q=m.mergeConfig(oa(),Q,E.config);return wd(E,new ce(Q,Va)).toRuntime()};h.signal=fa;h.signalUpdates=ka;h.stream=z;Object.defineProperty(h,"__esModule",{value:!0})})};
shadow$provide[51]=function(Ib,xb,gc,vb){function h(da){if(da&&da.__esModule)return da;var ua=Object.create(null);da&&Object.keys(da).forEach(function(Ia){if("default"!==Ia){var wa=Object.getOwnPropertyDescriptor(da,Ia);Object.defineProperty(ua,Ia,wa.get?wa:{enumerable:!0,get:function(){return da[Ia]}})}});ua["default"]=da;return Object.freeze(ua)}Object.defineProperty(vb,"__esModule",{value:!0});var m=xb(0),x=xb(14),Wa=xb(16),Gb=xb(25),gb=xb(26),wb=xb(30),Lb=xb(35),rb=xb(37),Ua=xb(38),Sa=xb(39),
ab=xb(41);gc=xb(42);Ib=xb(43);var za=xb(15),Y=xb(6),na=xb(13),Ba=xb(24),Qa=xb(23),ca=xb(29),Z=xb(48),Oa=xb(8),Aa=xb(46),va=xb(50),xa=xb(47),fa=xb(44),pa=xb(49);xb=h(Wa);Gb=h(Gb);gb=h(gb);wb=h(wb);Lb=h(Lb);rb=h(rb);Ua=h(Ua);Sa=h(Sa);ab=h(ab);gc=h(gc);Ib=h(Ib);m.extend(x.transforms,xb,Gb,gb,wb,Lb,Ua,rb,Sa,ab,gc,Ib);Object.defineProperty(vb,"Dataflow",{enumerable:!0,get:function(){return x.Dataflow}});Object.defineProperty(vb,"EventStream",{enumerable:!0,get:function(){return x.EventStream}});Object.defineProperty(vb,
"MultiPulse",{enumerable:!0,get:function(){return x.MultiPulse}});Object.defineProperty(vb,"Operator",{enumerable:!0,get:function(){return x.Operator}});Object.defineProperty(vb,"Parameters",{enumerable:!0,get:function(){return x.Parameters}});Object.defineProperty(vb,"Pulse",{enumerable:!0,get:function(){return x.Pulse}});Object.defineProperty(vb,"Transform",{enumerable:!0,get:function(){return x.Transform}});Object.defineProperty(vb,"changeset",{enumerable:!0,get:function(){return x.changeset}});
Object.defineProperty(vb,"definition",{enumerable:!0,get:function(){return x.definition}});Object.defineProperty(vb,"ingest",{enumerable:!0,get:function(){return x.ingest}});Object.defineProperty(vb,"isTuple",{enumerable:!0,get:function(){return x.isTuple}});Object.defineProperty(vb,"transform",{enumerable:!0,get:function(){return x.transform}});Object.defineProperty(vb,"transforms",{enumerable:!0,get:function(){return x.transforms}});Object.defineProperty(vb,"tupleid",{enumerable:!0,get:function(){return x.tupleid}});
Object.defineProperty(vb,"interpolate",{enumerable:!0,get:function(){return Qa.interpolate}});Object.defineProperty(vb,"interpolateColors",{enumerable:!0,get:function(){return Qa.interpolateColors}});Object.defineProperty(vb,"interpolateRange",{enumerable:!0,get:function(){return Qa.interpolateRange}});Object.defineProperty(vb,"quantizeInterpolator",{enumerable:!0,get:function(){return Qa.quantizeInterpolator}});Object.defineProperty(vb,"scale",{enumerable:!0,get:function(){return Qa.scale}});Object.defineProperty(vb,
"scheme",{enumerable:!0,get:function(){return Qa.scheme}});Object.defineProperty(vb,"projection",{enumerable:!0,get:function(){return ca.projection}});Object.defineProperty(vb,"View",{enumerable:!0,get:function(){return Z.View}});Object.defineProperty(vb,"defaultLocale",{enumerable:!0,get:function(){return Oa.defaultLocale}});Object.defineProperty(vb,"formatLocale",{enumerable:!0,get:function(){return Oa.numberFormatDefaultLocale}});Object.defineProperty(vb,"locale",{enumerable:!0,get:function(){return Oa.locale}});
Object.defineProperty(vb,"resetDefaultLocale",{enumerable:!0,get:function(){return Oa.resetDefaultLocale}});Object.defineProperty(vb,"timeFormatLocale",{enumerable:!0,get:function(){return Oa.timeFormatDefaultLocale}});Object.defineProperty(vb,"expressionFunction",{enumerable:!0,get:function(){return Aa.expressionFunction}});Object.defineProperty(vb,"parse",{enumerable:!0,get:function(){return va.parse}});Object.defineProperty(vb,"runtimeContext",{enumerable:!0,get:function(){return xa.context}});
Object.defineProperty(vb,"codegenExpression",{enumerable:!0,get:function(){return fa.codegen}});Object.defineProperty(vb,"parseExpression",{enumerable:!0,get:function(){return fa.parse}});Object.defineProperty(vb,"parseSelector",{enumerable:!0,get:function(){return pa.selector}});vb.version="5.20.0";Object.keys(m).forEach(function(da){"default"===da||vb.hasOwnProperty(da)||Object.defineProperty(vb,da,{enumerable:!0,get:function(){return m[da]}})});Object.keys(za).forEach(function(da){"default"===
da||vb.hasOwnProperty(da)||Object.defineProperty(vb,da,{enumerable:!0,get:function(){return za[da]}})});Object.keys(Y).forEach(function(da){"default"===da||vb.hasOwnProperty(da)||Object.defineProperty(vb,da,{enumerable:!0,get:function(){return Y[da]}})});Object.keys(na).forEach(function(da){"default"===da||vb.hasOwnProperty(da)||Object.defineProperty(vb,da,{enumerable:!0,get:function(){return na[da]}})});Object.keys(Ba).forEach(function(da){"default"===da||vb.hasOwnProperty(da)||Object.defineProperty(vb,
da,{enumerable:!0,get:function(){return Ba[da]}})})};
shadow$provide[52]=function(Ib,xb,gc,vb){var h=xb(12).Buffer;(function(m,x){"object"===typeof vb&&"undefined"!==typeof gc?x(vb,xb(0),xb(51)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega"],x):(m="undefined"!==typeof globalThis?globalThis:m||self,x(m.vegaLite={},m.vega,m.vega))})(this,function(m,x,Wa){function Gb(b,f){if(b.not)Gb(b.not,f);else if(b.and){var a=$jscomp.makeIterator(b.and);for(b=a.next();!b.done;b=a.next())Gb(b.value,f)}else if(b.or)for(a=$jscomp.makeIterator(b.or),
b=a.next();!b.done;b=a.next())Gb(b.value,f);else f(b)}function gb(b,f){return b.not?{not:gb(b.not,f)}:b.and?{and:b.and.map(function(a){return gb(a,f)})}:b.or?{or:b.or.map(function(a){return gb(a,f)})}:f(b)}function wb(b,f){var a={};f=$jscomp.makeIterator(f);for(var c=f.next();!c.done;c=f.next())c=c.value,x.hasOwnProperty(b,c)&&(a[c]=b[c]);return a}function Lb(b,f){b=Object.assign({},b);f=$jscomp.makeIterator(f);for(var a=f.next();!a.done;a=f.next())delete b[a.value];return b}function rb(b){if(x.isNumber(b))return b;
b=x.isString(b)?b:Gg(b);if(250>b.length)return b;for(var f=0,a=0;a<b.length;a++){var c=b.charCodeAt(a);f=(f<<5)-f+c;f&=f}return f}function Ua(b){return!1===b||null===b}function Sa(b,f){return b.includes(f)}function ab(b,f){var a=0;b=$jscomp.makeIterator(b.entries());for(var c=b.next();!c.done;c=b.next()){var e=$jscomp.makeIterator(c.value);c=e.next().value;e=e.next().value;if(f(e,c,a++))return!0}return!1}function za(b,f){var a=0;b=$jscomp.makeIterator(b.entries());for(var c=b.next();!c.done;c=b.next()){var e=
$jscomp.makeIterator(c.value);c=e.next().value;e=e.next().value;if(!f(e,c,a++))return!1}return!0}function Y(b,f){for(var a=[],c=1;c<arguments.length;++c)a[c-1]=arguments[c];a=$jscomp.makeIterator(a);for(c=a.next();!c.done;c=a.next()){var e=c.value;c=b;e=null!==e&&void 0!==e?e:{};for(var k=$jscomp.makeIterator(fd(e)),r=k.next();!r.done;r=k.next())r=r.value,x.writeConfig(c,r,e[r],!0)}return b}function na(b,f){var a=[],c={},e;b=$jscomp.makeIterator(b);for(e=b.next();!e.done;e=b.next()){var k=e.value;
e=f(k);e in c||(c[e]=1,a.push(k))}return a}function Ba(b,f){if(b.size!==f.size)return!1;b=$jscomp.makeIterator(b);for(var a=b.next();!a.done;a=b.next())if(!f.has(a.value))return!1;return!0}function Qa(b,f){b=$jscomp.makeIterator(b);for(var a=b.next();!a.done;a=b.next())if(f.has(a.value))return!0;return!1}function ca(b){var f=new Set,a={};b=$jscomp.makeIterator(b);for(var c=b.next();!c.done;a={$jscomp$loop$prop$wrappedWithAccessors$728:a.$jscomp$loop$prop$wrappedWithAccessors$728},c=b.next()){c=x.splitAccessPath(c.value);
a.$jscomp$loop$prop$wrappedWithAccessors$728=c.map(function(k,r){return 0===r?k:"["+k+"]"});c=a.$jscomp$loop$prop$wrappedWithAccessors$728.map(function(k){return function(r,F){return k.$jscomp$loop$prop$wrappedWithAccessors$728.slice(0,F+1).join("")}}(a));c=$jscomp.makeIterator(c);for(var e=c.next();!e.done;e=c.next())f.add(e.value)}return f}function Z(b,f){return void 0===b||void 0===f?!0:Qa(ca(b),ca(f))}function Oa(b){return 0===fd(b).length}function Aa(b){return!0===b||!1===b}function va(b){var f=
b.replace(/\W/g,"_");return(b.match(/^\d+/)?"_":"")+f}function xa(b,f){return b.not?"!("+xa(b.not,f)+")":b.and?"("+b.and.map(function(a){return xa(a,f)}).join(") \x26\x26 (")+")":b.or?"("+b.or.map(function(a){return xa(a,f)}).join(") || (")+")":f(b)}function fa(b,f){if(0===f.length)return!0;var a=f.shift();a in b&&fa(b[a],f)&&delete b[a];return Oa(b)}function pa(b){return b.charAt(0).toUpperCase()+b.substr(1)}function da(b,f){f=void 0===f?"datum":f;b=x.splitAccessPath(b);for(var a=[],c=1;c<=b.length;c++){var e=
"["+b.slice(0,c).map(x.stringValue).join("][")+"]";a.push(""+f+e)}return a.join(" \x26\x26 ")}function ua(b,f){return(void 0===f?"datum":f)+"["+x.stringValue(x.splitAccessPath(b).join("."))+"]"}function Ia(b){return b.replace(/(\[|\]|\.|'|")/g,"\\$1")}function wa(b){return""+x.splitAccessPath(b).map(Ia).join("\\.")}function $a(b,f,a){return b.replace(new RegExp(f.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),a)}function ja(b){return""+x.splitAccessPath(b).join(".")}function u(b){return b?x.splitAccessPath(b).length:
0}function y(b){for(var f=[],a=0;a<arguments.length;++a)f[a-0]=arguments[a];f=$jscomp.makeIterator(f);for(a=f.next();!a.done;a=f.next())if(a=a.value,void 0!==a)return a}function z(b){var f=++Rh;return b?String(b)+f:f}function D(b){return C(b)?b:"__"+b}function C(b){return b.startsWith("__")}function J(b){if(void 0!==b)return(b%360+360)%360}function V(b){return x.isNumber(b)?!0:!isNaN(b)&&!isNaN(parseFloat(b))}function ia(b){switch(b){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";
case "longitude2":return"x2"}}function Pa(b){return"color"===b||"fill"===b||"stroke"===b}function cb(b){return M(b)!==b}function M(b){switch(b){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return b}function Ka(b){if(b in Ug)switch(b){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return b}function ka(b){switch(b){case "x":return"x2";
case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function ha(b){switch(b){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function w(b){switch(b){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}
function H(b){return"width"===b?"x":"y"}function p(b){switch(b){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return Ni;case "x":case "y":case "latitude":case "longitude":return Ml;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",
circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",
square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function q(b){switch(b){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";case "color":case "fill":case "stroke":return"flexible"}}function t(b){return!!b&&!!b.argmin}function G(b){return!!b&&
!!b.argmax}function L(b){return x.isString(b)&&!!Nl[b]}function ba(b){x.isBoolean(b)&&(b=Sc(b,void 0));return"bin"+fd(b).map(function(f){return db(b[f])?va("_"+f+"_"+Hg(b[f])):va("_"+f+"_"+b[f])}).join("")}function Ga(b){return!0===b||x.isObject(b)&&!b.binned}function La(b){return"binned"===b||x.isObject(b)&&!0===b.binned}function db(b){return null===b||void 0===b?void 0:b.param}function sb(b){switch(b){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;
case "strokeDash":return 4;default:return 10}}function S(b){return b&&!!b.expr}function aa(b){var f=fd(b||{}),a={};f=$jscomp.makeIterator(f);for(var c=f.next();!c.done;c=f.next())c=c.value,a[c]=Ta(b[c]);return a}function qa(b){var f=Object.assign({},b),a=b.anchor,c=b.frame,e=b.offset,k=b.orient,r=b.color,F=b.subtitleColor,R=b.subtitleFont,Ca=b.subtitleFontSize,Xa=b.subtitleFontStyle,jb=b.subtitleFontWeight,zb=b.subtitleLineHeight;b=b.subtitlePadding;f=(delete f.anchor,delete f.frame,delete f.offset,
delete f.orient,delete f.color,delete f.subtitleColor,delete f.subtitleFont,delete f.subtitleFontSize,delete f.subtitleFontStyle,delete f.subtitleFontWeight,delete f.subtitleLineHeight,delete f.subtitlePadding,f);r=Object.assign({},f,r?{fill:r}:{});a=Object.assign({},a?{anchor:a}:{},c?{frame:c}:{},e?{offset:e}:{},k?{orient:k}:{});F=Object.assign({},F?{subtitleColor:F}:{},R?{subtitleFont:R}:{},Ca?{subtitleFontSize:Ca}:{},Xa?{subtitleFontStyle:Xa}:{},jb?{subtitleFontWeight:jb}:{},zb?{subtitleLineHeight:zb}:
{},b?{subtitlePadding:b}:{});R=wb(r,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:r,subtitleMarkConfig:R,nonMark:a,subtitle:F}}function ta(b){return x.isString(b)||x.isArray(b)&&x.isString(b[0])}function ea(b){return b&&!!b.signal}function U(b){return!!b.step}function Fa(b){return x.isArray(b)?!1:"field"in b&&"data"in b}function Ja(b){var f=x.isArray(b.condition)?b.condition.map(ya):ya(b.condition);return Object.assign({},Ta(b),{condition:f})}function Ta(b){if(S(b)){var f=Object.assign({},
b);b=b.expr;f=(delete f.expr,f);return Object.assign({},{signal:b},f)}return b}function ya(b){if(S(b)){var f=Object.assign({},b);b=b.expr;f=(delete f.expr,f);return Object.assign({},{signal:b},f)}return b}function lb(b){if(S(b)){var f=Object.assign({},b);b=b.expr;f=(delete f.expr,f);return Object.assign({},{signal:b},f)}return ea(b)?b:void 0!==b?{value:b}:void 0}function yb(b){return ea(b)?b.signal:null==b?null:x.stringValue(b)}function Ya(b,f,a){a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=
a.next()){c=c.value;var e=Zb(c,f.markDef,f.config);void 0!==e&&(b[c]=lb(e))}return b}function Ob(b){var f;return[].concat(b.type,null!==(f=b.style)&&void 0!==f?f:[])}function Qb(b,f,a,c){var e=c=void 0===c?{}:c,k=e.vgChannel;if(k&&void 0!==f[k])return f[k];if(void 0!==f[b])return f[b];if(!e.ignoreVgConfig||k&&k!==b)return Zb(b,f,a,c)}function Zb(b,f,a,c){c=(void 0===c?{}:c).vgChannel;return y(c?Ic(b,f,a.style):void 0,Ic(b,f,a.style),c?a[f.type][c]:void 0,a[f.type][b],c?a.mark[c]:a.mark[b])}function Ic(b,
f,a){return uc(b,Ob(f),a)}function uc(b,f,a){f=x.array(f);var c;f=$jscomp.makeIterator(f);for(var e=f.next();!e.done;e=f.next())(e=a[e.value])&&void 0!==e[b]&&(c=e[b]);return c}function Zc(b,f){return x.array(b).reduce(function(a,c){var e;a.field.push(ad(c,f));a.order.push(null!==(e=c.sort)&&void 0!==e?e:"ascending");return a},{field:[],order:[]})}function Ad(b,f){var a=[].concat($jscomp.arrayFromIterable(b));f.forEach(function(c){for(var e=$jscomp.makeIterator(a),k=e.next();!k.done;k=e.next())if(rg(k.value,
c))return;a.push(c)});return a}function Lc(b,f){return rg(b,f)||!f?b:b?[].concat($jscomp.arrayFromIterable(x.array(b)),$jscomp.arrayFromIterable(x.array(f))).join(", "):f}function Xc(b,f){var a=b.value;f=f.value;if(null==a||null===f)return{explicit:b.explicit,value:null};if((ta(a)||ea(a))&&(ta(f)||ea(f)))return{explicit:b.explicit,value:Lc(a,f)};if(ta(a)||ea(a))return{explicit:b.explicit,value:a};if(ta(f)||ea(f))return{explicit:b.explicit,value:f};if(!(ta(a)||ea(a)||ta(f)||ea(f)))return{explicit:b.explicit,
value:Ad(a,f)};throw Error("It should never reach here");}function Uc(b,f,a){f in b?Object.defineProperty(b,f,{value:a,enumerable:!0,configurable:!0,writable:!0}):b[f]=a;return b}function Md(b,f,a){f=Qd(b,f,"set");if(f.set)f.set.call(b,a);else{if(!f.writable)throw new TypeError("attempted to set read only private field");f.value=a}return a}function Qd(b,f,a){if(!f.has(b))throw new TypeError("attempted to "+a+" private field on non-instance");return f.get(b)}function fe(b){return"Invalid specification "+
ff(b)+'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".'}function Eb(b){return("width"==b?"Width":"Height")+' "container" only works for single views and layered views.'}function Rb(b){return("width"==b?"Width":"Height")+' "container" only works well with autosize "fit" or "fit-'+("width"==b?"x":"y")+'".'}function mb(b){return b?'Dropping "fit-'+b+'" because spec has discrete '+ha(b)+".":'Dropping "fit" because spec has discrete size.'}
function rc(b){return"Unknown field for "+b+". Cannot calculate view size."}function Cc(b){return'Cannot project a selection on encoding channel "'+b+'", which has no field.'}function Rc(b){return"Selection not supported for "+b+" yet."}function sd(b){return'The "columns" property cannot be used when "'+b+'" has nested row/column.'}function I(b,f,a){return'An ancestor parsed field "'+b+'" as '+a+" but a child wants to parse the field as "+f+"."}function ma(b){return"Config.customFormatTypes is not true, thus custom format type and format for channel "+
b+" are dropped."}function ib(b,f){var a=f.fill;f=f.stroke;return"Dropping color "+b+" as the plot also has "+(a&&f?"fill and stroke":a?"fill":"stroke")+"."}function nb(b,f){return"Dropping "+ff(b)+' from channel "'+f+'" since it does not contain any data field, datum, value, or signal.'}function Bb(b,f,a){return b+' dropped as it is incompatible with "'+f+'"'+(a?" when "+a:"")+"."}function Ub(b,f){return'Using discrete channel "'+b+'" to encode "'+f+'" field can be misleading as it does not encode '+
("ordinal"===f?"order":"magnitude")+"."}function Xb(b,f,a){return a+"-scale's \""+f+'" is dropped as it does not work with '+b+" scale."}function dc(b){return'The step for "'+b+'" is dropped because the '+("width"===b?"x":"y")+" is continuous."}function Fc(b,f){return"Invalid "+b+": "+ff(f)+"."}function Jc(b){return"1D error band does not support "+b+"."}function Da(b){return"Channel "+b+' is required for "binned" bin.'}function Ma(b){for(var f=[],a=0;a<arguments.length;++a)f[a-0]=arguments[a];pi.warn.apply(pi,
$jscomp.arrayFromIterable(f))}function Pb(b){for(var f=[],a=0;a<arguments.length;++a)f[a-0]=arguments[a];pi.debug.apply(pi,$jscomp.arrayFromIterable(f))}function bc(b){if(b&&x.isObject(b))for(var f=$jscomp.makeIterator(Ef),a=f.next();!a.done;a=f.next())if(a.value in b)return!0;return!1}function mc(b){V(b)&&(b=+b);if(x.isNumber(b))return b-1;var f=b.toLowerCase(),a=Rk.indexOf(f);if(-1!==a)return a;f=f.substr(0,3);f=oj.indexOf(f);if(-1!==f)return f;throw Error(Fc("month",b));}function Dc(b){V(b)&&(b=
+b);if(x.isNumber(b))return b%7;var f=b.toLowerCase(),a=pj.indexOf(f);if(-1!==a)return a;f=f.substr(0,3);f=Ae.indexOf(f);if(-1!==f)return f;throw Error(Fc("day",b));}function Kc(b,f){var a=[];f&&void 0!==b.day&&1<fd(b).length&&(Ma("Dropping day from datetime "+ff(b)+" as day cannot be combined with other units."),b=Ge(b),delete b.day);void 0!==b.year?a.push(b.year):a.push(2012);if(void 0!==b.month){var c=f?mc(b.month):b.month;a.push(c)}else if(void 0!==b.quarter){if(f)if(c=b.quarter,V(c)&&(c=+c),
x.isNumber(c))4<c&&Ma(Fc("quarter",c)),--c;else throw Error(Fc("quarter",c));else c=b.quarter;a.push(x.isNumber(c)?3*c:c+"*3")}else a.push(0);void 0!==b.date?a.push(b.date):void 0!==b.day?(f=f?Dc(b.day):b.day,a.push(x.isNumber(f)?f+1:f+"+1")):a.push(1);f=$jscomp.makeIterator(["hours","minutes","seconds","milliseconds"]);for(c=f.next();!c.done;c=f.next())c=b[c.value],a.push("undefined"===typeof c?0:c);return a}function Hb(b){var f=Kc(b,!0).join(", ");return b.utc?"utc("+f+")":"datetime("+f+")"}function Wb(b){var f=
Kc(b,!0);return b.utc?+new Date(Date.UTC.apply(Date,$jscomp.arrayFromIterable(f))):+new (Function.prototype.bind.apply(Date,[null].concat($jscomp.arrayFromIterable(f))))}function sc(b){return Ef.filter(function(f){return pc(b,f)})}function pc(b,f){var a=b.indexOf(f);return 0>a||0<a&&"seconds"===f&&"i"===b.charAt(a-1)||b.length>a+3&&"day"===f&&"o"===b.charAt(a+3)||0<a&&"year"===f&&"f"===b.charAt(a-1)?!1:!0}function tc(b){if(b)return b=sc(b),"timeUnitSpecifier("+ff(b)+", "+ff($f)+")"}function Wc(b){if(b){var f;
x.isString(b)?f={unit:b}:x.isObject(b)&&(f=Object.assign({},b,b.unit?{unit:b.unit}:{}));f.unit.startsWith("utc")&&(f.utc=!0,f.unit=f.unit.substr(3));return f}}function Kd(b){var f=Wc(b);b=Object.assign({},f);f=f.utc;var a=(delete b.utc,b);return a.unit?(f?"utc":"")+fd(a).map(function(c){return va(("unit"===c?"":"_"+c+"_")+a[c])}).join(""):(f?"utc":"")+"timeunit"+fd(a).map(function(c){return va("_"+c+"_"+a[c])}).join("")}function od(b){return b&&!!b.field&&void 0!==b.equal}function ld(b){return b&&
!!b.field&&void 0!==b.lt}function wd(b){return b&&!!b.field&&void 0!==b.lte}function Rd(b){return b&&!!b.field&&void 0!==b.gt}function Hd(b){return b&&!!b.field&&void 0!==b.gte}function ce(b){return b&&b.field&&(x.isArray(b.range)&&2===b.range.length||ea(b.range))?!0:!1}function ke(b){return b&&!!b.field&&(x.isArray(b.oneOf)||x.isArray(b.in))}function Ke(b){return ke(b)||od(b)||ce(b)||ld(b)||Rd(b)||wd(b)||Hd(b)}function Zd(b,f){return nd(b,{timeUnit:f,wrapTime:!0})}function P(b,f){return b.map(function(a){return Zd(a,
f)})}function oa(b,f){f=void 0===f?!0:f;var a,c=b.field,e=null===(a=Wc(b.timeUnit))||void 0===a?void 0:a.unit;if(e){c=da(c);var k=e.startsWith("utc")?"utc":"";a={};for(var r=$jscomp.makeIterator(Ef),F=r.next();!F.done;F=r.next())if(F=F.value,pc(e,F)){var R="quarter"===F?"("+k+"quarter("+c+")-1)":""+k+F+"("+c+")";a[F]=R}c=Kc(a,!1).join(", ");a="time("+(a.utc?"utc("+c+")":"datetime("+c+")")+")"}else a=ad(b,{expr:"datum"});if(od(b))return a+"\x3d\x3d\x3d"+Zd(b.equal,e);if(ld(b))return a+"\x3c"+Zd(b.lt,
e);if(Rd(b))return a+"\x3e"+Zd(b.gt,e);if(wd(b))return a+"\x3c\x3d"+Zd(b.lte,e);if(Hd(b))return a+"\x3e\x3d"+Zd(b.gte,e);if(ke(b))return"indexof(["+P(b.oneOf,e).join(",")+"], "+a+") !\x3d\x3d -1";if(b&&b.field&&void 0!==b.valid)return Ha(a,b.valid);if(ce(b)){c=b.range;b=ea(c)?{signal:c.signal+"[0]"}:c[0];c=ea(c)?{signal:c.signal+"[1]"}:c[1];if(null!==b&&null!==c&&f)return"inrange("+a+", ["+Zd(b,e)+", "+Zd(c,e)+"])";f=[];null!==b&&f.push(a+" \x3e\x3d "+Zd(b,e));null!==c&&f.push(a+" \x3c\x3d "+Zd(c,
e));return 0<f.length?f.join(" \x26\x26 "):"true"}throw Error("Invalid field predicate: "+ff(b));}function Ha(b,f){return void 0===f||f?"isValid("+b+") \x26\x26 isFinite(+"+b+")":"!isValid("+b+") || !isFinite(+"+b+")"}function kb(b){if(Ke(b)&&b.timeUnit){var f;return Object.assign({},b,{timeUnit:null===(f=Wc(b.timeUnit))||void 0===f?void 0:f.unit})}return b}function eb(b){if(b)switch(b=b.toLowerCase(),b){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";
case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function Tb(b){return null===b||void 0===b?void 0:b.param}function hc(b,f){switch(f){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(b);case "bins":return!["point","band","identity","ordinal"].includes(b);case "round":return b in ag||"band"===b||"point"===b;case "padding":case "rangeMin":case "rangeMax":return b in ag||["point","band"].includes(b);
case "paddingOuter":case "align":return["point","band"].includes(b);case "paddingInner":return"band"===b;case "domainMax":case "domainMid":case "domainMin":case "clamp":return b in ag;case "nice":return b in ag||"quantize"===b||"threshold"===b;case "exponent":return"pow"===b;case "base":return"log"===b;case "constant":return"symlog"===b;case "zero":return b in fg&&!Sa(["log","time","utc","threshold","quantile"],b)}}function xc(b,f){switch(f){case "interpolate":case "scheme":case "domainMid":if(!Pa(b))return'Cannot use the scale property "'+
b+'" with non-color channel.'}}function vc(b,f){if(!xg[b])return!1;switch(b){case "x":case "y":case "theta":case "radius":return f in ag||Sa(["band","point"],f);case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return f in ag||f in Vg||Sa(["band","point","ordinal"],f);case "color":case "fill":case "stroke":return"band"!==f;case "strokeDash":case "shape":return"ordinal"===f||f in Vg}}function lc(b){return["line","area","trail"].includes(b)}function ed(b){return b.type}
function pd(b){return b&&void 0!=b.band}function Ed(b){var f=b.channel,a=b.channelDef,c=b.markDef,e=b.scale,k=b.config;b=Dd(b);var r;if(r=Nc(a))r=a.aggregate,r=!(x.isString(r)&&yg.includes(r));return r&&e&&e.get("type")in ag&&!1===e.get("zero")?md({fieldDef:a,channel:f,markDef:c,ref:b,config:k}):b}function md(b){var f=b.fieldDef,a=b.channel,c=b.markDef,e=b.ref;b=b.config;if(lc(c.type)||null===Qb("invalid",c,b))return e;f=le(f,!0);a="y"===M(a)?{field:{group:"height"}}:{value:0};return[Object.assign({},
{test:f},a),e]}function le(b,f){f=void 0===f?!0:f;return Ha(x.isString(b)?b:ad(b,{expr:"datum"}),!f)}function Se(b,f,a,c){var e={};f&&(e.scale=f);ve(b)?(b=b.datum,bc(b)?e.signal=Hb(b):ea(b)?e.signal=b.signal:S(b)?e.signal=b.expr:e.value=b):e.field=ad(b,a);c&&(b=c.offset,c=c.band,b&&(e.offset=b),c&&(e.band=c));return e}function jc(b){var f=b.scaleName,a=b.fieldOrDatumDef,c=b.fieldOrDatumDef2,e=b.offset,k=void 0===b.bandPosition?.5:b.bandPosition,r=0<k&&1>k?"datum":void 0;b=ad(a,{expr:r,suffix:b.startSuffix});
c=void 0!==c?ad(c,{expr:r}):ad(a,{suffix:"end",expr:r});a={};0===k||1===k?(a.scale=f,a.field=0===k?b:c):(k=ea(k)?k.signal+" * "+b+" + (1-"+k.signal+") * "+c:k+" * "+b+" + "+(1-k)+" * "+c,a.signal='scale("'+f+'", '+k+")");e&&(a.offset=e);return a}function Dd(b){var f=b.channel,a=b.channelDef,c=b.channel2Def,e=b.markDef,k=b.config,r=b.scaleName,F=b.scale,R=b.stack,Ca=b.offset,Xa=b.defaultRef;b=b.bandPosition;if(a){if(Gd(a)){var jb,zb;if(Oe(a)){var ac;null!==(ac=b)&&void 0!==ac?ac:b=se({fieldDef:a,fieldDef2:c,
markDef:e,config:k});e=a.bin;k=a.timeUnit;Xa=a.type;if(Ga(e)||b&&k&&"temporal"===Xa)return R&&R.impute?Se(a,r,{binSuffix:"mid"},{offset:Ca}):b?jc({scaleName:r,fieldOrDatumDef:a,bandPosition:b,offset:Ca}):Se(a,r,Id(a,f)?{binSuffix:"range"}:{},{offset:Ca});if(La(e)){if(Nc(c))return jc({scaleName:r,fieldOrDatumDef:a,fieldOrDatumDef2:c,bandPosition:b,offset:Ca});Ma(Da("x"===f?"x2":"y2"))}}f=null===F||void 0===F?void 0:F.get("type");return Se(a,r,f in Of?{binSuffix:"range"}:{},{offset:Ca,band:"band"===
f?null!==(jb=null!==(zb=b)&&void 0!==zb?zb:a.bandPosition)&&void 0!==jb?jb:.5:void 0})}if(We(a))return r=Ca?{offset:Ca}:{},Object.assign({},xd(f,a.value),r)}x.isFunction(Xa)&&(Xa=Xa());return Xa?Object.assign({},Xa,Ca?{offset:Ca}:{}):Xa}function xd(b,f){return Sa(["x","x2"],b)&&"width"===f?{field:{group:"width"}}:Sa(["y","y2"],b)&&"height"===f?{field:{group:"height"}}:lb(f)}function Mb(b){return b&&"number"!==b&&"time"!==b}function qe(b){var f=b.fieldOrDatumDef,a=b.format,c=b.formatType,e=b.expr,
k=b.normalizeStack;b=b.config;if(Mb(c))return Ce({fieldOrDatumDef:f,format:a,formatType:c,expr:e,config:b});k=ne(f,e,k);if($c(f)){var r,F;c=Nc(f)?null===(r=Wc(f.timeUnit))||void 0===r?void 0:r.unit:void 0;b=b.timeFormat;f=lf(f)&&(null===(F=f.scale)||void 0===F?void 0:F.type)===qf.UTC;!c||a?(a=x.isString(a)?a:b,k=(f?"utc":"time")+"Format("+k+", '"+a+"')"):c?(F=tc(c),k=(f||c.startsWith("utc")?"utc":"time")+"Format("+k+", "+F+")"):k=void 0;return k?{signal:k}:void 0}a=kf(Qe(f),a,b);return Nc(f)&&Ga(f.bin)?
(F=ad(f,{expr:e,binSuffix:"end"}),{signal:Vd(k,F,a,c,b)}):a||"quantitative"===Qe(f)?{signal:"format("+k+', "'+(a||"")+'")'}:{signal:"isValid("+k+") ? "+k+' : ""+'+k}}function ne(b,f,a){if(Nc(b))return a?ad(b,{expr:f,suffix:"end"})+"-"+ad(b,{expr:f,suffix:"start"}):ad(b,{expr:f});b=b.datum;b=bc(b)?Hb(b):""+ff(b);return b}function Ce(b){var f=b.fieldOrDatumDef,a=b.format,c=b.formatType,e=b.expr,k=b.normalizeStack,r=b.config;b=b.field;var F;null!==(F=b)&&void 0!==F?F:b=ne(f,e,k);return Nc(f)&&Ga(f.bin)?
(f=ad(f,{expr:e,binSuffix:"end"}),{signal:Vd(b,f,a,c,r)}):{signal:c+"("+b+(a?", "+ff(a):"")+")"}}function $e(b,f,a,c,e,k){if(!Mb(c)){if($c(b)){var r;b=Nc(b)?null===(r=Wc(b.timeUnit))||void 0===r?void 0:r.unit:void 0;a=a?a:b?{signal:tc(b)}:k?void 0:e.timeFormat;return a}return kf(f,a,e)}}function Te(b,f,a){if(b&&(ea(b)||"number"===b||"time"===b))return b;if($c(f)&&"time"!==a&&"utc"!==a)return"time"}function kf(b,f,a){if(x.isString(f))return f;if("quantitative"===b)return a.numberFormat}function ef(b,
f,a,c){var e;if(Mb(a))return a+"("+b+(f?", "+ff(f):"")+")";f=null!==(e=x.isString(f)?f:void 0)&&void 0!==e?e:c.numberFormat;return"format("+b+', "'+(f||"")+'")'}function Vd(b,f,a,c,e){var k=ef(b,a,c,e);f=ef(f,a,c,e);return Ha(b,!1)+' ? "null" : '+k+' + " – " + '+f}function cc(b){return!!b&&("count"===b.op||!!b.field)}function Wd(b){return!!b&&x.isArray(b)}function Yb(b){return"row"in b||"column"in b}function gd(b){var f=b.timeUnit,a=b.bin,c=b.aggregate;return Object.assign({},f?{timeUnit:f}:{},a?
{bin:a}:{},c?{aggregate:c}:{},{field:b.field})}function se(b){var f=b.fieldDef,a=b.fieldDef2,c=b.markDef;b=b.config;if(Gd(f)&&void 0!==f.bandPosition)return f.bandPosition;if(Nc(f)){var e=f.bin;if(f.timeUnit&&!a)return["rect","bar","image","arc"].includes(c.type)?0:Zb("timeUnitBandPosition",c,b);if(Ga(e))return.5}}function he(b){var f=b.fieldDef,a=b.fieldDef2,c=b.markDef,e=b.config,k=b.scaleType,r=b.useVlSizeChannel;b=ha(b.channel);r=Qb(r?"size":b,c,e,{vgChannel:b});if(void 0!==r)return r;if(Nc(f)){r=
f.bin;if(f.timeUnit&&!a)return{band:Zb("timeUnitBandSize",c,e)};if(Ga(r)&&!(k in Of))return{band:1}}if(["rect","bar","image","arc"].includes(c.type)){var F;if(k){if(k in Of){var R;return(null===(R=e[c.type])||void 0===R?void 0:R.discreteBandSize)||{band:1}}var Ca;return null===(Ca=e[c.type])||void 0===Ca?void 0:Ca.continuousBandSize}return null===(F=e[c.type])||void 0===F?void 0:F.discreteBandSize}}function de(b,f,a,c){return Ga(b.bin)||b.timeUnit&&Oe(b)&&"temporal"===b.type?void 0!==se({fieldDef:b,
fieldDef2:f,markDef:a,config:c}):!1}function je(b){return!!b&&"condition"in b}function $d(b){b=b&&b.condition;return!!b&&!x.isArray(b)&&Nc(b)}function Ud(b){b=b&&b.condition;return!!b&&!x.isArray(b)&&Gd(b)}function Nc(b){return!!b&&(!!b.field||"count"===b.aggregate)}function Qe(b){return b&&b.type}function ve(b){return!!b&&"datum"in b}function Jd(b){return Oe(b)&&!cf(b)||xe(b)}function xe(b){return ve(b)&&x.isNumber(b.datum)}function Gd(b){return Nc(b)||ve(b)}function Oe(b){return!!b&&("field"in b||
"count"===b.aggregate)&&"type"in b}function We(b){return b&&"value"in b&&"value"in b}function lf(b){return!!b&&("scale"in b||"sort"in b)}function uf(b){return b&&("axis"in b||"stack"in b||"impute"in b)}function Me(b){return!!b&&("format"in b||"formatType"in b)}function df(b){return Lb(b,["legend","axis","header","scale"])}function ad(b,f){f=void 0===f?{}:f;var a=b.field,c=f.prefix,e=f.suffix,k="";if("count"===b.aggregate)a=D("count");else{if(!f.nofn)if("op"in b)var r=b.op;else{var F=b.bin,R=b.aggregate;
b=b.timeUnit;if(Ga(F)){var Ca,Xa;r=ba(F);e=(null!==(Ca=f.binSuffix)&&void 0!==Ca?Ca:"")+(null!==(Xa=f.suffix)&&void 0!==Xa?Xa:"")}else if(R)G(R)?(k='["'+a+'"]',a="argmax_"+R.argmax):t(R)?(k='["'+a+'"]',a="argmin_"+R.argmin):r=String(R);else if(b){var jb;r=Kd(b);e=(!["range","mid"].includes(f.binSuffix)&&f.binSuffix||"")+(null!==(jb=f.suffix)&&void 0!==jb?jb:"")}}r&&(a=a?r+"_"+a:r)}e&&(a=a+"_"+e);c&&(a=c+"_"+a);return f.forAs?ja(a):f.expr?ua(a,f.expr)+k:wa(a)+k}function cf(b){switch(b.type){case "nominal":case "ordinal":case "geojson":return!0;
case "quantitative":return Nc(b)&&!!b.bin;case "temporal":return!1}throw Error('Invalid field type "'+b.type+'".');}function Ve(b,f){var a=b.field,c=b.timeUnit,e=b.aggregate;if("count"===e)return f.countTitle;if(Ga(b.bin))return a+" (binned)";if(c){var k;if(b=null===(k=Wc(c))||void 0===k?void 0:k.unit)return a+" ("+sc(b).join("-")+")"}else if(e)return G(e)?a+" for max "+e.argmax:t(e)?a+" for min "+e.argmin:pa(e)+" of "+a;return a}function nf(b,f,a){var c=a.allowDisabling,e=void 0===a.includeDefault?
!0:a.includeDefault,k;a=null===(k=of(b))||void 0===k?void 0:k.title;if(!Nc(b))return a;f=e?Oi(b,f):void 0;if(c)return y(a,b.title,f);var r;return null!==(r=null!==a&&void 0!==a?a:b.title)&&void 0!==r?r:f}function of(b){if(uf(b)&&b.axis)return b.axis;if(b&&"legend"in b&&b.legend)return b.legend;if(b&&"header"in b&&b.header)return b.header}function E(b){if(Me(b))return{format:b.format,formatType:b.formatType};var f;b=null!==(f=of(b))&&void 0!==f?f:{};return{format:b.format,formatType:b.formatType}}
function Q(b,f){var a;switch(f){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in b&&x.isArray(b.sort))return"ordinal";f=b.aggregate;if(b.timeUnit)return"temporal";if(b.bin||f&&!G(f)&&!t(f))return"quantitative";if(lf(b)&&null!==(a=b.scale)&&void 0!==a&&a.type)switch(Pi[b.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}
function Va(b){if(Nc(b))return b;if($d(b))return b.condition}function Ab(b){if(Gd(b))return b;if(Ud(b))return b.condition}function Db(b,f,a,c){c=void 0===c?{}:c;return x.isString(b)||x.isNumber(b)||x.isBoolean(b)?(a=x.isString(b)?"string":x.isNumber(b)?"number":"boolean",Ma("Channel "+f+" is a "+a+". Converted to {value: "+ff(b)+"}."),{value:b}):Gd(b)?Nb(b,f,a,c):Ud(b)?Object.assign({},b,{condition:Nb(b.condition,f,a,c)}):b}function Nb(b,f,a,c){if(Me(b)){var e=Object.assign({},b),k=b.formatType;e=
(delete e.format,delete e.formatType,e);if(Mb(k)&&!a.customFormatTypes)return Ma(ma(f)),Nb(e,f,a,c)}else if((k=uf(b)?"axis":b&&"legend"in b?"legend":b&&"header"in b?"header":null)&&b[k]){var r=b[k];e=Object.assign({},r);r=r.formatType;e=(delete e.format,delete e.formatType,e);if(Mb(r)&&!a.customFormatTypes)return Ma(ma(f)),r={},Nb(Object.assign({},b,(r[k]=e,r)),f,a,c)}if(Nc(b))return $b(b,f,c);f=b.type;f||(f=b.datum,f=x.isNumber(f)?"quantitative":x.isString(f)?"nominal":bc(f)?"temporal":void 0,b=
Object.assign({},b,{type:f}));return b}function $b(b,f,a){a=void 0===a?{}:a;var c=void 0===a.compositeMark?!1:a.compositeMark;a=b.aggregate;var e=b.timeUnit,k=b.bin,r=b.field;b=Object.assign({},b);c||!a||L(a)||G(a)||t(a)||(Ma('Invalid aggregation operator "'+a+'".'),delete b.aggregate);e&&(b.timeUnit=Wc(e));r&&(b.field=""+r);Ga(k)&&(b.bin=Sc(k,f));!La(k)||f in Bf||Ma("Channel "+f+' should not be used with "binned" bin.');Oe(b)?(c=b.type,e=eb(c),c!==e&&(b.type=e),"quantitative"!==c&&x.isString(a)&&
yg.includes(a)&&(Ma('Invalid field type "'+c+'" for aggregate: "'+a+'", using "quantitative" instead.'),b.type="quantitative")):cb(f)||(a=Q(b,f),b.type=a);Oe(b)&&(f=Mc(b,f)||{},a=f.warning,!1===f.compatible&&Ma(a));if("sort"in b&&x.isString(b.sort)){f=b.sort;if(f in Sk)return Object.assign({},b,{sort:{encoding:f}});a=f.substr(1);if("-"===f.charAt(0)&&a in Sk)return Object.assign({},b,{sort:{encoding:a,order:"descending"}})}return b&&"header"in b&&(f=b.header)&&(c=Object.assign({},f),a=f.orient,c=
(delete c.orient,c),a)?Object.assign({},b,{header:Object.assign({},c,{labelOrient:f.labelOrient||a,titleOrient:f.titleOrient||a})}):b}function Sc(b,f){return x.isBoolean(b)?{maxbins:sb(f)}:"binned"===b?{binned:!0}:b.maxbins||b.step?b:Object.assign({},b,{maxbins:sb(f)})}function Mc(b,f){var a=b.type;if("geojson"===a&&"shape"!==f)return{compatible:!1,warning:"Channel "+f+" should not be used with a geojson data."};switch(f){case "row":case "column":case "facet":return cf(b)?eh:{compatible:!1,warning:f+
" encoding should be discrete (ordinal / nominal / binned)."};case "x":case "y":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return eh;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==a?{compatible:!1,warning:"Channel "+f+" should be used with a quantitative field only, not "+b.type+" field."}:eh;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==
a||b.sort?eh:{compatible:!1,warning:"Channel "+f+" should not be used with an unsorted discrete field."};case "shape":case "strokeDash":if(a=!cf(b)){var c;a=!(lf(b)&&(null===(c=b.scale)||void 0===c?void 0:c.type)in Vg)}return a?{compatible:!1,warning:f+" encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold)."}:eh;case "order":return"nominal"!==b.type||"sort"in b?eh:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}
function $c(b){var f=E(b).formatType,a;if(!(a="time"===f)){if(f=!f)f=b&&("temporal"===b.type||Nc(b)&&!!b.timeUnit);a=f}return a}function nd(b,f){var a=f.timeUnit,c=f.type,e=f.wrapTime;f=f.undefinedIfExprNotRequired;var k;c=(a=a&&(null===(k=Wc(a))||void 0===k?void 0:k.unit))||"temporal"===c;if(S(b))var r=b.expr;else ea(b)?r=b.signal:bc(b)?(c=!0,r=Hb(b)):(x.isString(b)||x.isNumber(b))&&c&&(r="datetime("+ff(b)+")",bg[a]&&(x.isNumber(b)&&1E4>b||x.isString(b)&&isNaN(Date.parse(b)))&&(r={},r=Hb((r[a]=b,
r))));return r?e&&c?"time("+r+")":r:f?void 0:ff(b)}function qd(b,f){var a=b.type;return f.map(function(c){var e=nd(c,{timeUnit:Nc(b)?b.timeUnit:void 0,type:a,undefinedIfExprNotRequired:!0});return void 0!==e?{signal:e}:c})}function Id(b,f){return Ga(b.bin)?!!xg[f]&&["ordinal","nominal"].includes(b.type):(console.warn("Only call this method for binned field defs."),!1)}function Fd(b){return b&&b.condition}function re(b){return"mark"in b}function oe(b,f){return(b=b&&b[f])?x.isArray(b)?ab(b,function(a){return!!a.field}):
Nc(b)||$d(b):!1}function pe(b){return ab(Tk,function(f){return oe(b,f)?(f=b[f],x.isArray(f)?ab(f,function(a){return!!a.aggregate}):(f=Va(f))&&!!f.aggregate):!1})}function ge(b,f){var a=[],c=[],e=[],k=[],r={};pf(b,function(F,R){if(Nc(F)){var Ca=Object.assign({},F),Xa=F.field,jb=F.aggregate,zb=F.bin,ac=F.timeUnit;Ca=(delete Ca.field,delete Ca.aggregate,delete Ca.bin,delete Ca.timeUnit,Ca);if(jb||ac||zb){var nc=of(F),kc=nc&&nc.title;nc=ad(F,{forAs:!0});Ca=Object.assign({},kc?[]:{title:nf(F,f,{allowDisabling:!0})},
Ca,{field:nc});if(jb){if(G(jb)){var cd="argmax";nc=ad({op:"argmax",field:jb.argmax},{forAs:!0});Ca.field=nc+"."+Xa}else t(jb)?(cd="argmin",nc=ad({op:"argmin",field:jb.argmin},{forAs:!0}),Ca.field=nc+"."+Xa):"boxplot"!==jb&&"errorbar"!==jb&&"errorband"!==jb&&(cd=jb);cd&&(F={op:cd,as:nc},Xa&&(F.field=Xa),k.push(F))}else a.push(nc),Oe(F)&&Ga(zb)?(c.push({bin:zb,field:Xa,as:nc}),a.push(ad(F,{binSuffix:"end"})),Id(F,R)&&a.push(ad(F,{binSuffix:"range"})),R in Bf&&(r[R+"2"]={field:nc+"_end"}),Ca.bin="binned",
cb(R)||(Ca.type="quantitative")):ac&&(e.push({timeUnit:ac,field:Xa,as:nc}),(Xa=Oe(F)&&"temporal"!==F.type&&"time")&&("text"===R||"tooltip"===R?Ca.formatType=Xa:zg[R]?Ca.legend=Object.assign({},{formatType:Xa},Ca.legend):R in Bf&&(Ca.axis=Object.assign({},{formatType:Xa},Ca.axis))));r[R]=Ca}else a.push(Xa),r[R]=b[R]}else r[R]=b[R]});return{bins:c,timeUnits:e,aggregate:k,groupby:a,encoding:r}}function ye(b,f,a){a=p(f)[a];return a&&("binned"!==a||(a=b["x2"===f?"x":"y"],Nc(a)&&Nc(b[f])&&La(a.bin)))?!0:
!1}function zf(b,f,a,c){return fd(b).reduce(function(e,k){if(!Sh[k])return Ma(k+"-encoding is dropped as "+k+" is not a valid encoding channel."),e;var r=b[k];"angle"!==k||"arc"!==f||b.theta||(Ma("Arc marks uses theta channel rather than angle, replacing angle with theta."),k="theta");if(!ye(b,k,f))return Ma(Bb(k,f)),e;if("size"===k&&"line"===f){var F=Va(b[k]);if(null!==F&&void 0!==F&&F.aggregate)return Ma("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),
e}if("color"===k&&(a?"fill"in b:"stroke"in b))return Ma(ib("encoding",{fill:"fill"in b,stroke:"stroke"in b})),e;if("detail"===k||"order"===k&&!x.isArray(r)&&!We(r)||"tooltip"===k&&x.isArray(r))r&&(e[k]=x.array(r).reduce(function(R,Ca){Nc(Ca)?R.push($b(Ca,k)):Ma(nb(Ca,k));return R},[]));else{if("tooltip"===k&&null===r)e[k]=null;else if(!(Nc(r)||ve(r)||We(r)||je(r)||ea(r)))return Ma(nb(r,k)),e;e[k]=Db(r,k,c)}return e},{})}function tf(b,f){for(var a={},c=$jscomp.makeIterator(fd(b)),e=c.next();!e.done;e=
c.next()){e=e.value;var k=Db(b[e],e,f,{compositeMark:!0});a[e]=k}return a}function Df(b){for(var f=[],a=$jscomp.makeIterator(fd(b)),c=a.next();!c.done;c=a.next())if(c=c.value,oe(b,c)){c=x.array(b[c]);c=$jscomp.makeIterator(c);for(var e=c.next();!e.done;e=c.next())e=e.value,Nc(e)?f.push(e):$d(e)&&f.push(e.condition)}return f}function pf(b,f,a){if(b)for(var c=$jscomp.makeIterator(fd(b)),e=c.next();!e.done;e=c.next()){e=e.value;var k=b[e];if(x.isArray(k)){k=$jscomp.makeIterator(k);for(var r=k.next();!r.done;r=
k.next())f.call(a,r.value,e)}else f.call(a,k,e)}}function eg(b,f,a,c){return b?fd(b).reduce(function(e,k){var r=b[k];return x.isArray(r)?r.reduce(function(F,R){return f.call(c,F,R,k)},e):f.call(c,e,r,k)},a):a}function If(b,f){return fd(f).reduce(function(a,c){switch(c){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return a;
case "order":if("line"===b||"trail"===b)return a;case "detail":case "key":c=f[c];if(x.isArray(c)||Nc(c)){c=$jscomp.makeIterator(x.array(c));for(var e=c.next();!e.done;e=c.next())e=e.value,e.aggregate||a.push(ad(e,{}))}return a;case "size":if("trail"===b)return a;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(c=Va(f[c]))&&!c.aggregate&&a.push(ad(c,{})),a}},[])}function Rf(b,f,a,c){c=void 0===c?!0:c;if("tooltip"in
a)return{tooltip:a.tooltip};b=b.map(function(e){var k=e.fieldPrefix;e=e.titlePrefix;var r=c?" of "+y(f.title,f.field):"";return{field:k+f.field,type:f.type,title:ea(e)?{signal:e+'"'+escape(r)+'"'}:e+r}});a=Df(a).map(df);return{tooltip:[].concat($jscomp.arrayFromIterable(b),$jscomp.arrayFromIterable(na(a,rb)))}}function A(b,f,a,c,e){var k=a.scale,r=a.axis;return function(F){var R=F.partName,Ca=F.mark,Xa=F.positionPrefix,jb=void 0===F.endPositionPrefix?void 0:F.endPositionPrefix;F=void 0===F.extraEncoding?
{}:F.extraEncoding;var zb=y(a.title,a.field),ac={},nc={};return B(b,R,e,{mark:Ca,encoding:Object.assign({},(ac[f]=Object.assign({},{field:Xa+"_"+a.field,type:a.type},void 0!==zb?{title:zb}:{},void 0!==k?{scale:k}:{},void 0!==r?{axis:r}:{}),ac),x.isString(jb)?(nc[f+"2"]={field:jb+"_"+a.field},nc):{},c,F)})}}function B(b,f,a,c){var e=b.clip,k=b.color,r=b.opacity,F=b.type;return b[f]||void 0===b[f]&&a[f]?[Object.assign({},c,{mark:Object.assign({},a[f],e?{clip:e}:{},k?{color:k}:{},r?{opacity:r}:{},ed(c.mark)?
c.mark:{type:c.mark},{style:F+"-"+f},x.isBoolean(b[f])?{}:b[f])})]:[]}function K(b,f,a){b=b.encoding;f="vertical"===f?"y":"x";var c=b[f+"2"],e=b[f+"Error"],k=b[f+"Error2"];return{continuousAxisChannelDef:T(b[f],a),continuousAxisChannelDef2:T(c,a),continuousAxisChannelDefError:T(e,a),continuousAxisChannelDefError2:T(k,a),continuousAxis:f}}function T(b,f){if(b&&b.aggregate){var a=Object.assign({},b);b=b.aggregate;a=(delete a.aggregate,a);b!==f&&Ma("Continuous axis should not have customized aggregation function "+
b+"; "+f+" already agregates the axis.");return a}return b}function la(b,f){var a=b.mark,c=b.encoding;b=c.x;c=c.y;if(ed(a)&&a.orient)return a.orient;if(Jd(b)){if(Jd(c)){a=Nc(b)&&b.aggregate;var e=Nc(c)&&c.aggregate;if(!a&&e===f)return"vertical";if(e||a!==f){if(a===f&&e===f)throw Error("Both x and y cannot have aggregate");return $c(c)&&!$c(b)?"horizontal":"vertical"}}return"horizontal"}if(Jd(c))return"vertical";throw Error("Need a valid continuous axis for "+f+"s");}function sa(b,f){var a=f.config,
c,e=b=Object.assign({},b,{encoding:tf(b.encoding,a)});f=Object.assign({},e);var k=e.mark;e=e.params;f=(delete f.mark,delete f.encoding,delete f.params,delete f.projection,f);k=ed(k)?k:{type:k};e&&Ma(Rc("boxplot"));e=null!==(c=k.extent)&&void 0!==c?c:a.boxplot.extent;var r=Qb("size",k,a),F=x.isNumber(e)?"tukey":e,R=b,Ca=la(R,"boxplot");c=K(R,Ca,"boxplot");b=c.continuousAxisChannelDef;c=c.continuousAxis;var Xa=b.field,jb=x.isNumber(e)?"tukey":e,zb=[].concat($jscomp.arrayFromIterable(Na(Xa)),[{op:"median",
field:Xa,as:"mid_box_"+Xa},{op:"min",field:Xa,as:("min-max"===jb?"lower_whisker_":"min_")+Xa},{op:"max",field:Xa,as:("min-max"===jb?"upper_whisker_":"max_")+Xa}]);Xa="min-max"===jb||"tukey"===jb?[]:[{calculate:'datum["upper_box_'+Xa+'"] - datum["lower_box_'+Xa+'"]',as:"iqr_"+Xa},{calculate:'min(datum["upper_box_'+Xa+'"] + datum["iqr_'+Xa+'"] * '+e+', datum["max_'+Xa+'"])',as:"upper_whisker_"+Xa},{calculate:'max(datum["lower_box_'+Xa+'"] - datum["iqr_'+Xa+'"] * '+e+', datum["min_'+Xa+'"])',as:"lower_whisker_"+
Xa}];R=Object.assign({},R.encoding);var ac;jb=(delete R[c],R);R=Object.assign({},jb);jb=jb.tooltip;R=(delete R.tooltip,R);if(jb){var nc;if(x.isArray(jb)){jb=$jscomp.makeIterator(jb);for(var kc=jb.next();!kc.done;kc=jb.next())kc=kc.value,kc.aggregate?(ac||(ac=[]),ac.push(kc)):(nc||(nc=[]),nc.push(kc));ac&&(R.tooltip=ac)}else jb.aggregate?R.tooltip=jb:nc=jb;x.isArray(nc)&&1===nc.length&&(nc=nc[0]);ac={customTooltipWithoutAggregatedField:nc,filteredEncoding:R}}else ac={filteredEncoding:R};nc=ac;ac=nc.customTooltipWithoutAggregatedField;
var cd=ge(nc.filteredEncoding,a);nc=cd.bins;R=cd.timeUnits;jb=cd.aggregate;kc=cd.groupby;var zc=cd.encoding,td="vertical"===Ca?"horizontal":"vertical";zb=[].concat($jscomp.arrayFromIterable(nc),$jscomp.arrayFromIterable(R),[{aggregate:[].concat($jscomp.arrayFromIterable(jb),$jscomp.arrayFromIterable(zb)),groupby:kc}],$jscomp.arrayFromIterable(Xa));cd=Object.assign({},zc);Xa=zc.color;var Sd=zc.size;cd=(delete cd.color,delete cd.size,cd);var zd=A(k,c,b,cd,a.boxplot),He=A(k,c,b,zc,a.boxplot);Sd=A(k,
c,b,Object.assign({},cd,Sd?{size:Sd}:{}),a.boxplot);var De=Rf([{fieldPrefix:"min-max"===F?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===F?"lower_whisker_":"min_",titlePrefix:"Min"}],b,zc),af={type:"tick",color:"black",opacity:1,orient:td,invalid:null,aria:!1};zc="min-max"===F?De:Rf([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",
titlePrefix:"Lower Whisker"}],b,zc);zc=[].concat($jscomp.arrayFromIterable(zd({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:zc})),$jscomp.arrayFromIterable(zd({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:zc})),$jscomp.arrayFromIterable(zd({partName:"ticks",mark:af,positionPrefix:"lower_whisker",extraEncoding:zc})),$jscomp.arrayFromIterable(zd({partName:"ticks",
mark:af,positionPrefix:"upper_whisker",extraEncoding:zc})));r=[].concat($jscomp.arrayFromIterable("tukey"!==F?zc:[]),$jscomp.arrayFromIterable(He({partName:"box",mark:Object.assign({},{type:"bar"},r?{size:r}:{},{orient:Ca,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:De})),$jscomp.arrayFromIterable(Sd({partName:"median",mark:Object.assign({},{type:"tick",invalid:null},x.isObject(a.boxplot.median)&&a.boxplot.median.color?{color:a.boxplot.median.color}:
{},r?{size:r}:{},{orient:td,aria:!1}),positionPrefix:"mid_box",extraEncoding:De})));if("min-max"===F){var Ne;return Object.assign({},f,{transform:(null!==(Ne=f.transform)&&void 0!==Ne?Ne:[]).concat(zb),layer:r})}Ne='datum["lower_box_'+b.field+'"]';F='datum["upper_box_'+b.field+'"]';Ca="("+F+" - "+Ne+")";Ne=Ne+" - "+e+" * "+Ca;F=F+" + "+e+" * "+Ca;Ca='datum["'+b.field+'"]';e={joinaggregate:Na(b.field),groupby:kc};jb={transform:[{filter:"("+Ne+" \x3c\x3d "+Ca+") \x26\x26 ("+Ca+" \x3c\x3d "+F+")"},{aggregate:[{op:"min",
field:b.field,as:"lower_whisker_"+b.field},{op:"max",field:b.field,as:"upper_whisker_"+b.field},{op:"min",field:"lower_box_"+b.field,as:"lower_box_"+b.field},{op:"max",field:"upper_box_"+b.field,as:"upper_box_"+b.field}].concat($jscomp.arrayFromIterable(jb)),groupby:kc}],layer:zc};kc=Object.assign({},cd);kc=(delete kc.tooltip,kc);cd=b.scale;zc=b.axis;td=y(b.title,b.field);zc=Lb(zc,["title"]);He={};a=B(k,"outliers",a.boxplot,{transform:[{filter:"("+Ca+" \x3c "+Ne+") || ("+Ca+" \x3e "+F+")"}],mark:"point",
encoding:Object.assign({},(He[c]=Object.assign({},{field:b.field,type:b.type},void 0!==td?{title:td}:{},void 0!==cd?{scale:cd}:{},Oa(zc)?{}:{axis:zc}),He),kc,Xa?{color:Xa}:{},ac?{tooltip:ac}:{})})[0];k=[].concat($jscomp.arrayFromIterable(nc),$jscomp.arrayFromIterable(R),[e]);a?a={transform:k,layer:[a,jb]}:(a=jb,a.transform.unshift.apply(a.transform,$jscomp.arrayFromIterable(k)));return Object.assign({},f,{layer:[a,{transform:zb,layer:r}]})}function Na(b){return[{op:"q1",field:b,as:"lower_box_"+b},
{op:"q3",field:b,as:"upper_box_"+b}]}function hb(b,f){var a=f.config;b=Object.assign({},b,{encoding:tf(b.encoding,a)});var c=ob(b,"errorbar",a);b=c.transform;var e=c.continuousAxisChannelDef,k=c.continuousAxis,r=c.encodingWithoutContinuousAxis,F=c.ticksOrient,R=c.markDef;f=c.outerSpec;c=c.tooltipEncoding;delete r.size;a=A(R,k,e,r,a.errorbar);e=R.thickness;R=R.size;F=Object.assign({},{type:"tick",orient:F,aria:!1},void 0!==e?{thickness:e}:{},void 0!==R?{size:R}:{});F=[].concat($jscomp.arrayFromIterable(a({partName:"ticks",
mark:F,positionPrefix:"lower",extraEncoding:c})),$jscomp.arrayFromIterable(a({partName:"ticks",mark:F,positionPrefix:"upper",extraEncoding:c})),$jscomp.arrayFromIterable(a({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==e?{size:e}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})));return Object.assign({},f,{transform:b},1<F.length?{layer:F}:Object.assign({},F[0]))}function fb(b,f){var a=b.encoding;if(!(!Gd(a.x)&&!Gd(a.y)||Gd(a.x2)||
Gd(a.y2)||Gd(a.xError)||Gd(a.xError2)||Gd(a.yError)||Gd(a.yError2)))return{orient:la(b,f),inputType:"raw"};var c=Gd(a.x2)||Gd(a.y2),e=Gd(a.xError)||Gd(a.xError2)||Gd(a.yError)||Gd(a.yError2);b=a.x;var k=a.y;if(c){if(e)throw Error(f+" cannot be both type aggregated-upper-lower and aggregated-error");c=a.x2;a=a.y2;if(Gd(c)&&Gd(a))throw Error(f+" cannot have both x2 and y2");if(Gd(c)){if(Jd(b))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in "+
f);}if(Gd(a)){if(Jd(k))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in "+f);}}else{c=a.xError;e=a.yError;var r=a.yError2;if(Gd(a.xError2)&&!Gd(c))throw Error(f+" cannot have xError2 without xError");if(Gd(r)&&!Gd(e))throw Error(f+" cannot have yError2 without yError");if(Gd(c)&&Gd(e))throw Error(f+" cannot have both xError and yError with both are quantiative");if(Gd(c)){if(Jd(b))return{orient:"horizontal",inputType:"aggregated-error"};
throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(Gd(e)){if(Jd(k))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function ob(b,f,a){var c,e=Object.assign({},b),k=b.mark,r=b.encoding,F=b.params;e=(delete e.mark,delete e.encoding,delete e.params,delete e.projection,e);k=ed(k)?k:{type:k};F&&Ma(Rc(f));var R=fb(b,f);F=R.orient;R=R.inputType;var Ca=K(b,F,f);
b=Ca.continuousAxisChannelDef;var Xa=Ca.continuousAxisChannelDef2,jb=Ca.continuousAxisChannelDefError,zb=Ca.continuousAxisChannelDefError2;Ca=Ca.continuousAxis;var ac=[];var nc=[];var kc=b.field,cd=!1;if("raw"===R){var zc=k.center?k.center:k.extent?"iqr"===k.extent?"median":"mean":a.errorbar.center;Xa=k.extent?k.extent:"mean"===zc?"stderr":"iqr";"median"===zc!==("iqr"===Xa)&&Ma(zc+" is not usually used with "+Xa+" for "+f+".");"stderr"===Xa||"stdev"===Xa?(ac=[{op:Xa,field:kc,as:"extent_"+kc},{op:zc,
field:kc,as:"center_"+kc}],nc=[{calculate:'datum["center_'+kc+'"] + datum["extent_'+kc+'"]',as:"upper_"+kc},{calculate:'datum["center_'+kc+'"] - datum["extent_'+kc+'"]',as:"lower_"+kc}],zc=[{fieldPrefix:"center_",titlePrefix:pa(zc)},{fieldPrefix:"upper_",titlePrefix:pa(zc)+" + "+Xa},{fieldPrefix:"lower_",titlePrefix:pa(zc)+" - "+Xa}],cd=!0):("ci"===Xa?(zc="mean",f="ci0",Xa="ci1"):(zc="median",f="q1",Xa="q3"),ac=[{op:f,field:kc,as:"lower_"+kc},{op:Xa,field:kc,as:"upper_"+kc},{op:zc,field:kc,as:"center_"+
kc}],zc=[{fieldPrefix:"upper_",titlePrefix:nf({field:kc,aggregate:Xa,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:nf({field:kc,aggregate:f,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:nf({field:kc,aggregate:zc,type:"quantitative"},a,{allowDisabling:!1})}])}else{if(k.center||k.extent){f=k.center;var td=k.extent;Ma((td?"extent ":"")+(td&&f?"and ":"")+(f?"center ":"")+(td&&f?"are ":"is ")+"not needed when data are aggregated.")}"aggregated-upper-lower"===
R?(zc=[],nc=[{calculate:'datum["'+Xa.field+'"]',as:"upper_"+kc},{calculate:'datum["'+kc+'"]',as:"lower_"+kc}]):"aggregated-error"===R&&(zc=[{fieldPrefix:"",titlePrefix:kc}],nc=[{calculate:'datum["'+kc+'"] + datum["'+jb.field+'"]',as:"upper_"+kc}],zb?nc.push({calculate:'datum["'+kc+'"] + datum["'+zb.field+'"]',as:"lower_"+kc}):nc.push({calculate:'datum["'+kc+'"] - datum["'+jb.field+'"]',as:"lower_"+kc}));f=$jscomp.makeIterator(nc);for(kc=f.next();!kc.done;kc=f.next())kc=kc.value,zc.push({fieldPrefix:kc.as.substring(0,
6),titlePrefix:$a($a(kc.calculate,'datum["',""),'"]',"")})}r=Object.assign({},r);f="x"===Ca?"x2":"y2";kc="x"===Ca?"xError":"yError";Xa="x"===Ca?"xError2":"yError2";r=(delete r[Ca],delete r[f],delete r[kc],delete r[Xa],r);Xa=ge(r,a);a=Xa.bins;r=Xa.timeUnits;kc=Xa.groupby;f=Xa.encoding;ac=[].concat($jscomp.arrayFromIterable(Xa.aggregate),$jscomp.arrayFromIterable(ac));R="raw"!==R?[]:kc;zc=Rf(zc,b,f,cd);return{transform:[].concat($jscomp.arrayFromIterable(null!==(c=e.transform)&&void 0!==c?c:[]),$jscomp.arrayFromIterable(a),
$jscomp.arrayFromIterable(r),$jscomp.arrayFromIterable(0===ac.length?[]:[{aggregate:ac,groupby:R}]),$jscomp.arrayFromIterable(nc)),groupby:R,continuousAxisChannelDef:b,continuousAxis:Ca,encodingWithoutContinuousAxis:f,ticksOrient:"vertical"===F?"horizontal":"vertical",markDef:k,outerSpec:e,tooltipEncoding:zc}}function pb(b,f){var a=f.config;b=Object.assign({},b,{encoding:tf(b.encoding,a)});var c=ob(b,"errorband",a);f=c.transform;var e=c.outerSpec,k=c.tooltipEncoding,r=c.markDef;a=A(r,c.continuousAxis,
c.continuousAxisChannelDef,c.encodingWithoutContinuousAxis,a.errorband);b=void 0!==b.encoding.x&&void 0!==b.encoding.y;c={type:b?"area":"rect"};var F={type:b?"line":"rule"},R=Object.assign({},r.interpolate?{interpolate:r.interpolate}:{},r.tension&&r.interpolate?{tension:r.tension}:{});b?(c=Object.assign({},c,R,{ariaRoleDescription:"errorband"}),F=Object.assign({},F,R,{aria:!1})):r.interpolate?Ma(Jc("interpolate")):r.tension&&Ma(Jc("tension"));return Object.assign({},e,{transform:f,layer:[].concat($jscomp.arrayFromIterable(a({partName:"band",
mark:c,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:k})),$jscomp.arrayFromIterable(a({partName:"borders",mark:F,positionPrefix:"lower",extraEncoding:k})),$jscomp.arrayFromIterable(a({partName:"borders",mark:F,positionPrefix:"upper",extraEncoding:k})))})}function Kb(b,f,a){f=new tb(b,f);Od[b]={normalizer:f,parts:a}}function Vb(b){return!!b&&("legend"===b||!!b.legend)}function l(b){return Vb(b)&&x.isObject(b)}function v(b){var f=[];b=$jscomp.makeIterator(b||[]);for(var a=b.next();!a.done;a=
b.next())if(a=a.value,!a.select){var c=a,e=Object.assign({},c);a=c.expr;c=c.bind;e=(delete e.expr,delete e.bind,e);c&&a?(a=Object.assign({},e,{bind:c,init:a}),f.push(a)):(a=Object.assign({},e,a?{update:a}:{},c?{bind:c}:{}),f.push(a))}return f}function O(b,f){for(var a={},c=$jscomp.makeIterator(Ac),e=c.next();!e.done;e=c.next())e=e.value,b&&void 0!==b[e]&&(a[e]=Ta(b[e]));f&&(a.params=b.params);return a}function W(b){return x.isObject(b)&&void 0!==b.step}function Ra(b){return b.view||b.width||b.height}
function ub(b,f,a){var c={};a=a[f];f=a.spacing;a=a.columns;void 0!==f&&(c.spacing=f);void 0!==a&&("facet"in b&&!Yb(b.facet)||"concat"in b)&&(c.columns=a);"vconcat"in b&&(c.columns=1);a=$jscomp.makeIterator(dd);for(var e=a.next();!e.done;e=a.next())if(e=e.value,void 0!==b[e])if("spacing"===e){var k,r,F=b[e];c[e]=x.isNumber(F)?F:{row:null!==(k=F.row)&&void 0!==k?k:f,column:null!==(r=F.column)&&void 0!==r?r:f}}else c[e]=b[e];return c}function Fb(b,f){var a;return null!==(a=b[f])&&void 0!==a?a:b["width"===
f?"continuousWidth":"continuousHeight"]}function Sb(b,f){b=fc(b,f);return W(b)?b.step:20}function fc(b,f){var a;f=null!==(a=b[f])&&void 0!==a?a:b["width"===f?"discreteWidth":"discreteHeight"];return y(f,{step:b.step})}function Bc(b){b=void 0===b?{}:b;return{signals:[{name:"color",value:x.isObject(b)?Object.assign({},Ee,b):Ee}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},
"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Hc(b){var f=
fd(b||{}),a={};f=$jscomp.makeIterator(f);for(var c=f.next();!c.done;c=f.next()){c=c.value;var e=b[c];a[c]=Fd(e)?Ja(e):Ta(e)}return a}function hd(b){var f=b=void 0===b?{}:b,a=Object.assign({},f);b=f.color;var c=f.font;f=f.fontSize;a=(delete a.color,delete a.font,delete a.fontSize,a);b=x.mergeConfig({},id,c?{text:{font:c},style:{"guide-label":{font:c},"guide-title":{font:c},"group-title":{font:c},"group-subtitle":{font:c}}}:{},b?Bc(b):{},f?{signals:[{name:"fontSize",value:x.isObject(f)?Object.assign({},
Td,f):Td}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{},a||{});c=Lb(b,Re);a=$jscomp.makeIterator(["background","lineBreak","padding"]);for(f=a.next();!f.done;f=a.next())f=f.value,b[f]&&(c[f]=Ta(b[f]));a=$jscomp.makeIterator(Uk);for(f=a.next();!f.done;f=a.next())f=
f.value,b[f]&&(c[f]=aa(b[f]));a=$jscomp.makeIterator(Za);for(f=a.next();!f.done;f=a.next())f=f.value,b[f]&&(c[f]=Hc(b[f]));a=$jscomp.makeIterator(Ec);for(f=a.next();!f.done;f=a.next())f=f.value,b[f]&&(c[f]=aa(b[f]));b.legend&&(c.legend=aa(b.legend));b.scale&&(c.scale=aa(b.scale));if(b.style){a=b.style;var e=fd(a);f={};e=$jscomp.makeIterator(e);for(var k=e.next();!k.done;k=e.next())k=k.value,f[k]=Hc(a[k]);c.style=f}b.title&&(c.title=aa(b.title));b.view&&(c.view=aa(b.view));return c}function yd(b){b=
Ge(b);for(var f=$jscomp.makeIterator(yh),a=f.next();!a.done;a=f.next())delete b[a.value];if(b.axis)for(var c in b.axis)Fd(b.axis[c])&&delete b.axis[c];if(b.legend)for(f=$jscomp.makeIterator(Fe),a=f.next();!a.done;a=f.next())delete b.legend[a.value];if(b.mark){f=$jscomp.makeIterator(Zj);for(a=f.next();!a.done;a=f.next())delete b.mark[a.value];b.mark.tooltip&&x.isObject(b.mark.tooltip)&&delete b.mark.tooltip}b.params&&(b.signals=(b.signals||[]).concat(v(b.params)),delete b.params);f=$jscomp.makeIterator(Je);
for(c=f.next();!c.done;c=f.next()){c=c.value;var e=$jscomp.makeIterator(Zj);for(a=e.next();!a.done;a=e.next())delete b[c][a.value];if(a=Ol[c])for(e=$jscomp.makeIterator(a),a=e.next();!a.done;a=e.next())delete b[c][a.value];e=a=void 0;var k=b,r=void 0,F=k[c];"view"===c&&(r="cell");F=Object.assign({},F,k.style[null!==(e=r)&&void 0!==e?e:c]);Oa(F)||(k.style[null!==(a=r)&&void 0!==a?a:c]=F);delete k[c]}f=$jscomp.makeIterator(fd(Od));for(c=f.next();!c.done;c=f.next())delete b[c.value];f=b;e=qa(f.title);
c=e.titleMarkConfig;a=e.subtitleMarkConfig;e=e.subtitle;Oa(c)||(f.style["group-title"]=Object.assign({},f.style["group-title"],c));Oa(a)||(f.style["group-subtitle"]=Object.assign({},f.style["group-subtitle"],a));Oa(e)?delete f.title:f.title=e;for(var R in b)x.isObject(b[R])&&Oa(b[R])&&delete b[R];return Oa(b)?void 0:b}function Oc(b,f){var a="x"===f?"y":"radius",c=b[f];b=b[a];if(Nc(c)&&Nc(b))if("quantitative"===Qe(c)&&"quantitative"===Qe(b)){if(c.stack)return f;if(b.stack)return a;var e=Nc(c)&&!!c.aggregate,
k=Nc(b)&&!!b.aggregate;if(e!==k)return e?f:a;var r,F;c=null===(r=c.scale)||void 0===r?void 0:r.type;r=null===(F=b.scale)||void 0===F?void 0:F.type;if(c&&"linear"!==c)return a;if(r&&"linear"!==r)return f}else{if("quantitative"===Qe(c))return f;if("quantitative"===Qe(b))return a}else{if("quantitative"===Qe(c))return f;if("quantitative"===Qe(b))return a}}function Bd(b){switch(b){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function Ld(b,f,a){a=void 0===
a?{}:a;var c,e;b=ed(b)?b.type:b;if(!Pm.has(b))return null;var k=Oc(f,"x")||Oc(f,"theta");if(!k)return null;var r=f[k],F=Nc(r)?ad(r,{}):void 0,R=Bd(k),Ca=f[R],Xa=Nc(Ca)?ad(Ca,{}):void 0;Xa===F&&(R=Ca=Xa=void 0);F=Ag.reduce(function(zb,ac){if("tooltip"!==ac&&oe(f,ac))for(var nc=$jscomp.makeIterator(x.array(f[ac])),kc=nc.next();!kc.done;kc=nc.next())if(kc=Va(kc.value),!kc.aggregate){var cd=ad(kc,{});cd&&cd===Xa||zb.push({channel:ac,fieldDef:kc})}return zb},[]);var jb;void 0!==r.stack?jb=x.isBoolean(r.stack)?
r.stack?"zero":null:r.stack:Qm.has(b)&&(jb="zero");if(!(jb&&jb in Rm)||pe(f)&&0===F.length)return null;if(null!==r&&void 0!==r&&null!==(c=r.scale)&&void 0!==c&&c.type&&(null===r||void 0===r?void 0:null===(e=r.scale)||void 0===e?void 0:e.type)!==qf.LINEAR){if(a.disallowNonLinearStack)return null;Ma("Cannot stack non-linear scale ("+r.scale.type+").")}if(Gd(f[ka(k)]))return void 0!==r.stack&&Ma('Cannot stack "'+k+'" if there is already "'+k+'2".'),null;Nc(r)&&r.aggregate&&!qj.includes(r.aggregate)&&
Ma('Stacking is applied even though the aggregate function is non-summative ("'+r.aggregate+'").');return{groupbyChannel:Ca?R:void 0,groupbyField:Xa,fieldChannel:k,impute:null===r.impute?!1:lc(b),stackBy:F,offset:jb}}function Le(b){b=Object.assign({},b);b=(delete b.point,delete b.line,b);return 1<fd(b).length?b:b.type}function X(b){for(var f=$jscomp.makeIterator(["line","area","rule","trail"]),a=f.next();!a.done;a=f.next())if(a=a.value,b[a]){var c={};b=Object.assign({},b,(c[a]=Lb(b[a],["point","line"]),
c))}return b}function Ea(b,f,a){f=void 0===f?{}:f;if("transparent"===b.point)return{opacity:0};if(b.point)return x.isObject(b.point)?b.point:{};if(void 0!==b.point)return null;if(f.point||a.shape)return x.isObject(f.point)?f.point:{}}function bb(b,f){f=void 0===f?{}:f;if(b.line)return!0===b.line?{}:b.line;if(void 0!==b.line)return null;if(f.line)return!0===f.line?{}:f.line}function qb(b,f){return f?yc(b,f):b}function Cb(b,f,a){var c=f[b];if(c&&!x.isString(c)&&"repeat"in c){if(c.repeat in a){var e=
{};return Object.assign({},f,(e[b]=a[c.repeat],e))}Ma('Unknown repeated value "'+c.repeat+'".')}else return f}function oc(b,f){b=Cb("field",b,f);if(void 0!==b){if(null===b)return null;"sort"in b&&cc(b.sort)&&(f=Cb("field",b.sort,f),b=Object.assign({},b,f?{sort:f}:{}));return b}}function wc(b,f){if(Nc(b))return oc(b,f);f=Cb("datum",b,f);f===b||f.type||(f.type="nominal");return f}function qc(b,f){if(Gd(b)){if(f=wc(b,f))return f;if(je(b))return{condition:b.condition}}else{if(Ud(b)){if(f=wc(b.condition,
f))return Object.assign({},b,{condition:f});b=Object.assign({},b);return delete b.condition,b}return b}}function yc(b,f){var a={},c;for(c in b)if(x.hasOwnProperty(b,c)){var e=b[c];x.isArray(e)?a[c]=e.map(function(k){return qc(k,f)}).filter(function(k){return k}):(e=qc(e,f),void 0!==e&&(a[c]=e))}return a}function Gc(b){var f=b.parentEncoding,a=void 0===b.encoding?{}:b.encoding;b=b.layer;var c={};if(f){var e=new Set([].concat($jscomp.arrayFromIterable(fd(f)),$jscomp.arrayFromIterable(fd(a))));e=$jscomp.makeIterator(e);
for(var k=e.next();!k.done;k=e.next()){k=k.value;var r=a[k],F=f[k];if(Gd(r))r=Object.assign({},F,r),c[k]=r;else if(Ud(r))c[k]=Object.assign({},r,{condition:Object.assign({},F,r.condition)});else if(r||null===r)c[k]=r;else if(b||We(F)||ea(F)||Gd(F)||x.isArray(F))c[k]=F}}else c=a;return!c||Oa(c)?void 0:c}function jd(b){var f=b.parentProjection;b=b.projection;if(f&&b){var a="Layer's shared projection "+ff(f)+" is overridden by a child projection "+ff(b)+".";Ma(a)}return null!==b&&void 0!==b?b:f}function Tc(b){return b.map(function(f){return"filter"in
f?{filter:gb(f.filter,kb)}:f})}function Pc(b,f){var a=Object.assign({},b),c=b.transform;a=(delete a.transform,a);return c?(b=c.map(function(e){if("filter"in e)return{filter:vd(e,f)};if("bin"in e&&x.isObject(e.bin))return Object.assign({},e,{bin:rd(e.bin)});if("lookup"in e){var k=e.from,r=Object.assign({},k);k=k.selection;r=(delete r.selection,r);return k?Object.assign({},e,{from:Object.assign({},{param:k},r)}):e}return e}),Object.assign({},a,{transform:b})):b}function bd(b,f){var a,c;b=Ge(b);Nc(b)&&
x.isObject(b.bin)&&(b.bin=rd(b.bin));lf(b)&&null!==(a=b.scale)&&void 0!==a&&null!==(c=a.domain)&&void 0!==c&&c.selection&&(c=b.scale.domain,a=Object.assign({},c),c=c.selection,a=(delete a.selection,a),b.scale.domain=Object.assign({},a,c?{param:c}:{}));je(b)&&(Wa.isArray(b.condition)?b.condition=b.condition.map(function(e){var k=Object.assign({},e),r=e.param;k=(delete k.selection,delete k.param,delete k.test,k);return r?e:Object.assign({},k,{test:vd(e,f)})}):(c=bd(b.condition,f),a=Object.assign({},
c),c=c.param,a=(delete a.selection,delete a.param,delete a.test,a),b.condition=c?b.condition:Object.assign({},a,{test:vd(b.condition,f)})));return b}function rd(b){var f=b.extent;if(null!==f&&void 0!==f&&f.selection){var a=Object.assign({},f);f=f.selection;a=(delete a.selection,a);return Object.assign({},b,{extent:Object.assign({},a,{param:f})})}return b}function vd(b,f){var a=function(c){return gb(c,function(e){var k,r,F,R=null!==(k=f.emptySelections[e])&&void 0!==k?k:!0;k={param:e,empty:R};null!==
(F=(r=f.selectionPredicates)[e])&&void 0!==F?F:r[e]=[];f.selectionPredicates[e].push(k);return k})};return b.selection?a(b.selection):gb(b.test||b.filter,function(c){return c.selection?a(c.selection):c})}function ie(b,f){var a;return b.name?Object.assign({},f,{path:(null!==(a=f.path)&&void 0!==a?a:[]).concat(b.name)}):f}function Xd(b,f){void 0===f&&(f=hd(b.config));var a=f;a=void 0===a?{}:a;a={config:a};a=Sm.map(Tm.map(Um.map(b,a),a),a);var c=f;f=b.width;b=b.height;var e=re(a)||"layer"in a,k={};e?
"container"==f&&"container"==b?(k.type="fit",k.contains="padding"):"container"==f?(k.type="fit-x",k.contains="padding"):"container"==b&&(k.type="fit-y",k.contains="padding"):("container"==f&&(Ma(Eb("width")),f=void 0),"container"==b&&(Ma(Eb("height")),b=void 0));c=Object.assign({},{type:"pad"},k,c?ee(c.autosize):{},ee(a.autosize));"fit"!==c.type||e||(Ma('Autosize "fit" only works for single views and layered views.'),c.type="pad");"container"==f&&"fit"!=c.type&&"fit-x"!=c.type&&Ma(Rb("width"));"container"==
b&&"fit"!=c.type&&"fit-y"!=c.type&&Ma(Rb("height"));f=rg(c,{type:"pad"})?void 0:c;return Object.assign({},a,f?{autosize:f}:{})}function ee(b){return x.isString(b)?{type:b}:null!==b&&void 0!==b?b:{}}function ud(b){return{explicit:!0,value:b}}function Vc(b){return{explicit:!1,value:b}}function Nd(b){return function(f,a,c,e){var k=b(f.value,a.value);return 0<k?f:0>k?a:ze(f,a,c,e)}}function ze(b,f,a,c){if(b.explicit&&f.explicit){var e=b.value;f=f.value;a="Conflicting "+c.toString()+' property "'+a.toString()+
'" ('+ff(e)+" and "+ff(f)+"). Using "+ff(e)+".";Ma(a)}return b}function Ie(b,f,a,c,e){e=void 0===e?ze:e;return void 0===b||void 0===b.value?f:b.explicit&&!f.explicit?b:f.explicit&&!b.explicit?f:rg(b.value,f.value)?b:e(b,f,a,c)}function Pe(b){return"name"in b&&!("url"in b)&&!("values"in b)&&!we(b)}function we(b){return b&&("sequence"in b||"sphere"in b||"graticule"in b)}function te(b,f,a){Am=f||"view";Bm=a||Vm;return Sf(b.trim()).map(Jf)}function gf(b,f,a,c,e){for(var k=b.length,r=0,F;f<k;++f)if(F=
b[f],r||F!==a)e&&0<=e.indexOf(F)?--r:c&&0<=c.indexOf(F)&&++r;else break;return f}function Sf(b){for(var f=[],a=b.length,c=0,e=0;e<a;)e=gf(b,e,",","[{","]}"),f.push(b.substring(c,e).trim()),c=++e;if(0===f.length)throw"Empty event selector: "+b;return f}function Jf(b){if("["===b[0]){var f=b;var a=f.length;b=gf(f,1,"]","[","]");if(b===a)throw"Empty between selector: "+f;a=Sf(f.substring(1,b));if(2!==a.length)throw"Between selector must have two elements: "+f;f=f.slice(b+1).trim();if("\x3e"!==f[0])throw"Expected '\x3e' after between selector: "+
f;a=a.map(Jf);f=Jf(f.slice(1).trim());f.between?f={between:a,stream:f}:f.between=a}else{a={source:Am};var c=[],e=[0,0],k=0,r=0,F=b.length,R=0;if("}"===b[F-1]){R=b.lastIndexOf("{");if(0<=R){try{e=wh(b.substring(R+1,F-1))}catch(Xa){throw"Invalid throttle specification: "+b;}b=b.slice(0,R).trim();F=b.length}else throw"Unmatched right brace: "+b;R=0}if(!F)throw b;"@"===b[0]&&(k=++R);var Ca=gf(b,R,":");Ca<F&&(c.push(b.substring(r,Ca).trim()),r=R=++Ca);R=gf(b,R,"[");if(R===F)c.push(b.substring(r,F).trim());
else if(c.push(b.substring(r,R).trim()),f=[],r=++R,r===F)throw"Unmatched left bracket: "+b;for(;R<F;){R=gf(b,R,"]");if(R===F)throw"Unmatched left bracket: "+b;f.push(b.substring(r,R).trim());if(R<F-1&&"["!==b[++R])throw"Expected left bracket: "+b;r=++R}if(!(F=c.length)||Wm.test(c[F-1]))throw"Invalid event selector: "+b;1<F?(a.type=c[1],k?a.markname=c[0].slice(1):Bm[c[0]]?a.marktype=c[0]:a.source=c[0]):a.type=c[0];"!"===a.type.slice(-1)&&(a.consume=!0,a.type=a.type.slice(0,-1));null!=f&&(a.filter=
f);e[0]&&(a.throttle=e[0]);e[1]&&(a.debounce=e[1]);f=a}return f}function wh(b){var f=b.split(",");if(!b.length||2<f.length)throw b;return f.map(function(a){a=+a;if(a!==a)throw b;return a})}function Cd(b,f,a){f=void 0===f?!0:f;a=void 0===a?x.identity:a;return x.isArray(b)?(b=b.map(function(c){return Cd(c,f,a)}),f?"["+b.join(", ")+"]":b):bc(b)?f?a(Hb(b)):a(Wb(b)):f?a(ff(b)):b}function Af(b,f){var a=$jscomp.makeIterator(gg(null!==(c=b.component.selection)&&void 0!==c?c:{}));for(c=a.next();!c.done;c=
a.next()){c=c.value;for(var c,e=c.name,k=""+e+"_tuple, "+("global"===c.resolve?"true":"{unit: "+Th(b)+"}"),r=$jscomp.makeIterator(Vk),F=r.next();!F.done;F=r.next())F=F.value,F.defined(c)&&(F.signals&&(f=F.signals(b,c,f)),F.modifyExpr&&(k=F.modifyExpr(b,c,k)));f.push({name:e+"_modify",on:[{events:{signal:c.name+"_tuple"},update:"modify("+x.stringValue(c.name+"_store")+", "+k+")"}]})}return rj(f)}function kg(b,f){b.component.selection&&fd(b.component.selection).length&&(b=x.stringValue(b.getName("cell")),
f.unshift({name:"facet",value:{},on:[{events:te("mousemove","scope"),update:"isTuple(facet) ? facet : group("+b+").datum"}]}));return rj(f)}function xh(b,f){var a=!1,c={},e=$jscomp.makeIterator(gg(null!==(k=b.component.selection)&&void 0!==k?k:{}));for(k=e.next();!k.done;c={$jscomp$loop$prop$name$577$732:c.$jscomp$loop$prop$name$577$732},k=e.next()){k=k.value;var k;c.$jscomp$loop$prop$name$577$732=k.name;a=x.stringValue(c.$jscomp$loop$prop$name$577$732+"_store");if(0===f.filter(function(R){return function(Ca){return Ca.name===
R.$jscomp$loop$prop$name$577$732}}(c)).length){var r="point"===k.type?", true, true)":")";f.push({name:k.name,update:"vlSelectionResolve("+a+", "+x.stringValue("global"===k.resolve?"union":k.resolve)+r})}a=!0;r=$jscomp.makeIterator(Vk);for(var F=r.next();!F.done;F=r.next())F=F.value,F.defined(k)&&F.topLevelSignals&&(f=F.topLevelSignals(b,k,f))}a&&0===f.filter(function(R){return"unit"===R.name}).length&&f.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});
return rj(f)}function Wk(b,f){f=[].concat($jscomp.arrayFromIterable(f));var a={},c=$jscomp.makeIterator(gg(null!==(e=b.component.selection)&&void 0!==e?e:{}));for(e=c.next();!e.done;a={$jscomp$loop$prop$fields$734:a.$jscomp$loop$prop$fields$734,$jscomp$loop$prop$selCmpt$735:a.$jscomp$loop$prop$selCmpt$735},e=c.next()){a.$jscomp$loop$prop$selCmpt$735=e.value;var e;e={name:a.$jscomp$loop$prop$selCmpt$735.name+"_store"};a.$jscomp$loop$prop$selCmpt$735.init&&(a.$jscomp$loop$prop$fields$734=a.$jscomp$loop$prop$selCmpt$735.project.items.map(function(k){k=
Object.assign({},k);return delete k.signals,k}),e.values=a.$jscomp$loop$prop$selCmpt$735.init.map(function(k){return function(r){return{unit:Th(b,{escape:!1}),fields:k.$jscomp$loop$prop$fields$734,values:Cd(r,!1)}}}(a)));f.filter(function(k){return function(r){return r.name===k.$jscomp$loop$prop$selCmpt$735.name+"_store"}}(a)).length||f.push(e)}return f}function qi(b,f){var a=$jscomp.makeIterator(gg(null!==(c=b.component.selection)&&void 0!==c?c:{}));for(c=a.next();!c.done;c=a.next()){c=c.value;for(var c,
e=$jscomp.makeIterator(Vk),k=e.next();!k.done;k=e.next())k=k.value,k.defined(c)&&k.marks&&(f=k.marks(b,c,f))}return f}function Xk(b,f){b=$jscomp.makeIterator(b.children);for(var a=b.next();!a.done;a=b.next())a=a.value,vf(a)&&(f=qi(a,f));return f}function rj(b){return b.map(function(f){f.on&&!f.on.length&&delete f.on;return f})}function fh(b,f){return"domain("+x.stringValue(b.scaleName(f))+")"}function ak(b){var f;return b.parent&&Uh(b.parent)&&(null!==(f=!b.parent.parent)&&void 0!==f?f:ak(b.parent.parent))}
function Pl(b,f,a,c){var e=a.channel,k=a.signals.visual;a=a.signals.data;var r=ri.defined(f),F=x.stringValue(b.scaleName(e)),R=b.getScaleComponent(e);R=R?R.get("type"):void 0;var Ca=function(zb){return"scale("+F+", "+zb+")"},Xa=b.getSizeSignalRef("x"===e?"width":"height").signal,jb=e+"(unit)";b=gh(f,function(zb,ac){return[].concat($jscomp.arrayFromIterable(zb),[{events:ac.between[0],update:"["+jb+", "+jb+"]"},{events:ac,update:"["+k+"[0], clamp("+jb+", 0, "+Xa+")]"}])});b.push({events:{signal:f.name+
"_scale_trigger"},update:R in fg?"["+Ca(a+"[0]")+", "+Ca(a+"[1]")+"]":"[0, 0]"});return r?[{name:a,on:[]}]:[Object.assign({},{name:k},c?{init:Cd(c,!0,Ca)}:{value:[]},{on:b}),Object.assign({},{name:a},c?{init:Cd(c)}:{},{on:[{events:{signal:k},update:k+"[0] \x3d\x3d\x3d "+k+"[1] ? null : invert("+F+", "+k+")"}]})]}function gh(b,f){return b.events.reduce(function(a,c){return c.between?f(a,c):(Ma(c+" is not an ordered event stream for interval selections."),a)},[])}function si(b,f,a,c){var e=je(f)&&f.condition;
f=c(f);if(e){e=x.array(e).map(function(r){var F=c(r);if(r.param)return r=bk(b,{param:r.param,empty:r.empty}),Object.assign({},{test:r},F);r=ti(b,r.test);return Object.assign({},{test:r},F)});var k={};return k[a]=[].concat($jscomp.arrayFromIterable(e),$jscomp.arrayFromIterable(void 0!==f?[f]:[])),k}e={};return void 0!==f?(e[a]=f,e):{}}function sj(b,f){f=void 0===f?"text":f;return si(b,b.encoding[f],f,function(a){return tj(a,b.config)})}function tj(b,f,a){a=void 0===a?"datum":a;if(b){if(We(b))return lb(b.value);
if(Gd(b)){var c=E(b);return qe({fieldOrDatumDef:b,format:c.format,formatType:c.formatType,expr:a,config:f})}}}function ck(b,f){f=void 0===f?{}:f;var a=b.encoding,c=b.markDef,e=b.config,k=b.stack,r=a.tooltip;if(x.isArray(r))return{tooltip:Yk({tooltip:r},k,e,f)};var F=f.reactiveGeom?"datum.datum":"datum";return si(b,r,"tooltip",function(R){var Ca=tj(R,e,F);if(Ca)return Ca;if(null!==R){R=Qb("tooltip",c,e);!0===R&&(R={content:"encoding"});if(x.isString(R))return{value:R};if(x.isObject(R))return ea(R)?
R:"encoding"===R.content?Yk(a,k,e,f):{signal:F}}})}function hh(b,f,a,c){function e(zb,ac){var nc,kc=M(ac);zb=Oe(zb)?zb:Object.assign({},zb,{type:b[kc].type});kc=zb.title||Oi(zb,a);kc=x.array(kc).join(", ");if(ac in Bf){var cd="x"===ac?"x2":"y2",zc=Va(b[cd]);if(La(zb.bin)&&zc){var td=ad(zb,{expr:r});zc=ad(zc,{expr:r});var Sd=E(zb);td=Vd(td,zc,Sd.format,Sd.formatType,a);k[cd]=!0}else f&&f.fieldChannel===ac&&"normalize"===f.offset&&(td=E(zb),td=qe({fieldOrDatumDef:zb,format:td.format,formatType:td.formatType,
expr:r,config:a,normalizeStack:!0}).signal)}null!==(nc=td)&&void 0!==nc?nc:td=tj(zb,a,r).signal;F.push({channel:ac,key:kc,value:td})}var k={},r=(void 0===c?{}:c).reactiveGeom?"datum.datum":"datum",F=[];pf(b,function(zb,ac){Nc(zb)?e(zb,ac):$d(zb)&&e(zb.condition,ac)});c={};for(var R=$jscomp.makeIterator(F),Ca=R.next();!Ca.done;Ca=R.next()){Ca=Ca.value;var Xa=Ca.key,jb=Ca.value;k[Ca.channel]||c[Xa]||(c[Xa]=jb)}return c}function Yk(b,f,a,c){b=hh(b,f,a,{reactiveGeom:(void 0===c?{}:c).reactiveGeom});b=
Hg(b).map(function(e){var k=$jscomp.makeIterator(e);e=k.next().value;k=k.next().value;return'"'+e+'": '+k});return 0<b.length?{signal:"{"+b.join(", ")+"}"}:void 0}function Ql(b){var f=Qb("aria",b.markDef,b.config);return!1===f?{}:Object.assign({},f?{aria:f}:{},Rl(b),Bg(b))}function Rl(b){var f=b.mark,a=b.config;if(!1===a.aria)return{};b=Qb("ariaRoleDescription",b.markDef,a);return null!=b?{ariaRoleDescription:{value:b}}:f in Sl?{}:{ariaRoleDescription:{value:f}}}function Bg(b){var f=b.encoding,a=
b.markDef,c=b.config,e=b.stack,k=f.description;if(k)return si(b,k,"description",function(r){return tj(r,b.config)});a=Qb("description",a,c);if(null!=a)return{description:lb(a)};if(!1===c.aria)return{};f=hh(f,e,c);if(!Oa(f))return{description:{signal:Hg(f).map(function(r,F){var R=$jscomp.makeIterator(r);r=R.next().value;R=R.next().value;return'"'+(0<F?"; ":"")+r+': " + ('+R+")"}).join(" + ")}}}function Kf(b,f,a){a=void 0===a?{}:a;var c=f.markDef,e=f.encoding,k=f.config,r=a.vgChannel,F=a.defaultRef;
a=a.defaultValue;if(void 0===F){var R;null!==(R=a)&&void 0!==R?R:a=Qb(b,c,k,{vgChannel:r,ignoreVgConfig:!0});void 0!==a&&(F=lb(a))}return si(f,e[b],null!==r&&void 0!==r?r:b,function(Ca){return Dd({channel:b,channelDef:Ca,markDef:c,config:k,scaleName:f.scaleName(b),scale:f.getScaleComponent(b),stack:null,defaultRef:F})})}function Zk(b,f){f=void 0===f?{filled:void 0}:f;var a,c,e,k,r=b.markDef,F=b.encoding,R=b.config,Ca=r.type;f=null!==(a=f.filled)&&void 0!==a?a:Qb("filled",r,R);a=Sa(["bar","point",
"circle","square","geoshape"],Ca)?"transparent":void 0;a=null!==(c=null!==(e=Qb(!0===f?"color":void 0,r,R,{vgChannel:"fill"}))&&void 0!==e?e:R.mark[!0===f&&"color"])&&void 0!==c?c:a;c=null!==(k=Qb(!1===f?"color":void 0,r,R,{vgChannel:"stroke"}))&&void 0!==k?k:R.mark[!1===f&&"color"];k=f?"fill":"stroke";e=Object.assign({},a?{fill:lb(a)}:{},c?{stroke:lb(c)}:{});r.color&&(f?r.fill:r.stroke)&&Ma(ib("property",{fill:"fill"in r,stroke:"stroke"in r}));return Object.assign({},e,Kf("color",b,{vgChannel:k,
defaultValue:f?a:c}),Kf("fill",b,{defaultValue:F.fill?a:void 0}),Kf("stroke",b,{defaultValue:F.stroke?c:void 0}))}function zh(b){var f=b.encoding.order;return!lc(b.mark)&&We(f)?si(b,f,"zindex",function(a){return lb(a.value)}):{}}function Ah(b,f){b=w(b);if(f=f[b])return f}function Ff(b,f,a){var c=a.defaultPos;a=a.vgChannel;var e=f.encoding,k=f.markDef,r=f.config,F=f.stack,R=e[b],Ca=e[ka(b)],Xa=f.scaleName(b),jb=f.getScaleComponent(b),zb=Ah(b,k);c=Qi({model:f,defaultPos:c,channel:b,scaleName:Xa,scale:jb});
if(!R&&b in Bf&&(e.latitude||e.longitude))f={field:f.getName(b)};else a:if(F={channel:b,channelDef:R,channel2Def:Ca,markDef:k,config:r,scaleName:Xa,scale:jb,stack:F,offset:zb,defaultRef:c},f=F.channel,c=F.channelDef,e=F.scaleName,R=F.stack,k=F.offset,r=F.markDef,Gd(c)&&R&&f===R.fieldChannel){if(Nc(c)&&(F=c.bandPosition,void 0!==F||"text"!==r.type||"radius"!==f&&"theta"!==f||(F=.5),void 0!==F)){f=jc({scaleName:e,fieldOrDatumDef:c,startSuffix:"start",bandPosition:F,offset:k});break a}f=Se(c,e,{suffix:"end"},
{offset:k})}else f=Ed(F);c={};return f?(c[a||b]=f,c):void 0}function Qi(b){var f=b.model,a=b.defaultPos,c=b.channel,e=b.scaleName,k=b.scale,r=f.markDef,F=f.config;return function(){var R=M(c),Ca=Ka(c);Ca=Qb(c,r,F,{vgChannel:Ca});if(void 0!==Ca)return xd(c,Ca);switch(a){case "zeroOrMin":case "zeroOrMax":if(e&&(Ca=k.get("type"),!Sa([qf.LOG,qf.TIME,qf.UTC],Ca)&&k.domainDefinitelyIncludesZero()))return{scale:e,value:0};if("zeroOrMin"===a)return"y"===R?{field:{group:"height"}}:{value:0};switch(R){case "radius":return{signal:"min("+
f.width.signal+","+f.height.signal+")/2"};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return R=f[ha(c)],Object.assign({},R,{mult:.5})}}}function uj(b,f,a,c){c=void 0===c?"middle":c;if("radius"===b||"theta"===b)return Ka(b);var e="x"===b?"align":"baseline";f=Qb(e,f,a);ea(f)?(Ma("The "+e+" for range marks cannot be an expression"),e=void 0):e=f;return"x"===b?Xm[e||("top"===c?"left":"center")]:Ym[e||c]}function ui(b,f,a){var c=a.defaultPos,
e=a.defaultPos2;return a.range?$k(b,f,{defaultPos:c,defaultPos2:e}):Ff(b,f,{defaultPos:c})}function $k(b,f,a){var c=a.defaultPos,e=a.defaultPos2;a=f.markDef;var k=f.config,r=ka(b),F=ha(b);var R=f.encoding,Ca=f.mark,Xa=f.markDef,jb=f.stack,zb=f.config,ac=M(r),nc=ha(r);var kc=Ka(r);var cd=R[ac],zc=f.scaleName(ac),td=f.getScaleComponent(ac);ac=r in R||r in Xa?Ah(r,f.markDef):Ah(ac,f.markDef);cd||"x2"!==r&&"y2"!==r||!R.latitude&&!R.longitude?(R=R[r],jb=Gd(cd)&&jb&&r.charAt(0)===jb.fieldChannel.charAt(0)?
Se(cd,zc,{suffix:"start"},{offset:ac}):Ed({channel:r,channelDef:R,scaleName:zc,scale:td,stack:jb,markDef:Xa,config:zb,offset:ac,defaultRef:void 0}),void 0!==jb?(r={},kc=(r[kc]=jb,r)):(jb={},cd={},kc=vj(r,Xa)||vj(r,(jb[r]=Ic(r,Xa,zb.style),jb[nc]=Ic(nc,Xa,zb.style),jb))||vj(r,zb[Ca])||vj(r,zb.mark)||(cd[kc]=Qi({model:f,defaultPos:e,channel:r,scaleName:zc,scale:td})(),cd))):(e=ha(r),Ca=f.markDef[e],null!=Ca?(kc={},kc=(kc[e]={value:Ca},kc)):(e={},kc=(e[kc]={field:f.getName(r)},e)));a=kc[F]?uj(b,a,k):
Ka(b);return Object.assign({},Ff(b,f,{defaultPos:c,vgChannel:a}),kc)}function vj(b,f){var a=ha(b),c=Ka(b);if(void 0!==f[c])return a={},a[c]=xd(b,f[c]),a;if(void 0!==f[b])return a={},a[c]=xd(b,f[b]),a;if(f[a])if(f=f[a],pd(f))Ma("Position range does not support relative band size for "+a+".");else return c={},c[a]=xd(b,f),c}function Ig(b,f,a){var c,e,k=b.config,r=b.encoding,F=b.markDef,R=ka(f),Ca=ha(f),Xa=r[f],jb=r[R],zb=b.getScaleComponent(f),ac=zb?zb.get("type"):void 0;R=b.scaleName(f);var nc=F.orient;
r=null!==(c=null!==(e=r[Ca])&&void 0!==e?e:r.size)&&void 0!==c?c:Qb("size",F,k,{vgChannel:Ca});a="bar"===a&&("x"===f?"vertical"===nc:"horizontal"===nc);if(!Nc(Xa)||!(Ga(Xa.bin)||La(Xa.bin)||Xa.timeUnit&&!jb)||r&&!pd(r)||ac in Of){if((Gd(Xa)&&ac in Of||a)&&!jb){jb=b.markDef;F=b.encoding;zb=b.config;var kc=b.stack;c=jb.orient;var cd=b.scaleName(f);a=b.getScaleComponent(f);R=ha(f);k=ka(f);c="horizontal"===c&&"y"===f||"vertical"===c&&"x"===f;var zc;if(F.size||jb.size)c?zc=Kf("size",b,{vgChannel:R,defaultRef:lb(jb.size)}):
Ma('Cannot apply size to non-oriented mark "'+jb.type+'".');e=he({channel:f,fieldDef:Xa,markDef:jb,config:zb,scaleType:null===a||void 0===a?void 0:a.get("type"),useVlSizeChannel:c});F={};zc=zc||(F[R]=dk(R,cd,a,zb,e),F);F="band"===(null===a||void 0===a?void 0:a.get("type"))&&"band"in zc[R]?"top":"middle";F=uj(f,jb,zb,F);ac="xc"===F||"yc"===F;c=Ah(f,jb);f=Ed({channel:f,channelDef:Xa,markDef:jb,config:zb,scaleName:cd,scale:a,stack:kc,offset:c,defaultRef:Qi({model:b,defaultPos:"mid",channel:f,scaleName:cd,
scale:a}),bandPosition:ac?.5:ea(e)?{signal:"(1-"+e+")/2"}:pd(e)?(1-e.band)/2:0});R?(Xa={},f=Object.assign({},(Xa[F]=f,Xa),zc)):(Xa=Ka(k),zc=zc[R],zc=c?Object.assign({},zc,{offset:c}):zc,b={},f=(b[F]=f,b[Xa]=x.isArray(f)?[f[0],Object.assign({},f[1],{offset:zc})]:Object.assign({},f,{offset:zc}),b));return f}return $k(f,b,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}a=he({channel:f,fieldDef:Xa,markDef:F,config:k,scaleType:ac});zc=null===(cd=b.component.axes[f])||void 0===cd?void 0:cd[0];zc=null!==
(kc=null===zc||void 0===zc?void 0:zc.get("translate"))&&void 0!==kc?kc:.5;a:if(kc=f in Bf?Qb("binSpacing",F,k):void 0,b=zb.get("reverse"),zb=void 0===kc?0:kc,e=ka(f),kc=Ka(f),cd=Ka(e),c=Ah(f,F),a=ea(a)?{signal:"(1-"+a.signal+")/2"}:pd(a)?(1-a.band)/2:.5,Ga(Xa.bin)||Xa.timeUnit)jb={},f=(jb[cd]=wj({channel:f,fieldDef:Xa,scaleName:R,markDef:F,bandPosition:a,offset:vi(e,zb,b,zc,c),config:k}),jb[kc]=wj({channel:f,fieldDef:Xa,scaleName:R,markDef:F,bandPosition:ea(a)?{signal:"1-"+a.signal}:1-a,offset:vi(f,
zb,b,zc,c),config:k}),jb);else{if(La(Xa.bin)){k=Se(Xa,R,{},{offset:vi(e,zb,b,zc,c)});if(Nc(jb)){Xa={};f=(Xa[cd]=k,Xa[kc]=Se(jb,R,{},{offset:vi(f,zb,b,zc,c)}),Xa);break a}if(x.isObject(Xa.bin)&&Xa.bin.step){F={};f=(F[cd]=k,F[kc]={signal:'scale("'+R+'", '+ad(Xa,{expr:"datum"})+" + "+Xa.bin.step+")",offset:vi(f,zb,b,zc,c)},F);break a}}Ma(Da(e));f=void 0}return f}function dk(b,f,a,c,e){if(pd(e))if(a){var k=a.get("type");if("band"===k)return{scale:f,band:e.band};1!==e.band&&Ma("Cannot use the relative band size with "+
k+" scale.")}else return{mult:e.band,field:{group:b}};else{if(ea(e))return e;if(e)return{value:e}}return a&&(f=a.get("range"),U(f)&&x.isNumber(f.step))?{value:f.step-2}:{value:Sb(c.view,b)-2}}function vi(b,f,a,c,e){if(b in Ug)return 0;b="x"===b||"y2"===b?-f/2:f/2;if(ea(a)||ea(e)||ea(c))return a=yb(a),e=yb(e),c=yb(c),{signal:(c?c+" + ":"")+(a?"("+a+" ? -1 : 1) * ":"")+(e?"("+e+" + "+b+")":b)};e=e||0;return c+(a?-e-b:+e+b)}function wj(b){var f=b.channel,a=b.fieldDef,c=b.markDef,e=b.config;b=jc({scaleName:b.scaleName,
fieldOrDatumDef:a,bandPosition:b.bandPosition,offset:b.offset});return md({fieldDef:a,channel:f,markDef:c,ref:b,config:e})}function Cg(b,f){var a="include"===f.color?Zk(b):{},c=void 0===a.fill?void 0:a.fill;a=void 0===a.stroke?void 0:a.stroke;return Object.assign({},Ri(b.markDef,f),xj(b,"fill",c),xj(b,"stroke",a),Kf("opacity",b),Kf("fillOpacity",b),Kf("strokeOpacity",b),Kf("strokeWidth",b),Kf("strokeDash",b),zh(b),ck(b),sj(b,"href"),Ql(b))}function xj(b,f,a){var c=b.mark;if("hide"===Qb("invalid",
b.markDef,b.config)&&a&&!lc(c)&&(b=Tl(b,{invalid:!0,channels:Bh})))return c={},c[f]=[{test:b,value:null}].concat($jscomp.arrayFromIterable(x.array(a))),c;b={};return a?(b[f]=a,b):{}}function Ri(b,f){return al.reduce(function(a,c){Zm.has(c)||void 0===b[c]||"ignore"===f[c]||(a[c]=lb(b[c]));return a},{})}function Tl(b,f){var a=void 0===f.invalid?!1:f.invalid;f=f.channels.reduce(function(e,k){var r=b.getScaleComponent(k);r&&(r=r.get("type"),(k=b.vgField(k,{expr:"datum"}))&&r in fg&&(e[k]=!0));return e},
{});f=fd(f);if(0<f.length){var c=a?"||":"\x26\x26";return f.map(function(e){return le(e,a)}).join(" "+c+" ")}}function wi(b){return Qb("invalid",b.markDef,b.config)&&(b=bl(b,{channels:lg}))?{defined:{signal:b}}:{}}function bl(b,f){var a=void 0===f.invalid?!1:f.invalid;f=f.channels.reduce(function(e,k){var r=b.getScaleComponent(k);r&&(r=r.get("type"),(k=b.vgField(k,{expr:"datum"}))&&r in fg&&(e[k]=!0));return e},{});f=fd(f);if(0<f.length){var c=a?"||":"\x26\x26";return f.map(function(e){return le(e,
a)}).join(" "+c+" ")}}function Si(b,f){if(void 0!==f){var a={};return a[b]=lb(f),a}}function rf(b,f,a,c,e){var k,r,F=f.name,R=F+"_translate_anchor";F+="_translate_delta";var Ca=a.channel,Xa=ri.defined(f);f=e.filter(function(zb){return zb.name===a.signals[Xa?"data":"visual"]})[0];c=b.getSizeSignalRef(c).signal;b=b.getScaleComponent(Ca);e=b.get("type");var jb=b.get("reverse");R=R+".extent_"+Ca;Ca=(Xa?"x"===Ca?jb?"":"-":jb?"-":"":"")+F+"."+Ca+" / "+(Xa?""+c:"span("+R+")");jb=Xa?"log"===e?"panLog":"symlog"===
e?"panSymlog":"pow"===e?"panPow":"panLinear":"panLinear";b=Xa?"pow"===e?", "+(null!==(k=b.get("exponent"))&&void 0!==k?k:1):"symlog"===e?", "+(null!==(r=b.get("constant"))&&void 0!==r?r:1):"":"";k=jb+"("+R+", "+Ca+b+")";f.on.push({events:{signal:F},update:Xa?k:"clampRange("+k+", 0, "+c+")"})}function Lf(b,f,a,c,e){var k,r,F=f.name,R=a.channel,Ca=ri.defined(f);f=e.filter(function(zb){return zb.name===a.signals[Ca?"data":"visual"]})[0];c=b.getSizeSignalRef(c).signal;e=b.getScaleComponent(R);var Xa=
e.get("type"),jb=Ca?fh(b,R):f.name;b=F+"_zoom_delta";F=""+F+"_zoom_anchor."+R;R=Ca?"log"===Xa?"zoomLog":"symlog"===Xa?"zoomSymlog":"pow"===Xa?"zoomPow":"zoomLinear":"zoomLinear";e=Ca?"pow"===Xa?", "+(null!==(k=e.get("exponent"))&&void 0!==k?k:1):"symlog"===Xa?", "+(null!==(r=e.get("constant"))&&void 0!==r?r:1):"":"";k=R+"("+jb+", "+F+", "+b+e+")";f.on.push({events:{signal:b},update:Ca?k:"clampRange("+k+", 0, "+c+")"})}function Th(b,f){f=(void 0===f?{escape:!0}:f).escape?x.stringValue(b.name):b.name;
for(b=b.parent;b&&!hg(b);)b=b.parent;if(b)for(var a=b.facet,c=$jscomp.makeIterator(ig),e=c.next();!e.done;e=c.next())e=e.value,a[e]&&(f+=" + '__facet_"+e+"_' + (facet["+x.stringValue(b.vgField(e))+"])");return f}function Vh(b){var f;return gg(null!==(f=b.component.selection)&&void 0!==f?f:{}).reduce(function(a,c){return a||c.project.items.some(function(e){return"_vgsid_"===e.field})},!1)}function Wg(b,f){!Wa.isString(f.select)&&f.select.on||delete b.events;!Wa.isString(f.select)&&f.select.clear||
delete b.clear;!Wa.isString(f.select)&&f.select.toggle||delete b.toggle}function Jg(b){this.type=b}function cl(b){switch(b.type){case "ArrayExpression":return b.elements;case "BinaryExpression":case "LogicalExpression":return[b.left,b.right];case "CallExpression":return[b.callee].concat(b.arguments);case "ConditionalExpression":return[b.test,b.consequent,b.alternate];case "MemberExpression":return[b.object,b.property];case "ObjectExpression":return b.properties;case "Property":return[b.key,b.value];
case "UnaryExpression":return[b.argument];default:return[]}}function Ti(b,f){if(!b)throw Error("ASSERT: "+f);}function Xg(b){return 48<=b&&57>=b}function Mf(b){return 0<="0123456789abcdefABCDEF".indexOf(b)}function Wh(b){return 0<="01234567".indexOf(b)}function Kg(b){return 10===b||13===b||8232===b||8233===b}function ih(b){return 36===b||95===b||65<=b&&90>=b||97<=b&&122>=b||92===b||128<=b&&$m.test(String.fromCharCode(b))}function Yg(b){return 36===b||95===b||65<=b&&90>=b||97<=b&&122>=b||48<=b&&57>=
b||92===b||128<=b&&an.test(String.fromCharCode(b))}function jh(){for(;Yc<mg;){var b=ae.charCodeAt(Yc);if(32===b||9===b||11===b||12===b||160===b||5760<=b&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(b)||Kg(b))++Yc;else break}}function Ui(b){var f=0;var a="u"===b?4:2;for(b=0;b<a;++b)if(Yc<mg&&Mf(ae[Yc])){var c=ae[Yc++];f=16*f+"0123456789abcdef".indexOf(c.toLowerCase())}else Xe({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(f)}function xi(){var b=
ae.charCodeAt(Yc++);var f=String.fromCharCode(b);92===b&&(117!==ae.charCodeAt(Yc)&&Xe({},"Unexpected token %0","ILLEGAL"),++Yc,(b=Ui("u"))&&"\\"!==b&&ih(b.charCodeAt(0))||Xe({},"Unexpected token %0","ILLEGAL"),f=b);for(;Yc<mg;){b=ae.charCodeAt(Yc);if(!Yg(b))break;++Yc;f+=String.fromCharCode(b);92===b&&(f=f.substr(0,f.length-1),117!==ae.charCodeAt(Yc)&&Xe({},"Unexpected token %0","ILLEGAL"),++Yc,(b=Ui("u"))&&"\\"!==b&&Yg(b.charCodeAt(0))||Xe({},"Unexpected token %0","ILLEGAL"),f+=b)}return f}function Vi(){var b=
Yc,f=ae.charCodeAt(Yc),a=ae[Yc];switch(f){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Yc,{type:7,value:String.fromCharCode(f),start:b,end:Yc};default:var c=ae.charCodeAt(Yc+1);if(61===c)switch(f){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Yc+=2,{type:7,value:String.fromCharCode(f)+String.fromCharCode(c),start:b,end:Yc};case 33:case 61:return Yc+=2,61===ae.charCodeAt(Yc)&&++Yc,{type:7,value:ae.slice(b,
Yc),start:b,end:Yc}}}f=ae.substr(Yc,4);if("\x3e\x3e\x3e\x3d"===f)return Yc+=4,{type:7,value:f,start:b,end:Yc};f=f.substr(0,3);if("\x3e\x3e\x3e"===f||"\x3c\x3c\x3d"===f||"\x3e\x3e\x3d"===f)return Yc+=3,{type:7,value:f,start:b,end:Yc};f=f.substr(0,2);if(a===f[1]&&0<="+-\x3c\x3e\x26|".indexOf(a)||"\x3d\x3e"===f)return Yc+=2,{type:7,value:f,start:b,end:Yc};"//"===f&&Xe({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(a))return++Yc,{type:7,value:a,start:b,end:Yc};Xe({},"Unexpected token %0",
"ILLEGAL")}function yj(){var b=ae[Yc];Ti(Xg(b.charCodeAt(0))||"."===b,"Numeric literal must start with a decimal digit or a decimal point");var f=Yc;var a="";if("."!==b){a=ae[Yc++];b=ae[Yc];if("0"===a){if("x"===b||"X"===b){++Yc;for(a="";Yc<mg&&Mf(ae[Yc]);)a+=ae[Yc++];0===a.length&&Xe({},"Unexpected token %0","ILLEGAL");ih(ae.charCodeAt(Yc))&&Xe({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+a,16),start:f,end:Yc}}if(Wh(b)){for(a="0"+ae[Yc++];Yc<mg&&Wh(ae[Yc]);)a+=ae[Yc++];(ih(ae.charCodeAt(Yc))||
Xg(ae.charCodeAt(Yc)))&&Xe({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(a,8),octal:!0,start:f,end:Yc}}b&&Xg(b.charCodeAt(0))&&Xe({},"Unexpected token %0","ILLEGAL")}for(;Xg(ae.charCodeAt(Yc));)a+=ae[Yc++];b=ae[Yc]}if("."===b){for(a+=ae[Yc++];Xg(ae.charCodeAt(Yc));)a+=ae[Yc++];b=ae[Yc]}if("e"===b||"E"===b){a+=ae[Yc++];b=ae[Yc];if("+"===b||"-"===b)a+=ae[Yc++];if(Xg(ae.charCodeAt(Yc)))for(;Xg(ae.charCodeAt(Yc));)a+=ae[Yc++];else Xe({},"Unexpected token %0","ILLEGAL")}ih(ae.charCodeAt(Yc))&&
Xe({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(a),start:f,end:Yc}}function zj(b,f){var a=b;0<=f.indexOf("u")&&(a=a.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(c,e){if(1114111>=parseInt(e,16))return"x";Xe({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(a)}catch(c){Xe({},"Invalid regular expression")}try{return new RegExp(b,f)}catch(c){return null}}function Xh(){jh();if(Yc>=mg)return{type:2,start:Yc,end:Yc};var b=ae.charCodeAt(Yc);
if(ih(b)){b=Yc;if(92===ae.charCodeAt(Yc))var f=xi();else a:{for(f=Yc++;Yc<mg;){var a=ae.charCodeAt(Yc);if(92===a){Yc=f;f=xi();break a}if(Yg(a))++Yc;else break}f=ae.slice(f,Yc)}return{type:1===f.length?3:bn.hasOwnProperty(f)?4:"null"===f?5:"true"===f||"false"===f?1:3,value:f,start:b,end:Yc}}if(40===b||41===b||59===b)return Vi();if(39===b||34===b){var c="";a=!1;b=ae[Yc];Ti("'"===b||'"'===b,"String literal must starts with a quote");f=Yc;for(++Yc;Yc<mg;){var e=ae[Yc++];if(e===b){b="";break}else if("\\"===
e)if((e=ae[Yc++])&&Kg(e.charCodeAt(0)))"\r"===e&&"\n"===ae[Yc]&&++Yc;else switch(e){case "u":case "x":if("{"===ae[Yc]){++Yc;var k=ae[Yc];e=0;for("}"===k&&Xe({},"Unexpected token %0","ILLEGAL");Yc<mg;){k=ae[Yc++];if(!Mf(k))break;e=16*e+"0123456789abcdef".indexOf(k.toLowerCase())}(1114111<e||"}"!==k)&&Xe({},"Unexpected token %0","ILLEGAL");e=65535>=e?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320);c+=e}else c+=Ui(e);break;case "n":c+="\n";break;case "r":c+="\r";
break;case "t":c+="\t";break;case "b":c+="\b";break;case "f":c+="\f";break;case "v":c+="\x0B";break;default:Wh(e)?(k="01234567".indexOf(e),0!==k&&(a=!0),Yc<mg&&Wh(ae[Yc])&&(a=!0,k=8*k+"01234567".indexOf(ae[Yc++]),0<="0123".indexOf(e)&&Yc<mg&&Wh(ae[Yc])&&(k=8*k+"01234567".indexOf(ae[Yc++]))),c+=String.fromCharCode(k)):c+=e}else if(Kg(e.charCodeAt(0)))break;else c+=e}""!==b&&Xe({},"Unexpected token %0","ILLEGAL");return{type:8,value:c,octal:a,start:f,end:Yc}}return 46===b?Xg(ae.charCodeAt(Yc+1))?yj():
Vi():Xg(b)?yj():Vi()}function Tf(){var b=bf;Yc=b.end;bf=Xh();Yc=b.end;return b}function Wi(b,f,a){var c=new Jg("||"===b||"\x26\x26"===b?"LogicalExpression":"BinaryExpression");c.operator=b;c.left=f;c.right=a;return c}function Xi(b){var f=new Jg("Identifier");f.name=b;return f}function Yh(b){var f=new Jg("Literal");f.value=b.value;f.raw=ae.slice(b.start,b.end);b.regex&&("//"===f.raw&&(f.raw="/(?:)/"),f.regex=b.regex);return f}function Aj(b,f,a){var c=new Jg("MemberExpression");c.computed="["===b;c.object=
f;c.property=a;c.computed||(a.member=!0);return c}function ek(b,f,a){var c=new Jg("Property");c.key=f;c.value=a;c.kind=b;return c}function Xe(b,f){var a=Array.prototype.slice.call(arguments,2),c=f.replace(/%(\d)/g,function(k,r){Ti(r<a.length,"Message reference must be in range");return a[r]});var e=Error(c);e.index=Yc;e.description=c;throw e;}function yi(b){2===b.type&&Xe(b,"Unexpected end of input");6===b.type&&Xe(b,"Unexpected number");8===b.type&&Xe(b,"Unexpected string");3===b.type&&Xe(b,"Unexpected identifier");
4===b.type&&Xe(b,"Unexpected reserved word");Xe(b,"Unexpected token %0",b.value)}function Ye(b){var f=Tf();7===f.type&&f.value===b||yi(f)}function mf(b){return 7===bf.type&&bf.value===b}function Bj(){Yc=bf.start;var b=Tf();return 8===b.type||6===b.type?(b.octal&&Xe(b,"Octal literals are not allowed in strict mode."),Yh(b)):Xi(b.value)}function fk(){if(mf("(")){Ye("(");var b=gk();Ye(")");return b}if(mf("[")){b=[];Yc=bf.start;for(Ye("[");!mf("]");)mf(",")?(Tf(),b.push(null)):(b.push(Lg()),mf("]")||
Ye(","));Tf();var f=new Jg("ArrayExpression");f.elements=b;return f}if(mf("{")){b=[];f={};var a=String;Yc=bf.start;for(Ye("{");!mf("}");){Yc=bf.start;var c=bf;if(3===c.type){var e=Bj();Ye(":");c=Lg();c=ek("init",e,c)}else 2===c.type||7===c.type?(yi(c),c=void 0):(e=Bj(),Ye(":"),c=Lg(),c=ek("init",e,c));e="Identifier"===c.key.type?c.key.name:a(c.key.value);e="$"+e;Object.prototype.hasOwnProperty.call(f,e)?Xe({},"Duplicate data property in object literal not allowed in strict mode"):f[e]=!0;b.push(c);
mf("}")||Ye(",")}Ye("}");f=new Jg("ObjectExpression");f.properties=b;return f}f=bf.type;Yc=bf.start;if(3===f||cn[bf.value])b=Xi(Tf().value);else if(8===f||6===f)bf.octal&&Xe(bf,"Octal literals are not allowed in strict mode."),b=Yh(Tf());else{if(4===f)throw Error("Disabled.");if(1===f)b=Tf(),b.value="true"===b.value,b=Yh(b);else if(5===f)b=Tf(),b.value=null,b=Yh(b);else if(mf("/")||mf("/\x3d")){var k;bf=null;jh();b=Yc;f=ae[Yc];Ti("/"===f,"Regular expression literal must start with a slash");a=ae[Yc++];
for(e=c=!1;Yc<mg;)if(f=ae[Yc++],a+=f,"\\"===f)f=ae[Yc++],Kg(f.charCodeAt(0))&&Xe({},"Invalid regular expression: missing /"),a+=f;else if(Kg(f.charCodeAt(0)))Xe({},"Invalid regular expression: missing /");else if(c)"]"===f&&(c=!1);else if("/"===f){e=!0;break}else"["===f&&(c=!0);e||Xe({},"Invalid regular expression: missing /");f=a.substr(1,a.length-2);for(k=e="";Yc<mg;){c=ae[Yc];if(!Yg(c.charCodeAt(0)))break;++Yc;"\\"===c&&Yc<mg?Xe({},"Unexpected token %0","ILLEGAL"):(k+=c,e+=c)}0<=k.search(/[^gimuy]/g)&&
Xe({},"Invalid regular expression",k);c=k;k=zj(f,c);b=Yh({literal:a+e,value:k,regex:{pattern:f,flags:c},start:b,end:Yc});f=Yc;bf=Xh();Yc=f}else yi(Tf())}return b}function Cj(){var b;for(b=fk();;)if(mf(".")){Ye(".");Yc=bf.start;var f=Tf();3===f.type||4===f.type||1===f.type||5===f.type||yi(f);f=Xi(f.value);b=Aj(".",b,f)}else if(mf("(")){f=[];Ye("(");if(!mf(")"))for(;Yc<mg;){f.push(Lg());if(mf(")"))break;Ye(",")}Ye(")");var a=new Jg("CallExpression");a.callee=b;a.arguments=f;b=a}else if(mf("["))Ye("["),
f=gk(),Ye("]"),b=Aj("[",b,f);else break;if(7===bf.type&&(mf("++")||mf("--")))throw Error("Disabled.");return b}function Zh(){if(7!==bf.type&&4!==bf.type)var b=Cj();else{if(mf("++")||mf("--"))throw Error("Disabled.");if(mf("+")||mf("-")||mf("~")||mf("!")){var f=Tf();b=Zh();f=f.value;var a=new Jg("UnaryExpression");a.operator=f;a.argument=b;a.prefix=!0;b=a}else{if(4===bf.type&&"delete"===bf.value||4===bf.type&&"void"===bf.value||4===bf.type&&"typeof"===bf.value)throw Error("Disabled.");b=Cj()}}return b}
function hk(b){var f=0;if(7!==b.type&&4!==b.type)return 0;switch(b.value){case "||":f=1;break;case "\x26\x26":f=2;break;case "|":f=3;break;case "^":f=4;break;case "\x26":f=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":f=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":f=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":f=8;break;case "+":case "-":f=9;break;case "*":case "/":case "%":f=11}return f}function Lg(){var b=
bf;var f=Zh();var a=bf;var c=hk(a);if(0===c)var e=f;else{a.prec=c;Tf();b=[b,bf];var k=Zh();for(e=[f,a,k];0<(c=hk(bf));){for(;2<e.length&&c<=e[e.length-2].prec;)k=e.pop(),a=e.pop().value,f=e.pop(),b.pop(),f=Wi(a,f,k),e.push(f);a=Tf();a.prec=c;e.push(a);b.push(bf);f=Zh();e.push(f)}c=e.length-1;f=e[c];for(b.pop();1<c;)b.pop(),f=Wi(e[c-1].value,e[c-2],f),c-=2;e=f}mf("?")&&(Tf(),b=Lg(),Ye(":"),c=Lg(),f=new Jg("ConditionalExpression"),f.test=e,f.consequent=b,f.alternate=c,e=f);return e}function gk(){var b=
Lg();if(mf(","))throw Error("Disabled.");return b}function Ul(b){ae=b;Yc=0;mg=ae.length;bf=null;b=Yc;bf=Xh();Yc=b;b=gk();if(2!==bf.type)throw Error("Unexpect token after expression.");return b}function Yi(b){var f=[];if("Identifier"===b.type)return[b.name];if("Literal"===b.type)return[b.value];"MemberExpression"===b.type&&(f.push.apply(f,$jscomp.arrayFromIterable(Yi(b.object))),f.push.apply(f,$jscomp.arrayFromIterable(Yi(b.property))));return f}function $h(b){return"MemberExpression"===b.object.type?
$h(b.object):"datum"===b.object.name}function ai(b){b=Ul(b);var f=new Set;b.visit(function(a){"MemberExpression"===a.type&&$h(a)&&f.add(Yi(a).slice(1).join("."))});return f}function bk(b,f,a,c){c=void 0===c?"datum":c;var e=x.isString(f)?f:f.param,k=va(e),r=x.stringValue(k+"_store");try{var F=b.getSelectionComponent(k,e)}catch(R){return"!!"+k}F.project.timeUnit&&(b=null!==a&&void 0!==a?a:b.component.data.raw,a=F.project.timeUnit.clone(),b.parent?a.insertAsParentOf(b):b.parent=a);c="vlSelectionTest("+
r+", "+c+("global"===F.resolve?")":", "+x.stringValue(F.resolve)+")");r="length(data("+r+"))";return!1===f.empty?r+" \x26\x26 "+c:"!"+r+" || "+c}function Ch(b,f,a){var c=va(f),e=a.encoding,k=a.field;try{var r=b.getSelectionComponent(c,f)}catch(F){return c}e||k?e&&!k&&(b=r.project.items.filter(function(F){return F.channel===e}),!b.length||1<b.length?(k=r.project.items[0].field,Ma((b.length?"Multiple ":"No ")+("matching "+x.stringValue(e)+" encoding found for selection "+x.stringValue(a.param)+'. Using "field": ')+
(x.stringValue(k)+"."))):k=b[0].field):(k=r.project.items[0].field,1<r.project.items.length&&Ma('A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": '+(x.stringValue(k)+".")));return r.name+"["+x.stringValue(wa(k))+"]"}function ti(b,f,a){return xa(f,function(c){return x.isString(c)?c:(null===c||void 0===c?0:c.param)?bk(b,c,a):oa(c)})}function ik(b,f){if(b)return x.isArray(b)&&!ta(b)?b.map(function(a){return Oi(a,f)}).join(", "):b}function bi(b,f,a,c){var e,
k,r,F,R;null!==(e=b.encode)&&void 0!==e?e:b.encode={};null!==(r=(k=b.encode)[f])&&void 0!==r?r:k[f]={};null!==(R=(F=b.encode[f]).update)&&void 0!==R?R:F.update={};b.encode[f].update[a]=c}function kh(b,f,a,c){c=void 0===c?{header:!1}:c;var e=b.combine(),k=Object.assign({},e),r=e.disable,F=e.orient,R=e.scale,Ca=e.labelExpr,Xa=e.title;e=e.zindex;k=(delete k.disable,delete k.orient,delete k.scale,delete k.labelExpr,delete k.title,delete k.zindex,k);if(!r){for(var jb in k){var zb=n[jb];r=k[jb];if(zb&&
zb!==f&&"both"!==zb)delete k[jb];else if(Fd(r)){zb=r;r=Object.assign({},zb);zb=zb.condition;r=(delete r.condition,r);zb=x.array(zb);var ac=d[jb];if(ac){var nc=ac;ac=nc.vgProp;nc=nc.part;r=[].concat($jscomp.arrayFromIterable(zb.map(function(zc){var td=Object.assign({},zc);zc=zc.test;td=(delete td.test,td);return Object.assign({},{test:ti(null,zc)},td)})),[r]);bi(k,nc,ac,r);delete k[jb]}else null===ac&&(r={signal:zb.map(function(zc){var td=Object.assign({},zc);zc=zc.test;td=(delete td.test,td);return ti(null,
zc)+" ? "+(ea(td)?td.signal:x.stringValue(td.value))+" : "}).join("")+(ea(r)?r.signal:x.stringValue(r.value))},k[jb]=r)}else ea(r)&&(zb=d[jb])&&(bi(k,zb.part,zb.vgProp,r),delete k[jb]);Sa(["labelAlign","labelBaseline"],jb)&&null===k[jb]&&delete k[jb]}if("grid"===f){if(k.grid)return k.encode&&(a=k.encode.grid,k.encode=Object.assign({},a?{grid:a}:{}),Oa(k.encode)&&delete k.encode),Object.assign({},{scale:R,orient:F},k,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:y(e,0)})}else if(c.header||
!b.mainExtracted){if(void 0!==Ca){var kc,cd;f=Ca;null!==(kc=k.encode)&&void 0!==kc&&null!==(cd=kc.labels)&&void 0!==cd&&cd.update&&ea(k.encode.labels.update.text)&&(f=$a(Ca,"datum.label",k.encode.labels.update.text.signal));bi(k,"labels","text",{signal:f})}null===k.labelAlign&&delete k.labelAlign;if(k.encode){Ca=$jscomp.makeIterator(g);for(kc=Ca.next();!kc.done;kc=Ca.next())kc=kc.value,b.hasAxisPart(kc)||delete k.encode[kc];Oa(k.encode)&&delete k.encode}b=ik(Xa,a);return Object.assign({},{scale:R,
orient:F,grid:!1},b?{title:b}:{},k,!1===a.aria?{aria:!1}:{},{zindex:y(e,0)})}}}function Zi(b){for(var f=b.component.axes,a=[],c=$jscomp.makeIterator(lg),e=c.next();!e.done;e=c.next())if(e=e.value,f[e])for(var k=$jscomp.makeIterator(f[e]),r=k.next();!r.done;r=k.next())if(r=r.value,!r.get("disable")&&!r.get("gridScale")){r="x"===e?"height":"width";var F=b.getSizeSignalRef(r).signal;r!==F&&a.push({name:r,update:F})}return a}function Dj(b,f){var a=void 0===b.x?[]:b.x;b=void 0===b.y?[]:b.y;return[].concat($jscomp.arrayFromIterable(a.map(function(c){return kh(c,
"grid",f)})),$jscomp.arrayFromIterable(b.map(function(c){return kh(c,"grid",f)})),$jscomp.arrayFromIterable(a.map(function(c){return kh(c,"main",f)})),$jscomp.arrayFromIterable(b.map(function(c){return kh(c,"main",f)}))).filter(function(c){return c})}function Ej(b,f,a,c){return Object.assign.apply(null,[{}].concat($jscomp.arrayFromIterable(b.map(function(e){if("axisOrient"===e){e="x"===a?"bottom":"left";var k=f["x"===a?"axisBottom":"axisLeft"]||{},r=f["x"===a?"axisTop":"axisRight"]||{},F=new Set([].concat($jscomp.arrayFromIterable(fd(k)),
$jscomp.arrayFromIterable(fd(r)))),R={};F=$jscomp.makeIterator(F.values());for(var Ca=F.next();!Ca.done;Ca=F.next())Ca=Ca.value,R[Ca]={signal:c.signal+' \x3d\x3d\x3d "'+e+'" ? '+yb(k[Ca])+" : "+yb(r[Ca])};return R}return f[e]}))))}function Vl(b,f,a,c){var e="band"===f?["axisDiscrete","axisBand"]:"point"===f?["axisDiscrete","axisPoint"]:f in $i?["axisQuantitative"]:"time"===f||"utc"===f?["axisTemporal"]:[],k="x"===b?"axisX":"axisY";f=ea(a)?"axisOrient":"axis"+pa(a);e=[].concat($jscomp.arrayFromIterable(e),
$jscomp.arrayFromIterable(e.map(function(r){return k+r.substr(4)})));f=["axis",f,k];return{vlOnlyAxisConfig:Ej(e,c,b,a),vgAxisConfig:Ej(f,c,b,a),axisConfigStyle:jk([].concat($jscomp.arrayFromIterable(f),$jscomp.arrayFromIterable(e)),c)}}function jk(b,f){var a=[{}];b=$jscomp.makeIterator(b);for(var c=b.next();!c.done;c=b.next()){var e;if(c=null===(e=f[c.value])||void 0===e?void 0:e.style){c=x.array(c);c=$jscomp.makeIterator(c);for(var k=c.next();!k.done;k=c.next())a.push(f.style[k.value])}}return Object.assign.apply(null,
a)}function Dg(b,f,a,c){c=void 0===c?{}:c;f=uc(b,a,f);if(void 0!==f)return{configFrom:"style",configValue:f};f=$jscomp.makeIterator(["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]);for(a=f.next();!a.done;a=f.next()){a=a.value;var e;if(void 0!==(null===(e=c[a])||void 0===e?void 0:e[b]))return{configFrom:a,configValue:c[a][b]}}return{}}function Dh(b,f,a,c,e){var k=null===f||void 0===f?void 0:f.labelAngle;if(void 0!==k)return ea(k)?k:J(k);f=Dg("labelAngle",c,null===f||void 0===f?void 0:f.style,
e).configValue;if(void 0!==f)return J(f);if("x"===a&&Sa(["nominal","ordinal"],b.type)&&(!Nc(b)||!b.timeUnit))return 270}function Zg(b){return"((("+b.signal+" % 360) + 360) % 360)"}function lh(b,f,a,c){if(void 0!==b)return"x"===a?ea(b)?(c=Zg(b),f=ea(f)?"("+f.signal+' \x3d\x3d\x3d "top")':"top"===f,{signal:"(45 \x3c "+c+" \x26\x26 "+c+" \x3c 135) || (225 \x3c "+c+" \x26\x26 "+c+' \x3c 315) ? "middle" :('+(c+" \x3c\x3d 45 || 315 \x3c\x3d "+c+") \x3d\x3d\x3d "+f+' ? "bottom" : "top"')}):45<b&&135>b||
225<b&&315>b?"middle":ea(f)?{signal:f.signal+" "+(45>=b||315<=b?"\x3d\x3d\x3d":"!\x3d\x3d")+' "top" ? "bottom" : "top"'}:(45>=b||315<=b)===("top"===f)?"bottom":"top":ea(b)?(b=Zg(b),f=ea(f)?"("+f.signal+' \x3d\x3d\x3d "left")':"left"===f,{signal:b+" \x3c\x3d 45 || 315 \x3c\x3d "+b+" || (135 \x3c\x3d "+b+" \x26\x26 "+b+" \x3c\x3d 225) ? "+(c?'"middle"':"null")+" : (45 \x3c\x3d "+b+" \x26\x26 "+b+" \x3c\x3d 135) \x3d\x3d\x3d "+f+' ? "top" : "bottom"'}):45>=b||315<=b||135<=b&&225>=b?c?"middle":null:ea(f)?
{signal:f.signal+" "+(45<=b&&135>=b?"\x3d\x3d\x3d":"!\x3d\x3d")+' "left" ? "top" : "bottom"'}:(45<=b&&135>=b)===("left"===f)?"top":"bottom"}function zi(b,f,a){if(void 0!==b){var c=(a="x"===a)?0:90,e=a?"bottom":"left";return ea(b)?(b=Zg(b),f=ea(f)?"("+f.signal+' \x3d\x3d\x3d "'+e+'")':f===e,{signal:"("+(c?"("+b+" + 90)":b)+" % 180 \x3d\x3d\x3d 0) ? "+(a?null:'"center"')+" :("+(c+" \x3c "+b+" \x26\x26 "+b+" \x3c "+(180+c)+") \x3d\x3d\x3d "+f+' ? "left" : "right"')}):0===(b+c)%180?a?null:"center":ea(f)?
{signal:f.signal+" "+(c<b&&b<180+c?"\x3d\x3d\x3d":"!\x3d\x3d")+' "'+e+'" ? "left" : "right"'}:(c<b&&b<180+c)===(f===e)?"left":"right"}}function Ai(b,f){var a="x"===f?"x2":"y2";f=b.fieldDef(f);b=b.fieldDef(a);a=f?f.title:void 0;b=b?b.title:void 0;if(a&&b)return Lc(a,b);if(a)return a;if(b)return b;if(void 0!==a)return a;if(void 0!==b)return b}function $g(b,f,a){return ad(b,Object.assign({},{prefix:f,suffix:"sort_index"},null!==a&&void 0!==a?a:{}))}function aj(b,f){return Sa(["top","bottom"],f)?"column":
Sa(["left","right"],f)?"row":"row"===b?"row":"column"}function Mg(b,f,a,c){return y((f||{})[b],("row"===c?a.headerRow:"column"===c?a.headerColumn:a.headerFacet)[b],a.header[b])}function Bi(b,f,a,c){var e={};b=$jscomp.makeIterator(b);for(var k=b.next();!k.done;k=b.next()){k=k.value;var r=Mg(k,f||{},a,c);void 0!==r&&(e[k]=r)}return e}function dl(b,f){var a=b.component.layoutHeaders[f].title,c=b.config?b.config:void 0;b=b.component.layoutHeaders[f].facetFieldDef?b.component.layoutHeaders[f].facetFieldDef:
void 0;var e=Bi(["titleAnchor","titleAngle","titleOrient"],b.header,c,f),k=e.titleAnchor,r=e.titleAngle;e=aj(f,e.titleOrient);r=J(r);return{name:f+"-title",type:"group",role:e+"-title",title:Object.assign({},{text:a},"row"===f?{orient:"left"}:{},{style:"guide-title"},kk(r,e),lk(e,r,k),Fj(c,b,f,Be,kd))}}function lk(b,f,a){switch(void 0===a?"middle":a){case "start":return{align:"left"};case "end":return{align:"right"}}return(b=zi(f,"row"===b?"left":"top","row"===b?"y":"x"))?{align:b}:{}}function kk(b,
f){return(b=lh(b,"row"===f?"left":"top","row"===f?"y":"x",!0))?{baseline:b}:{}}function el(b,f){for(var a=b.component.layoutHeaders[f],c=[],e=$jscomp.makeIterator(Wl),k=e.next();!k.done;k=e.next())if(k=k.value,a[k])for(var r=$jscomp.makeIterator(a[k]),F=r.next();!F.done;F=r.next()){F=F.value;a:{var R=b,Ca=f;if(F){var Xa=null,jb=a.facetFieldDef,zb=R.config?R.config:void 0;if(jb&&F.labels){var ac=Bi(["labelOrient"],jb.header,zb,Ca).labelOrient;if("row"===Ca&&!Sa(["top","bottom"],ac)||"column"===Ca&&
!Sa(["left","right"],ac))Xa=Gj(jb,Ca,zb)}zb=hg(R)&&!Yb(R.facet);ac=F.axes;var nc=0<(null===ac||void 0===ac?void 0:ac.length);if(Xa||nc){var kc="row"===Ca?"height":"width",cd={};F=Object.assign({},{name:R.getName(Ca+"_"+k),type:"group",role:Ca+"-"+k},a.facetFieldDef?{from:{data:R.getName(Ca+"_domain")},sort:fl(jb,Ca)}:{},nc&&zb?{from:{data:R.getName("facet_domain_"+Ca)}}:{},Xa?{title:Xa}:{},F.sizeSignal?{encode:{update:(cd[kc]=F.sizeSignal,cd)}}:{},nc?{axes:ac}:{});break a}}F=null}null!=F&&c.push(F)}return c}
function fl(b,f){var a=b.sort;if(cc(a)){var c;return{field:ad(a,{expr:"datum"}),order:null!==(c=a.order)&&void 0!==c?c:"ascending"}}return x.isArray(a)?{field:$g(b,f,{expr:"datum"}),order:"ascending"}:{field:ad(b,{expr:"datum"}),order:null!==a&&void 0!==a?a:"ascending"}}function Gj(b,f,a){var c=Bi("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),b.header,a,f),e=c.labelAngle,k=c.labelAnchor,r=c.labelOrient,F=c.labelExpr;c=qe({fieldOrDatumDef:b,format:c.format,formatType:c.formatType,
expr:"parent",config:a}).signal;r=aj(f,r);return Object.assign({},{text:{signal:F?$a($a(F,"datum.label",c),"datum.value",ad(b,{expr:"parent"})):c}},"row"===f?{orient:"left"}:{},{style:"guide-label",frame:"group"},kk(e,r),lk(r,e,k),Fj(a,b,f,ue,be))}function Fj(b,f,a,c,e){var k={};c=$jscomp.makeIterator(c);for(var r=c.next();!r.done;r=c.next())if(r=r.value,e[r]){var F=Mg(r,null===f||void 0===f?void 0:f.header,b,a);void 0!==F&&(k[e[r]]=F)}return k}function mk(b){return[].concat($jscomp.arrayFromIterable(Hj(b,
"width")),$jscomp.arrayFromIterable(Hj(b,"height")),$jscomp.arrayFromIterable(Hj(b,"childWidth")),$jscomp.arrayFromIterable(Hj(b,"childHeight")))}function Hj(b,f){var a="width"===f?"x":"y",c=b.component.layoutSize.get(f);if(!c||"merged"===c)return[];f=b.getSizeSignalRef(f).signal;if("step"===c){if(c=b.getScaleComponent(a)){var e=c.get("type"),k=c.get("range");if(e in Of&&U(k))return e=b.scaleName(a),hg(b.parent)&&"independent"===b.parent.component.resolve.scale[a]?[{name:e+"_step",value:k.step}]:
[{name:e+"_step",value:k.step},{name:f,update:hf(e,c,"domain('"+e+"').length")}]}throw Error("layout size is step although width/height is not step.");}return"container"==c?(a=(c=f.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",b=Fb(b.config.view,c?"width":"height"),b="isFinite("+a+") ? "+a+" : "+b,[{name:f,init:b,on:[{update:b,events:"window:resize"}]}]):[{name:f,value:c}]}function hf(b,f,a){var c=f.get("type"),e=f.get("padding"),k=y(f.get("paddingOuter"),e);f=f.get("paddingInner");
return"bandspace("+a+", "+yb("band"===c?void 0!==f?f:e:1)+", "+yb(k)+") * "+b+"_step"}function mh(b){return"childWidth"===b?"width":"childHeight"===b?"height":b}function gl(b,f){return fd(b).reduce(function(a,c){return Object.assign({},a,si(f,b[c],c,function(e){return lb(e.value)}))},{})}function hl(b,f){if(Uh(f)||hg(f))return"shared";if(Ij(f))return b in Bf?"independent":"shared";throw Error("invalid model type for resolve");}function nk(b,f){var a=f in Bf?"axis":"legend";return"independent"===b.scale[f]?
("shared"===b[a][f]&&Ma('Setting the scale to be independent for "'+f+'" means we also have to set the guide (axis or legend) to be independent.'),"independent"):b[a][f]||"shared"}function il(b){return nh(b,function(f,a){return Math.max(f,a.value)})}function Ci(b){return nh(b,function(f,a){return y(f,a.value)})}function nh(b,f){var a=b&&b.condition;if(a&&(x.isArray(a)||We(a)))return x.array(b.condition).reduce(f,b.value);if(We(b))return b.value}function Jj(b,f,a){b=f.get("selections");if(null!==b&&
void 0!==b&&b.length){var c=x.stringValue(a.field);return b.map(function(e){return"(!length(data("+x.stringValue(va(e)+"_store")+")) || ("+e+"["+c+"] \x26\x26 indexof("+e+"["+c+"], datum.value) \x3e\x3d 0))"}).join(" || ")}}function bj(b){if(vf(b)){var f=b.encoding;for(var a={},c=$jscomp.makeIterator(["color"].concat($jscomp.arrayFromIterable(ic))),e=c.next();!e.done;e=c.next()){e=e.value;var k=Ab(f[e]);if(k&&b.getScaleComponent(e)&&("shape"!==e||!Nc(k)||"geojson"!==k.type)){var r=k=void 0,F=void 0,
R=void 0,Ca=void 0,Xa=void 0;var jb=void 0;var zb=b,ac=zb.legend(e),nc=zb.markDef,kc=zb.encoding,cd=zb.config,zc=cd.legend,td=new Cm({},Di(zb,e)),Sd=null===(R=zb.fieldDef(e))||void 0===R?void 0:R.field;R=$jscomp.makeIterator(gg(null!==(He=zb.component.selection)&&void 0!==He?He:{}));for(var zd=R.next();!zd.done;zd=R.next()){zd=zd.value;var He,De,af=null!==(De=zd.project.hasField[Sd])&&void 0!==De?De:zd.project.hasChannel[e];if(af&&Dm.defined(zd)){var Ne,Uf=null!==(Ne=td.get("selections"))&&void 0!==
Ne?Ne:[];Uf.push(zd.name);td.set("selections",Uf,!1);af.hasLegend=!0}}Sd=void 0!==ac?!ac:zc.disable;td.set("disable",Sd,void 0!==ac);if(!Sd){ac=ac||{};R=zb.getScaleComponent(e).get("type");Sd=Ab(kc[e]);af=Nc(Sd)?null===(jb=Wc(Sd.timeUnit))||void 0===jb?void 0:jb.unit:void 0;zd=ac.orient||cd.legend.orient||"right";jb=ac.type;b:{Uf=R;if(Pa(e)){if(Sa(["quarter","month","day"],af)){af="symbol";break b}if(Uf in ag){af="gradient";break b}}af="symbol"}jb=y(jb,af);af=zc;Uf=jb;var sg=zd;if(null!==(F=null!==
(r=ac.direction)&&void 0!==r?r:af[Uf?"gradientDirection":"symbolDirection"])&&void 0!==F)r=F;else b:{switch(sg){case "top":case "bottom":r="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:r="gradient"===Uf?"horizontal":void 0;break b}r=void 0}nc={legend:ac,channel:e,model:zb,markDef:nc,encoding:kc,fieldOrDatumDef:Sd,legendConfig:zc,config:cd,scaleType:R,orient:zd,legendType:jb,direction:r};kc=$jscomp.makeIterator(Em);for(zc=kc.next();!zc.done;zc=kc.next())if(zc=
zc.value,!("gradient"===jb&&zc.startsWith("symbol")||"symbol"===jb&&zc.startsWith("gradient"))&&(r=zc in Fm?Fm[zc](nc):ac[zc],void 0!==r)){b:{F=zb.fieldDef(e);switch(zc){case "disable":F=void 0!==ac;break b;case "values":F=!(null===ac||void 0===ac||!ac.values);break b;case "title":if("title"===zc&&r===(null===F||void 0===F?void 0:F.title)){F=!0;break b}}F=r===(ac||{})[zc]}(F||void 0===cd.legend[zc])&&td.set(zc,r,F)}cd=null!==(Xa=null===(Ca=ac)||void 0===Ca?void 0:Ca.encoding)&&void 0!==Xa?Xa:{};Ca=
td.get("selections");Xa={};nc={fieldOrDatumDef:Sd,model:zb,channel:e,legendCmpt:td,legendType:jb};kc=$jscomp.makeIterator("labels legend title symbols gradient entries".split(" "));for(zc=kc.next();!zc.done;zc=kc.next()){zc=zc.value;var Ng;r=gl(null!==(Ng=cd[zc])&&void 0!==Ng?Ng:{},zb);r=zc in Gm?Gm[zc](r,nc):r;void 0===r||Oa(r)||(Xa[zc]=Object.assign({},null!==Ca&&void 0!==Ca&&Ca.length&&Nc(Sd)?{name:va(Sd.field)+"_legend_"+zc}:{},null!==Ca&&void 0!==Ca&&Ca.length?{interactive:!!Ca}:{},{update:r}))}Oa(Xa)||
td.set("encode",Xa,!(null===(k=ac)||void 0===k||!k.encoding))}k=td;a[e]=k}}f=a}else{a=b.component;f=a.legends;a=a.resolve;c=$jscomp.makeIterator(b.children);for(He=c.next();!He.done;He=c.next())for(He=He.value,bj(He),De=$jscomp.makeIterator(fd(He.component.legends)),Ne=De.next();!Ne.done;Ne=De.next())Ne=Ne.value,a.legend[Ne]=nk(b.component.resolve,Ne),"shared"===a.legend[Ne]&&(f[Ne]=Kj(f[Ne],He.component.legends[Ne]),f[Ne]||(a.legend[Ne]="independent",delete f[Ne]));c=$jscomp.makeIterator(fd(f));
for(Ne=c.next();!Ne.done;Ne=c.next())for(De=Ne.value,Ne=$jscomp.makeIterator(b.children),He=Ne.next();!He.done;He=Ne.next())He=He.value,He.component.legends[De]&&"shared"===a.legend[De]&&delete He.component.legends[De]}return b.component.legends=f}function Di(b,f){var a=b.scaleName(f);if("trail"===b.mark){if("color"===f)return{stroke:a};if("size"===f)return{strokeWidth:a}}if("color"===f)return b.markDef.filled?{fill:a}:{stroke:a};b={};return b[f]=a,b}function Kj(b,f){if(!b)return f.clone();var a=
b.getWithExplicit("orient"),c=f.getWithExplicit("orient");if(!a.explicit||!c.explicit||a.value===c.value){var e=!1;a={};c=$jscomp.makeIterator(Em);for(var k=c.next();!k.done;a={$jscomp$loop$prop$prop$746:a.$jscomp$loop$prop$prop$746},k=c.next())a.$jscomp$loop$prop$prop$746=k.value,k=Ie(b.getWithExplicit(a.$jscomp$loop$prop$prop$746),f.getWithExplicit(a.$jscomp$loop$prop$prop$746),a.$jscomp$loop$prop$prop$746,"legend",function(Xa){return function(jb,zb){switch(Xa.$jscomp$loop$prop$prop$746){case "symbolType":return jb=
"circle"===zb.value?zb:jb,jb;case "title":return Xc(jb,zb);case "type":return e=!0,Vc("symbol")}return ze(jb,zb,Xa.$jscomp$loop$prop$prop$746,"legend")}}(a)),b.setWithExplicit(a.$jscomp$loop$prop$prop$746,k);if(e){var r,F,R,Ca;null!==(r=b.implicit)&&void 0!==r&&null!==(F=r.encode)&&void 0!==F&&F.gradient&&fa(b.implicit,["encode","gradient"]);null!==(R=b.explicit)&&void 0!==R&&null!==(Ca=R.encode)&&void 0!==Ca&&Ca.gradient&&fa(b.explicit,["encode","gradient"])}return b}}function Ei(b){for(var f=b.component.legends,
a={},c=$jscomp.makeIterator(fd(f)),e=c.next();!e.done;e=c.next()){e=e.value;var k=b.getScaleComponent(e);k=ff(k.get("domains"));if(a[k])for(var r=$jscomp.makeIterator(a[k]),F=r.next();!F.done;F=r.next())Kj(F.value,f[e])||a[k].push(f[e]);else a[k]=[f[e].clone()]}return gg(a).flat().map(function(R){var Ca=b.config,Xa;R=R.combine();var jb=Object.assign({},R),zb=R.disable;R=R.labelExpr;jb=(delete jb.disable,delete jb.labelExpr,delete jb.selections,jb);if(zb)var ac=void 0;else{!1===Ca.aria&&void 0==jb.aria&&
(jb.aria=!1);if(null!==(Xa=jb.encode)&&void 0!==Xa&&Xa.symbols)for(Ca=jb.encode.symbols.update,!Ca.fill||"transparent"===Ca.fill.value||Ca.stroke||jb.stroke||(Ca.stroke={value:"transparent"}),Xa=$jscomp.makeIterator(ic),zb=Xa.next();!zb.done;zb=Xa.next())zb=zb.value,jb[zb]&&delete Ca[zb];jb.title||delete jb.title;if(void 0!==R){var nc,kc;Ca=R;null!==(nc=jb.encode)&&void 0!==nc&&null!==(kc=nc.labels)&&void 0!==kc&&kc.update&&ea(jb.encode.labels.update.text)&&(Ca=$a(R,"datum.label",jb.encode.labels.update.text.signal));
nc={signal:Ca};var cd,zc,td,Sd;null!==(ac=jb.encode)&&void 0!==ac?ac:jb.encode={};null!==(zc=(cd=jb.encode).labels)&&void 0!==zc?zc:cd.labels={};null!==(Sd=(td=jb.encode.labels).update)&&void 0!==Sd?Sd:td.update={};jb.encode.labels.update.text=nc}ac=jb}return ac}).filter(function(R){return void 0!==R})}function Xl(b){return b.children.reduce(function(f,a){return f.concat(a.assembleProjections())},Lj(b))}function Lj(b){var f=b.component.projection;if(!f||f.merged)return[];var a=f.combine(),c=a.name;
if(f.data){var e={signal:"["+f.size.map(function(k){return k.signal}).join(", ")+"]"};f=f.data.reduce(function(k,r){r=ea(r)?r.signal:"data('"+b.lookupDataSource(r)+"')";k.includes(r)||k.push(r);return k},[]);if(0>=f.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:c,size:e,fit:{signal:1<f.length?"["+f.join(", ")+"]":f[0]}},a)]}return[Object.assign({},{name:c},{translate:{signal:"[width / 2, height / 2]"}},a)]}function Mj(b){if(b.hasProjection){var f,
a=aa(b.specifiedProjection),c=!(a&&(null!=a.scale||null!=a.translate)),e=c?[b.getSizeSignalRef("width"),b.getSizeSignalRef("height")]:void 0;if(c){c=[];for(var k=b.encoding,r=$jscomp.makeIterator([["longitude","latitude"],["longitude2","latitude2"]]),F=r.next();!F.done;F=r.next())F=F.value,(Ab(k[F[0]])||Ab(k[F[1]]))&&c.push({signal:b.getName("geojson_"+c.length)});b.channelHasField("shape")&&"geojson"===b.typedFieldDef("shape").type&&c.push({signal:b.getName("geojson_"+c.length)});0===c.length&&c.push(b.requestDataName(wf.Main))}else c=
void 0;b=new jl(b.projectionName(!0),Object.assign({},null!==(f=aa(b.config.projection))&&void 0!==f?f:{},null!==a&&void 0!==a?a:{}),e,c);b.get("type")||b.set("type","equalEarth",!1);return b}}function cj(b,f){var a=za(dn,function(c){return!x.hasOwnProperty(b.explicit,c)&&!x.hasOwnProperty(f.explicit,c)||x.hasOwnProperty(b.explicit,c)&&x.hasOwnProperty(f.explicit,c)&&rg(b.get(c),f.get(c))?!0:!1});if(rg(b.size,f.size)){if(a)return b;if(rg(b.explicit,{}))return f;if(rg(f.explicit,{}))return b}return null}
function dj(b){if(0!==b.children.length){for(var f,a=$jscomp.makeIterator(b.children),c=a.next();!c.done;c=a.next()){var e=c.value;e.component.projection=vf(e)?Mj(e):dj(e)}a=za(b.children,function(r){if(r=r.component.projection){if(f)return(r=cj(f,r))&&(f=r),!!r;f=r}return!0});if(f&&a){a=b.projectionName(!0);e=new jl(a,f.specifiedProjection,f.size,Ge(f.data));b=$jscomp.makeIterator(b.children);for(c=b.next();!c.done;c=b.next()){c=c.value;var k=c.component.projection;k&&(k.isFit&&e.data.push.apply(e.data,
$jscomp.arrayFromIterable(c.component.projection.data)),c.renameProjection(k.get("name"),a),k.merged=!0)}return e}}}function kl(b,f,a,c){if(Id(f,a)){var e,k;b=vf(b)?null!==(e=null!==(k=b.axis(a))&&void 0!==k?k:b.legend(a))&&void 0!==e?e:{}:{};e=ad(f,{expr:"datum"});k=ad(f,{expr:"datum",binSuffix:"end"});return{formulaAs:ad(f,{binSuffix:"range",forAs:!0}),formula:Vd(e,k,b.format,b.formatType,c)}}return{}}function ok(b,f,a){var c;a=null!==(c=Sc(a,void 0))&&void 0!==c?c:{};f=ba(a)+"_"+f;return b.getName(f+
"_bins")}function ll(b,f,a){var c="as"in b?x.isString(b.as)?[b.as,b.as+"_end"]:[b.as[0],b.as[1]]:[ad(b,{forAs:!0}),ad(b,{binSuffix:"end",forAs:!0})];f=Object.assign({},Sc(f,void 0));var e=b.field;e=ba(f)+"_"+e;var k=a.getName(e+"_bins");var r=a.getName(e+"_extent");if(db(f.extent)){var F=f.extent;F=Ch(a,F.param,F);delete f.extent}b=Object.assign({},{bin:f,field:b.field,as:[c]},k?{signal:k}:{},r?{extentSignal:r}:{},F?{span:F}:{});return{key:e,binComponent:b}}function ml(b){return"'"===b[0]&&"'"===
b[b.length-1]||'"'===b[0]&&'"'===b[b.length-1]?b.slice(1,-1):b}function pk(b,f){b=da(b);if("number"===f)return"toNumber("+b+")";if("boolean"===f)return"toBoolean("+b+")";if("string"===f)return"toString("+b+")";if("date"===f)return"toDate("+b+")";if("flatten"===f)return b;if(f.startsWith("date:"))return f=ml(f.slice(5,f.length)),"timeParse("+b+",'"+f+"')";if(f.startsWith("utc:"))return f=ml(f.slice(4,f.length)),"utcParse("+b+",'"+f+"')";Ma('Unrecognized parse "'+f+'".');return null}function Yl(b){var f=
{};Gb(b.filter,function(a){if(Ke(a)){var c=null;if(od(a))c=Ta(a.equal);else if(wd(a))c=Ta(a.lte);else if(ld(a))c=Ta(a.lt);else if(Rd(a))c=Ta(a.gt);else if(Hd(a))c=Ta(a.gte);else if(ce(a))c=a.range[0];else if(ke(a)){var e;c=(null!==(e=a.oneOf)&&void 0!==e?e:a["in"])[0]}c&&(bc(c)?f[a.field]="date":x.isNumber(c)?f[a.field]="number":x.isString(c)&&(f[a.field]="string"));a.timeUnit&&(f[a.field]="date")}});return f}function Zl(b){function f(k){if($c(k))a[k.field]="date";else{var r;if(r="quantitative"===
k.type)r=k.aggregate,r=x.isString(r)&&Sa(["min","max"],r);r?a[k.field]="number":1<u(k.field)?k.field in a||(a[k.field]="flatten"):lf(k)&&cc(k.sort)&&1<u(k.sort.field)&&(k.sort.field in a||(a[k.sort.field]="flatten"))}}var a={};(vf(b)||hg(b))&&b.forEachFieldDef(function(k,r){Oe(k)?f(k):(r=M(r),r=b.fieldDef(r),f(Object.assign({},k,{type:r.type})))});if(vf(b)){var c=b.markDef,e=b.encoding;lc(b.mark)&&!b.encoding.order&&(c=e["horizontal"===c.orient?"y":"x"],!Nc(c)||"quantitative"!==c.type||c.field in
a||(a[c.field]="number"))}return a}function qk(b){return b instanceof tg||b instanceof Eh||b instanceof Fh}function $l(b){return b.stack.stackBy.reduce(function(f,a){(a=ad(a.fieldDef))&&f.push(a);return f},[])}function am(b){return x.isArray(b)&&b.every(function(f){return x.isString(f)})&&1<b.length}function nl(b){function f(a){if(!(a instanceof ng)){var c=a.clone();if(c instanceof Gf){var e="scale_"+c.getSource();c.setSource(e);b.model.component.data.outputNodes[e]=c}else(c instanceof Nf||c instanceof
Vf||c instanceof Og||c instanceof Eg)&&c.addDimensions(b.fields);a=$jscomp.makeIterator(a.children.flatMap(f));for(e=a.next();!e.done;e=a.next())e.value.parent=c;return[c]}return a.children.flatMap(f)}return f}function rk(b){if(b instanceof ng)if(1!==b.numChildren()||b.children[0]instanceof Gf){var f=b.model.component.data.main;ol(f);var a=nl(b);b=b.children.map(a).flat();b=$jscomp.makeIterator(b);for(a=b.next();!a.done;a=b.next())a.value.parent=f}else f=b.children[0],(f instanceof Nf||f instanceof
Vf||f instanceof Og||f instanceof Eg)&&f.addDimensions(b.fields),f.swapWithParent(),rk(b);else b.children.map(rk)}function ol(b){if(b instanceof Gf&&b.type===wf.Main&&1===b.numChildren()){var f=b.children[0];f instanceof ng||(f.swapWithParent(),ol(b))}}function sk(b){b=$jscomp.makeIterator(b);for(var f=b.next();!f.done;f=b.next()){f=f.value;for(var a=$jscomp.makeIterator(f.children),c=a.next();!c.done;c=a.next())if(c.value.parent!==f)return!1;if(!sk(f.children))return!1}return!0}function Pg(b,f){var a=
!1;f=$jscomp.makeIterator(f);for(var c=f.next();!c.done;c=f.next())a=b.optimize(c.value)||a;return a}function pl(b,f,a){var c=b.sources,e=!1;e=Pg(new bm,c)||e;e=Pg(new cm(f),c)||e;c=c.filter(function(k){return 0<k.numChildren()});e=Pg(new dm,c)||e;c=c.filter(function(k){return 0<k.numChildren()});a||(e=Pg(new em,c)||e,e=Pg(new fm(f),c)||e,e=Pg(new ql,c)||e,e=Pg(new gm,c)||e,e=Pg(new hm,c)||e,e=Pg(new im,c)||e,e=Pg(new rl,c)||e,e=Pg(new jm,c)||e);b.sources=c;return e}function sl(b){for(var f=b.component.scales,
a=$jscomp.makeIterator(fd(f)),c=a.next();!c.done;c=a.next()){c=c.value;var e=b,k=e.getScaleComponent(c).get("type"),r=e.encoding;var F=e.scaleDomain(c);var R=e.typedFieldDef(c),Ca=e.config.scale;"unaggregated"===F?(R=tl(R,k),Ca=R.reason,R.valid||(Ma(Ca),F=void 0)):void 0===F&&Ca.useUnaggregatedDomain&&tl(R,k).valid&&(F="unaggregated");F!==e.scaleDomain(c)&&(e.specifiedScales[c]=Object.assign({},e.specifiedScales[c],{domain:F}));e="x"===c&&Ab(r.x2)?Ab(r.x)?Ie(Gh(k,F,e,"x"),Gh(k,F,e,"x2"),"domain",
"scale",tk):Gh(k,F,e,"x2"):"y"===c&&Ab(r.y2)?Ab(r.y)?Ie(Gh(k,F,e,"y"),Gh(k,F,e,"y2"),"domain","scale",tk):Gh(k,F,e,"y2"):Gh(k,F,e,c);f[c].setWithExplicit("domains",e);F=void 0;k=b.component.scales[c];R=b.specifiedScales[c].domain;r=null===(F=b.fieldDef(c))||void 0===F?void 0:F.bin;F=Tb(R)&&R;r=x.isObject(r)&&db(r.extent)&&r.extent;(F||r)&&k.set("selectionExtent",null!==F&&void 0!==F?F:r,!0);if(b.component.data.isFaceted){for(k=b;!hg(k)&&k.parent;)k=k.parent;if("shared"===k.component.resolve.scale[c])for(c=
$jscomp.makeIterator(e.value),e=c.next();!e.done;e=c.next())e=e.value,Fa(e)&&(e.data="scale_"+e.data.replace("scale_",""))}}}function uk(b){for(var f=$jscomp.makeIterator(b.children),a=f.next();!a.done;a=f.next()){var c=a.value;vf(c)?sl(c):uk(c)}f=b.component.scales;c=$jscomp.makeIterator(fd(f));for(var e=c.next();!e.done;e=c.next()){e=e.value;var k=void 0,r=null,F=$jscomp.makeIterator(b.children);for(a=F.next();!a.done;a=F.next())if(a=a.value.component.scales[e])k=void 0===k?a.getWithExplicit("domains"):
Ie(k,a.getWithExplicit("domains"),"domains","scale",tk),a=a.get("selectionExtent"),r&&a&&r.param!==a.param&&Ma("The same selection must be used to override scale domains in a layered view."),r=a;f[e].setWithExplicit("domains",k);r&&f[e].set("selectionExtent",r,!0)}}function km(b,f,a){return b.map(function(c){return{signal:"{data: "+nd(c,{timeUnit:a,type:f})+"}"}})}function vk(b,f,a){var c;a=null===(c=Wc(a))||void 0===c?void 0:c.unit;return"temporal"===f||a?km(b,f,a):[b]}function Gh(b,f,a,c){var e=
Ab(a.encoding[c]),k=e.type,r=e.timeUnit;if(f&&f.unionWith)return c=Gh(b,void 0,a,c),e=vk(f.unionWith,k,r),ud([].concat($jscomp.arrayFromIterable(c.value),$jscomp.arrayFromIterable(e)));if(ea(f))return ud([f]);if(f&&"unaggregated"!==f&&!Tb(f))return ud(vk(f,k,r));var F=a.stack;if(F&&c===F.fieldChannel){if("normalize"===F.offset)return Vc([[0,1]]);e=a.requestDataName(wf.Main);return Vc([{data:e,field:a.vgField(c,{suffix:"start"})},{data:e,field:a.vgField(c,{suffix:"end"})}])}F=xg[c]&&Nc(e)?lm(a,c,b):
void 0;if(ve(e))return c=vk([e.datum],k,r),Vc(c);if("unaggregated"===f)return c=a.requestDataName(wf.Main),e=e.field,Vc([{data:c,field:ad({field:e,aggregate:"min"})},{data:c,field:ad({field:e,aggregate:"max"})}]);if(Ga(e.bin)){if(b in Of)return"bin-ordinal"===b?Vc([]):Vc([{data:Aa(F)?a.requestDataName(wf.Main):a.requestDataName(wf.Raw),field:a.vgField(c,Id(e,c)?{binSuffix:"range"}:{}),sort:!0!==F&&x.isObject(F)?F:{field:a.vgField(c,{}),op:"min"}}]);f=e.bin;if(Ga(f)){var R=ok(a,e.field,f);return Vc([new Fg(function(){var Ca=
a.getSignalName(R);return"["+Ca+".start, "+Ca+".stop]"})])}return Vc([{data:a.requestDataName(wf.Main),field:a.vgField(c,{})}])}return e.timeUnit&&Sa(["time","utc"],b)&&de(e,vf(a)?a.encoding[ka(c)]:void 0,a.markDef,a.config)?(e=a.requestDataName(wf.Main),Vc([{data:e,field:a.vgField(c)},{data:e,field:a.vgField(c,{suffix:"end"})}])):F?Vc([{data:Aa(F)?a.requestDataName(wf.Main):a.requestDataName(wf.Raw),field:a.vgField(c),sort:F}]):Vc([{data:a.requestDataName(wf.Main),field:a.vgField(c)}])}function wk(b,
f){var a=b.op,c=b.field;b=b.order;return Object.assign({},{op:null!==a&&void 0!==a?a:f?"sum":"min"},c?{field:wa(c)}:{},b?{order:b}:{})}function lm(b,f,a){if(a in Of){a=b.fieldDef(f);var c=a.sort;if(Wd(c))return{op:"min",field:$g(a,f),order:"ascending"};var e=(a=b.stack)?[].concat($jscomp.arrayFromIterable(a.groupbyField?[a.groupbyField]:[]),$jscomp.arrayFromIterable(a.stackBy.map(function(r){return r.fieldDef.field}))):void 0;if(cc(c))return a=a&&!e.includes(c.field),wk(c,a);if(c&&c.encoding){f=c.order;
b=b.fieldDef(c.encoding);c=b.aggregate;var k=b.field;a=a&&!e.includes(k);if(t(c)||G(c))return wk({field:ad(b),order:f},a);if(L(c)||!c)return wk({op:c,field:k,order:f},a)}else{if("descending"===c)return{op:"min",field:b.vgField(f),order:"descending"};if(Sa(["ascending",void 0],c))return!0}}}function tl(b,f){var a=b.aggregate,c=b.type;return a?x.isString(a)&&!mm[a]?{valid:!1,reason:'Unaggregated domain not applicable for "'+a+'" since it produces values outside the origin domain of the source data.'}:
"quantitative"===c&&"log"===f?{valid:!1,reason:"Unaggregated domain is currently unsupported for log scale ("+ff(b)+")."}:{valid:!0}:{valid:!1,reason:"Using unaggregated domain with raw field has no effect ("+ff(b)+")."}}function tk(b,f,a,c){if(b.explicit&&f.explicit){var e=f.value;a="Conflicting "+c.toString()+' property "'+a.toString()+'" ('+ff(b.value)+" and "+ff(e)+"). Using the union of the two domains.";Ma(a)}return{explicit:b.explicit,value:[].concat($jscomp.arrayFromIterable(b.value),$jscomp.arrayFromIterable(f.value))}}
function xk(b){var f=na(b.map(function(e){return Fa(e)?(e=Object.assign({},e),delete e.sort,e):e}),rb),a=na(b.map(function(e){if(Fa(e))return e=e.sort,void 0===e||Aa(e)||("op"in e&&"count"===e.op&&delete e.field,"ascending"===e.order&&delete e.order),e}).filter(function(e){return void 0!==e}),rb);if(0!==f.length){if(1===f.length){f=b[0];if(Fa(f)&&0<a.length){var c=a[0];1<a.length?(Ma("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),c=!0):x.isObject(c)&&
"field"in c&&f.field===c.field&&(c=c.order?{order:c.order}:!0);return Object.assign({},f,{sort:c})}return f}a=na(a.map(function(e){if(Aa(e)||!("op"in e)||x.isString(e.op)&&e.op in nm)return e;Ma("Dropping sort property "+ff(e)+' as unioned domains only support boolean or op "count", "min", and "max".');return!0}),rb);1===a.length?c=a[0]:1<a.length&&(Ma("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),c=!0);a=na(b.map(function(e){return Fa(e)?e.data:null}),
function(e){return e});return 1===a.length&&null!==a[0]?Object.assign({},{data:a[0],fields:f.map(function(e){return e.field})},c?{sort:c}:{}):Object.assign({},{fields:f},c?{sort:c}:{})}}function ci(b){if(Fa(b)&&x.isString(b.field))return b.field;var f=x.isArray(b)?!1:"fields"in b&&!("data"in b);if(f){b=$jscomp.makeIterator(b.fields);for(f=b.next();!f.done;f=b.next())if(f=f.value,Fa(f)&&x.isString(f.field))if(!a)var a=f.field;else if(a!==f.field)return Ma("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),
a;Ma("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");return a}a=x.isArray(b)?!1:"fields"in b&&"data"in b;if(a)return Ma("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),
a=b.fields[0],x.isString(a)?a:void 0}function Nj(b,f){f=b.component.scales[f].get("domains").map(function(a){Fa(a)&&(a.data=b.lookupDataSource(a.data));return a});return xk(f)}function yk(b){return Uh(b)||Ij(b)?b.children.reduce(function(f,a){return f.concat(yk(a))},zk(b)):zk(b)}function zk(b){return fd(b.component.scales).reduce(function(f,a){var c=b.component.scales[a];if(c.merged)return f;var e=c.combine(),k=Object.assign({},e),r=e.name,F=e.type,R=e.selectionExtent,Ca=e.reverse;k=(delete k.name,
delete k.type,delete k.selectionExtent,delete k.domains,delete k.range,delete k.reverse,k);e=e.range;a in Bf?U(e)&&(e={step:{signal:r+"_step"}}):x.isObject(e)&&Fa(e)&&(e=Object.assign({},e,{data:b.lookupDataSource(e.data)}));a=Nj(b,a);R?(R=Ch(b,R.param,R),c={signal:c.get("type")in fg&&x.isArray(a)&&a[0]>a[1]?"isValid("+R+") \x26\x26 reverse("+R+")":R}):c=null;f.push(Object.assign({},{name:r,type:F},a?{domain:a}:{},c?{domainRaw:c}:{},{range:e},void 0!==Ca?{reverse:Ca}:{},k));return f},[])}function Ak(b){return"x"===
b?"width":"y"===b?"height":void 0}function di(b,f){var a=b.fieldDef(f);if(null!==a&&void 0!==a&&a.bin){var c=a.bin;a=a.field;var e=Ak(f),k=b.getName(e);if(x.isObject(c)&&c.binned&&void 0!==c.step)return new Fg(function(){var F=b.scaleName(f);F='(domain("'+F+'")[1] - domain("'+F+'")[0]) / '+c.step;return b.getSignalName(k)+" / ("+F+")"});if(Ga(c)){var r=ok(b,a,c);return new Fg(function(){var F=b.getSignalName(r);F="("+F+".stop - "+F+".start) / "+F+".step";return b.getSignalName(k)+" / ("+F+")"})}}}
function om(b,f){for(var a=f.specifiedScales[b],c=f.size,e=f.getScaleComponent(b).get("type"),k=$jscomp.makeIterator(en),r=k.next();!r.done;r=k.next())if(r=r.value,void 0!==a[r]){var F=hc(e,r),R=xc(b,r);if(F)if(R)Ma(R);else switch(r){case "range":e=a.range;if(x.isArray(e)){if(b in Bf)return ud(e.map(function(Ca){if("width"===Ca||"height"===Ca){Ca=f.getName(Ca);var Xa=f.getSignalName.bind(f);return Fg.fromName(Xa,Ca)}return Ca}))}else if(x.isObject(e))return ud({data:f.requestDataName(wf.Main),field:e.field,
sort:{op:"min",field:f.vgField(b)}});return ud(e);case "scheme":return ud(ej(a[r]))}else Ma(Xb(e,r,b))}if("x"===b||"y"===b)if(k="x"===b?"width":"height",c=c[k],W(c)){if(e in Of)return ud({step:c.step});Ma(dc(k))}c=a.rangeMin;a=a.rangeMax;b=fj(b,f);return(void 0!==c||void 0!==a)&&hc(e,"rangeMin")&&x.isArray(b)&&2===b.length?ud([null!==c&&void 0!==c?c:b[0],null!==a&&void 0!==a?a:b[1]]):Vc(b)}function ej(b){return!x.isString(b)&&b.name?Object.assign({},{scheme:b.name},Lb(b,["name"])):{scheme:b}}function fj(b,
f){var a=f.size,c=f.config,e=f.mark,k=f.encoding,r=f.getSignalName.bind(f),F=Ab(k[b]).type;k=f.getScaleComponent(b).get("type");var R=f.specifiedScales[b],Ca=R.domain;R=R.domainMid;switch(b){case "x":case "y":if(Sa(["point","band"],k))if("x"===b&&!a.width){if(c=fc(c.view,"width"),W(c))return c}else if("y"===b&&!a.height&&(c=fc(c.view,"height"),W(c)))return c;c=Ak(b);c=f.getName(c);return"y"===b&&k in fg?[Fg.fromName(r,c),0]:[0,Fg.fromName(r,c)];case "size":return r=f.component.scales[b].get("zero"),
r=Bk(e,r,c),a=ul(e,a,f,c),k in Vg?Ck(r,a,vl(k,c,Ca,b)):[r,a];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new Fg(function(){var Xa=f.getSignalName("width"),jb=f.getSignalName("height");return"min("+Xa+","+jb+")/2"})];case "strokeWidth":return[c.scale.minStrokeWidth,c.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===k?"nominal"===F?"category":"ordinal":
void 0!==R?"diverging":"rect"===e||"geoshape"===e?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[c.scale.minOpacity,c.scale.maxOpacity]}throw Error("Scale range undefined for channel "+b);}function vl(b,f,a,c){switch(b){case "quantile":return f.scale.quantileCount;case "quantize":return f.scale.quantizeCount;case "threshold":if(void 0!==a&&x.isArray(a))return a.length+1;Ma("Domain for "+c+" is required for threshold scale.");return 3}}function Ck(b,f,a){var c=function(){var e=
yb(f),k=yb(b),r="("+e+" - "+k+") / ("+a+" - 1)";return"sequence("+k+", "+e+" + "+r+", "+r+")"};return ea(f)?new Fg(c):{signal:c()}}function Bk(b,f,a){if(f)return ea(f)?{signal:f.signal+" ? 0 : "+Bk(b,!1,a)}:0;switch(b){case "bar":case "tick":return a.scale.minBandSize;case "line":case "trail":case "rule":return a.scale.minStrokeWidth;case "text":return a.scale.minFontSize;case "point":case "square":case "circle":return a.scale.minSize}throw Error(Bb("size",b));}function ul(b,f,a,c){a={x:di(a,"x"),
y:di(a,"y")};switch(b){case "bar":case "tick":if(void 0!==c.scale.maxBandSize)return c.scale.maxBandSize;var e=ug(f,a,c.view);return x.isNumber(e)?e-1:new Fg(function(){return e.signal+" - 1"});case "line":case "trail":case "rule":return c.scale.maxStrokeWidth;case "text":return c.scale.maxFontSize;case "point":case "square":case "circle":if(c.scale.maxSize)return c.scale.maxSize;var k=ug(f,a,c.view);return x.isNumber(k)?Math.pow(.95*k,2):new Fg(function(){return"pow(0.95 * "+k.signal+", 2)"})}throw Error(Bb("size",
b));}function ug(b,f,a){var c=W(b.width)?b.width.step:Sb(a,"width"),e=W(b.height)?b.height.step:Sb(a,"height");return f.x||f.y?new Fg(function(){return"min("+[f.x?f.x.signal:c,f.y?f.y.signal:e].join(", ")+")"}):Math.min(c,e)}function wl(b,f){if(vf(b))for(var a=b.component.scales,c=b.config,e=b.encoding,k=b.markDef,r=b.specifiedScales,F=$jscomp.makeIterator(fd(a)),R=F.next();!R.done;R=F.next()){var Ca=R.value,Xa=r[Ca];R=a[Ca];var jb=b.getScaleComponent(Ca),zb=Ab(e[Ca]),ac=Xa[f],nc=jb.get("type"),kc=
jb.get("padding");jb=jb.get("paddingInner");var cd=hc(nc,f),zc=xc(Ca,f);void 0!==ac&&(cd?zc&&Ma(zc):Ma(Xb(nc,f,Ca)));if(cd&&void 0===zc)if(void 0!==ac)switch(Ca=zb.timeUnit,zb=zb.type,f){case "domainMax":case "domainMin":bc(Xa[f])||"temporal"===zb||Ca?R.set(f,{signal:nd(Xa[f],{type:zb,timeUnit:Ca})},!0):R.set(f,Xa[f],!0);break;default:R.copyKeyFromObject(f,Xa)}else Xa=f in Hm?Hm[f]({model:b,channel:Ca,fieldOrDatumDef:zb,scaleType:nc,scalePadding:kc,scalePaddingInner:jb,domain:Xa.domain,markDef:k,
config:c}):c.scale[f],void 0!==Xa&&R.set(f,Xa,!1)}else ei(b,f)}function xl(b){if(vf(b))for(var f=b.component.scales,a=$jscomp.makeIterator(Bh),c=a.next();!c.done;c=a.next()){var e=c.value;if(c=f[e])e=om(e,b),c.setWithExplicit("range",e)}else ei(b,"range")}function ei(b,f){for(var a=b.component.scales,c=$jscomp.makeIterator(b.children),e=c.next();!e.done;e=c.next()){var k=e.value;"range"===f?xl(k):wl(k,f)}c=$jscomp.makeIterator(fd(a));for(k=c.next();!k.done;k=c.next()){k=k.value;var r=void 0,F=$jscomp.makeIterator(b.children);
for(e=F.next();!e.done;e=F.next())if(e=e.value.component.scales[k])e=e.getWithExplicit(f),r=Ie(r,e,f,"scale",Nd(function(R,Ca){switch(f){case "range":if(R.step&&Ca.step)return R.step-Ca.step}return 0}));a[k].setWithExplicit(f,r)}}function Dk(b,f){var a=f.bin;if(Ga(a)){var c=ok(b,f.field,a);return new Fg(function(){return b.getSignalName(c)})}if(La(a)&&x.isObject(a)&&void 0!==a.step)return{step:a.step}}function gj(b,f,a){switch(f.type){case "nominal":case "ordinal":var c;if(Pa(b)||"discrete"===q(b))return"shape"===
b&&"ordinal"===f.type&&Ma(Ub(b,"ordinal")),"ordinal";if(b in Bf){if(Sa(["rect","bar","image","rule"],a.type))return"band"}else if("arc"===a.type&&b in og)return"band";b=a[ha(b)];return pd(b)||uf(f)&&null!==(c=f.axis)&&void 0!==c&&c.tickBand?"band":"point";case "temporal":if(!Pa(b)){if("discrete"===q(b))return Ma(Ub(b,"temporal")),"ordinal";if(Nc(f)&&f.timeUnit&&Wc(f.timeUnit).utc)return"utc"}return"time";case "quantitative":if(Pa(b)){if(Nc(f)&&Ga(f.bin))return"bin-ordinal"}else if("discrete"===q(b))return Ma(Ub(b,
"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error('Invalid field type "'+f.type+'".');}function Oj(b){if(vf(b))b.component.scales=yl(b);else{for(var f=b.component,a=b.component.scales={},c={},e=b.component.resolve,k=$jscomp.makeIterator(b.children),r=k.next();!r.done;r=k.next()){r=r.value;Oj(r);for(var F=$jscomp.makeIterator(fd(r.component.scales)),R=F.next();!R.done;R=F.next()){R=R.value;var Ca,Xa;null!==(Xa=(Ca=e.scale)[R])&&void 0!==Xa?Xa:Ca[R]=hl(R,b);if("shared"===e.scale[R]){var jb=
c[R],zb=r.component.scales[R].getWithExplicit("type");if(jb){var ac=Pi[jb.value],nc=Pi[zb.value];ac===nc||"ordinal-position"===ac&&"time"===nc||"ordinal-position"===nc&&"time"===ac?c[R]=Ie(jb,zb,"type","scale",fn):(e.scale[R]="independent",delete c[R])}else c[R]=zb}}}e=$jscomp.makeIterator(fd(c));for(R=e.next();!R.done;R=e.next())for(k=R.value,Ca=b.scaleName(k,!0),a[k]=new zl(Ca,c[k]),Xa=$jscomp.makeIterator(b.children),r=Xa.next();!r.done;r=Xa.next())if(r=r.value,F=r.component.scales[k])r.renameScale(F.get("name"),
Ca),F.merged=!0;f.scales=a}}function yl(b){var f=b.encoding,a=b.mark,c=b.markDef;return Bh.reduce(function(e,k){var r=Ab(f[k]);if(r&&a===hj&&"shape"===k&&"geojson"===r.type)return e;var F=r&&r.scale;if(r&&null!==F&&!1!==F){var R;null!==(R=F)&&void 0!==R?R:F={};var Ca=F;R=gj(k,r,c);Ca=Ca.type;if(xg[k])if(void 0!==Ca)if(vc(k,Ca)){var Xa;if(Xa=Nc(r))r=r.type,Xa=!(Sa(["ordinal","nominal"],r)?void 0===Ca||Ca in Of:"temporal"===r?Sa([qf.TIME,qf.UTC,void 0],Ca):"quantitative"===r?Sa([qf.LOG,qf.POW,qf.SQRT,
qf.SYMLOG,qf.QUANTILE,qf.QUANTIZE,qf.THRESHOLD,qf.LINEAR,void 0],Ca):1);Xa?(Ma('FieldDef does not work with "'+Ca+'" scale. We are using "'+R+'" scale instead.'),r=R):r=Ca}else Ma('Channel "'+k+'" does not work with "'+Ca+'" scale. We are using "'+R+'" scale instead.'),r=R;else r=R;else r=null;e[k]=new zl(b.scaleName(""+k,!0),{value:r,explicit:F.type===r})}return e},{})}function vf(b){return"unit"===(null===b||void 0===b?void 0:b.type)}function hg(b){return"facet"===(null===b||void 0===b?void 0:b.type)}
function Ij(b){return"concat"===(null===b||void 0===b?void 0:b.type)}function Uh(b){return"layer"===(null===b||void 0===b?void 0:b.type)}function Pj(b){function f(c,e){c instanceof tg&&!(c.isGenerator||"url"in c.data)&&(b.push(e),e={name:null,source:e.name,transform:[]});if(c instanceof xf)if(c.parent instanceof tg&&!e.source){var k;e.format=Object.assign({},null!==(k=e.format)&&void 0!==k?k:{},{parse:c.assembleFormatParse()});e.transform.push.apply(e.transform,$jscomp.arrayFromIterable(c.assembleTransforms(!0)))}else e.transform.push.apply(e.transform,
$jscomp.arrayFromIterable(c.assembleTransforms()));if(c instanceof ng)e.name||(e.name="data_"+a++),!e.source||0<e.transform.length?(b.push(e),c.data=e.name):c.data=e.source,b.push.apply(b,$jscomp.arrayFromIterable(c.assemble()));else switch((c instanceof Eh||c instanceof Fh||c instanceof oh||c instanceof ph||c instanceof ah||c instanceof qh||c instanceof Nf||c instanceof rh||c instanceof Og||c instanceof Eg||c instanceof fi||c instanceof gi||c instanceof hi||c instanceof ii||c instanceof ji||c instanceof
ki||c instanceof Qg||c instanceof li||c instanceof Hh)&&e.transform.push(c.assemble()),(c instanceof cg||c instanceof Wf||c instanceof vg||c instanceof Vf||c instanceof bh)&&e.transform.push.apply(e.transform,$jscomp.arrayFromIterable(c.assemble())),c instanceof Gf&&(e.source&&0===e.transform.length?c.setSource(e.source):c.parent instanceof Gf?c.setSource(e.name):(e.name||(e.name="data_"+a++),c.setSource(e.name),1===c.numChildren()&&(b.push(e),e={name:null,source:e.name,transform:[]}))),c.numChildren()){case 0:c instanceof
Gf&&(!e.source||0<e.transform.length)&&b.push(e);break;case 1:f(c.children[0],e);break;default:for(e.name||(e.name="data_"+a++),k=e.name,!e.source||0<e.transform.length?b.push(e):k=e.source,c=$jscomp.makeIterator(c.children),e=c.next();!e.done;e=c.next())f(e.value,{name:null,source:k,transform:[]})}}var a=0;return f}function Ek(b){for(var f=[],a=Pj(f),c=$jscomp.makeIterator(b.children),e=c.next();!e.done;e=c.next())a(e.value,{source:b.name,name:null,transform:[]});return f}function Al(b,f){for(var a=
[],c=Pj(a),e=0,k=$jscomp.makeIterator(b.sources),r=k.next();!r.done;r=k.next()){r=r.value;r.hasName()||(r.dataName="source_"+e++);var F=r.assemble();c(r,F)}e=$jscomp.makeIterator(a);for(c=e.next();!c.done;c=e.next())c=c.value,0===c.transform.length&&delete c.transform;c=0;e=$jscomp.makeIterator(a.entries());for(k=e.next();!k.done;k=e.next()){r=$jscomp.makeIterator(k.value);k=r.next().value;r=r.next().value;var R;0!==(null!==(R=r.transform)&&void 0!==R?R:[]).length||r.source||a.splice(c++,0,a.splice(k,
1)[0])}R=$jscomp.makeIterator(a);for(c=R.next();!c.done;c=R.next())for(c=$jscomp.makeIterator(null!==(Ca=c.value.transform)&&void 0!==Ca?Ca:[]),e=c.next();!e.done;e=c.next()){e=e.value;var Ca;"lookup"===e.type&&(e.from=b.outputNodes[e.from].getSource())}b=$jscomp.makeIterator(a);for(c=b.next();!c.done;c=b.next())Ca=c.value,Ca.name in f&&(Ca.values=f[Ca.name]);return a}function Bl(b,f,a){f="row"===f?"height":"width";return{labels:a,sizeSignal:b.child.component.layoutSize.get(f)?b.child.getSizeSignalRef(f):
void 0,axes:[]}}function Qj(b,f){var a=b.child;if(a.component.axes[f]){var c=b.component,e=c.layoutHeaders;c=c.resolve;c.axis[f]=nk(c,f);if("shared"===c.axis[f])for(c="x"===f?"column":"row",e=e[c],f=$jscomp.makeIterator(a.component.axes[f]),a=f.next();!a.done;a=f.next()){a=a.value;var k;var r=a.get("orient");r="top"===r||"left"===r||ea(r)?"header":"footer";null!==(k=e[r])&&void 0!==k?k:e[r]=[Bl(b,c,!1)];var F=kh(a,"main",b.config,{header:!0});F&&e[r][0].axes.push(F);a.mainExtracted=!0}}}function Fi(b){b=
$jscomp.makeIterator(b.children);for(var f=b.next();!f.done;f=b.next())f.value.parseLayoutSize()}function Rg(b,f){for(var a=mh(f),c=H(a),e=b.component.resolve,k=b.component.layoutSize,r,F=$jscomp.makeIterator(b.children),R=F.next();!R.done;R=F.next()){var Ca;R=R.value.component.layoutSize.getWithExplicit(a);var Xa=null!==(Ca=e.scale[c])&&void 0!==Ca?Ca:hl(c,b);if("independent"===Xa&&"step"===R.value){r=void 0;break}if(r){if("independent"===Xa&&r.value!==R.value){r=void 0;break}r=Ie(r,R,a,"")}else r=
R}if(r){c=$jscomp.makeIterator(b.children);for(R=c.next();!R.done;R=c.next())e=R.value,b.renameSignal(e.getName(a),b.getName(f)),e.component.layoutSize.set(a,"merged",!1);k.setWithExplicit(f,r)}else k.setWithExplicit(f,{explicit:!1,value:void 0})}function Rj(b,f){var a=b.config,c=b.getScaleComponent("width"===f?"x":"y");if(c)return b=c.get("type"),c=c.get("range"),b in Of?(f=fc(a.view,f),U(c)||W(f)?"step":f):Fb(a.view,f);if(b.hasProjection||"arc"===b.mark)return Fb(a.view,f);f=fc(a.view,f);return W(f)?
f.step:f}function Ih(b,f,a){return ad(f,Object.assign({},{suffix:"by_"+ad(b)},null!==a&&void 0!==a?a:{}))}function Fk(b,f){f=$jscomp.makeIterator(f);for(var a=f.next();!a.done;a=f.next()){a=a.value;var c,e,k,r,F=a.data;if(!b.name||!a.hasName()||b.name===a.dataName){var R=null===(c=b.format)||void 0===c?void 0:c.mesh,Ca=null===(e=F.format)||void 0===e?void 0:e.feature;if(!R||!Ca){var Xa=null===(k=b.format)||void 0===k?void 0:k.feature;if(!Xa&&!Ca||Xa===Ca)if(Ca=null===(r=F.format)||void 0===r?void 0:
r.mesh,!R&&!Ca||R===Ca)if("values"in b&&"values"in F){if(rg(b.values,F.values))return a}else if("url"in b&&"url"in F){if(b.url===F.url)return a}else if(Pe(b)&&b.name===a.dataName)return a}}}return null}function Gk(b,f){if(b.data||!b.parent){if(null===b.data)return b=new tg({values:[]}),f.push(b),b;var a=Fk(b.data,f);if(a)return we(b.data)||(a.data.format=Y({},b.data.format,a.data.format)),!a.hasName()&&b.data.name&&(a.dataName=b.data.name),a;b=new tg(b.data);f.push(b);return b}return b.parent.component.data.facetRoot?
b.parent.component.data.facetRoot:b.parent.component.data.main}function sh(b){var f,a,c,e=Gk(b,b.component.data.sources),k=b.component.data,r=k.outputNodes;k=k.outputNodeRefCounts;var F=b.parent?b.parent.component.data.ancestorParse.clone():new pm,R=b.data;we(R)?("sequence"in R?e=new Fh(e,R.sequence):"graticule"in R&&(e=new Eh(e,R.graticule)),F.parseNothing=!0):null===(null===R||void 0===R?void 0:null===(f=R.format)||void 0===f?void 0:f.parse)&&(F.parseNothing=!0);e=null!==(a=xf.makeExplicit(e,b,
F))&&void 0!==a?a:e;e=new Qg(e);f=b.parent&&Uh(b.parent);if((vf(b)||hg(b))&&f){var Ca;e=null!==(Ca=cg.makeFromEncoding(e,b))&&void 0!==Ca?Ca:e}if(0<b.transforms.length)for(Ca=0,a=$jscomp.makeIterator(b.transforms),R=a.next();!R.done;R=a.next()){var Xa=R.value,jb=R=void 0;if("calculate"in Xa)jb=e=new ah(e,Xa),R="derived";else if("filter"in Xa){var zb;jb=Yl(Xa);jb=e=null!==(zb=xf.makeWithAncestors(e,{},jb,F))&&void 0!==zb?zb:e;e=new ph(e,b,Xa.filter)}else if("bin"in Xa)jb=e=cg.makeFromTransform(e,Xa,
b),R="number";else if("timeUnit"in Xa)R="date",void 0===F.getWithExplicit(Xa.field).value&&(jb={},e=new xf(e,(jb[Xa.field]=R,jb)),F.set(Xa.field,R,!1)),jb=e=Wf.makeFromTransform(e,Xa);else if("aggregate"in Xa)jb=e=Nf.makeFromTransform(e,Xa),R="number",Vh(b)&&(e=new Qg(e));else if("lookup"in Xa)jb=e=rh.make(e,b,Xa,Ca++),R="derived";else if("window"in Xa)jb=e=new Og(e,Xa),R="number";else if("joinaggregate"in Xa)jb=e=new Eg(e,Xa),R="number";else if("stack"in Xa)jb=e=Vf.makeFromTransform(e,Xa),R="derived";
else if("fold"in Xa)jb=e=new fi(e,Xa),R="derived";else if("flatten"in Xa)jb=e=new gi(e,Xa),R="derived";else if("pivot"in Xa)jb=e=new Hh(e,Xa),R="derived";else if("sample"in Xa)e=new li(e,Xa);else if("impute"in Xa)jb=e=vg.makeFromTransform(e,Xa),R="derived";else if("density"in Xa)jb=e=new hi(e,Xa),R="derived";else if("quantile"in Xa)jb=e=new ji(e,Xa),R="derived";else if("regression"in Xa)jb=e=new ki(e,Xa),R="derived";else if("loess"in Xa)jb=e=new ii(e,Xa),R="derived";else{Ma("Ignoring an invalid transform: "+
ff(Xa)+".");continue}if(jb&&void 0!==R)for(Xa=$jscomp.makeIterator(null!==(ac=jb.producedFields())&&void 0!==ac?ac:[]),jb=Xa.next();!jb.done;jb=Xa.next()){var ac;F.set(jb.value,R,!1)}}zb={};if(vf(b)&&b.component.selection)for(ac=$jscomp.makeIterator(fd(b.component.selection)),Ca=ac.next();!Ca.done;Ca=ac.next())for(Ca=$jscomp.makeIterator(b.component.selection[Ca.value].project.items),a=Ca.next();!a.done;a=Ca.next())a=a.value,!a.channel&&1<u(a.field)&&(zb[a.field]="flatten");ac=Zl(b);e=null!==(c=xf.makeWithAncestors(e,
{},Object.assign({},zb,ac),F))&&void 0!==c?c:e;vf(b)&&(e=bh.parseAll(e,b),e=qh.parseAll(e,b));if(vf(b)||hg(b)){var nc;if(!f){var kc;e=null!==(kc=cg.makeFromEncoding(e,b))&&void 0!==kc?kc:e}e=null!==(nc=Wf.makeFromEncoding(e,b))&&void 0!==nc?nc:e;e=ah.parseAllForSortIndex(e,b)}nc=b.getDataName(wf.Raw);c=new Gf(e,nc,wf.Raw,k);e=r[nc]=c;if(vf(b)){var cd,zc;if(nc=Nf.makeFromEncoding(e,b))e=nc,Vh(b)&&(e=new Qg(e));e=null!==(cd=vg.makeFromEncoding(e,b))&&void 0!==cd?cd:e;e=null!==(zc=Vf.makeFromEncoding(e,
b))&&void 0!==zc?zc:e}if(vf(b)){var td;e=null!==(td=oh.make(e,b))&&void 0!==td?td:e}zc=b.getDataName(wf.Main);cd=new Gf(e,zc,wf.Main,k);e=r[zc]=cd;if(vf(b))for(zc=$jscomp.makeIterator(Hg(null!==(Sd=b.component.selection)&&void 0!==Sd?Sd:{})),Sd=zc.next();!Sd.done;Sd=zc.next()){td=$jscomp.makeIterator(Sd.value);Sd=td.next().value;td=td.next().value;var Sd;nc=b.getName("lookup_"+Sd);b.component.data.outputNodes[nc]=td.materialized=new Gf(new ph(cd,b,{param:Sd}),nc,wf.Lookup,b.component.data.outputNodeRefCounts)}zc=
null;if(hg(b)){var zd;Sd=b.getName("facet");zc=e;td=b.facet;nc=td.row;kc=td.column;if(nc&&kc){td=null;nc=$jscomp.makeIterator([nc,kc]);for(kc=nc.next();!kc.done;kc=nc.next())kc=kc.value,cc(kc.sort)&&(td=kc.sort,zc=td=new Eg(zc,{joinaggregate:[{op:void 0===td.op?"min":td.op,field:td.field,as:Ih(kc,kc.sort,{forAs:!0})}],groupby:[ad(kc)]}));zc=td}else zc=null;e=null!==(zd=zc)&&void 0!==zd?zd:e;zc=new ng(e,b,Sd,cd.getSource());r[Sd]=zc}return Object.assign({},b.component.data,{outputNodes:r,outputNodeRefCounts:k,
raw:c,main:cd,facetRoot:zc,ancestorParse:F})}function Jh(b){return lg.reduce(function(f,a){b.component.scales[a]&&(f[a]=[Hk(a,b)]);return f},{})}function dg(b,f){if(b){if(b.length!==f.length)return;for(var a=b.length,c=0;c<a;c++){var e=b[c],k=f[c];if(!!e!==!!k)return;if(e&&k){var r=e.getWithExplicit("orient"),F=k.getWithExplicit("orient");if(r.explicit&&F.explicit&&r.value!==F.value)return;b[c]=pg(e,k)}}}else return f.map(function(R){return R.clone()});return b}function pg(b,f){for(var a={},c=$jscomp.makeIterator(Im),
e=c.next();!e.done;a={$jscomp$loop$prop$prop$748:a.$jscomp$loop$prop$prop$748},e=c.next())a.$jscomp$loop$prop$prop$748=e.value,e=Ie(b.getWithExplicit(a.$jscomp$loop$prop$prop$748),f.getWithExplicit(a.$jscomp$loop$prop$prop$748),a.$jscomp$loop$prop$prop$748,"axis",function(k){return function(r,F){switch(k.$jscomp$loop$prop$prop$748){case "title":return Xc(r,F);case "gridScale":return{explicit:r.explicit,value:y(r.value,F.value)}}return ze(r,F,k.$jscomp$loop$prop$prop$748,"axis")}}(a)),b.setWithExplicit(a.$jscomp$loop$prop$prop$748,
e);return b}function mi(b,f,a,c,e){if("disable"===f)return void 0!==a;a=a||{};switch(f){case "titleAngle":case "labelAngle":return b===(ea(a.labelAngle)?a.labelAngle:J(a.labelAngle));case "values":return!!a.values;case "encode":return!!a.encoding||!!a.labelAngle;case "title":if(b===Ai(c,e))return!0}return b===a[f]}function Hk(b,f){var a,c,e,k,r,F=f.axis(b),R=new Sj,Ca=Ab(f.encoding[b]),Xa=f.mark,jb=f.config,zb=(null===(a=F)||void 0===a?void 0:a.orient)||(null===(c=jb["x"===b?"axisX":"axisY"])||void 0===
c?void 0:c.orient)||(null===(e=jb.axis)||void 0===e?void 0:e.orient)||("x"===b?"bottom":"left");c=f.getScaleComponent(b).get("type");a=Vl(b,c,zb,f.config);e=void 0!==F?!F:Dg("disable",jb.style,null===(k=F)||void 0===k?void 0:k.style,a).configValue;R.set("disable",e,void 0!==F);if(e)return R;F=F||{};k=Dh(Ca,F,b,jb.style,a);Ca={fieldOrDatumDef:Ca,axis:F,channel:b,model:f,scaleType:c,orient:zb,labelAngle:k,mark:Xa,config:jb};Xa=$jscomp.makeIterator(Im);for(zb=Xa.next();!zb.done;zb=Xa.next())if(zb=zb.value,
k=zb in Jm?Jm[zb](Ca):ra[zb]?F[zb]:void 0,c=void 0!==k,e=mi(k,zb,F,f,b),c&&e)R.set(zb,k,e);else{var ac=ra[zb]&&"values"!==zb?Dg(zb,jb.style,F.style,a):{},nc=void 0===ac.configValue?void 0:ac.configValue;ac=void 0===ac.configFrom?void 0:ac.configFrom;var kc=void 0!==nc;c&&!kc?R.set(zb,k,e):("vgAxisConfig"!==ac||gn.has(zb)&&kc||Fd(nc)||ea(nc))&&R.set(zb,nc,!1)}var cd=null!==(r=F.encoding)&&void 0!==r?r:{};r=g.reduce(function(zc,td){var Sd;if(!R.hasAxisPart(td))return zc;var zd=gl(null!==(Sd=cd[td])&&
void 0!==Sd?Sd:{},f);if("labels"===td){var He,De=f.encoding;Sd=f.config;De=null!==(He=Ab(De[b]))&&void 0!==He?He:Ab(De[ka(b)]);var af=f.axis(b)||{};He=af.format;af=af.formatType;zd=Mb(af)?Object.assign({},{text:Ce({fieldOrDatumDef:De,field:"datum.value",format:He,formatType:af,config:Sd})},zd):zd}void 0===zd||Oa(zd)||(zc[td]={update:zd});return zc},{});Oa(r)||R.set("encode",r,!!F.encoding||void 0!==F.labelAngle);return R}function ni(b){var f=b.encoding;b=b.size;for(var a=$jscomp.makeIterator(lg),
c=a.next();!c.done;c=a.next()){c=c.value;var e=ha(c);W(b[e])&&Jd(f[c])&&(delete b[e],Ma(dc(e)))}return b}function qm(b,f,a){b=aa(b);var c=Qb("orient",b,a);b.orient=Ik(b.type,f,c);void 0!==c&&c!==b.orient&&Ma('Specified orient "'+b.orient+'" overridden with "'+c+'".');if("bar"===b.type&&b.orient&&(c=Qb("cornerRadiusEnd",b,a),void 0!==c)){for(var e=$jscomp.makeIterator("horizontal"===b.orient&&f.x2||"vertical"===b.orient&&f.y2?["cornerRadius"]:rm[b.orient]),k=e.next();!k.done;k=e.next())b[k.value]=
c;void 0!==b.cornerRadiusEnd&&delete b.cornerRadiusEnd}void 0===Qb("opacity",b,a)&&(c=Sa([Gi,Hi,Ii,oi],b.type)&&!pe(f)?.7:void 0,b.opacity=c);void 0===Qb("cursor",b,a)&&(f=f.href||b.href||Qb("href",b,a)?"pointer":b.cursor,b.cursor=f);return b}function Jk(b,f,a){if(a.graticule)return!1;f=Zb("filled",b,f);b=b.type;return y(f,b!==Gi&&b!==Ji&&b!==Kh)}function Ik(b,f,a){switch(b){case Gi:case Ii:case oi:case Tj:case th:case ij:return}var c=f.x,e=f.y,k=f.x2;f=f.y2;switch(b){case Lh:if(Nc(c)&&(La(c.bin)||
Nc(e)&&e.aggregate&&!c.aggregate))break;if(Nc(e)&&(La(e.bin)||Nc(c)&&c.aggregate&&!e.aggregate))return"horizontal";if(f||k){if(a)return a;if(!k&&(Nc(c)&&"quantitative"===c.type&&!Ga(c.bin)||xe(c)))return"horizontal";if(!f&&(Nc(e)&&"quantitative"===e.type&&!Ga(e.bin)||xe(e)))break}case Kh:if(!(!k||Nc(c)&&La(c.bin)||!f||Nc(e)&&La(e.bin)))return;case Sg:if(f){if(Nc(e)&&La(e.bin))return"horizontal";break}else if(k)if(Nc(c)&&La(c.bin))break;else return"horizontal";else if(b===Kh)if(c&&!e)break;else if(e&&
!c)return"horizontal";case Ji:case Hi:k=Jd(c);f=Jd(e);if(a)return a;if(k&&!f)return"tick"!==b?"horizontal":"vertical";if(!k&&f)return"tick"!==b?"vertical":"horizontal";if(k&&f){a="temporal"===c.type;k="temporal"===e.type;if(a&&!k)return"tick"!==b?"vertical":"horizontal";if(!a&&k)return"tick"!==b?"horizontal":"vertical";if(!c.aggregate&&e.aggregate)return"tick"!==b?"vertical":"horizontal";if(c.aggregate&&!e.aggregate)return"tick"!==b?"horizontal":"vertical"}else return}return"vertical"}function Kk(b,
f){return Object.assign({},Cg(b,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),Ff("x",b,{defaultPos:"mid"}),Ff("y",b,{defaultPos:"mid"}),Kf("size",b),Kf("angle",b),f?{shape:{value:f}}:Kf("shape",b))}function Cl(b,f,a){if(void 0===Qb("align",b,a))return"center"}function Lk(b,f,a){if(void 0===Qb("baseline",b,a))return"middle"}function sm(b){var f,a=b.config,c=b.markDef,e=c.orient,k="horizontal"===e?"width":"height";b=b.getScaleComponent("horizontal"===
e?"x":"y");c=null!==(f=Qb("size",c,a,{vgChannel:k}))&&void 0!==f?f:a.tick.bandSize;return void 0!==c?c:(f=b?b.get("range"):void 0)&&U(f)&&x.isNumber(f.step)?3*f.step/4:3*Sb(a.view,k)/4}function Uj(b){if(Sa([Ji,Sg,uh],b.mark)){var f=If(b.mark,b.encoding);if(0<f.length)return Dl(b,f)}else if(b.mark===Lh&&(f=Mk.some(function(a){return Qb(a,b.markDef,b.config)}),b.stack&&!b.fieldDef("size")&&f))return El(b);return Vj(b)}function Dl(b,f){return[{name:b.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+
b.requestDataName(wf.Main),data:b.requestDataName(wf.Main),groupby:f}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Vj(b,{fromPrefix:"faceted_path_"})}]}function El(b){var f=$jscomp.makeIterator(Vj(b,{fromPrefix:"stack_group_"})).next().value,a=b.scaleName(b.stack.fieldChannel),c=function(Ca){Ca=void 0===Ca?{}:Ca;return b.vgField(b.stack.fieldChannel,Ca)},e=function(Ca,Xa){Xa=[c({prefix:"min",suffix:"start",expr:Xa}),c({prefix:"max",suffix:"start",expr:Xa}),
c({prefix:"min",suffix:"end",expr:Xa}),c({prefix:"max",suffix:"end",expr:Xa})];return Ca+"("+Xa.map(function(jb){return"scale('"+a+"',"+jb+")"}).join(",")+")"};if("x"===b.stack.fieldChannel){e=Object.assign({},wb(f.encode.update,["y","yc","y2","height"].concat($jscomp.arrayFromIterable(Mk))),{x:{signal:e("min","datum")},x2:{signal:e("max","datum")},clip:{value:!0}});var k={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}};f.encode.update=Object.assign({},Lb(f.encode.update,["y","yc",
"y2"]),{height:{field:{group:"height"}}})}else e=Object.assign({},wb(f.encode.update,["x","xc","x2","width"]),{y:{signal:e("min","datum")},y2:{signal:e("max","datum")},clip:{value:!0}}),k={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},f.encode.update=Object.assign({},Lb(f.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}});for(var r=$jscomp.makeIterator(Mk),F=r.next();!F.done;F=r.next()){F=F.value;var R=Zb(F,b.markDef,b.config);f.encode.update[F]?(e[F]=f.encode.update[F],
delete f.encode.update[F]):R&&(e[F]=lb(R));R&&(f.encode.update[F]={value:0})}r=[];b.stack.groupbyChannel&&(F=b.fieldDef(b.stack.groupbyChannel),(R=ad(F))&&r.push(R),(null!==F&&void 0!==F&&F.bin||null!==F&&void 0!==F&&F.timeUnit)&&r.push(ad(F,{binSuffix:"end"})));e="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce(function(Ca,Xa){if(f.encode.update[Xa]){var jb={};return Object.assign({},Ca,(jb[Xa]=f.encode.update[Xa],jb))}jb=Zb(Xa,
b.markDef,b.config);if(void 0!==jb){var zb={};return Object.assign({},Ca,(zb[Xa]=lb(jb),zb))}return Ca},e);e.stroke&&(e.strokeForeground={value:!0},e.strokeOffset={value:0});return[{type:"group",from:{facet:{data:b.requestDataName(wf.Main),name:"stack_group_"+b.requestDataName(wf.Main),groupby:r,aggregate:{fields:[c({suffix:"start"}),c({suffix:"start"}),c({suffix:"end"}),c({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:e},marks:[{type:"group",encode:{update:k},marks:[f]}]}]}function Fl(b){var f=
b.encoding,a=b.stack,c=b.mark,e=b.markDef,k=b.config,r=f.order;if(!(!x.isArray(r)&&We(r)&&Ua(r.value)||!r&&Ua(Qb("order",e,k)))){if((x.isArray(r)||Nc(r))&&!a)return Zc(r,{expr:"datum"});if(lc(c)&&(a="horizontal"===e.orient?"y":"x",c=f[a],Nc(c))){f=c.sort;if(x.isArray(f))return{field:ad(c,{prefix:a,suffix:"sort_index",expr:"datum"})};if(cc(f))return{field:ad({aggregate:pe(b.encoding)?f.op:void 0,field:f.field},{expr:"datum"})};if(f&&f.encoding)return b=b.fieldDef(f.encoding),{field:ad(b,{expr:"datum"}),
order:f.order};if(null!==f)return{field:ad(c,{binSuffix:b.stack&&b.stack.impute?"mid":void 0,expr:"datum"})}}}}function Vj(b,f){f=void 0===f?{fromPrefix:""}:f;var a=b.mark,c=b.markDef,e=b.encoding,k=b.config,r=c.clip;var F=b.getScaleComponent("x");var R=b.getScaleComponent("y");F=F&&F.get("selectionExtent")||R&&R.get("selectionExtent")?!0:void 0;R=b.component.projection;r=y(r,F,R&&!R.isFit?!0:void 0);F=Ob(c);e=e.key;R=Fl(b);var Ca;if(b.component.selection){for(var Xa=Ca=fd(b.component.selection).length,
jb=b.parent;jb&&0===Xa;)Xa=fd(jb.component.selection).length,jb=jb.parent;Ca=Xa?{interactive:0<Ca||!!b.encoding.tooltip}:null}else Ca=null;c=Qb("aria",c,k);k=Gl[a].postEncodingTransform?Gl[a].postEncodingTransform(b):null;return[Object.assign({},{name:b.getName("marks"),type:Gl[a].vgMark},r?{clip:!0}:{},F?{style:F}:{},e?{key:e.field}:{},R?{sort:R}:{},Ca?Ca:{},!1===c?{aria:c}:{},{from:{data:f.fromPrefix+b.requestDataName(wf.Main)},encode:{update:Gl[a].encodeEntry(b)}},k?{transform:k}:{})]}function jj(b,
f,a,c,e){if("facet"in b)return new jf(b,f,a,e);if("layer"in b)return new qg(b,f,a,c,e);if(re(b))return new sf(b,f,a,c,e);if("vconcat"in b||"hconcat"in b||"concat"in b)return new wg(b,f,a,e);throw Error(fe(b));}function tm(b,f,a,c){a=void 0===a?{}:a;var e=b.config?yd(b.config):void 0;a=[].concat(b.assembleSelectionData([]),Al(b.component.data,a));var k=b.assembleProjections(),r=b.assembleTitle(),F=b.assembleGroupStyle(),R=b.assembleGroupEncodeEntry(!0),Ca=b.assembleLayoutSignals();Ca=Ca.filter(function(zb){return"width"!==
zb.name&&"height"!==zb.name||void 0===zb.value?!0:(f[zb.name]=+zb.value,!1)});var Xa=Object.assign({},f),jb=f.params;Xa=(delete Xa.params,Xa);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},b.description?{description:b.description}:{},Xa,r?{title:r}:{},F?{style:F}:{},R?{encode:{update:R}}:{},{data:a},0<k.length?{projections:k}:{},b.assembleGroup([].concat($jscomp.arrayFromIterable(Ca),$jscomp.arrayFromIterable(b.assembleSelectionTopLevelSignals([])),$jscomp.arrayFromIterable(v(jb)))),
e?{config:e}:{},c?{usermeta:c}:{})}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function a(f){var c=isNaN(f)?1:Number(f);return c?Array.prototype.reduce.call(this,function(e,k){return Array.isArray(k)?e.push.apply(e,a.call(k,c-1)):e.push(k),e},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(f){return Array.prototype.map.apply(this,arguments).flat()},
writable:!0});var Gg=function(f,a){a||(a={});"function"===typeof a&&(a={cmp:a});var c="boolean"===typeof a.cycles?a.cycles:!1,e=a.cmp&&function(r){return function(F){return function(R,Ca){return r({key:R,value:F[R]},{key:Ca,value:F[Ca]})}}}(a.cmp),k=[];return function R(F){F&&F.toJSON&&"function"===typeof F.toJSON&&(F=F.toJSON());if(void 0!==F){if("number"==typeof F)return isFinite(F)?""+F:"null";if("object"!==typeof F)return JSON.stringify(F);var Ca;if(Array.isArray(F)){var Xa="[";for(Ca=0;Ca<F.length;Ca++)Ca&&
(Xa+=","),Xa+=R(F[Ca])||"null";return Xa+"]"}if(null===F)return"null";if(-1!==k.indexOf(F)){if(c)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var jb=k.push(F)-1,zb=Object.keys(F).sort(e&&e(F));Xa="";for(Ca=0;Ca<zb.length;Ca++){var ac=zb[Ca],nc=R(F[ac]);nc&&(Xa&&(Xa+=","),Xa+=JSON.stringify(ac)+":"+nc)}k.splice(jb,1);return"{"+Xa+"}"}}(f)},rg=function e(a,c){if(a===c)return!0;if(a&&c&&"object"==typeof a&&"object"==typeof c){if(a.constructor!==c.constructor)return!1;
var k;if(Array.isArray(a)){var r=a.length;if(r!=c.length)return!1;for(k=r;0!==k--;)if(!e(a[k],c[k]))return!1;return!0}if(a.constructor===RegExp)return a.source===c.source&&a.flags===c.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===c.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===c.toString();var F=Object.keys(a);r=F.length;if(r!==Object.keys(c).length)return!1;for(k=r;0!==k--;)if(!Object.prototype.hasOwnProperty.call(c,F[k]))return!1;for(k=r;0!==k--;)if(r=
F[k],!e(a[r],c[r]))return!1;return!0}return a!==a&&c!==c},Ge=function(a){var c={exports:{}};return a(c,c.exports),c.exports}(function(a){var c=function(){function e(jb,zb){return null!=zb&&jb instanceof zb}function k(jb,zb,ac,nc,kc){function cd(zd,He){if(null===zd)return null;if(0===He||"object"!=typeof zd)return zd;if(e(zd,R))var De=new R;else if(e(zd,Ca))De=new Ca;else if(e(zd,Xa))De=new Xa(function(Ng,Nk){zd.then(function(um){Ng(cd(um,He-1))},function(um){Nk(cd(um,He-1))})});else if(k.__isArray(zd))De=
[];else if(k.__isRegExp(zd))De=new RegExp(zd.source,F(zd)),zd.lastIndex&&(De.lastIndex=zd.lastIndex);else if(k.__isDate(zd))De=new Date(zd.getTime());else{if(Sd&&h.isBuffer(zd))return De=h.allocUnsafe?h.allocUnsafe(zd.length):new h(zd.length),zd.copy(De),De;if(e(zd,Error))De=Object.create(zd);else if("undefined"==typeof nc){var af=Object.getPrototypeOf(zd);De=Object.create(af)}else De=Object.create(nc),af=nc}if(zb){var Ne=zc.indexOf(zd);if(-1!=Ne)return td[Ne];zc.push(zd);td.push(De)}e(zd,R)&&zd.forEach(function(Ng,
Nk){Nk=cd(Nk,He-1);Ng=cd(Ng,He-1);De.set(Nk,Ng)});e(zd,Ca)&&zd.forEach(function(Ng){Ng=cd(Ng,He-1);De.add(Ng)});for(var Uf in zd){var sg;af&&(sg=Object.getOwnPropertyDescriptor(af,Uf));sg&&null==sg.set||(De[Uf]=cd(zd[Uf],He-1))}if(Object.getOwnPropertySymbols)for(Ne=Object.getOwnPropertySymbols(zd),Uf=0;Uf<Ne.length;Uf++)if(sg=Ne[Uf],af=Object.getOwnPropertyDescriptor(zd,sg),!af||af.enumerable||kc)De[sg]=cd(zd[sg],He-1),af.enumerable||Object.defineProperty(De,sg,{enumerable:!1});if(kc)for(Ne=Object.getOwnPropertyNames(zd),
Uf=0;Uf<Ne.length;Uf++)sg=Ne[Uf],af=Object.getOwnPropertyDescriptor(zd,sg),af&&af.enumerable||(De[sg]=cd(zd[sg],He-1),Object.defineProperty(De,sg,{enumerable:!1}));return De}"object"===typeof zb&&(ac=zb.depth,nc=zb.prototype,kc=zb.includeNonEnumerable,zb=zb.circular);var zc=[],td=[],Sd="undefined"!=typeof h;"undefined"==typeof zb&&(zb=!0);"undefined"==typeof ac&&(ac=Infinity);return cd(jb,ac)}function r(jb){return Object.prototype.toString.call(jb)}function F(jb){var zb="";jb.global&&(zb+="g");jb.ignoreCase&&
(zb+="i");jb.multiline&&(zb+="m");return zb}try{var R=Map}catch(jb){R=function(){}}try{var Ca=Set}catch(jb){Ca=function(){}}try{var Xa=Promise}catch(jb){Xa=function(){}}k.clonePrototype=function(jb){if(null===jb)return null;var zb=function(){};zb.prototype=jb;return new zb};k.__objToStr=r;k.__isDate=function(jb){return"object"===typeof jb&&"[object Date]"===r(jb)};k.__isArray=function(jb){return"object"===typeof jb&&"[object Array]"===r(jb)};k.__isRegExp=function(jb){return"object"===typeof jb&&"[object RegExp]"===
r(jb)};k.__getRegExpFlags=F;return k}();a.exports&&(a.exports=c)});Set.prototype.toJSON=function(){return"Set("+[].concat($jscomp.arrayFromIterable(this)).map(function(a){return Gg(a)}).join(",")+")"};var ff=Gg,fd=Object.keys,gg=Object.values,Hg=Object.entries,Rh=42,Ug={theta:1,theta2:1,radius:1,radius2:1},Mh={longitude:1,longitude2:1,latitude:1,latitude2:1},Nh=fd(Mh),Ok=Object.assign({},{x:1,y:1,x2:1,y2:1},Ug,Mh,{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,
size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),kj={row:1,column:1,facet:1},ig=fd(kj),Sh=Object.assign({},Ok,kj),Tk=fd(Sh),Oh=Object.assign({},Sh),ch=(delete Oh.order,delete Oh.detail,delete Oh.tooltip,Oh),Ph=Object.assign({},ch),lj=(delete Ph.row,delete Ph.column,delete Ph.facet,Ph),Cf="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),yf=Object.assign({},Ok),zg=(delete yf.x,delete yf.y,delete yf.x2,delete yf.y2,delete yf.latitude,delete yf.longitude,
delete yf.latitude2,delete yf.longitude2,delete yf.theta,delete yf.theta2,delete yf.radius,delete yf.radius2,yf),Ag=fd(zg),Bf={x:1,y:1},lg=fd(Bf),og={theta:1,radius:1},mj=fd(og),Ze=Object.assign({},zg),Xf=(delete Ze.text,delete Ze.tooltip,delete Ze.href,delete Ze.url,delete Ze.description,delete Ze.detail,delete Ze.key,delete Ze.order,Ze),Yf=fd(Xf),xg=Object.assign({},Bf,og,Xf),Bh=fd(xg),Ni={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",
point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},Hl=Object.assign({},Ni),Ml=(delete Hl.geoshape,Hl),Nl={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},nm={count:1,min:1,max:1},yg=["count","valid","missing","distinct"],qj=["count","sum","distinct","valid","missing"],mm=x.toSet("mean average median q1 q3 min max".split(" ")),
al=fd({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,
href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Sl={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Mk=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Il=x.logger(x.Warn),pi=Il,Rk="january february march april may june july august september october november december".split(" "),
oj=Rk.map(function(a){return a.substr(0,3)}),pj="sunday monday tuesday wednesday thursday friday saturday".split(" "),Ae=pj.map(function(a){return a.substr(0,3)}),bg={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Ef=fd(bg),$f={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},qf={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",
THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Pi={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},Pf={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,
ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},nj="linear log pow sqrt symlog time utc".split(" "),ag=x.toSet(nj),$i=x.toSet(["linear","log","pow","sqrt","symlog"]),Vg=x.toSet(["quantile","quantize","threshold"]),Pk=nj.concat(["quantile","quantize","threshold","sequential","identity"]),fg=x.toSet(Pk),Of=x.toSet(["ordinal","bin-ordinal","point","band"]),vh=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,
round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1}),Pd=(delete vh.type,delete vh.domain,delete vh.range,delete vh.rangeMax,delete vh.rangeMin,delete vh.scheme,vh),Wj=fd(Pd),Zf={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Tg=Zf.arc,Sg=Zf.area,Lh=Zf.bar,ij=Zf.image,Ji=Zf.line,Gi=Zf.point,th=Zf.rect,
Kh=Zf.rule,Tj=Zf.text,Hi=Zf.tick,uh=Zf.trail,Ii=Zf.circle,oi=Zf.square,hj=Zf.geoshape,Jl=fd(Zf);x.toSet(Jl);var vm=[].concat($jscomp.arrayFromIterable("stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit".split(" ")),$jscomp.arrayFromIterable(["fill","fillOpacity"])),Zj=fd({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),Uk=fd({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,
tick:1,trail:1,geoshape:1}),rm={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Sk={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},Ki=function(a,c){switch(c.fieldTitle){case "plain":return a.field;case "functional":c=a.aggregate;var e=a.bin,k=a.timeUnit;a=a.field;G(c)?c=a+" for argmax("+c.argmax+")":t(c)?c=a+" for argmin("+c.argmin+")":(k=Wc(k),c=(c=c||(null===k||void 0===
k?void 0:k.unit)||(null===k||void 0===k?void 0:k.maxbins)&&"timeunit"||Ga(e)&&"bin")?c.toUpperCase()+"("+a+")":a);return c;default:return Ve(a,c)}},Oi=Ki,eh={compatible:!0},d={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",
vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",
vgProp:"strokeWidth"}},g=["domain","grid","labels","ticks","title"],n={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",
labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",
ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},N={orient:1,aria:1,bandPosition:1,
description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,
minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},ra=Object.assign({},N,{style:1,labelExpr:1,encoding:1}),
Za=fd({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1}),tb=function(a,c){this.name=a;this.run=c};tb.prototype.hasMatchingType=function(a){return re(a)?(a=a.mark,(ed(a)?a.type:a)===this.name):!1};var Jb=new tb("boxplot",sa),ec=new tb("errorbar",hb),Qc=new tb("errorband",
pb),Od={};Kb("boxplot",sa,["box","median","outliers","rule","ticks"]);Kb("errorbar",hb,["ticks","rule"]);Kb("errorband",pb,["band","borders"]);var Fe=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],kd={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",
titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},be={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Be=fd(kd),ue=fd(be),Ec=fd({header:1,headerRow:1,headerColumn:1,headerFacet:1}),ic="size shape fill stroke strokeDash strokeWidth opacity".split(" "),
Ac=["background","padding"],dd=fd({align:1,bounds:1,center:1,columns:1,spacing:1}),id={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},
text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,
gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",
clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20}},me="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),Td={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Ee={blue:me[0],orange:me[1],red:me[2],teal:me[3],green:me[4],yellow:me[5],purple:me[6],pink:me[7],brown:me[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",
gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},Re=[].concat($jscomp.arrayFromIterable(Uk),$jscomp.arrayFromIterable(Za),$jscomp.arrayFromIterable(Ec),"background padding legend lineBreak scale style title view".split(" ")),Je=["view"].concat($jscomp.arrayFromIterable(Jl)),yh="color fontSize background padding facet concat numberFormat timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
Ol=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]}),Qf=function(){};Qf.prototype.map=function(a,c){return"facet"in a?this.mapFacet(a,c):"repeat"in a?this.mapRepeat(a,c):"hconcat"in a?this.mapHConcat(a,c):"vconcat"in a?this.mapVConcat(a,c):"concat"in a?this.mapConcat(a,
c):this.mapLayerOrUnit(a,c)};Qf.prototype.mapLayerOrUnit=function(a,c){if("layer"in a)return this.mapLayer(a,c);if(re(a))return this.mapUnit(a,c);throw Error(fe(a));};Qf.prototype.mapLayer=function(a,c){var e=this;return Object.assign({},a,{layer:a.layer.map(function(k){return e.mapLayerOrUnit(k,c)})})};Qf.prototype.mapHConcat=function(a,c){var e=this;return Object.assign({},a,{hconcat:a.hconcat.map(function(k){return e.map(k,c)})})};Qf.prototype.mapVConcat=function(a,c){var e=this;return Object.assign({},
a,{vconcat:a.vconcat.map(function(k){return e.map(k,c)})})};Qf.prototype.mapConcat=function(a,c){var e=this,k=Object.assign({},a);a=a.concat;k=(delete k.concat,k);return Object.assign({},k,{concat:a.map(function(r){return e.map(r,c)})})};Qf.prototype.mapFacet=function(a,c){return Object.assign({},a,{spec:this.map(a.spec,c)})};Qf.prototype.mapRepeat=function(a,c){return Object.assign({},a,{spec:this.map(a.spec,c)})};var Rm={zero:1,center:1,normalize:1},Pm=new Set([Tg,Lh,Sg,Kh,Gi,Ii,oi,Ji,Tj,Hi]),Qm=
new Set([Lh,Sg,Tg]),wm=function(){Uc(this,"name","path-overlay")};wm.prototype.hasMatchingType=function(a,c){if(re(a)){var e=a.mark;a=a.encoding;e=ed(e)?e:{type:e};switch(e.type){case "line":case "rule":case "trail":return!!Ea(e,c[e.type],a);case "area":return!!Ea(e,c[e.type],a)||!!bb(e,c[e.type])}}return!1};wm.prototype.run=function(a,c,e){var k=c.config,r=Object.assign({},a),F=a.params,R=a.projection,Ca=a.mark;a=a.encoding;r=(delete r.params,delete r.projection,delete r.mark,delete r.encoding,r);
a=tf(a,k);Ca=ed(Ca)?Ca:{type:Ca};var Xa=Ea(Ca,k[Ca.type],a),jb="area"===Ca.type&&bb(Ca,k[Ca.type]);F=[Object.assign({},F?{params:F}:{},{mark:Le(Object.assign({},"area"===Ca.type&&void 0===Ca.opacity&&void 0===Ca.fillOpacity?{opacity:.7}:{},Ca)),encoding:Lb(a,["shape"])})];var zb=Ld(Ca,a),ac=a;if(zb){ac=zb.fieldChannel;zb=zb.offset;var nc={};ac=Object.assign({},a,(nc[ac]=Object.assign({},a[ac],zb?{stack:zb}:{}),nc))}jb&&F.push(Object.assign({},R?{projection:R}:{},{mark:Object.assign({},{type:"line"},
wb(Ca,["clip","interpolate","tension","tooltip"]),jb),encoding:ac}));Xa&&F.push(Object.assign({},R?{projection:R}:{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},wb(Ca,["clip","tooltip"]),Xa),encoding:ac}));return e(Object.assign({},r,{layer:F}),Object.assign({},c,{config:X(k)}))};var xm=function(){Uc(this,"name","RuleForRangedLine")};xm.prototype.hasMatchingType=function(a){if(re(a)){var c=a.encoding;a=a.mark;if("line"===a||ed(a)&&"line"===a.type){a=$jscomp.makeIterator(Cf);for(var e=
a.next();!e.done;e=a.next()){e=e.value;var k=M(e);k=c[k];if(c[e]&&(Nc(k)&&!La(k.bin)||ve(k)))return!0}}}return!1};xm.prototype.run=function(a,c,e){var k=a.encoding,r=a.mark,F=!!k.x2;Ma("Line mark is for continuous lines and thus cannot be used with "+(F&&k.y2?"x2 and y2":F?"x2":"y2")+". We will use the rule mark (line segments) instead.");console.log(r);return e(Object.assign({},a,{mark:x.isObject(r)?Object.assign({},r,{type:"rule"}):"rule"}),c)};var dh=function(a){for(var c=[],e=0;e<arguments.length;++e)c[e-
0]=arguments[e];c=Qf.apply(this,[].concat($jscomp.arrayFromIterable(c)))||this;Uc(c,"nonFacetUnitNormalizers",[Jb,ec,Qc,new wm,new xm]);return c};$jscomp.inherits(dh,Qf);dh.prototype.map=function(a,c){if(re(a)){var e=oe(a.encoding,"row"),k=oe(a.encoding,"column"),r=oe(a.encoding,"facet");if(e||k||r)return this.mapFacetedUnit(a,c)}return Qf.prototype.map.call(this,a,c)};dh.prototype.mapUnit=function(a,c){var e=c.parentEncoding,k=c.parentProjection,r=qb(a.encoding,c.repeater);a=Object.assign({},a,r?
{encoding:r}:{});if(e||k)return this.mapUnitWithParentEncodingOrProjection(a,c);e=this.mapLayerOrUnit.bind(this);k=$jscomp.makeIterator(this.nonFacetUnitNormalizers);for(r=k.next();!r.done;r=k.next())if(r=r.value,r.hasMatchingType(a,c.config))return r.run(a,c,e);return a};dh.prototype.mapRepeat=function(a,c){return!x.isArray(a.repeat)&&a.repeat.layer?this.mapLayerRepeat(a,c):this.mapNonLayerRepeat(a,c)};dh.prototype.mapLayerRepeat=function(a,c){var e=this,k=Object.assign({},a),r=a.repeat,F=a.spec;
k=(delete k.repeat,delete k.spec,k);var R=r.row,Ca=r.column;r=r.layer;var Xa=void 0===c.repeater?{}:c.repeater,jb=void 0===c.repeaterPrefix?"":c.repeaterPrefix;return R||Ca?this.mapRepeat(Object.assign({},a,{repeat:Object.assign({},R?{row:R}:{},Ca?{column:Ca}:{}),spec:{repeat:{layer:r},spec:F}}),c):Object.assign({},k,{layer:r.map(function(zb){var ac=Object.assign({},Xa,{layer:zb});zb=(F.name||"")+jb+"child__layer_"+va(zb);ac=e.mapLayerOrUnit(F,Object.assign({},c,{repeater:ac,repeaterPrefix:zb}));
ac.name=zb;return ac})})};dh.prototype.mapNonLayerRepeat=function(a,c){var e,k=a,r=Object.assign({},k),F=k.repeat,R=k.spec;k=k.data;r=(delete r.repeat,delete r.spec,delete r.data,r);!x.isArray(F)&&a.columns&&(a=Lb(a,["columns"]),Ma(sd("repeat")));var Ca=[],Xa=void 0===c.repeater?{}:c.repeater,jb=void 0===c.repeaterPrefix?"":c.repeaterPrefix,zb=!x.isArray(F)&&F.row||[Xa?Xa.row:null],ac=!x.isArray(F)&&F.column||[Xa?Xa.column:null],nc=x.isArray(F)&&F||[Xa?Xa.repeat:null];nc=$jscomp.makeIterator(nc);
for(var kc=nc.next();!kc.done;kc=nc.next()){kc=kc.value;for(var cd=$jscomp.makeIterator(zb),zc=cd.next();!zc.done;zc=cd.next()){zc=zc.value;for(var td=$jscomp.makeIterator(ac),Sd=td.next();!Sd.done;Sd=td.next()){var zd=Sd.value;Sd={repeat:kc,row:zc,column:zd,layer:Xa.layer};zd=(R.name||"")+jb+"child__"+(x.isArray(F)?""+va(kc):(F.row?"row_"+va(zc):"")+(F.column?"column_"+va(zd):""));Sd=this.map(R,Object.assign({},c,{repeater:Sd,repeaterPrefix:zd}));Sd.name=zd;Ca.push(Lb(Sd,["data"]))}}}a=x.isArray(F)?
a.columns:F.column?F.column.length:1;return Object.assign({},{data:null!==(e=R.data)&&void 0!==e?e:k,align:"all"},r,{columns:a,concat:Ca})};dh.prototype.mapFacet=function(a,c){Yb(a.facet)&&a.columns&&(a=Lb(a,["columns"]),Ma(sd("facet")));return Qf.prototype.mapFacet.call(this,a,c)};dh.prototype.mapUnitWithParentEncodingOrProjection=function(a,c){var e=a.encoding,k=c.parentEncoding,r=c.config,F=jd({parentProjection:c.parentProjection,projection:a.projection});c=Gc({parentEncoding:k,encoding:qb(e,c.repeater)});
return this.mapUnit(Object.assign({},a,F?{projection:F}:{},c?{encoding:c}:{}),{config:r})};dh.prototype.mapFacetedUnit=function(a,c){var e=a.encoding,k=Object.assign({},e),r=e.row,F=e.column,R=e.facet,Ca=(delete k.row,delete k.column,delete k.facet,k),Xa=Object.assign({},a);k=a.mark;e=a.width;var jb=a.projection,zb=a.height,ac=a.view;a=a.params;Xa=(delete Xa.mark,delete Xa.width,delete Xa.projection,delete Xa.height,delete Xa.view,delete Xa.params,delete Xa.encoding,Xa);F=this.getFacetMappingAndLayout({row:r,
column:F,facet:R},c);r=F.facetMapping;F=F.layout;Ca=qb(Ca,c.repeater);return this.mapFacet(Object.assign({},Xa,F,{facet:r,spec:Object.assign({},e?{width:e}:{},zb?{height:zb}:{},ac?{view:ac}:{},jb?{projection:jb}:{},{mark:k,encoding:Ca},a?{params:a}:{})}),c)};dh.prototype.getFacetMappingAndLayout=function(a,c){var e=a.row,k=a.column,r=a.facet;if(e||k){r&&(c=[].concat($jscomp.arrayFromIterable(e?["row"]:[]),$jscomp.arrayFromIterable(k?["column"]:[])),c="Facet encoding dropped as "+c.join(" and ")+" "+
(1<c.length?"are":"is")+" also specified.",Ma(c));c={};r={};e=$jscomp.makeIterator(["row","column"]);for(k=e.next();!k.done;k=e.next()){k=k.value;var F=a[k];if(F){var R=Object.assign({},F);R=(delete R.align,delete R.center,delete R.spacing,delete R.columns,R);c[k]=R;R=$jscomp.makeIterator(["align","center","spacing"]);for(var Ca=R.next();!Ca.done;Ca=R.next())if(Ca=Ca.value,void 0!==F[Ca]){var Xa;null!==(Xa=r[Ca])&&void 0!==Xa?Xa:r[Ca]={};r[Ca][k]=F[Ca]}}}return{facetMapping:c,layout:r}}k=Object.assign({},
r);a=r.align;Xa=r.center;e=r.spacing;r=r.columns;k=(delete k.align,delete k.center,delete k.spacing,delete k.columns,k);c=(c=c.repeater)?Yb(k)?yc(k,c):oc(k,c):k;return{facetMapping:c,layout:Object.assign({},a?{align:a}:{},Xa?{center:Xa}:{},e?{spacing:e}:{},r?{columns:r}:{})}};dh.prototype.mapLayer=function(a,c){var e=Object.assign({},c),k=c.parentEncoding;c=c.parentProjection;e=(delete e.parentEncoding,delete e.parentProjection,e);var r=Object.assign({},a),F=a.encoding;a=a.projection;r=(delete r.encoding,
delete r.projection,r);k=Object.assign({},e,{parentEncoding:Gc({parentEncoding:k,encoding:F,layer:!0}),parentProjection:jd({parentProjection:c,projection:a})});return Qf.prototype.mapLayer.call(this,r,k)};var Qk=function(){return Qf.apply(this,arguments)||this};$jscomp.inherits(Qk,Qf);Qk.prototype.map=function(a,c){var e,k;null!==(e=c.emptySelections)&&void 0!==e?e:c.emptySelections={};null!==(k=c.selectionPredicates)&&void 0!==k?k:c.selectionPredicates={};a=Pc(a,c);return Qf.prototype.map.call(this,
a,c)};Qk.prototype.mapLayerOrUnit=function(a,c){a=Pc(a,c);if(a.encoding){for(var e={},k=$jscomp.makeIterator(Hg(a.encoding)),r=k.next();!r.done;r=k.next()){var F=$jscomp.makeIterator(r.value);r=F.next().value;F=F.next().value;e[r]=bd(F,c)}a=Object.assign({},a,{encoding:e})}return Qf.prototype.mapLayerOrUnit.call(this,a,c)};Qk.prototype.mapUnit=function(a,c){var e=Object.assign({},a),k=a.selection;e=(delete e.selection,e);return k?Object.assign({},e,{params:Hg(k).map(function(r){var F=$jscomp.makeIterator(r);
r=F.next().value;var R=F.next().value,Ca=Object.assign({},R);F=R.init;var Xa=R.bind;R=R.empty;Ca=(delete Ca.init,delete Ca.bind,delete Ca.empty,Ca);"single"===Ca.type?(Ca.type="point",Ca.toggle=!1):"multi"===Ca.type&&(Ca.type="point");c.emptySelections[r]="none"!==R;var jb=$jscomp.makeIterator(gg(null!==(zb=c.selectionPredicates[r])&&void 0!==zb?zb:{}));for(zb=jb.next();!zb.done;zb=jb.next()){var zb;zb.value.empty="none"!==R}return{name:r,value:F,select:Ca,bind:Xa}})}):a};var Xj=function(){return Qf.apply(this,
arguments)||this};$jscomp.inherits(Xj,Qf);Xj.prototype.map=function(a,c){var e,k=null!==(e=c.selections)&&void 0!==e?e:[];if(a.params&&!re(a)){e=[];for(var r=$jscomp.makeIterator(a.params),F=r.next();!F.done;F=r.next())F=F.value,F.select?k.push(F):e.push(F);a.params=e}c.selections=k;return Qf.prototype.map.call(this,a,ie(a,c))};Xj.prototype.mapUnit=function(a,c){var e,k=c.selections;if(!k||!k.length)return a;var r=(null!==(e=c.path)&&void 0!==e?e:[]).concat(a.name);c=[];k=$jscomp.makeIterator(k);
for(e=k.next();!e.done;e=k.next())if(e=e.value,e.views&&e.views.length)for(var F=$jscomp.makeIterator(e.views),R=F.next();!R.done;R=F.next())R=R.value,(Wa.isString(R)&&(R===a.name||0<=r.indexOf(R))||Wa.isArray(R)&&R.map(function(Ca){return r.indexOf(Ca)}).every(function(Ca,Xa,jb){return-1!==Ca&&(0===Xa||Ca>jb[Xa-1])}))&&c.push(e);else c.push(e);c.length&&(a.params=c);return a};for(var Kl={},Km=$jscomp.makeIterator(["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]),ym=Km.next();!ym.done;Kl=
{$jscomp$loop$prop$proto$730:Kl.$jscomp$loop$prop$proto$730},ym=Km.next()){var Lm=ym.value;Kl.$jscomp$loop$prop$proto$730=Xj.prototype[Lm];Xj.prototype[Lm]=function(a){return function(c,e){return a.$jscomp$loop$prop$proto$730.call(this,c,ie(c,e))}}(Kl)}var Tm=new dh,Um=new Qk,Sm=new Xj,Hf=function(a,c){a=void 0===a?{}:a;c=void 0===c?{}:c;this.explicit=a;this.implicit=c};Hf.prototype.clone=function(){return new Hf(Ge(this.explicit),Ge(this.implicit))};Hf.prototype.combine=function(){return Object.assign({},
this.explicit,this.implicit)};Hf.prototype.get=function(a){return y(this.explicit[a],this.implicit[a])};Hf.prototype.getWithExplicit=function(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}};Hf.prototype.setWithExplicit=function(a,c){var e=c.value;c=c.explicit;void 0!==e&&this.set(a,e,c)};Hf.prototype.set=function(a,c,e){delete this[e?"implicit":"explicit"][a];this[e?"explicit":"implicit"][a]=
c;return this};Hf.prototype.copyKeyFromSplit=function(a,c){var e=c.explicit;c=c.implicit;void 0!==e[a]?this.set(a,e[a],!0):void 0!==c[a]&&this.set(a,c[a],!1)};Hf.prototype.copyKeyFromObject=function(a,c){void 0!==c[a]&&this.set(a,c[a],!0)};Hf.prototype.copyAll=function(a){for(var c=$jscomp.makeIterator(fd(a.combine())),e=c.next();!e.done;e=c.next()){e=e.value;var k=a.getWithExplicit(e);this.setWithExplicit(e,k)}};var pm=function(a,c,e){a=void 0===a?{}:a;c=void 0===c?{}:c;e=void 0===e?!1:e;var k=Hf.call(this,
a,c)||this;k.explicit=a;k.implicit=c;k.parseNothing=e;return k};$jscomp.inherits(pm,Hf);pm.prototype.clone=function(){var a=Hf.prototype.clone.call(this);a.parseNothing=this.parseNothing;return a};var wf;(function(a){a[a.Raw=0]="Raw";a[a.Main=1]="Main";a[a.Row=2]="Row";a[a.Column=3]="Column";a[a.Lookup=4]="Lookup"})(wf||(wf={}));var Wm=/[[\]{}]/,Vm={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Am,Bm,Yd=function(a,c){this.debugName=c;Uc(this,"_children",
[]);Uc(this,"_parent",null);Uc(this,"_hash",void 0);a&&(this.parent=a)};Yd.prototype.clone=function(){throw Error("Cannot clone node");};Yd.prototype.numChildren=function(){return this._children.length};Yd.prototype.addChild=function(a,c){this._children.includes(a)?Ma("Attempt to add the same child twice."):void 0!==c?this._children.splice(c,0,a):this._children.push(a)};Yd.prototype.removeChild=function(a){a=this._children.indexOf(a);this._children.splice(a,1);return a};Yd.prototype.remove=function(){for(var a=
this._parent.removeChild(this),c=$jscomp.makeIterator(this._children),e=c.next();!e.done;e=c.next())e=e.value,e._parent=this._parent,this._parent.addChild(e,a++)};Yd.prototype.insertAsParentOf=function(a){var c=a.parent;c.removeChild(this);this.parent=c;a.parent=this};Yd.prototype.swapWithParent=function(){for(var a=this._parent,c=a.parent,e=$jscomp.makeIterator(this._children),k=e.next();!k.done;k=e.next())k.value.parent=a;this._children=[];a.removeChild(this);a.parent.removeChild(a);this.parent=
c;a.parent=this};$jscomp.global.Object.defineProperties(Yd.prototype,{parent:{configurable:!0,enumerable:!0,get:function(){return this._parent},set:function(a){(this._parent=a)&&a.addChild(this)}},children:{configurable:!0,enumerable:!0,get:function(){return this._children}}});var Gf=function(a,c,e,k){a=Yd.call(this,a,c)||this;a.type=e;a.refCounts=k;Uc(a,"_source",void 0);Uc(a,"_name",void 0);a._source=a._name=c;!a.refCounts||a._name in a.refCounts||(a.refCounts[a._name]=0);return a};$jscomp.inherits(Gf,
Yd);Gf.prototype.clone=function(){var a=new this.constructor;a.debugName="clone_"+this.debugName;a._source=this._source;a._name="clone_"+this._name;a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a};Gf.prototype.dependentFields=function(){return new Set};Gf.prototype.producedFields=function(){return new Set};Gf.prototype.hash=function(){void 0===this._hash&&(this._hash="Output "+z());return this._hash};Gf.prototype.getSource=function(){this.refCounts[this._name]++;return this._source};
Gf.prototype.isRequired=function(){return!!this.refCounts[this._name]};Gf.prototype.setSource=function(a){this._source=a};var Wf=function(a,c){a=Yd.call(this,a)||this;a.formula=c;return a};$jscomp.inherits(Wf,Yd);Wf.prototype.clone=function(){return new Wf(null,Ge(this.formula))};Wf.makeFromEncoding=function(a,c){c=c.reduceFieldDef(function(e,k){var r=k.field,F=k.timeUnit;F&&(k=ad(k,{forAs:!0}),e[rb({as:k,field:r,timeUnit:F})]={as:k,field:r,timeUnit:F});return e},{});return Oa(c)?null:new Wf(a,c)};
Wf.makeFromTransform=function(a,c){var e=Object.assign({},c);c=Object.assign({},e);e=e.timeUnit;c=(delete c.timeUnit,c);e=Wc(e);c=Object.assign({},c,{timeUnit:e});e={};return new Wf(a,(e[rb(c)]=c,e))};Wf.prototype.merge=function(a){this.formula=Object.assign({},this.formula);for(var c in a.formula)this.formula[c]||(this.formula[c]=a.formula[c]);c=$jscomp.makeIterator(a.children);for(var e=c.next();!e.done;e=c.next())e=e.value,a.removeChild(e),e.parent=this;a.remove()};Wf.prototype.removeFormulas=
function(a){for(var c={},e=$jscomp.makeIterator(Hg(this.formula)),k=e.next();!k.done;k=e.next()){var r=$jscomp.makeIterator(k.value);k=r.next().value;r=r.next().value;a.has(r.as)||(c[k]=r)}this.formula=c};Wf.prototype.producedFields=function(){return new Set(gg(this.formula).map(function(a){return a.as}))};Wf.prototype.dependentFields=function(){return new Set(gg(this.formula).map(function(a){return a.field}))};Wf.prototype.hash=function(){return"TimeUnit "+rb(this.formula)};Wf.prototype.assemble=
function(){for(var a=[],c=$jscomp.makeIterator(gg(this.formula)),e=c.next();!e.done;e=c.next()){var k=e.value;e=k.field;var r=k.as,F=Wc(k.timeUnit),R=Object.assign({},F);k=F.unit;F=F.utc;R=(delete R.unit,delete R.utc,R);a.push(Object.assign({},{field:wa(e),type:"timeunit"},k?{units:sc(k)}:{},F?{timezone:"utc"}:{},R,{as:[r,r+"_end"]}))}return a};var hn=function(a){for(var c=[],e=0;e<arguments.length;++e)c[e-0]=arguments[e];Uc(this,"hasChannel",void 0);Uc(this,"hasField",void 0);Uc(this,"timeUnit",
void 0);Uc(this,"items",void 0);this.items=c;this.hasChannel={};this.hasField={}},ri={defined:function(a){return"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind},parse:function(a,c){for(var e=c.scales=[],k=$jscomp.makeIterator(c.project.items),r=k.next();!r.done;r=k.next()){r=r.value;var F=r.channel;if(xg[F]){var R=(F=a.getScaleComponent(F))?F.get("type"):void 0;F&&R in fg?(F.set("selectionExtent",{param:c.name,field:r.field},!0),e.push(r)):Ma("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}}},
topLevelSignals:function(a,c,e){var k=c.scales.filter(function(Ca){return 0===e.filter(function(Xa){return Xa.name===Ca.signals.data}).length});if(!a.parent||ak(a)||0===k.length)return e;a=e.filter(function(Ca){return Ca.name===c.name})[0];var r=a.update;if(0<=r.indexOf("vlSelectionResolve"))a.update="{"+k.map(function(Ca){return x.stringValue(wa(Ca.field))+": "+Ca.signals.data}).join(", ")+"}";else{for(var F=$jscomp.makeIterator(k),R=F.next();!R.done;R=F.next())R=R.value,R=x.stringValue(wa(R.field))+
": "+R.signals.data,r.includes(R)||(r=r.substring(0,r.length-1)+", "+R+"}");a.update=r}return e.concat(k.map(function(Ca){return{name:Ca.signals.data}}))},signals:function(a,c,e){if(a.parent&&!ak(a)){a={};c=$jscomp.makeIterator(c.scales);for(var k=c.next();!k.done;a={$jscomp$loop$prop$proj$737:a.$jscomp$loop$prop$proj$737},k=c.next())a.$jscomp$loop$prop$proj$737=k.value,k=e.filter(function(r){return function(F){return F.name===r.$jscomp$loop$prop$proj$737.signals.data}}(a))[0],k.push="outer",delete k.value,
delete k.update}return e}},Xm={left:"x",center:"xc",right:"x2"},Ym={top:"y",middle:"yc",bottom:"y2"},Zm=new Set(["aria","width","height"]),Mm={defined:function(a){return"point"===a.type&&a.nearest},parse:function(a,c){if(c.events){c=$jscomp.makeIterator(c.events);for(var e=c.next();!e.done;e=c.next())e.value.markname=a.getName("voronoi")}},marks:function(a,c,e){var k=c.project.hasChannel;c=k.x;k=k.y;var r=a.mark;if(lc(r))return Ma('The "nearest" transform is not supported for '+r+" marks."),e;c={name:a.getName("voronoi"),
type:"path",interactive:!0,from:{data:a.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},ck(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:c||!k?"datum.datum.x || 0":"0"},y:{expr:k||!c?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]}]};var F=0,R=!1;e.forEach(function(Ca,Xa){var jb;Ca=null!==(jb=Ca.name)&&void 0!==jb?jb:"";Ca===a.component.mark[0].name?
F=Xa:0<=Ca.indexOf("voronoi")&&(R=!0)});R||e.splice(F+1,0,c);return e}},Nm={defined:function(a){return"point"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==a.bind&&!Vb(a.bind)},parse:function(a,c,e){return Wg(c,e)},topLevelSignals:function(a,c,e){var k=c.name;a=c.project;var r=c.bind,F=c.init&&c.init[0],R=Mm.defined(c)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach(function(Ca,Xa){var jb=va(k+"_"+Ca.field);if(!e.filter(function(nc){return nc.name===jb}).length){var zb,ac;
e.unshift(Object.assign({},{name:jb},F?{init:Cd(F[Xa])}:{value:null},{on:c.events?[{events:c.events,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? "+R+"["+x.stringValue(Ca.field)+"] : null"}]:[],bind:null!==(zb=null!==(ac=r[Ca.field])&&void 0!==ac?ac:r[Ca.channel])&&void 0!==zb?zb:r}))}});return e},signals:function(a,c,e){var k=c.name,r=c.project;a=e.filter(function(R){return R.name===k+"_tuple"})[0];c=k+"_tuple_fields";r=r.items.map(function(R){return va(k+"_"+R.field)});var F=r.map(function(R){return R+
" !\x3d\x3d null"}).join(" \x26\x26 ");r.length&&(a.update=F+" ? {fields: "+c+", values: ["+r.join(", ")+"]} : null");delete a.value;delete a.on;return e}},Om={defined:function(a){return"point"===a.type&&!!a.toggle},signals:function(a,c,e){return e.concat({name:c.name+"_toggle",value:!1,on:[{events:c.events,update:c.toggle}]})},modifyExpr:function(a,c){var e=c.name+"_tuple",k=c.name+"_toggle";return k+" ? null : "+e+", "+("global"===c.resolve?k+" ? null : true, ":k+" ? null : {unit: "+Th(a)+"}, ")+
(k+" ? "+e+" : null")}},Dm={defined:function(a){var c="global"===a.resolve&&a.bind&&Vb(a.bind);a=1===a.project.items.length&&"_vgsid_"!==a.project.items[0].field;c&&!a&&Ma("Legend bindings are only supported for selections over an individual field or encoding channel.");return c&&a},parse:function(a,c,e){a=Ge(e);a.select=x.isString(a.select)?{type:a.select,toggle:c.toggle}:Object.assign({},a.select,{toggle:c.toggle});Wg(c,a);if(Wa.isObject(e.select)&&(e.select.on||e.select.clear))for(e=$jscomp.makeIterator(c.events),
a=e.next();!a.done;a=e.next()){a=a.value;var k;a.filter=x.array(null!==(k=a.filter)&&void 0!==k?k:[]);a.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||a.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}k=l(c.bind)?c.bind.legend:"click";k=x.isString(k)?te(k,"view"):x.array(k);c.bind={legend:{merge:k}}},topLevelSignals:function(a,c,e){a=c.name;for(var k=l(c.bind)&&c.bind.legend,r=function(Xa){return function(jb){jb=Ge(jb);jb.markname=
Xa;return jb}},F={},R=$jscomp.makeIterator(c.project.items),Ca=R.next();!Ca.done;F={$jscomp$loop$prop$sgName$744:F.$jscomp$loop$prop$sgName$744},Ca=R.next())Ca=Ca.value,Ca.hasLegend&&(Ca=va(Ca.field)+"_legend",F.$jscomp$loop$prop$sgName$744=a+"_"+Ca,0===e.filter(function(Xa){return function(jb){return jb.name===Xa.$jscomp$loop$prop$sgName$744}}(F)).length&&(Ca=k.merge.map(r(Ca+"_symbols")).concat(k.merge.map(r(Ca+"_labels"))).concat(k.merge.map(r(Ca+"_entries"))),e.unshift(Object.assign({},{name:F.$jscomp$loop$prop$sgName$744},
c.init?{}:{value:null},{on:[{events:Ca,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:k.merge,update:"!event.item || !datum ? null : "+F.$jscomp$loop$prop$sgName$744,force:!0}]}))));return e},signals:function(a,c,e){var k=c.name,r=c.project;a=e.find(function(R){return R.name===k+"_tuple"});var F=k+"_tuple_fields";r=r.items.filter(function(R){return R.hasLegend}).map(function(R){return va(k+"_"+va(R.field)+"_legend")});F=r.map(function(R){return R+" !\x3d\x3d null"}).join(" \x26\x26 ")+
" ? {fields: "+F+", values: ["+r.join(", ")+"]} : null";c.events&&0<r.length?a.on.push({events:r.map(function(R){return{signal:R}}),update:F}):0<r.length&&(a.update=F,delete a.value,delete a.on);a=e.find(function(R){return R.name===k+"_toggle"});F=l(c.bind)&&c.bind.legend;a&&(c.events?a.on.push(Object.assign({},a.on[0],{events:F})):a.on[0].events=F);return e}},Vk=[{defined:function(a){return"point"===a.type},signals:function(a,c,e){var k=c.name,r=k+"_tuple_fields",F=c.project.items.map(function(R){var Ca=
a.fieldDef(R.channel);return Ca&&Ca.bin?"[(item().isVoronoi ? datum.datum : datum)["+x.stringValue(a.vgField(R.channel,{}))+"], (item().isVoronoi ? datum.datum : datum)["+(x.stringValue(a.vgField(R.channel,{binSuffix:"end"}))+"]]"):"(item().isVoronoi ? datum.datum : datum)["+x.stringValue(R.field)+"]"}).join(", ");r="unit: "+Th(a)+", fields: "+r+", values";c=c.events;return e.concat([{name:k+"_tuple",on:c?[{events:c,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? {"+r+": ["+F+"]} : null",
force:!0}]:[]}])}},{defined:function(a){return"interval"===a.type},signals:function(a,c,e){var k=c.name,r=k+"_tuple_fields",F=ri.defined(c),R=c.init?c.init[0]:null,Ca=[],Xa=[];if(c.translate&&!F){var jb="!event.item || event.item.mark.name !\x3d\x3d "+x.stringValue(k+"_brush");gh(c,function(zb,ac){var nc,kc;ac=x.array(null!==(kc=(nc=ac.between[0]).filter)&&void 0!==kc?kc:nc.filter=[]);ac.includes(jb)||ac.push(jb);return zb})}c.project.items.forEach(function(zb,ac){var nc=zb.channel;if("x"!==nc&&"y"!==
nc)Ma("Interval selections only support x and y encoding channels.");else{ac=Pl(a,c,zb,R?R[ac]:null);var kc=zb.signals.data;zb=zb.signals.visual;var cd=x.stringValue(a.scaleName(nc)),zc=a.getScaleComponent(nc).get("type")in fg?"+":"";e.push.apply(e,$jscomp.arrayFromIterable(ac));Ca.push(kc);Xa.push({scaleName:a.scaleName(nc),expr:"(!isArray("+kc+") || ("+(zc+"invert("+cd+", "+zb+")[0] \x3d\x3d\x3d "+zc+kc+"[0] \x26\x26 ")+(zc+"invert("+cd+", "+zb+")[1] \x3d\x3d\x3d "+zc+kc+"[1]))")})}});F||e.push({name:k+
"_scale_trigger",value:{},on:[{events:Xa.map(function(zb){return{scale:zb.scaleName}}),update:Xa.map(function(zb){return zb.expr}).join(" \x26\x26 ")+" ? "+(k+"_scale_trigger : {}")}]});r="unit: "+Th(a)+", fields: "+r+", values";return e.concat(Object.assign({},{name:k+"_tuple"},R?{init:"{"+r+": "+Cd(R)+"}"}:{},{on:[{events:[{signal:Ca.join(" || ")}],update:Ca.join(" \x26\x26 ")+" ? {"+r+": ["+Ca+"]} : null"}]}))},marks:function(a,c,e){var k=c.name,r=c.project.hasChannel,F=r.x,R=r.y,Ca=F&&F.signals.visual,
Xa=R&&R.signals.visual,jb="data("+x.stringValue(c.name+"_store")+")";if(ri.defined(c))return e;r={x:void 0!==F?{signal:Ca+"[0]"}:{value:0},y:void 0!==R?{signal:Xa+"[0]"}:{value:0},x2:void 0!==F?{signal:Ca+"[1]"}:{field:{group:"width"}},y2:void 0!==R?{signal:Xa+"[1]"}:{field:{group:"height"}}};if("global"===c.resolve)for(var zb=$jscomp.makeIterator(fd(r)),ac=zb.next();!ac.done;ac=zb.next())ac=ac.value,r[ac]=[Object.assign({},{test:jb+".length \x26\x26 "+jb+"[0].unit \x3d\x3d\x3d "+Th(a)},r[ac]),{value:0}];
zb=c.mark;jb=Object.assign({},zb);a=zb.fill;c=zb.fillOpacity;zb=zb.cursor;var nc=(delete jb.fill,delete jb.fillOpacity,delete jb.cursor,jb);jb=fd(nc).reduce(function(kc,cd){kc[cd]=[{test:[void 0!==F&&Ca+"[0] !\x3d\x3d "+Ca+"[1]",void 0!==R&&Xa+"[0] !\x3d\x3d "+Xa+"[1]"].filter(function(zc){return zc}).join(" \x26\x26 "),value:nc[cd]},{value:null}];return kc},{});return[{name:k+"_brush_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:c}},update:r}}].concat($jscomp.arrayFromIterable(e),
[{name:k+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},zb?{cursor:{value:zb}}:{},{fill:{value:"transparent"}}),update:Object.assign({},r,jb)}}])}},{defined:function(){return!0},parse:function(a,c,e){var k,r=c.name,F=null!==(k=c.project)&&void 0!==k?k:c.project=new hn,R={};k={};var Ca=new Set,Xa=function(zd,He){var De="visual"===He?zd.channel:zd.field;zd=va(r+"_"+De);for(var af=1;Ca.has(zd);af++)zd=va(r+"_"+De+"_"+af);Ca.add(zd);De={};return De[He]=zd,De},jb=c.type,zb=a.config.selection[jb],
ac=void 0!==e.value?x.array(e.value):null,nc=x.isObject(e.select)?e.select:{};e=nc.fields;nc=nc.encodings;if(!e&&!nc&&ac)for(var kc=$jscomp.makeIterator(ac),cd=kc.next();!cd.done;cd=kc.next())if(cd=cd.value,x.isObject(cd)){cd=$jscomp.makeIterator(fd(cd));for(var zc=cd.next();!zc.done;zc=cd.next())zc=zc.value,lj[zc]?(nc||(nc=[])).push(zc):"interval"===jb?(Ma('Interval selections should be initialized using "x" and/or "y" keys.'),nc=zb.encodings):(e||(e=[])).push(zc)}e||nc||(nc=zb.encodings,e=zb.fields);
zb=$jscomp.makeIterator(null!==(td=nc)&&void 0!==td?td:[]);for(td=zb.next();!td.done;td=zb.next()){td=td.value;var td;(kc=a.fieldDef(td))?(nc=kc.field,kc.aggregate?Ma('Cannot project a selection on encoding channel "'+td+'" as it uses an aggregate function ("'+kc.aggregate+'").'):nc?(kc.timeUnit&&(nc=a.vgField(td),cd={timeUnit:kc.timeUnit,as:nc,field:kc.field},k[rb(cd)]=cd),R[nc]||(cd="E","interval"===jb?a.getScaleComponent(td).get("type")in fg&&(cd="R"):kc.bin&&(cd="R-RE"),kc={field:nc,channel:td,
type:cd},kc.signals=Object.assign({},Xa(kc,"data"),Xa(kc,"visual")),F.items.push(R[nc]=kc),F.hasField[nc]=F.hasChannel[td]=R[nc])):Ma(Cc(td))):Ma(Cc(td))}a=$jscomp.makeIterator(null!==(Sd=e)&&void 0!==Sd?Sd:[]);for(Sd=a.next();!Sd.done;Sd=a.next()){Sd=Sd.value;var Sd;F.hasField[Sd]||(R={type:"E",field:Sd},R.signals=Object.assign({},Xa(R,"data")),F.items.push(R),F.hasField[Sd]=R)}ac&&(c.init=ac.map(function(zd){return F.items.map(function(He){return x.isObject(zd)?void 0!==zd[He.channel]?zd[He.channel]:
zd[He.field]:zd})}));Oa(k)||(F.timeUnit=new Wf(null,k))},signals:function(a,c,e){var k=c.name+"_tuple_fields";return 0<e.filter(function(r){return r.name===k}).length?e:e.concat({name:k,value:c.project.items.map(function(r){r=Object.assign({},r);r=(delete r.signals,delete r.hasLegend,r);r.field=wa(r.field);return r})})}},Om,Nm,ri,Dm,{defined:function(a){return void 0!==a.clear&&!1!==a.clear},parse:function(a,c){c.clear&&(c.clear=x.isString(c.clear)?te(c.clear,"view"):c.clear)},topLevelSignals:function(a,
c,e){if(Nm.defined(c)){a={};for(var k=$jscomp.makeIterator(c.project.items),r=k.next();!r.done;a={$jscomp$loop$prop$proj$739:a.$jscomp$loop$prop$proj$739},r=k.next())a.$jscomp$loop$prop$proj$739=r.value,r=e.findIndex(function(F){return function(R){return R.name===va(c.name+"_"+F.$jscomp$loop$prop$proj$739.field)}}(a)),-1!==r&&e[r].on.push({events:c.clear,update:"null"})}return e},signals:function(a,c,e){function k(R,Ca){-1!==R&&e[R].on&&e[R].on.push({events:c.clear,update:Ca})}if("interval"===c.type){a=
{};for(var r=$jscomp.makeIterator(c.project.items),F=r.next();!F.done;a={$jscomp$loop$prop$proj$742:a.$jscomp$loop$prop$proj$742},F=r.next())a.$jscomp$loop$prop$proj$742=F.value,F=e.findIndex(function(R){return function(Ca){return Ca.name===R.$jscomp$loop$prop$proj$742.signals.visual}}(a)),k(F,"[0, 0]"),-1===F&&(F=e.findIndex(function(R){return function(Ca){return Ca.name===R.$jscomp$loop$prop$proj$742.signals.data}}(a)),k(F,"null"))}else a=e.findIndex(function(R){return R.name===c.name+"_tuple"}),
k(a,"null"),Om.defined(c)&&(a=e.findIndex(function(R){return R.name===c.name+"_toggle"}),k(a,"false"));return e}},{defined:function(a){return"interval"===a.type&&a.translate},signals:function(a,c,e){var k=c.name,r=ri.defined(c),F=k+"_translate_anchor",R=c.project.hasChannel,Ca=R.x;R=R.y;var Xa=te(c.translate,"scope");r||(Xa=Xa.map(function(jb){return jb.between[0].markname=k+"_brush",jb}));e.push({name:F,value:{},on:[{events:Xa.map(function(jb){return jb.between[0]}),update:"{x: x(unit), y: y(unit)"+
(void 0!==Ca?", extent_x: "+(r?fh(a,"x"):"slice("+Ca.signals.visual+")"):"")+(void 0!==R?", extent_y: "+(r?fh(a,"y"):"slice("+R.signals.visual+")"):"")+"}"}]},{name:k+"_translate_delta",value:{},on:[{events:Xa,update:"{x: "+F+".x - x(unit), y: "+F+".y - y(unit)}"}]});void 0!==Ca&&rf(a,c,Ca,"width",e);void 0!==R&&rf(a,c,R,"height",e);return e}},{defined:function(a){return"interval"===a.type&&a.zoom},signals:function(a,c,e){var k=c.name,r=ri.defined(c),F=k+"_zoom_delta",R=c.project.hasChannel,Ca=R.x;
R=R.y;var Xa=x.stringValue(a.scaleName("x")),jb=x.stringValue(a.scaleName("y")),zb=te(c.zoom,"scope");r||(zb=zb.map(function(ac){return ac.markname=k+"_brush",ac}));e.push({name:k+"_zoom_anchor",on:[{events:zb,update:r?"{"+[Xa?"x: invert("+Xa+", x(unit))":"",jb?"y: invert("+jb+", y(unit))":""].filter(function(ac){return!!ac}).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:F,on:[{events:zb,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==Ca&&Lf(a,c,Ca,"width",
e);void 0!==R&&Lf(a,c,R,"height",e);return e}},Mm];Jg.prototype.visit=function(a){var c;if(a(this))return 1;var e=cl(this);var k=0;for(c=e.length;k<c;++k)if(e[k].visit(a))return 1};var ae,Yc,mg,bf,$m=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
an=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
bn={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},cn={"if":1},ph=function(a,c,e){a=Yd.call(this,a)||this;a.model=
c;a.filter=e;Uc(a,"expr",void 0);Uc(a,"_dependentFields",void 0);a.expr=ti(a.model,a.filter,a);a._dependentFields=ai(a.expr);return a};$jscomp.inherits(ph,Yd);ph.prototype.clone=function(){return new ph(null,this.model,Ge(this.filter))};ph.prototype.dependentFields=function(){return this._dependentFields};ph.prototype.producedFields=function(){return new Set};ph.prototype.assemble=function(){return{type:"filter",expr:this.expr}};ph.prototype.hash=function(){return"Filter "+this.expr};var Jm={scale:function(a){return a.model.scaleName(a.channel)},
format:function(a){var c=a.fieldOrDatumDef,e=a.axis;return $e(c,c.type,e.format,e.formatType,a.config,!0)},formatType:function(a){return Te(a.axis.formatType,a.fieldOrDatumDef,a.scaleType)},grid:function(a){var c=a.fieldOrDatumDef,e=a.scaleType,k;return null!==(k=a.axis.grid)&&void 0!==k?k:!(e in Of)&&Nc(c)&&!Ga(null===c||void 0===c?void 0:c.bin)&&!La(null===c||void 0===c?void 0:c.bin)},gridScale:function(a){var c=a.model;a="x"===a.channel?"y":"x";c=c.getScaleComponent(a)?c.scaleName(a):void 0;return c},
labelAlign:function(a){var c=a.labelAngle,e=a.orient,k=a.channel;return a.axis.labelAlign||zi(c,e,k)},labelAngle:function(a){return a.labelAngle},labelBaseline:function(a){var c=a.labelAngle,e=a.orient,k=a.channel;return a.axis.labelBaseline||lh(c,e,k)},labelFlush:function(a){var c=a.fieldOrDatumDef,e=a.channel,k;a=null!==(k=a.axis.labelFlush)&&void 0!==k?k:"x"===e&&Sa(["quantitative","temporal"],c.type)?!0:void 0;return a},labelOverlap:function(a){var c=a.fieldOrDatumDef,e=a.scaleType,k;null!==(k=
a.axis.labelOverlap)&&void 0!==k?e=k:(a=c.type,k=Nc(c)&&!!c.timeUnit,c=Nc(c)?c.sort:void 0,e=k&&!x.isObject(c)||"nominal"!==a&&"ordinal"!==a?"log"===e||"symlog"===e?"greedy":!0:void 0);return e},orient:function(a){return a.orient},tickCount:function(a){var c=a.channel,e=a.model,k=a.axis,r=a.fieldOrDatumDef;a=a.scaleType;var F;e=(c="x"===c?"width":"y"===c?"height":void 0)?e.getSizeSignalRef(c):void 0;if(null!==(F=k.tickCount)&&void 0!==F)k=F;else a:if(k.values||a in Of||"log"===a)k=void 0;else{if(Nc(r)){var R;
if(Ga(r.bin)){k={signal:"ceil("+e.signal+"/10)"};break a}if(r.timeUnit&&Sa(["month","hours","day","quarter"],null===(R=Wc(r.timeUnit))||void 0===R?void 0:R.unit)){k=void 0;break a}}k={signal:"ceil("+e.signal+"/40)"}}return k},title:function(a){var c=a.axis,e=a.model;a=a.channel;if(void 0!==c.title)return c.title;c=Ai(e,a);if(void 0!==c)return c;c=e.typedFieldDef(a);e=e.fieldDef("x"===a?"x2":"y2");return Ad(c?[gd(c)]:[],Nc(e)?[gd(e)]:[])},values:function(a){var c=a.fieldOrDatumDef;a=a.axis.values;
c=x.isArray(a)?qd(c,a):ea(a)?a:void 0;return c},zindex:function(a){var c=a.fieldOrDatumDef,e=a.mark,k;a=null!==(k=a.axis.zindex)&&void 0!==k?k:"rect"===e&&cf(c)?1:0;return a}},ah=function(a,c){a=Yd.call(this,a)||this;a.transform=c;Uc(a,"_dependentFields",void 0);a._dependentFields=ai(a.transform.calculate);return a};$jscomp.inherits(ah,Yd);ah.prototype.clone=function(){return new ah(null,Ge(this.transform))};ah.parseAllForSortIndex=function(a,c){c.forEachFieldDef(function(e,k){if(lf(e)&&Wd(e.sort)){var r=
e.field,F=e.timeUnit,R=e.sort;R=R.map(function(Ca,Xa){return oa({field:r,timeUnit:F,equal:Ca})+" ? "+Xa+" : "}).join("")+R.length;a=new ah(a,{calculate:R,as:$g(e,k,{forAs:!0})})}});return a};ah.prototype.producedFields=function(){return new Set([this.transform.as])};ah.prototype.dependentFields=function(){return this._dependentFields};ah.prototype.assemble=function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}};ah.prototype.hash=function(){return"Calculate "+rb(this.transform)};
var zm=["row","column"],Wl=["header","footer"],jn={column:{start:0,end:1},row:{start:1,end:0}},kn=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,
labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,
values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),Em=fd(kn),Cm=function(){return Hf.apply(this,arguments)||this};$jscomp.inherits(Cm,Hf);var Gm={symbols:function(a,c){var e=c.fieldOrDatumDef,k=c.model,r=c.channel,F=c.legendCmpt,R,Ca,Xa,jb;if("symbol"===c.legendType){var zb=k.markDef,ac=k.encoding;c=k.config;var nc=k.mark,kc=zb.filled&&"trail"!==nc;nc=Object.assign({},Ya({},k,vm),Zk(k,{filled:kc}));var cd=null!==(R=
F.get("symbolOpacity"))&&void 0!==R?R:c.legend.symbolOpacity;R=null!==(Ca=F.get("symbolFillColor"))&&void 0!==Ca?Ca:c.legend.symbolFillColor;Ca=null!==(Xa=F.get("symbolStrokeColor"))&&void 0!==Xa?Xa:c.legend.symbolStrokeColor;Xa=void 0===cd?null!==(jb=il(ac.opacity))&&void 0!==jb?jb:zb.opacity:void 0;if(nc.fill)if("fill"===r||kc&&"color"===r)delete nc.fill;else if(nc.fill.field)if(R)delete nc.fill;else{var zc;nc.fill=lb(null!==(zc=c.legend.symbolBaseFillColor)&&void 0!==zc?zc:"black");nc.fillOpacity=
lb(null!==Xa&&void 0!==Xa?Xa:1)}else if(x.isArray(nc.fill)){var td,Sd,zd;if(jb=null!==(td=null!==(Sd=Ci(null!==(zd=ac.fill)&&void 0!==zd?zd:ac.color))&&void 0!==Sd?Sd:zb.fill)&&void 0!==td?td:kc&&zb.color)nc.fill=lb(jb)}nc.stroke&&("stroke"===r||!kc&&"color"===r?delete nc.stroke:nc.stroke.field||Ca?delete nc.stroke:x.isArray(nc.stroke)&&(td=y(Ci(ac.stroke||ac.color),zb.stroke,kc?zb.color:void 0))&&(nc.stroke={value:td}));"opacity"!==r&&((e=Nc(e)&&Jj(k,F,e))?nc.opacity=[Object.assign({},{test:e},lb(null!==
Xa&&void 0!==Xa?Xa:1)),lb(c.legend.unselectedOpacity)]:Xa&&(nc.opacity=lb(Xa)));nc=Object.assign({},nc,a);return Oa(nc)?void 0:nc}},gradient:function(a,c){var e;if("gradient"===c.legendType){var k=c.model,r=k.config,F=k.markDef,R=k.encoding;k={};if(c=void 0===(null!==(e=c.legendCmpt.get("gradientOpacity"))&&void 0!==e?e:r.legend.gradientOpacity)?il(R.opacity)||F.opacity:void 0)k.opacity=lb(c);k=Object.assign({},k,a);return Oa(k)?void 0:k}},labels:function(a,c){var e=c.fieldOrDatumDef,k=c.model,r=
c.legendCmpt,F=k.legend(c.channel)||{};c=k.config;k=(k=Nc(e)?Jj(k,r,e):void 0)?[{test:k,value:1},{value:c.legend.unselectedOpacity}]:void 0;r=F.format;F=F.formatType;e=Mb(F)?Ce({fieldOrDatumDef:e,field:"datum.value",format:r,formatType:F,config:c}):void 0;a=Object.assign({},k?{opacity:k}:{},e?{text:e}:{},a);return Oa(a)?void 0:a},entries:function(a,c){c=c.legendCmpt.get("selections");return null!==c&&void 0!==c&&c.length?Object.assign({},a,{fill:{value:"transparent"}}):a}},Fm={direction:function(a){return a.direction},
format:function(a){var c=a.fieldOrDatumDef,e=a.legend;return $e(c,c.type,e.format,e.formatType,a.config,!1)},formatType:function(a){return Te(a.legend.formatType,a.fieldOrDatumDef,a.scaleType)},gradientLength:function(a){var c,e,k=a.legendConfig;if(null!==(c=null!==(e=a.legend.gradientLength)&&void 0!==e?e:k.gradientLength)&&void 0!==c)a=c;else{c=a.model;e=a.direction;k=a.orient;var r=a.legendConfig,F=r.gradientHorizontalMaxLength,R=r.gradientHorizontalMinLength,Ca=r.gradientVerticalMaxLength;r=r.gradientVerticalMinLength;
a=a.scaleType in ag?"horizontal"===e?"top"===k||"bottom"===k?{signal:"clamp("+c.getSizeSignalRef("width").signal+", "+R+", "+F+")"}:R:{signal:"clamp("+c.getSizeSignalRef("height").signal+", "+r+", "+Ca+")"}:void 0}return a},labelOverlap:function(a){var c=a.legendConfig,e=a.scaleType,k,r;a=null!==(k=null!==(r=a.legend.labelOverlap)&&void 0!==r?r:c.labelOverlap)&&void 0!==k?k:Sa(["quantile","threshold","log","symlog"],e)?"greedy":void 0;return a},symbolType:function(a){var c=a.markDef,e=a.channel,k=
a.encoding,r;if(null!==(r=a.legend.symbolType)&&void 0!==r)var F=r;else a:{a=c.type;c=c.shape;if("shape"!==e&&(e=null!==(F=Ci(k.shape))&&void 0!==F?F:c)){F=e;break a}switch(a){case "bar":case "rect":case "image":case "square":F="square";break a;case "line":case "trail":case "rule":F="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":F="circle";break a}F=void 0}return F},title:function(a){return nf(a.fieldOrDatumDef,a.config,{allowDisabling:!0})},
type:function(a){var c=a.legendType,e=a.scaleType;if(Pa(a.channel)&&e in ag){if("gradient"===c)return}else if("symbol"===c)return;return c},values:function(a){var c=a.fieldOrDatumDef;a=a.legend.values;c=x.isArray(a)?qd(c,a):ea(a)?a:void 0;return c}},dn="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),jl=function(a,c,e,k){a=Hf.call(this,Object.assign({},c),{name:a})||this;a.specifiedProjection=c;
a.size=e;a.data=k;Uc(a,"merged",!1);return a};$jscomp.inherits(jl,Hf);$jscomp.global.Object.defineProperties(jl.prototype,{isFit:{configurable:!0,enumerable:!0,get:function(){return!!this.data}}});var cg=function(a,c){a=Yd.call(this,a)||this;a.bins=c;return a};$jscomp.inherits(cg,Yd);cg.prototype.clone=function(){return new cg(null,Ge(this.bins))};cg.makeFromEncoding=function(a,c){var e=c.reduceFieldDef(function(k,r,F){if(Oe(r)&&Ga(r.bin)){var R=ll(r,r.bin,c),Ca=R.key;k[Ca]=Object.assign({},R.binComponent,
k[Ca],kl(c,r,F,c.config))}return k},{});return Oa(e)?null:new cg(a,e)};cg.makeFromTransform=function(a,c,e){c=ll(c,c.bin,e);e={};return new cg(a,(e[c.key]=c.binComponent,e))};cg.prototype.merge=function(a,c){for(var e=$jscomp.makeIterator(fd(a.bins)),k=e.next();!k.done;k=e.next())k=k.value,k in this.bins?(c(a.bins[k].signal,this.bins[k].signal),this.bins[k].as=na([].concat($jscomp.arrayFromIterable(this.bins[k].as),$jscomp.arrayFromIterable(a.bins[k].as)),rb)):this.bins[k]=a.bins[k];c=$jscomp.makeIterator(a.children);
for(e=c.next();!e.done;e=c.next())e=e.value,a.removeChild(e),e.parent=this;a.remove()};cg.prototype.producedFields=function(){return new Set(gg(this.bins).map(function(a){return a.as}).flat(2))};cg.prototype.dependentFields=function(){return new Set(gg(this.bins).map(function(a){return a.field}))};cg.prototype.hash=function(){return"Bin "+rb(this.bins)};cg.prototype.assemble=function(){return gg(this.bins).flatMap(function(a){var c=[],e=$jscomp.makeIterator(a.as),k=e.next().value;e=$jscomp.arrayFromIterator(e);
var r=a.bin,F=Object.assign({},r);r=r.extent;F=(delete F.extent,F);F=Object.assign({},{type:"bin",field:wa(a.field),as:k,signal:a.signal},db(r)?{extent:null}:{extent:r},a.span?{span:{signal:"span("+a.span+")"}}:{},F);!r&&a.extentSignal&&(c.push({type:"extent",field:wa(a.field),signal:a.extentSignal}),F.extent={signal:a.extentSignal});c.push(F);e=$jscomp.makeIterator(e);for(r=e.next();!r.done;r=e.next())for(r=r.value,F=0;2>F;F++)c.push({type:"formula",expr:ad({field:k[F]},{expr:"datum"}),as:r[F]});
a.formula&&c.push({type:"formula",expr:a.formula,as:a.formulaAs});return c})};var Nf=function(a,c,e){a=Yd.call(this,a)||this;a.dimensions=c;a.measures=e;return a};$jscomp.inherits(Nf,Yd);Nf.prototype.clone=function(){return new Nf(null,new Set(this.dimensions),Ge(this.measures))};Nf.makeFromEncoding=function(a,c){var e=!1;c.forEachFieldDef(function(F){F.aggregate&&(e=!0)});var k={},r=new Set;if(!e)return null;c.forEachFieldDef(function(F,R){var Ca=F.aggregate,Xa=F.field;if(Ca)if("count"===Ca){var jb;
null!==(jb=k["*"])&&void 0!==jb?jb:k["*"]={};k["*"].count=new Set([ad(F,{forAs:!0})])}else{if(t(Ca)||G(Ca)){var zb;F=t(Ca)?"argmin":"argmax";Ca=Ca[F];null!==(zb=k[Ca])&&void 0!==zb?zb:k[Ca]={};k[Ca][F]=new Set([ad({op:F,field:Ca},{forAs:!0})])}else{var ac;null!==(ac=k[Xa])&&void 0!==ac?ac:k[Xa]={};k[Xa][Ca]=new Set([ad(F,{forAs:!0})])}if(xg[R]&&"unaggregated"===c.scaleDomain(R)){var nc;null!==(nc=k[Xa])&&void 0!==nc?nc:k[Xa]={};k[Xa].min=new Set([ad({field:Xa,aggregate:"min"},{forAs:!0})]);k[Xa].max=
new Set([ad({field:Xa,aggregate:"max"},{forAs:!0})])}}else Xa=vf(c)?c.encoding[ka(R)]:void 0,Oe(F)&&vf(c)&&de(F,Xa,c.markDef,c.config)?(r.add(ad(F,{})),r.add(ad(F,{suffix:"end"})),F.bin&&Id(F,R)&&r.add(ad(F,{binSuffix:"range"}))):R in Mh?(R=ia(R),r.add(c.getName(R))):r.add(ad(F))});return 0===r.size+fd(k).length?null:new Nf(a,r,k)};Nf.makeFromTransform=function(a,c){for(var e=new Set,k={},r=$jscomp.makeIterator(c.aggregate),F=r.next();!F.done;F=r.next()){var R=F=F.value,Ca=R.op,Xa=R.field;R=R.as;
if(Ca)if("count"===Ca){var jb;null!==(jb=k["*"])&&void 0!==jb?jb:k["*"]={};k["*"].count=new Set([R?R:ad(F,{forAs:!0})])}else{var zb;null!==(zb=k[Xa])&&void 0!==zb?zb:k[Xa]={};k[Xa][Ca]=new Set([R?R:ad(F,{forAs:!0})])}}c=$jscomp.makeIterator(null!==(ac=c.groupby)&&void 0!==ac?ac:[]);for(F=c.next();!F.done;F=c.next()){var ac;e.add(F.value)}return 0===e.size+fd(k).length?null:new Nf(a,e,k)};Nf.prototype.merge=function(a){if(Ba(this.dimensions,a.dimensions)){var c=this.measures;a=a.measures;for(var e=
$jscomp.makeIterator(fd(a)),k=e.next();!k.done;k=e.next()){k=k.value;for(var r=a[k],F=$jscomp.makeIterator(fd(r)),R=F.next();!R.done;R=F.next())if(R=R.value,k in c){var Ca;c[k][R]=new Set([].concat($jscomp.arrayFromIterable(null!==(Ca=c[k][R])&&void 0!==Ca?Ca:[]),$jscomp.arrayFromIterable(r[R])))}else{var Xa={};c[k]=(Xa[R]=r[R],Xa)}}return!0}Pb("different dimensions, cannot merge");return!1};Nf.prototype.addDimensions=function(a){a.forEach(this.dimensions.add,this.dimensions)};Nf.prototype.dependentFields=
function(){return new Set([].concat($jscomp.arrayFromIterable(this.dimensions),$jscomp.arrayFromIterable(fd(this.measures))))};Nf.prototype.producedFields=function(){for(var a=new Set,c=$jscomp.makeIterator(fd(this.measures)),e=c.next();!e.done;e=c.next()){e=e.value;for(var k=$jscomp.makeIterator(fd(this.measures[e])),r=k.next();!r.done;r=k.next()){r=r.value;var F=this.measures[e][r];0===F.size?a.add(r+"_"+e):F.forEach(a.add,a)}}return a};Nf.prototype.hash=function(){return"Aggregate "+rb({dimensions:this.dimensions,
measures:this.measures})};Nf.prototype.assemble=function(){for(var a=[],c=[],e=[],k=$jscomp.makeIterator(fd(this.measures)),r=k.next();!r.done;r=k.next()){r=r.value;for(var F=$jscomp.makeIterator(fd(this.measures[r])),R=F.next();!R.done;R=F.next()){R=R.value;for(var Ca=$jscomp.makeIterator(this.measures[r][R]),Xa=Ca.next();!Xa.done;Xa=Ca.next())e.push(Xa.value),a.push(R),c.push("*"===r?null:wa(r))}}return{type:"aggregate",groupby:[].concat($jscomp.arrayFromIterable(this.dimensions)).map(wa),ops:a,
fields:c,as:e}};$jscomp.global.Object.defineProperties(Nf.prototype,{groupBy:{configurable:!0,enumerable:!0,get:function(){return this.dimensions}}});var ng=function(a,c,e,k){a=Yd.call(this,a)||this;a.model=c;a.name=e;a.data=k;Uc(a,"column",void 0);Uc(a,"row",void 0);Uc(a,"facet",void 0);Uc(a,"childModel",void 0);e=$jscomp.makeIterator(ig);for(k=e.next();!k.done;k=e.next()){k=k.value;var r=c.facet[k];if(r){var F=r,R=F.bin;F=F.sort;a[k]=Object.assign({},{name:c.getName(k+"_domain"),fields:[ad(r)].concat($jscomp.arrayFromIterable(Ga(R)?
[ad(r,{binSuffix:"end"})]:[]))},cc(F)?{sortField:F}:x.isArray(F)?{sortIndexField:$g(r,k)}:{})}}a.childModel=c.child;return a};$jscomp.inherits(ng,Yd);ng.prototype.hash=function(){for(var a="Facet",c=$jscomp.makeIterator(ig),e=c.next();!e.done;e=c.next())e=e.value,this[e]&&(a+=" "+e.charAt(0)+":"+rb(this[e]));return a};ng.prototype.dependentFields=function(){for(var a=new Set(this.fields),c=$jscomp.makeIterator(ig),e=c.next();!e.done;e=c.next())e=e.value,this[e]&&(this[e].sortField&&a.add(this[e].sortField.field),
this[e].sortIndexField&&a.add(this[e].sortIndexField));return a};ng.prototype.producedFields=function(){return new Set};ng.prototype.getSource=function(){return this.name};ng.prototype.getChildIndependentFieldsWithStep=function(){for(var a={},c=$jscomp.makeIterator(lg),e=c.next();!e.done;e=c.next()){e=e.value;var k=this.childModel.component.scales[e];if(k&&!k.merged){var r=k.get("type");k=k.get("range");r in Of&&U(k)&&(r=Nj(this.childModel,e),(r=ci(r))?a[e]=r:Ma(rc(e)))}}return a};ng.prototype.assembleRowColumnHeaderData=
function(a,c,e){var k={row:"y",column:"x",facet:void 0}[a],r=[],F=[],R=[];k&&e&&e[k]&&(c?(r.push("distinct_"+e[k]),F.push("max")):(r.push(e[k]),F.push("distinct")),R.push("distinct_"+e[k]));k=this[a];e=k.sortField;k=k.sortIndexField;e?(k=void 0===e.op?"min":e.op,r.push(e.field),F.push(k),R.push(ad(e,{forAs:!0}))):k&&(r.push(k),F.push("max"),R.push(k));return{name:this[a].name,source:null!==c&&void 0!==c?c:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[a].fields},r.length?{fields:r,
ops:F,as:R}:{})]}};ng.prototype.assembleFacetHeaderData=function(a){for(var c=this.model.layout.columns,e=this.model.component.layoutHeaders,k=[],r={},F=$jscomp.makeIterator(zm),R=F.next();!R.done;R=F.next()){R=R.value;for(var Ca=$jscomp.makeIterator(Wl),Xa=Ca.next();!Xa.done;Xa=Ca.next()){Xa=Xa.value;var jb;Xa=null!==(jb=e[R]&&e[R][Xa])&&void 0!==jb?jb:[];Xa=$jscomp.makeIterator(Xa);for(var zb=Xa.next();!zb.done;zb=Xa.next()){var ac;if(0<(null===(ac=zb.value.axes)||void 0===ac?void 0:ac.length)){r[R]=
!0;break}}}r[R]&&(Ca='length(data("'+this.facet.name+'"))',k.push({name:this.facet.name+"_"+R,transform:[{type:"sequence",start:0,stop:"row"===R?c?{signal:"ceil("+Ca+" / "+c+")"}:1:c?{signal:"min("+Ca+", "+c+")"}:{signal:Ca}}]}))}c=r.column;(r.row||c)&&k.unshift(this.assembleRowColumnHeaderData("facet",null,a));return k};ng.prototype.assemble=function(){var a=[],c=null,e=this.getChildIndependentFieldsWithStep(),k=this.row,r=this.facet;if(this.column&&k&&(e.x||e.y)){var F,R;c="cross_"+this.column.name+
"_"+this.row.name;k=[].concat(null!==(F=e.x)&&void 0!==F?F:[],null!==(R=e.y)&&void 0!==R?R:[]);F=k.map(function(){return"distinct"});a.push({name:c,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:k,ops:F}]})}F=$jscomp.makeIterator(["column","row"]);for(R=F.next();!R.done;R=F.next())R=R.value,this[R]&&a.push(this.assembleRowColumnHeaderData(R,c,e));r&&(c=this.assembleFacetHeaderData(e))&&a.push.apply(a,$jscomp.arrayFromIterable(c));return a};$jscomp.global.Object.defineProperties(ng.prototype,
{fields:{configurable:!0,enumerable:!0,get:function(){for(var a=[],c=$jscomp.makeIterator(ig),e=c.next();!e.done;e=c.next()){e=e.value;var k;null!==(k=this[e])&&void 0!==k&&k.fields&&a.push.apply(a,$jscomp.arrayFromIterable(this[e].fields))}return a}}});var xf=function(a,c){a=Yd.call(this,a)||this;Uc(a,"_parse",void 0);a._parse=c;return a};$jscomp.inherits(xf,Yd);xf.prototype.clone=function(){return new xf(null,Ge(this._parse))};xf.prototype.hash=function(){return"Parse "+rb(this._parse)};xf.makeExplicit=
function(a,c,e){var k={};c=c.data;!we(c)&&c&&c.format&&c.format.parse&&(k=c.format.parse);return this.makeWithAncestors(a,k,{},e)};xf.makeWithAncestors=function(a,c,e,k){for(var r=$jscomp.makeIterator(fd(e)),F=r.next();!F.done;F=r.next()){F=F.value;var R=k.getWithExplicit(F);void 0!==R.value&&(R.explicit||R.value===e[F]||"derived"===R.value||"flatten"===e[F]?delete e[F]:Ma(I(F,e[F],R.value)))}r=$jscomp.makeIterator(fd(c));for(F=r.next();!F.done;F=r.next())F=F.value,R=k.get(F),void 0!==R&&(R===c[F]?
delete c[F]:Ma(I(F,c[F],R)));c=new Hf(c,e);k.copyAll(c);e={};r=$jscomp.makeIterator(fd(c.combine()));for(F=r.next();!F.done;F=r.next())F=F.value,R=c.get(F),null!==R&&(e[F]=R);return 0===fd(e).length||k.parseNothing?null:new xf(a,e)};xf.prototype.merge=function(a){this._parse=Object.assign({},this._parse,a.parse);a.remove()};xf.prototype.assembleFormatParse=function(){for(var a={},c=$jscomp.makeIterator(fd(this._parse)),e=c.next();!e.done;e=c.next()){e=e.value;var k=this._parse[e];1===u(e)&&(a[e]=
k)}return a};xf.prototype.producedFields=function(){return new Set(fd(this._parse))};xf.prototype.dependentFields=function(){return new Set(fd(this._parse))};xf.prototype.assembleTransforms=function(a){var c=this;a=void 0===a?!1:a;return fd(this._parse).filter(function(e){return a?1<u(e):!0}).map(function(e){var k=pk(e,c._parse[e]);return k?{type:"formula",expr:k,as:ja(e)}:null}).filter(function(e){return null!==e})};$jscomp.global.Object.defineProperties(xf.prototype,{parse:{configurable:!0,enumerable:!0,
get:function(){return this._parse}}});var Qg=function(a){return Yd.call(this,a)||this};$jscomp.inherits(Qg,Yd);Qg.prototype.clone=function(){return new Qg(null)};Qg.prototype.dependentFields=function(){return new Set};Qg.prototype.producedFields=function(){return new Set(["_vgsid_"])};Qg.prototype.hash=function(){return"Identifier"};Qg.prototype.assemble=function(){return{type:"identifier",as:"_vgsid_"}};var Eh=function(a,c){a=Yd.call(this,a)||this;a.params=c;return a};$jscomp.inherits(Eh,Yd);Eh.prototype.clone=
function(){return new Eh(null,this.params)};Eh.prototype.dependentFields=function(){return new Set};Eh.prototype.producedFields=function(){};Eh.prototype.hash=function(){return"Graticule "+rb(this.params)};Eh.prototype.assemble=function(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)};var Fh=function(a,c){a=Yd.call(this,a)||this;a.params=c;return a};$jscomp.inherits(Fh,Yd);Fh.prototype.clone=function(){return new Fh(null,this.params)};Fh.prototype.dependentFields=function(){return new Set};
Fh.prototype.producedFields=function(){var a;return new Set([null!==(a=this.params.as)&&void 0!==a?a:"data"])};Fh.prototype.hash=function(){return"Hash "+rb(this.params)};Fh.prototype.assemble=function(){return Object.assign({},{type:"sequence"},this.params)};var tg=function(a){var c;var e=Yd.call(this,null)||this;Uc(e,"_data",void 0);Uc(e,"_name",void 0);Uc(e,"_generator",void 0);null!==(c=a)&&void 0!==c?c:a={name:"source"};var k;we(a)||(k=a.format?Object.assign({},Lb(a.format,["parse"])):{});if("values"in
a)e._data={values:a.values};else if("url"in a)e._data={url:a.url},k.type||(c=/(?:\.([^.]+))?$/.exec(a.url)[1],Sa(["json","csv","tsv","dsv","topojson"],c)||(c="json"),k.type=c);else if("sphere"in a)e._data={values:[{type:"Sphere"}]};else if(Pe(a)||we(a))e._data={};e._generator=we(a);a.name&&(e._name=a.name);k&&!Oa(k)&&(e._data.format=k);return e};$jscomp.inherits(tg,Yd);tg.prototype.dependentFields=function(){return new Set};tg.prototype.producedFields=function(){};tg.prototype.hasName=function(){return!!this._name};
tg.prototype.remove=function(){throw Error("Source nodes are roots and cannot be removed.");};tg.prototype.hash=function(){throw Error("Cannot hash sources");};tg.prototype.assemble=function(){return Object.assign({},{name:this._name},this._data,{transform:[]})};$jscomp.global.Object.defineProperties(tg.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this._data}},isGenerator:{configurable:!0,enumerable:!0,get:function(){return this._generator}},dataName:{configurable:!0,enumerable:!0,
get:function(){return this._name},set:function(a){this._name=a}},parent:{configurable:!0,enumerable:!0,set:function(a){throw Error("Source nodes have to be roots.");}}});var Ll=new WeakMap,Li=function(){Ll.set(this,{writable:!0,value:void 0});Md(this,Ll,!1)};Li.prototype.setModified=function(){Md(this,Ll,!0)};$jscomp.global.Object.defineProperties(Li.prototype,{modifiedFlag:{configurable:!0,enumerable:!0,get:function(){var a=Qd(this,Ll,"get");return a.get?a.get.call(this):a.value}}});var jg=function(){return Li.apply(this,
arguments)||this};$jscomp.inherits(jg,Li);jg.prototype.getNodeDepths=function(a,c,e){e.set(a,c);a=$jscomp.makeIterator(a.children);for(var k=a.next();!k.done;k=a.next())this.getNodeDepths(k.value,c+1,e);return e};jg.prototype.optimize=function(a){a=this.getNodeDepths(a,0,new Map);a=[].concat($jscomp.arrayFromIterable(a.entries())).sort(function(e,k){return k[1]-e[1]});a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next())this.run(c.value[0]);return this.modifiedFlag};var Mi=function(){return Li.apply(this,
arguments)||this};$jscomp.inherits(Mi,Li);Mi.prototype.optimize=function(a){this.run(a);a=$jscomp.makeIterator(a.children);for(var c=a.next();!c.done;c=a.next())this.optimize(c.value);return this.modifiedFlag};var rl=function(){return Mi.apply(this,arguments)||this};$jscomp.inherits(rl,Mi);rl.prototype.mergeNodes=function(a,c){var e=c.shift();c=$jscomp.makeIterator(c);for(var k=c.next();!k.done;k=c.next())k=k.value,a.removeChild(k),k.parent=e,k.remove()};rl.prototype.run=function(a){for(var c=a.children.map(function(r){return r.hash()}),
e={},k=0;k<c.length;k++)void 0===e[c[k]]?e[c[k]]=[a.children[k]]:e[c[k]].push(a.children[k]);c=$jscomp.makeIterator(fd(e));for(k=c.next();!k.done;k=c.next())k=k.value,1<e[k].length&&(this.setModified(),this.mergeNodes(a,e[k]))};var cm=function(a){var c=Mi.call(this)||this;Uc(c,"requiresSelectionId",void 0);c.requiresSelectionId=a&&Vh(a);return c};$jscomp.inherits(cm,Mi);cm.prototype.run=function(a){!(a instanceof Qg)||this.requiresSelectionId&&(qk(a.parent)||a.parent instanceof Nf||a.parent instanceof
xf)||(this.setModified(),a.remove())};var ql=function(){return Li.apply(this,arguments)||this};$jscomp.inherits(ql,Li);ql.prototype.optimize=function(a){this.run(a,new Set);return this.modifiedFlag};ql.prototype.run=function(a,c){var e=new Set;a instanceof Wf&&(e=a.producedFields(),Qa(e,c)&&(this.setModified(),a.removeFormulas(c),0===a.producedFields.length&&a.remove()));a=$jscomp.makeIterator(a.children);for(var k=a.next();!k.done;k=a.next())this.run(k.value,new Set([].concat($jscomp.arrayFromIterable(c),
$jscomp.arrayFromIterable(e))))};var bm=function(){return Mi.call(this)||this};$jscomp.inherits(bm,Mi);bm.prototype.run=function(a){a instanceof Gf&&!a.isRequired()&&(this.setModified(),a.remove())};var em=function(){return jg.apply(this,arguments)||this};$jscomp.inherits(em,jg);em.prototype.run=function(a){if(!(qk(a)||1<a.numChildren()))for(var c=$jscomp.makeIterator(a.children),e=c.next();!e.done;e=c.next())e=e.value,e instanceof xf&&(a instanceof xf?(this.setModified(),a.merge(e)):Z(a.producedFields(),
e.dependentFields())||(this.setModified(),e.swapWithParent()))};var gm=function(){return jg.apply(this,arguments)||this};$jscomp.inherits(gm,jg);gm.prototype.run=function(a){var c=[].concat($jscomp.arrayFromIterable(a.children)),e=a.children.filter(function(Xa){return Xa instanceof xf});if(1<a.numChildren()&&1<=e.length){var k={},r=new Set;e=$jscomp.makeIterator(e);for(var F=e.next();!F.done;F=e.next()){F=F.value.parse;for(var R=$jscomp.makeIterator(fd(F)),Ca=R.next();!Ca.done;Ca=R.next())Ca=Ca.value,
Ca in k?k[Ca]!==F[Ca]&&r.add(Ca):k[Ca]=F[Ca]}r=$jscomp.makeIterator(r);for(e=r.next();!e.done;e=r.next())delete k[e.value];if(!Oa(k))for(this.setModified(),r=new xf(a,k),c=$jscomp.makeIterator(c),e=c.next();!e.done;e=c.next()){e=e.value;if(e instanceof xf)for(F=$jscomp.makeIterator(fd(k)),R=F.next();!R.done;R=F.next())delete e.parse[R.value];a.removeChild(e);e.parent=r;e instanceof xf&&0===fd(e.parse).length&&e.remove()}}};var dm=function(){return jg.apply(this,arguments)||this};$jscomp.inherits(dm,
jg);dm.prototype.run=function(a){a instanceof Gf||0<a.numChildren()||a instanceof ng||a instanceof tg||(this.setModified(),a.remove())};var im=function(){return jg.apply(this,arguments)||this};$jscomp.inherits(im,jg);im.prototype.run=function(a){var c=a.children.filter(function(k){return k instanceof Wf});a=c.pop();c=$jscomp.makeIterator(c);for(var e=c.next();!e.done;e=c.next())e=e.value,this.setModified(),a.merge(e)};var hm=function(){return jg.apply(this,arguments)||this};$jscomp.inherits(hm,jg);
hm.prototype.run=function(a){var c=a.children.filter(function(R){return R instanceof Nf}),e={};c=$jscomp.makeIterator(c);for(var k=c.next();!k.done;k=c.next()){var r=k.value;k=rb(r.groupBy);k in e||(e[k]=[]);e[k].push(r)}c=$jscomp.makeIterator(fd(e));for(r=c.next();!r.done;r=c.next())if(k=e[r.value],1<k.length){r=k.pop();var F=$jscomp.makeIterator(k);for(k=F.next();!k.done;k=F.next())k=k.value,r.merge(k)&&(a.removeChild(k),k.parent=r,k.remove(),this.setModified())}};var fm=function(a){var c=jg.call(this)||
this;c.model=a;return c};$jscomp.inherits(fm,jg);fm.prototype.run=function(a){for(var c=!(qk(a)||a instanceof ph||a instanceof xf||a instanceof Qg),e=[],k=[],r=$jscomp.makeIterator(a.children),F=r.next();!F.done;F=r.next())F=F.value,F instanceof cg&&(c&&!Z(a.producedFields(),F.dependentFields())?e.push(F):k.push(F));if(0<e.length){c=e.pop();r=$jscomp.makeIterator(e);for(e=r.next();!e.done;e=r.next())c.merge(e.value,this.model.renameSignal.bind(this.model));this.setModified();a instanceof cg?a.merge(c,
this.model.renameSignal.bind(this.model)):c.swapWithParent()}if(1<k.length){a=k.pop();k=$jscomp.makeIterator(k);for(e=k.next();!e.done;e=k.next())a.merge(e.value,this.model.renameSignal.bind(this.model));this.setModified()}};var jm=function(){return jg.apply(this,arguments)||this};$jscomp.inherits(jm,jg);jm.prototype.run=function(a){var c=[].concat($jscomp.arrayFromIterable(a.children));if(ab(c,function(Ca){return Ca instanceof Gf})&&!(1>=a.numChildren())){var e=[];c=$jscomp.makeIterator(c);for(var k=
c.next();!k.done;k=c.next())if(k=k.value,k instanceof Gf){for(var r=k;1===r.numChildren();){var F=$jscomp.makeIterator(r.children).next().value;if(F instanceof Gf)r=F;else break}e.push.apply(e,$jscomp.arrayFromIterable(r.children));if(R)a.removeChild(k),k.parent=R.parent,R.parent.removeChild(R),R.parent=r,this.setModified();else var R=r}else e.push(k);if(e.length)for(this.setModified(),a=$jscomp.makeIterator(e),k=a.next();!k.done;k=a.next())e=k.value,e.parent.removeChild(e),e.parent=R}};var Eg=function(a,
c){a=Yd.call(this,a)||this;a.transform=c;return a};$jscomp.inherits(Eg,Yd);Eg.prototype.clone=function(){return new Eg(null,Ge(this.transform))};Eg.prototype.addDimensions=function(a){this.transform.groupby=na(this.transform.groupby.concat(a),function(c){return c})};Eg.prototype.dependentFields=function(){var a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(function(c){return c.field}).filter(function(c){return void 0!==c}).forEach(a.add,a);
return a};Eg.prototype.producedFields=function(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))};Eg.prototype.getDefaultName=function(a){var c;return null!==(c=a.as)&&void 0!==c?c:ad(a)};Eg.prototype.hash=function(){return"JoinAggregateTransform "+rb(this.transform)};Eg.prototype.assemble=function(){for(var a=[],c=[],e=[],k=$jscomp.makeIterator(this.transform.joinaggregate),r=k.next();!r.done;r=k.next())r=r.value,c.push(r.op),e.push(this.getDefaultName(r)),a.push(void 0===r.field?
null:r.field);k=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:e,ops:c,fields:a},void 0!==k?{groupby:k}:{})};var Vf=function(a,c){a=Yd.call(this,a)||this;Uc(a,"_stack",void 0);a._stack=c;return a};$jscomp.inherits(Vf,Yd);Vf.prototype.clone=function(){return new Vf(null,Ge(this._stack))};Vf.makeFromTransform=function(a,c){var e=c.stack,k=c.groupby,r=c.as,F=void 0===c.offset?"zero":c.offset,R=[],Ca=[];if(void 0!==c.sort)for(var Xa=$jscomp.makeIterator(c.sort),jb=Xa.next();!jb.done;jb=
Xa.next())jb=jb.value,R.push(jb.field),Ca.push(y(jb.order,"ascending"));R={field:R,order:Ca};c=am(r)?r:x.isString(r)?[r,r+"_end"]:[c.stack+"_start",c.stack+"_end"];return new Vf(a,{stackField:e,groupby:k,offset:F,sort:R,facetby:[],as:c})};Vf.makeFromEncoding=function(a,c){var e=c.stack,k=c.encoding;if(!e)return null;var r=e.groupbyChannel,F=e.fieldChannel,R=e.offset;e=e.impute;var Ca;r&&(Ca=Va(k[r]));k=$l(c);r=c.encoding.order;r=x.isArray(r)||Nc(r)?Zc(r):k.reduce(function(Xa,jb){Xa.field.push(jb);
Xa.order.push("y"===F?"descending":"ascending");return Xa},{field:[],order:[]});return new Vf(a,{dimensionFieldDef:Ca,stackField:c.vgField(F),facetby:[],stackby:k,sort:r,offset:R,impute:e,as:[c.vgField(F,{suffix:"start",forAs:!0}),c.vgField(F,{suffix:"end",forAs:!0})]})};Vf.prototype.addDimensions=function(a){this._stack.facetby.push.apply(this._stack.facetby,$jscomp.arrayFromIterable(a))};Vf.prototype.dependentFields=function(){var a=new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,
a);this._stack.facetby.forEach(a.add,a);this._stack.sort.field.forEach(a.add,a);return a};Vf.prototype.producedFields=function(){return new Set(this._stack.as)};Vf.prototype.hash=function(){return"Stack "+rb(this._stack)};Vf.prototype.getGroupbyFields=function(){var a=this._stack,c=a.dimensionFieldDef,e=a.impute;a=a.groupby;return c?c.bin?e?[ad(c,{binSuffix:"mid"})]:[ad(c,{}),ad(c,{binSuffix:"end"})]:[ad(c)]:null!==a&&void 0!==a?a:[]};Vf.prototype.assemble=function(){var a=[],c=this._stack,e=c.facetby,
k=c.dimensionFieldDef,r=c.stackField,F=c.stackby,R=c.sort,Ca=c.offset,Xa=c.as;c.impute&&k&&(c=void 0===k.bandPosition?.5:k.bandPosition,k.bin&&a.push({type:"formula",expr:c+"*"+ad(k,{expr:"datum"})+("+"+(1-c)+"*")+ad(k,{expr:"datum",binSuffix:"end"}),as:ad(k,{binSuffix:"mid",forAs:!0})}),a.push({type:"impute",field:r,groupby:[].concat($jscomp.arrayFromIterable(F),$jscomp.arrayFromIterable(e)),key:ad(k,{binSuffix:"mid"}),method:"value",value:0}));a.push({type:"stack",groupby:[].concat($jscomp.arrayFromIterable(this.getGroupbyFields()),
$jscomp.arrayFromIterable(e)),field:r,sort:R,as:Xa,offset:Ca});return a};$jscomp.global.Object.defineProperties(Vf.prototype,{stack:{configurable:!0,enumerable:!0,get:function(){return this._stack}}});var Og=function(a,c){a=Yd.call(this,a)||this;a.transform=c;return a};$jscomp.inherits(Og,Yd);Og.prototype.clone=function(){return new Og(null,Ge(this.transform))};Og.prototype.addDimensions=function(a){this.transform.groupby=na(this.transform.groupby.concat(a),function(c){return c})};Og.prototype.dependentFields=
function(){var a,c,e=new Set;(null!==(a=this.transform.groupby)&&void 0!==a?a:[]).forEach(e.add,e);(null!==(c=this.transform.sort)&&void 0!==c?c:[]).forEach(function(k){return e.add(k.field)});this.transform.window.map(function(k){return k.field}).filter(function(k){return void 0!==k}).forEach(e.add,e);return e};Og.prototype.producedFields=function(){return new Set(this.transform.window.map(this.getDefaultName))};Og.prototype.getDefaultName=function(a){var c;return null!==(c=a.as)&&void 0!==c?c:ad(a)};
Og.prototype.hash=function(){return"WindowTransform "+rb(this.transform)};Og.prototype.assemble=function(){for(var a=[],c=[],e=[],k=[],r=$jscomp.makeIterator(this.transform.window),F=r.next();!F.done;F=r.next())F=F.value,c.push(F.op),e.push(this.getDefaultName(F)),k.push(void 0===F.param?null:F.param),a.push(void 0===F.field?null:F.field);r=this.transform.frame;F=this.transform.groupby;if(r&&null===r[0]&&null===r[1]&&c.every(function(ac){return L(ac)}))return Object.assign({},{type:"joinaggregate",
as:e,ops:c,fields:a},void 0!==F?{groupby:F}:{});var R=[],Ca=[];if(void 0!==this.transform.sort)for(var Xa=$jscomp.makeIterator(this.transform.sort),jb=Xa.next();!jb.done;jb=Xa.next()){jb=jb.value;var zb;R.push(jb.field);Ca.push(null!==(zb=jb.order)&&void 0!==zb?zb:"ascending")}zb=this.transform.ignorePeers;return Object.assign({},{type:"window",params:k,as:e,ops:c,fields:a,sort:{field:R,order:Ca}},void 0!==zb?{ignorePeers:zb}:{},void 0!==F?{groupby:F}:{},void 0!==r?{frame:r}:{})};var Fg=function(a){Uc(this,
"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:a})};Fg.fromName=function(a,c){return new Fg(function(){return a(c)})};var zl=function(a,c){a=Hf.call(this,{},{name:a})||this;Uc(a,"merged",!1);a.setWithExplicit("type",c);return a};$jscomp.inherits(zl,Hf);zl.prototype.domainDefinitelyIncludesZero=function(){return!1!==this.get("zero")?!0:ab(this.get("domains"),function(a){return x.isArray(a)&&2===a.length&&0>=a[0]&&0<=a[1]})};var en=["range","scheme"],Hm={bins:function(a){var c=
a.model;a=a.fieldOrDatumDef;return Nc(a)?Dk(c,a):void 0},interpolate:function(a){var c=a.fieldOrDatumDef.type;a=Sa(["color","fill","stroke"],a.channel)&&"nominal"!==c?"hcl":void 0;return a},nice:function(a){var c=a.scaleType,e=a.channel,k=a.domain,r;a=null!==(r=Va(a.fieldOrDatumDef))&&void 0!==r&&r.bin||x.isArray(k)||Sa([qf.TIME,qf.UTC],c)?void 0:e in Bf?!0:void 0;return a},padding:function(a){var c=a.config;a:{var e=a.channel;var k=a.scaleType,r=c.scale,F=a.fieldOrDatumDef;a=a.markDef;c=c.bar;if(e in
Bf){if(k in ag){if(void 0!==r.continuousPadding){e=r.continuousPadding;break a}var R=a.orient;if("bar"===a.type&&(!Nc(F)||!F.bin&&!F.timeUnit)&&("vertical"===R&&"x"===e||"horizontal"===R&&"y"===e)){e=c.continuousBandSize;break a}}if(k===qf.POINT){e=r.pointPadding;break a}}e=void 0}return e},paddingInner:function(a){var c=a.channel,e=a.markDef,k=a.config;void 0!==a.scalePadding?e=void 0:c in Bf?(a=k.scale,c=a.barBandPaddingInner,k=a.rectBandPaddingInner,e=y(a.bandPaddingInner,"bar"===e.type?c:k)):
e=void 0;return e},paddingOuter:function(a){var c=a.channel,e=a.scaleType,k=a.config;var r=a.scalePaddingInner;a=void 0!==a.scalePadding?void 0:c in Bf&&e===qf.BAND?y(k.scale.bandPaddingOuter,ea(r)?{signal:r.signal+"/2"}:r/2):void 0;return a},reverse:function(a){var c=a.fieldOrDatumDef,e=a.scaleType,k=a.channel;a=a.config;c=Nc(c)?c.sort:void 0;a=a.scale;e="x"===k&&void 0!==a.xReverse?e in fg&&"descending"===c?ea(a.xReverse)?{signal:"!"+a.xReverse.signal}:!a.xReverse:a.xReverse:e in fg&&"descending"===
c?!0:void 0;return e},zero:function(a){a:{var c=a.channel;var e=a.fieldOrDatumDef,k=a.domain,r=a.markDef;a=a.scaleType;if(k&&"unaggregated"!==k&&a in fg){if(x.isArray(k)&&(c=k[k.length-1],0>=k[0]&&0<=c)){c=!0;break a}c=!1}else"size"!==c||"quantitative"!==e.type||a in Vg?Nc(e)&&e.bin||!Sa([].concat($jscomp.arrayFromIterable(lg),$jscomp.arrayFromIterable(mj)),c)?c=!1:(k=r.orient,c=Sa(["bar","area","line","trail"],r.type)&&("horizontal"===k&&"y"===c||"vertical"===k&&"x"===c)?!1:!0):c=!0}return c}},fn=
Nd(function(a,c){return Pf[a]-Pf[c]}),Yj=function(){Uc(this,"nameMap",void 0);this.nameMap={}};Yj.prototype.rename=function(a,c){this.nameMap[a]=c};Yj.prototype.has=function(a){return void 0!==this.nameMap[a]};Yj.prototype.get=function(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a};var Ue=function(a,c,e,k,r,F,R){var Ca=this,Xa,jb;this.type=c;this.parent=e;this.config=r;Uc(this,"name",void 0);Uc(this,"size",void 0);Uc(this,"title",void 0);Uc(this,"description",void 0);Uc(this,
"data",void 0);Uc(this,"transforms",void 0);Uc(this,"layout",void 0);Uc(this,"scaleNameMap",void 0);Uc(this,"projectionNameMap",void 0);Uc(this,"signalNameMap",void 0);Uc(this,"component",void 0);Uc(this,"view",void 0);Uc(this,"children",[]);Uc(this,"correctDataNames",function(zb){zb.from&&zb.from.data&&(zb.from.data=Ca.lookupDataSource(zb.from.data));zb.from&&zb.from.facet&&zb.from.facet.data&&(zb.from.facet.data=Ca.lookupDataSource(zb.from.facet.data));return zb});this.parent=e;this.config=r;this.view=
aa(R);this.name=null!==(Xa=a.name)&&void 0!==Xa?Xa:k;this.title=ta(a.title)?{text:a.title}:a.title?aa(a.title):void 0;this.scaleNameMap=e?e.scaleNameMap:new Yj;this.projectionNameMap=e?e.projectionNameMap:new Yj;this.signalNameMap=e?e.signalNameMap:new Yj;this.data=a.data;this.description=a.description;this.transforms=Tc(null!==(jb=a.transform)&&void 0!==jb?jb:[]);this.layout="layer"===c||"unit"===c?{}:ub(a,c,r);this.component={data:{sources:e?e.component.data.sources:[],outputNodes:e?e.component.data.outputNodes:
{},outputNodeRefCounts:e?e.component.data.outputNodeRefCounts:{},isFaceted:"facet"in a||e&&e.component.data.isFaceted&&void 0===a.data},layoutSize:new Hf,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},F?Ge(F):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}};Ue.prototype.parse=function(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();
this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()};Ue.prototype.parseScale=function(){var a={}.ignoreRange;Oj(this);vf(this)?sl(this):uk(this);for(var c=$jscomp.makeIterator(Wj),e=c.next();!e.done;e=c.next())wl(this,e.value);a||xl(this)};Ue.prototype.parseProjection=function(){this.component.projection=vf(this)?Mj(this):dj(this)};Ue.prototype.renameTopLevelLayoutSizeSignal=function(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&
this.renameSignal(this.getName("height"),"height")};Ue.prototype.parseLegends=function(){bj(this)};Ue.prototype.assembleGroupStyle=function(){if("unit"===this.type||"layer"===this.type){var a,c;return null!==(a=null===(c=this.view)||void 0===c?void 0:c.style)&&void 0!==a?a:"cell"}};Ue.prototype.assembleEncodeFromView=function(a){a=Object.assign({},a);a=(delete a.style,a);for(var c={},e=$jscomp.makeIterator(fd(a)),k=e.next();!k.done;k=e.next()){k=k.value;var r=a[k];void 0!==r&&(c[k]=lb(r))}return c};
Ue.prototype.assembleGroupEncodeEntry=function(a){var c={};this.view&&(c=this.assembleEncodeFromView(this.view));if(!a&&(this.description&&(c.description=lb(this.description)),"unit"===this.type||"layer"===this.type)){var e;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==(e=c)&&void 0!==e?e:{})}return Oa(c)?void 0:c};Ue.prototype.assembleLayout=function(){if(this.layout){var a=this.layout,c=Object.assign({},a);a=a.spacing;c=(delete c.spacing,
c);for(var e=this.config,k=this.component.layoutHeaders,r={},F=$jscomp.makeIterator(ig),R=F.next();!R.done;R=F.next()){R=R.value;var Ca=k[R];if(null!==Ca&&void 0!==Ca&&Ca.facetFieldDef){var Xa=Bi(["titleAnchor","titleOrient"],Ca.facetFieldDef.header,e,R);Ca=Xa.titleAnchor;R=aj(R,Xa.titleOrient);Ca=jn[R][Ca];void 0!==Ca&&(r[R]=Ca)}}e=Oa(r)?void 0:r;return Object.assign({},{padding:a},this.assembleDefaultLayout(),c,e?{titleBand:e}:{})}};Ue.prototype.assembleDefaultLayout=function(){return{}};Ue.prototype.assembleHeaderMarks=
function(){for(var a=this.component.layoutHeaders,c=[],e=$jscomp.makeIterator(ig),k=e.next();!k.done;k=e.next())k=k.value,a[k].title&&c.push(dl(this,k));a=$jscomp.makeIterator(zm);for(k=a.next();!k.done;k=a.next())c=c.concat(el(this,k.value));return c};Ue.prototype.assembleAxes=function(){return Dj(this.component.axes,this.config)};Ue.prototype.assembleLegends=function(){return Ei(this)};Ue.prototype.assembleProjections=function(){var a=Uh(this)||Ij(this)?Xl(this):Lj(this);return a};Ue.prototype.assembleTitle=
function(){var a,c=null!==(a=this.title)&&void 0!==a?a:{};a=Object.assign({},c);c=c.encoding;a=(delete a.encoding,a);c=Object.assign({},qa(this.config.title).nonMark,a,c?{encode:{update:c}}:{});if(c.text){if(Sa(["unit","layer"],this.type)){if(Sa(["middle",void 0],c.anchor)){var e;null!==(e=c.frame)&&void 0!==e?e:c.frame="group"}}else{var k;null!==(k=c.anchor)&&void 0!==k?k:c.anchor="start"}return Oa(c)?void 0:c}};Ue.prototype.assembleGroup=function(a){a=void 0===a?[]:a;var c={};a=a.concat(this.assembleSignals());
0<a.length&&(c.signals=a);if(a=this.assembleLayout())c.layout=a;c.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());a=!this.parent||hg(this.parent)?yk(this):[];0<a.length&&(c.scales=a);a=this.assembleAxes();0<a.length&&(c.axes=a);a=this.assembleLegends();0<a.length&&(c.legends=a);return c};Ue.prototype.getName=function(a){return va((this.name?this.name+"_":"")+a)};Ue.prototype.getDataName=function(a){return this.getName(wf[a].toLowerCase())};Ue.prototype.requestDataName=function(a){a=
this.getDataName(a);var c=this.component.data.outputNodeRefCounts;c[a]=(c[a]||0)+1;return a};Ue.prototype.getSizeSignalRef=function(a){if(hg(this.parent)){var c=mh(a),e=H(c);if((c=this.component.scales[e])&&!c.merged){var k=c.get("type"),r=c.get("range");if(k in Of&&U(r)){a=c.get("name");k=Nj(this,e);if(k=ci(k))return e=ad({aggregate:"distinct",field:k},{expr:"datum"}),{signal:hf(a,c,e)};Ma(rc(e));return null}}}return{signal:this.signalNameMap.get(this.getName(a))}};Ue.prototype.lookupDataSource=
function(a){var c=this.component.data.outputNodes[a];return c?c.getSource():a};Ue.prototype.getSignalName=function(a){return this.signalNameMap.get(a)};Ue.prototype.renameSignal=function(a,c){this.signalNameMap.rename(a,c)};Ue.prototype.renameScale=function(a,c){this.scaleNameMap.rename(a,c)};Ue.prototype.renameProjection=function(a,c){this.projectionNameMap.rename(a,c)};Ue.prototype.scaleName=function(a,c){if(c)return this.getName(a);if(Sh[a]&&xg[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))};
Ue.prototype.projectionName=function(a){if(a)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))};Ue.prototype.getScaleComponent=function(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");var c=this.component.scales[a];
return c&&!c.merged?c:this.parent?this.parent.getScaleComponent(a):void 0};Ue.prototype.getSelectionComponent=function(a,c){var e=this.component.selection[a];!e&&this.parent&&(e=this.parent.getSelectionComponent(a,c));if(!e)throw Error('Cannot find a selection named "'+c+'".');return e};Ue.prototype.hasAxisOrientSignalRef=function(){var a,c;return(null===(a=this.component.axes.x)||void 0===a?void 0:a.some(function(e){return e.hasOrientSignalRef()}))||(null===(c=this.component.axes.y)||void 0===c?
void 0:c.some(function(e){return e.hasOrientSignalRef()}))};$jscomp.global.Object.defineProperties(Ue.prototype,{width:{configurable:!0,enumerable:!0,get:function(){return this.getSizeSignalRef("width")}},height:{configurable:!0,enumerable:!0,get:function(){return this.getSizeSignalRef("height")}}});var Qh=function(){return Ue.apply(this,arguments)||this};$jscomp.inherits(Qh,Ue);Qh.prototype.vgField=function(a,c){c=void 0===c?{}:c;if(a=this.fieldDef(a))return ad(a,c)};Qh.prototype.reduceFieldDef=
function(a,c){return eg(this.getMapping(),function(e,k,r){return(k=Va(k))?a(e,k,r):e},c)};Qh.prototype.forEachFieldDef=function(a,c){pf(this.getMapping(),function(e,k){(e=Va(e))&&a(e,k)},c)};var hi=function(a,c){var e,k,r;a=Yd.call(this,a)||this;a.transform=c;a.transform=Ge(c);c=null!==(e=a.transform.as)&&void 0!==e?e:[void 0,void 0];a.transform.as=[null!==(k=c[0])&&void 0!==k?k:"value",null!==(r=c[1])&&void 0!==r?r:"density"];return a};$jscomp.inherits(hi,Yd);hi.prototype.clone=function(){return new hi(null,
Ge(this.transform))};hi.prototype.dependentFields=function(){var a;return new Set([this.transform.density].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&void 0!==a?a:[])))};hi.prototype.producedFields=function(){return new Set(this.transform.as)};hi.prototype.hash=function(){return"DensityTransform "+rb(this.transform)};hi.prototype.assemble=function(){var a=this.transform,c=Object.assign({},a);a=a.density;c=(delete c.density,c);return Object.assign({},{type:"kde",field:a},c)};
var oh=function(a,c){a=Yd.call(this,a)||this;a.filter=c;return a};$jscomp.inherits(oh,Yd);oh.prototype.clone=function(){return new oh(null,Object.assign({},this.filter))};oh.make=function(a,c){var e=c.mark;if("filter"!==Qb("invalid",c.markDef,c.config))return null;var k=c.reduceFieldDef(function(r,F,R){(R=!!xg[R]&&c.getScaleComponent(R))&&R.get("type")in fg&&"count"!==F.aggregate&&!lc(e)&&(r[F.field]=F);return r},{});return fd(k).length?new oh(a,k):null};oh.prototype.dependentFields=function(){return new Set(fd(this.filter))};
oh.prototype.producedFields=function(){return new Set};oh.prototype.hash=function(){return"FilterInvalid "+rb(this.filter)};oh.prototype.assemble=function(){var a=this,c=fd(this.filter).reduce(function(e,k){k=a.filter[k];var r=ad(k,{expr:"datum"});null!==k&&("temporal"===k.type?e.push("(isDate("+r+") || (isValid("+r+") \x26\x26 isFinite(+"+r+")))"):"quantitative"===k.type&&(e.push("isValid("+r+")"),e.push("isFinite(+"+r+")")));return e},[]);return 0<c.length?{type:"filter",expr:c.join(" \x26\x26 ")}:
null};var gi=function(a,c){a=Yd.call(this,a)||this;a.transform=c;a.transform=Ge(c);c=a.transform;var e=void 0===c.as?[]:c.as;a.transform.as=c.flatten.map(function(k,r){var F;return null!==(F=e[r])&&void 0!==F?F:k});return a};$jscomp.inherits(gi,Yd);gi.prototype.clone=function(){return new gi(this.parent,Ge(this.transform))};gi.prototype.dependentFields=function(){return new Set(this.transform.flatten)};gi.prototype.producedFields=function(){return new Set(this.transform.as)};gi.prototype.hash=function(){return"FlattenTransform "+
rb(this.transform)};gi.prototype.assemble=function(){var a=this.transform;return{type:"flatten",fields:a.flatten,as:a.as}};var fi=function(a,c){var e,k,r;a=Yd.call(this,a)||this;a.transform=c;a.transform=Ge(c);c=null!==(e=a.transform.as)&&void 0!==e?e:[void 0,void 0];a.transform.as=[null!==(k=c[0])&&void 0!==k?k:"key",null!==(r=c[1])&&void 0!==r?r:"value"];return a};$jscomp.inherits(fi,Yd);fi.prototype.clone=function(){return new fi(null,Ge(this.transform))};fi.prototype.dependentFields=function(){return new Set(this.transform.fold)};
fi.prototype.producedFields=function(){return new Set(this.transform.as)};fi.prototype.hash=function(){return"FoldTransform "+rb(this.transform)};fi.prototype.assemble=function(){var a=this.transform;return{type:"fold",fields:a.fold,as:a.as}};var bh=function(a,c,e,k){a=Yd.call(this,a)||this;a.fields=c;a.geojson=e;a.signal=k;return a};$jscomp.inherits(bh,Yd);bh.prototype.clone=function(){return new bh(null,Ge(this.fields),this.geojson,this.signal)};bh.parseAll=function(a,c){if(c.component.projection&&
!c.component.projection.isFit)return a;for(var e=0,k=$jscomp.makeIterator([["longitude","latitude"],["longitude2","latitude2"]]),r=k.next();!r.done;r=k.next())if(r=r.value.map(function(F){F=Ab(c.encoding[F]);return Nc(F)?F.field:ve(F)?{expr:""+F.datum}:We(F)?{expr:""+F.value}:void 0}),r[0]||r[1])a=new bh(a,r,null,c.getName("geojson_"+e++));c.channelHasField("shape")&&(k=c.typedFieldDef("shape"),"geojson"===k.type&&(a=new bh(a,null,k.field,c.getName("geojson_"+e++))));return a};bh.prototype.dependentFields=
function(){var a,c=(null!==(a=this.fields)&&void 0!==a?a:[]).filter(x.isString);return new Set([].concat($jscomp.arrayFromIterable(this.geojson?[this.geojson]:[]),$jscomp.arrayFromIterable(c)))};bh.prototype.producedFields=function(){return new Set};bh.prototype.hash=function(){return"GeoJSON "+this.geojson+" "+this.signal+" "+rb(this.fields)};bh.prototype.assemble=function(){return[].concat($jscomp.arrayFromIterable(this.geojson?[{type:"filter",expr:'isValid(datum["'+this.geojson+'"])'}]:[]),[Object.assign({},
{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})])};var qh=function(a,c,e,k){a=Yd.call(this,a)||this;a.projection=c;a.fields=e;a.as=k;return a};$jscomp.inherits(qh,Yd);qh.prototype.clone=function(){return new qh(null,this.projection,Ge(this.fields),Ge(this.as))};qh.parseAll=function(a,c){if(!c.projectionName())return a;for(var e=$jscomp.makeIterator([["longitude","latitude"],["longitude2","latitude2"]]),k=e.next();!k.done;k=e.next()){var r=
k.value;k=r.map(function(F){F=Ab(c.encoding[F]);return Nc(F)?F.field:ve(F)?{expr:""+F.datum}:We(F)?{expr:""+F.value}:void 0});r="longitude2"===r[0]?"2":"";if(k[0]||k[1])a=new qh(a,c.projectionName(),k,[c.getName("x"+r),c.getName("y"+r)])}return a};qh.prototype.dependentFields=function(){return new Set(this.fields.filter(x.isString))};qh.prototype.producedFields=function(){return new Set(this.as)};qh.prototype.hash=function(){return"Geopoint "+this.projection+" "+rb(this.fields)+" "+rb(this.as)};qh.prototype.assemble=
function(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}};var vg=function(a,c){a=Yd.call(this,a)||this;a.transform=c;return a};$jscomp.inherits(vg,Yd);vg.prototype.clone=function(){return new vg(null,Ge(this.transform))};vg.prototype.dependentFields=function(){var a;return new Set([this.transform.impute,this.transform.key].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&void 0!==a?a:[])))};vg.prototype.producedFields=function(){return new Set([this.transform.impute])};
vg.prototype.processSequence=function(a){var c=a.step;return{signal:"sequence("+[void 0===a.start?0:a.start,a.stop].concat($jscomp.arrayFromIterable(c?[c]:[])).join(",")+")"}};vg.makeFromTransform=function(a,c){return new vg(a,c)};vg.makeFromEncoding=function(a,c){var e=c.encoding,k=e.x,r=e.y;if(Nc(k)&&Nc(r)){var F=k.impute?k:r.impute?r:void 0;if(void 0===F)return;k=k.impute?r:r.impute?k:void 0;var R=F.impute;r=R.method;var Ca=R.value,Xa=R.frame;R=R.keyvals;c=If(c.mark,e);return new vg(a,Object.assign({},
{impute:F.field,key:k.field},r?{method:r}:{},void 0!==Ca?{value:Ca}:{},Xa?{frame:Xa}:{},void 0!==R?{keyvals:R}:{},c.length?{groupby:c}:{}))}return null};vg.prototype.hash=function(){return"Impute "+rb(this.transform)};vg.prototype.assemble=function(){var a=this.transform,c=a.impute,e=a.keyvals,k=a.method,r=a.groupby,F=a.value,R=void 0===a.frame?[null,null]:a.frame;a=Object.assign({},{type:"impute",field:c,key:a.key},e?{keyvals:void 0!==(null===e||void 0===e?void 0:e.stop)?this.processSequence(e):
e}:{},{method:"value"},r?{groupby:r}:{},{value:k&&"value"!==k?null:F});return k&&"value"!==k?(k=Object.assign({},{type:"window",as:["imputed_"+c+"_value"],ops:[k],fields:[c],frame:R,ignorePeers:!1},r?{groupby:r}:{}),[a,k,{type:"formula",expr:"datum."+c+" \x3d\x3d\x3d null ? datum.imputed_"+c+"_value : datum."+c,as:c}]):[a]};var ii=function(a,c){var e,k,r;a=Yd.call(this,a)||this;a.transform=c;a.transform=Ge(c);var F=null!==(e=a.transform.as)&&void 0!==e?e:[void 0,void 0];a.transform.as=[null!==(k=
F[0])&&void 0!==k?k:c.on,null!==(r=F[1])&&void 0!==r?r:c.loess];return a};$jscomp.inherits(ii,Yd);ii.prototype.clone=function(){return new ii(null,Ge(this.transform))};ii.prototype.dependentFields=function(){var a;return new Set([this.transform.loess,this.transform.on].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&void 0!==a?a:[])))};ii.prototype.producedFields=function(){return new Set(this.transform.as)};ii.prototype.hash=function(){return"LoessTransform "+rb(this.transform)};
ii.prototype.assemble=function(){var a=this.transform,c=Object.assign({},a),e=a.loess;a=a.on;c=(delete c.loess,delete c.on,c);return Object.assign({},{type:"loess",x:a,y:e},c)};var rh=function(a,c,e){a=Yd.call(this,a)||this;a.transform=c;a.secondary=e;return a};$jscomp.inherits(rh,Yd);rh.prototype.clone=function(){return new rh(null,Ge(this.transform),this.secondary)};rh.make=function(a,c,e,k){var r=c.component.data.sources,F=e.from,R=null;if("data"in F)R=Fk(F.data,r),R||(R=new tg(F.data),r.push(R)),
k=c.getName("lookup_"+k),R=new Gf(R,k,wf.Lookup,c.component.data.outputNodeRefCounts),c.component.data.outputNodes[k]=R;else if("param"in F){k=F.param;e=Object.assign({},{as:k},e);try{var Ca=c.getSelectionComponent(va(k),k)}catch(Xa){throw Error('Lookups can only be performed on selection parameters. "'+k+'" is a variable parameter.');}R=Ca.materialized;if(!R)throw Error('Cannot define and lookup the "'+k+'" selection in the same view. Try moving the lookup into a second, layered view?');}return new rh(a,
e,R.getSource())};rh.prototype.dependentFields=function(){return new Set([this.transform.lookup])};rh.prototype.producedFields=function(){return new Set(this.transform.as?x.array(this.transform.as):this.transform.from.fields)};rh.prototype.hash=function(){return"Lookup "+rb({transform:this.transform,secondary:this.secondary})};rh.prototype.assemble=function(){if(this.transform.from.fields)var a=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:x.array(this.transform.as)}:
{});else a=this.transform.as,x.isString(a)||(Ma('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),a={as:[a]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},a,this.transform.default?{default:this.transform.default}:{})};var ji=function(a,c){var e,k,r;a=Yd.call(this,a)||this;a.transform=c;a.transform=Ge(c);c=null!==(e=a.transform.as)&&
void 0!==e?e:[void 0,void 0];a.transform.as=[null!==(k=c[0])&&void 0!==k?k:"prob",null!==(r=c[1])&&void 0!==r?r:"value"];return a};$jscomp.inherits(ji,Yd);ji.prototype.clone=function(){return new ji(null,Ge(this.transform))};ji.prototype.dependentFields=function(){var a;return new Set([this.transform.quantile].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&void 0!==a?a:[])))};ji.prototype.producedFields=function(){return new Set(this.transform.as)};ji.prototype.hash=function(){return"QuantileTransform "+
rb(this.transform)};ji.prototype.assemble=function(){var a=this.transform,c=Object.assign({},a);a=a.quantile;c=(delete c.quantile,c);return Object.assign({},{type:"quantile",field:a},c)};var ki=function(a,c){var e,k,r;a=Yd.call(this,a)||this;a.transform=c;a.transform=Ge(c);var F=null!==(e=a.transform.as)&&void 0!==e?e:[void 0,void 0];a.transform.as=[null!==(k=F[0])&&void 0!==k?k:c.on,null!==(r=F[1])&&void 0!==r?r:c.regression];return a};$jscomp.inherits(ki,Yd);ki.prototype.clone=function(){return new ki(null,
Ge(this.transform))};ki.prototype.dependentFields=function(){var a;return new Set([this.transform.regression,this.transform.on].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&void 0!==a?a:[])))};ki.prototype.producedFields=function(){return new Set(this.transform.as)};ki.prototype.hash=function(){return"RegressionTransform "+rb(this.transform)};ki.prototype.assemble=function(){var a=this.transform,c=Object.assign({},a),e=a.regression;a=a.on;c=(delete c.regression,delete c.on,
c);return Object.assign({},{type:"regression",x:a,y:e},c)};var Hh=function(a,c){a=Yd.call(this,a)||this;a.transform=c;return a};$jscomp.inherits(Hh,Yd);Hh.prototype.clone=function(){return new Hh(null,Ge(this.transform))};Hh.prototype.addDimensions=function(a){var c;this.transform.groupby=na((null!==(c=this.transform.groupby)&&void 0!==c?c:[]).concat(a),function(e){return e})};Hh.prototype.producedFields=function(){};Hh.prototype.dependentFields=function(){var a;return new Set([this.transform.pivot,
this.transform.value].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&void 0!==a?a:[])))};Hh.prototype.hash=function(){return"PivotTransform "+rb(this.transform)};Hh.prototype.assemble=function(){var a=this.transform,c=a.groupby,e=a.limit,k=a.op;return Object.assign({},{type:"pivot",field:a.pivot,value:a.value},void 0!==e?{limit:e}:{},void 0!==k?{op:k}:{},void 0!==c?{groupby:c}:{})};var li=function(a,c){a=Yd.call(this,a)||this;a.transform=c;return a};$jscomp.inherits(li,Yd);li.prototype.clone=
function(){return new li(null,Ge(this.transform))};li.prototype.dependentFields=function(){return new Set};li.prototype.producedFields=function(){return new Set};li.prototype.hash=function(){return"SampleTransform "+rb(this.transform)};li.prototype.assemble=function(){return{type:"sample",size:this.transform.sample}};var jf=function(a,c,e,k){c=Qh.call(this,a,"facet",c,e,k,a.resolve)||this;Uc(c,"facet",void 0);Uc(c,"child",void 0);Uc(c,"children",void 0);c.child=jj(a.spec,c,c.getName("child"),void 0,
k);c.children=[c.child];c.facet=c.initFacet(a.facet);return c};$jscomp.inherits(jf,Qh);jf.prototype.initFacet=function(a){if(!Yb(a))return{facet:this.initFacetFieldDef(a,"facet")};var c=fd(a),e={};c=$jscomp.makeIterator(c);for(var k=c.next();!k.done;k=c.next()){k=k.value;if(!["row","column"].includes(k)){Ma(Bb(k,"facet"));break}var r=a[k];if(void 0===r.field){Ma(nb(r,k));break}e[k]=this.initFacetFieldDef(r,k)}return e};jf.prototype.initFacetFieldDef=function(a,c){a=$b(a,c);a.header?a.header=aa(a.header):
null===a.header&&(a.header=null);return a};jf.prototype.channelHasField=function(a){return!!this.facet[a]};jf.prototype.fieldDef=function(a){return this.facet[a]};jf.prototype.parseData=function(){this.component.data=sh(this);this.child.parseData()};jf.prototype.parseLayoutSize=function(){Fi(this)};jf.prototype.parseSelections=function(){this.child.parseSelections();this.component.selection=this.child.component.selection};jf.prototype.parseMarkGroup=function(){this.child.parseMarkGroup()};jf.prototype.parseAxesAndHeaders=
function(){this.child.parseAxesAndHeaders();for(var a=$jscomp.makeIterator(ig),c=a.next();!c.done;c=a.next()){var e=void 0;c=c.value;var k=this.facet,r=this.config,F=this.child,R=this.component;if(this.channelHasField(c)){k=k[c];var Ca=Mg("title",null,r,c);Ca=nf(k,r,{allowDisabling:!0,includeDefault:void 0===Ca||!!Ca});F.component.layoutHeaders[c].title&&(Ca=x.isArray(Ca)?Ca.join(", "):Ca,Ca+=" / "+F.component.layoutHeaders[c].title,F.component.layoutHeaders[c].title=null);F=Mg("labelOrient",k.header,
r,c);r=null!==k.header?y(null===(e=k.header)||void 0===e?void 0:e.labels,r.header.labels,!0):!1;e=Sa(["bottom","right"],F)?"footer":"header";F={};R.layoutHeaders[c]=(F.title=null!==k.header?Ca:null,F.facetFieldDef=k,F[e]="facet"===c?[]:[Bl(this,c,r)],F)}}Qj(this,"x");Qj(this,"y")};jf.prototype.assembleSelectionTopLevelSignals=function(a){return this.child.assembleSelectionTopLevelSignals(a)};jf.prototype.assembleSignals=function(){this.child.assembleSignals();return[]};jf.prototype.assembleSelectionData=
function(a){return this.child.assembleSelectionData(a)};jf.prototype.getHeaderLayoutMixins=function(){for(var a={},c=$jscomp.makeIterator(ig),e=c.next();!e.done;e=c.next()){e=e.value;for(var k=$jscomp.makeIterator(Wl),r=k.next();!r.done;r=k.next()){var F=r.value;r=this.component.layoutHeaders[e];var R=r[F],Ca=r.facetFieldDef;if(Ca&&(Ca=Mg("titleOrient",Ca.header,this.config,e),["right","bottom"].includes(Ca))){var Xa;Ca=aj(e,Ca);null!==(Xa=a.titleAnchor)&&void 0!==Xa?Xa:a.titleAnchor={};a.titleAnchor[Ca]=
"end"}if(null!==R&&void 0!==R&&R[0]){R="row"===e?"height":"width";F="header"===F?"headerBand":"footerBand";if("facet"!==e&&!this.child.component.layoutSize.get(R)){var jb;null!==(jb=a[F])&&void 0!==jb?jb:a[F]={};a[F][e]=.5}if(r.title){var zb;null!==(zb=a.offset)&&void 0!==zb?zb:a.offset={};a.offset["row"===e?"rowTitle":"columnTitle"]=10}}}}return a};jf.prototype.assembleDefaultLayout=function(){var a=this.facet,c=a.column;a=a.row;var e=c?this.columnDistinctSignal():a?1:void 0,k="all";a||"independent"!==
this.component.resolve.scale.x?c||"independent"!==this.component.resolve.scale.y||(k="none"):k="none";return Object.assign({},this.getHeaderLayoutMixins(),e?{columns:e}:{},{bounds:"full",align:k})};jf.prototype.assembleLayoutSignals=function(){return this.child.assembleLayoutSignals()};jf.prototype.columnDistinctSignal=function(){if(!(this.parent&&this.parent instanceof jf))return{signal:"length(data('"+this.getName("column_domain")+"'))"}};jf.prototype.assembleGroup=function(a){return this.parent&&
this.parent instanceof jf?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:ad(this.facet.column,{prefix:"distinct"})}}}}:{},Qh.prototype.assembleGroup.call(this,a)):Qh.prototype.assembleGroup.call(this,a)};jf.prototype.getCardinalityAggregateForChild=function(){var a=[],c=[],e=[];if(this.child instanceof jf){if(this.child.channelHasField("column")){var k=ad(this.child.facet.column);a.push(k);c.push("distinct");e.push("distinct_"+k)}}else{k=$jscomp.makeIterator(lg);for(var r=
k.next();!r.done;r=k.next()){r=r.value;var F=this.child.component.scales[r];if(F&&!F.merged){var R=F.get("type");F=F.get("range");R in Of&&U(F)&&(R=Nj(this.child,r),(R=ci(R))?(a.push(R),c.push("distinct"),e.push("distinct_"+R)):Ma(rc(r)))}}}return{fields:a,ops:c,as:e}};jf.prototype.assembleFacet=function(){var a=this.component.data.facetRoot,c=a.name;a=a.data;var e=this.facet,k=e.row,r=e.column,F=this.getCardinalityAggregateForChild();e=F.fields;var R=F.ops;F=F.as;for(var Ca=[],Xa=$jscomp.makeIterator(ig),
jb=Xa.next();!jb.done;jb=Xa.next()){var zb=jb.value;if(jb=this.facet[zb]){Ca.push(ad(jb));var ac=jb,nc=ac.sort;Ga(ac.bin)&&Ca.push(ad(jb,{binSuffix:"end"}));cc(nc)?(ac=nc,zb=ac.field,ac=void 0===ac.op?"min":ac.op,jb=Ih(jb,nc),k&&r?(e.push(jb),R.push("max")):(e.push(zb),R.push(ac)),F.push(jb)):x.isArray(nc)&&(jb=$g(jb,zb),e.push(jb),R.push("max"),F.push(jb))}}k=!!k&&!!r;return Object.assign({},{name:c,data:a,groupby:Ca},k||0<e.length?{aggregate:Object.assign({},k?{cross:k}:{},e.length?{fields:e,ops:R,
as:F}:{})}:{})};jf.prototype.facetSortFields=function(a){var c=this.facet[a];return c?cc(c.sort)?[Ih(c,c.sort,{expr:"datum"})]:x.isArray(c.sort)?[$g(c,a,{expr:"datum"})]:[ad(c,{expr:"datum"})]:[]};jf.prototype.facetSortOrder=function(a){return(a=this.facet[a])?(a=a.sort,[(cc(a)?a.order:!x.isArray(a)&&a)||"ascending"]):[]};jf.prototype.assembleLabelTitle=function(){var a=this.facet,c=this.config;if(a.facet)return Gj(a.facet,"facet",c);for(var e={row:["top","bottom"],column:["left","right"]},k=$jscomp.makeIterator(zm),
r=k.next();!r.done;r=k.next())if(r=r.value,a[r]){var F,R=Mg("labelOrient",null===(F=a[r])||void 0===F?void 0:F.header,c,r);if(e[r].includes(R))return Gj(a[r],r,c)}};jf.prototype.assembleMarks=function(){var a=this,c=this.child,e=Ek(this.component.data.facetRoot),k=c.assembleGroupEncodeEntry(!1),r=this.assembleLabelTitle()||c.assembleTitle(),F=c.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},r?{title:r}:{},F?{style:F}:{},{from:{facet:this.assembleFacet()},sort:{field:ig.map(function(R){return a.facetSortFields(R)}).flat(),
order:ig.map(function(R){return a.facetSortOrder(R)}).flat()}},0<e.length?{data:e}:{},k?{encode:{update:k}}:{},c.assembleGroup(kg(this,[])))]};jf.prototype.getMapping=function(){return this.facet};var wg=function(a,c,e,k){var r,F,R,Ca;var Xa=Ue.call(this,a,"concat",c,e,k,a.resolve)||this;Uc(Xa,"children",void 0);"shared"!==(null===(r=a.resolve)||void 0===r?void 0:null===(F=r.axis)||void 0===F?void 0:F.x)&&"shared"!==(null===(R=a.resolve)||void 0===R?void 0:null===(Ca=R.axis)||void 0===Ca?void 0:Ca.y)||
Ma("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");Xa.children=Xa.getChildren(a).map(function(jb,zb){return jj(jb,Xa,Xa.getName("concat_"+zb),void 0,k)});return Xa};$jscomp.inherits(wg,Ue);wg.prototype.parseData=function(){this.component.data=sh(this);for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next())c.value.parseData()};wg.prototype.parseSelections=function(){this.component.selection={};for(var a=$jscomp.makeIterator(this.children),
c=a.next();!c.done;c=a.next()){c=c.value;c.parseSelections();for(var e=$jscomp.makeIterator(fd(c.component.selection)),k=e.next();!k.done;k=e.next())k=k.value,this.component.selection[k]=c.component.selection[k]}};wg.prototype.parseMarkGroup=function(){for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next())c.value.parseMarkGroup()};wg.prototype.parseAxesAndHeaders=function(){for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next())c.value.parseAxesAndHeaders()};
wg.prototype.getChildren=function(a){return"vconcat"in a?a.vconcat:"hconcat"in a?a.hconcat:a.concat};wg.prototype.parseLayoutSize=function(){Fi(this);var a=void 0===this.layout.columns?"height":"childHeight";Rg(this,1===this.layout.columns?"width":"childWidth");Rg(this,a)};wg.prototype.parseAxisGroup=function(){return null};wg.prototype.assembleSelectionTopLevelSignals=function(a){return this.children.reduce(function(c,e){return e.assembleSelectionTopLevelSignals(c)},a)};wg.prototype.assembleSignals=
function(){this.children.forEach(function(a){return a.assembleSignals()});return[]};wg.prototype.assembleLayoutSignals=function(){for(var a=mk(this),c=$jscomp.makeIterator(this.children),e=c.next();!e.done;e=c.next())a.push.apply(a,$jscomp.arrayFromIterable(e.value.assembleLayoutSignals()));return a};wg.prototype.assembleSelectionData=function(a){return this.children.reduce(function(c,e){return e.assembleSelectionData(c)},a)};wg.prototype.assembleMarks=function(){return this.children.map(function(a){var c=
a.assembleTitle(),e=a.assembleGroupStyle(),k=a.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:a.getName("group")},c?{title:c}:{},e?{style:e}:{},k?{encode:{update:k}}:{},a.assembleGroup())})};wg.prototype.assembleDefaultLayout=function(){var a=this.layout.columns;return Object.assign({},null!=a?{columns:a}:{},{bounds:"full",align:"each"})};var ln=Object.assign({},{disable:1,gridScale:1,scale:1},N,{labelExpr:1,encode:1}),Im=fd(ln),Sj=function(a,c,e){a=void 0===a?{}:a;c=void 0===
c?{}:c;e=void 0===e?!1:e;var k=Hf.call(this)||this;k.explicit=a;k.implicit=c;k.mainExtracted=e;return k};$jscomp.inherits(Sj,Hf);Sj.prototype.clone=function(){return new Sj(Ge(this.explicit),Ge(this.implicit),this.mainExtracted)};Sj.prototype.hasAxisPart=function(a){if("axis"===a)return!0;if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)};Sj.prototype.hasOrientSignalRef=function(){return ea(this.explicit.orient)};var mn={bottom:"top",top:"bottom",left:"right",
right:"left"},gn=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),Gl={arc:{vgMark:"arc",encodeEntry:function(a){return Object.assign({},Cg(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Ff("x",a,{defaultPos:"mid"}),Ff("y",a,{defaultPos:"mid"}),Ig(a,"radius","arc"),Ig(a,"theta","arc"))}},area:{vgMark:"area",encodeEntry:function(a){return Object.assign({},Cg(a,{align:"ignore",baseline:"ignore",
color:"include",orient:"include",size:"ignore",theta:"ignore"}),ui("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient}),ui("y",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient}),wi(a))}},bar:{vgMark:"rect",encodeEntry:function(a){return Object.assign({},Cg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ig(a,"x","bar"),Ig(a,"y","bar"))}},circle:{vgMark:"symbol",encodeEntry:function(a){return Kk(a,
"circle")}},geoshape:{vgMark:"shape",encodeEntry:function(a){return Object.assign({},Cg(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}))},postEncodingTransform:function(a){var c=a.encoding.shape;return[Object.assign({},{type:"geoshape",projection:a.projectionName()},c&&Nc(c)&&"geojson"===c.type?{field:ad(c,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:function(a){return Object.assign({},Cg(a,{align:"ignore",baseline:"ignore",color:"ignore",
orient:"ignore",size:"ignore",theta:"ignore"}),Ig(a,"x","image"),Ig(a,"y","image"),sj(a,"url"))}},line:{vgMark:"line",encodeEntry:function(a){return Object.assign({},Cg(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Ff("x",a,{defaultPos:"mid"}),Ff("y",a,{defaultPos:"mid"}),Kf("size",a,{vgChannel:"strokeWidth"}),wi(a))}},point:{vgMark:"symbol",encodeEntry:function(a){return Kk(a)}},rect:{vgMark:"rect",encodeEntry:function(a){return Object.assign({},
Cg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ig(a,"x","rect"),Ig(a,"y","rect"))}},rule:{vgMark:"rule",encodeEntry:function(a){var c=a.markDef.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||a.encoding.longitude?Object.assign({},Cg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),ui("x",a,{defaultPos:"horizontal"===c?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==
c}),ui("y",a,{defaultPos:"vertical"===c?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==c}),Kf("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:function(a){return Kk(a,"square")}},text:{vgMark:"text",encodeEntry:function(a){var c=a.config,e=a.encoding;return Object.assign({},Cg(a,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),Ff("x",a,{defaultPos:"mid"}),Ff("y",a,{defaultPos:"mid"}),sj(a),Kf("size",a,
{vgChannel:"fontSize"}),Kf("angle",a),Si("align",Cl(a.markDef,e,c)),Si("baseline",Lk(a.markDef,e,c)),Ff("radius",a,{defaultPos:null}),Ff("theta",a,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:function(a){var c=a.config,e=a.markDef,k=e.orient,r="horizontal"===k?"width":"height";k="horizontal"===k?"height":"width";var F={};return Object.assign({},Cg(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ff("x",a,{defaultPos:"mid",vgChannel:"xc"}),
Ff("y",a,{defaultPos:"mid",vgChannel:"yc"}),Kf("size",a,{defaultValue:sm(a),vgChannel:r}),(F[k]=lb(Qb("thickness",e,c)),F))}},trail:{vgMark:"trail",encodeEntry:function(a){return Object.assign({},Cg(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),Ff("x",a,{defaultPos:"mid"}),Ff("y",a,{defaultPos:"mid"}),Kf("size",a),wi(a))}}},sf=function(a,c,e,k,r){k=void 0===k?{}:k;var F;c=Qh.call(this,a,"unit",c,e,r,void 0,Ra(a)?a.view:void 0)||this;Uc(c,"markDef",
void 0);Uc(c,"encoding",void 0);Uc(c,"specifiedScales",{});Uc(c,"stack",void 0);Uc(c,"specifiedAxes",{});Uc(c,"specifiedLegends",{});Uc(c,"specifiedProjection",{});Uc(c,"selection",[]);Uc(c,"children",[]);e=ed(a.mark)?Object.assign({},a.mark):{type:a.mark};var R=e.type;void 0===e.filled&&(e.filled=Jk(e,r,{graticule:a.data&&"graticule"in a.data}));var Ca=c.encoding=zf(a.encoding||{},R,e.filled,r);c.markDef=qm(e,Ca,r);c.size=ni({encoding:Ca,size:Ra(a)?Object.assign({},k,a.width?{width:a.width}:{},a.height?
{height:a.height}:{}):k});c.stack=Ld(R,Ca);c.specifiedScales=c.initScales(R,Ca);c.specifiedAxes=c.initAxes(Ca);c.specifiedLegends=c.initLegends(Ca);c.specifiedProjection=a.projection;c.selection=(null!==(F=a.params)&&void 0!==F?F:[]).filter(function(Xa){return!!Xa.select});return c};$jscomp.inherits(sf,Qh);sf.prototype.scaleDomain=function(a){return(a=this.specifiedScales[a])?a.domain:void 0};sf.prototype.axis=function(a){return this.specifiedAxes[a]};sf.prototype.legend=function(a){return this.specifiedLegends[a]};
sf.prototype.initScales=function(a,c){var e=this;return Bh.reduce(function(k,r){var F=Ab(c[r]);if(F){var R;k[r]=e.initScale(null!==(R=F.scale)&&void 0!==R?R:{})}return k},{})};sf.prototype.initScale=function(a){var c=a.domain,e=a.range;a=aa(a);x.isArray(c)&&(a.domain=c.map(Ta));x.isArray(e)&&(a.range=e.map(Ta));return a};sf.prototype.initAxes=function(a){var c=this;return lg.reduce(function(e,k){var r=a[k];if(Gd(r)||"x"===k&&Gd(a.x2)||"y"===k&&Gd(a.y2))r=Gd(r)?r.axis:void 0,e[k]=r?c.initAxis(Object.assign({},
r)):r;return e},{})};sf.prototype.initAxis=function(a){var c=fd(a),e={};c=$jscomp.makeIterator(c);for(var k=c.next();!k.done;k=c.next()){k=k.value;var r=a[k];e[k]=Fd(r)?Ja(r):Ta(r)}return e};sf.prototype.initLegends=function(a){return Yf.reduce(function(c,e){var k=Ab(a[e]),r;if(r=k)a:{switch(e){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":r=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":r=!1;break a}r=void 0}r&&
(k=k.legend,c[e]=k?aa(k):k);return c},{})};sf.prototype.parseData=function(){this.component.data=sh(this)};sf.prototype.parseLayoutSize=function(){for(var a=this.size,c=this.component,e=$jscomp.makeIterator(lg),k=e.next();!k.done;k=e.next())if(k=ha(k.value),a[k]){var r=a[k];c.layoutSize.set(k,W(r)?"step":r,!0)}else r=Rj(this,k),c.layoutSize.set(k,r,!1)};sf.prototype.parseSelections=function(){var a=this.component;var c=this.selection,e={},k=this.config.selection;if(c&&c.length){c=$jscomp.makeIterator(c);
for(var r=c.next();!r.done;r=c.next()){r=r.value;var F=va(r.name),R=r.select,Ca=x.isString(R)?R:R.type;R=x.isObject(R)?Ge(R):{type:Ca};var Xa=Object.assign({},k[Ca]);Xa=(delete Xa.fields,delete Xa.encodings,Xa);for(var jb in Xa)if("mark"===jb&&(R[jb]=Object.assign({},Xa[jb],R[jb])),void 0===R[jb]||!0===R[jb]){var zb;R[jb]=null!==(zb=Xa[jb])&&void 0!==zb?zb:R[jb]}F=e[F]=Object.assign({},R,{name:F,type:Ca,init:r.value,bind:r.bind,events:x.isString(R.on)?te(R.on,"scope"):x.array(Ge(R.on))});Ca=$jscomp.makeIterator(Vk);
for(R=Ca.next();!R.done;R=Ca.next())R=R.value,R.defined(F)&&R.parse&&R.parse(this,F,r)}}a.selection=e};sf.prototype.parseMarkGroup=function(){this.component.mark=Uj(this)};sf.prototype.parseAxesAndHeaders=function(){this.component.axes=Jh(this)};sf.prototype.assembleSelectionTopLevelSignals=function(a){return xh(this,a)};sf.prototype.assembleSignals=function(){return[].concat($jscomp.arrayFromIterable(Zi(this)),$jscomp.arrayFromIterable(Af(this,[])))};sf.prototype.assembleSelectionData=function(a){return Wk(this,
a)};sf.prototype.assembleLayout=function(){return null};sf.prototype.assembleLayoutSignals=function(){return mk(this)};sf.prototype.assembleMarks=function(){var a,c=null!==(a=this.component.mark)&&void 0!==a?a:[];this.parent&&Uh(this.parent)||(c=qi(this,c));return c.map(this.correctDataNames)};sf.prototype.getMapping=function(){return this.encoding};sf.prototype.channelHasField=function(a){return oe(this.encoding,a)};sf.prototype.fieldDef=function(a){return Va(this.encoding[a])};sf.prototype.typedFieldDef=
function(a){a=this.fieldDef(a);return Oe(a)?a:null};$jscomp.global.Object.defineProperties(sf.prototype,{hasProjection:{configurable:!0,enumerable:!0,get:function(){var a=this.encoding,c=this.mark===hj,e=a&&Nh.some(function(k){return Gd(a[k])});return c||e}},mark:{configurable:!0,enumerable:!0,get:function(){return this.markDef.type}}});var qg=function(a,c,e,k,r){var F=Ue.call(this,a,"layer",c,e,r,a.resolve,a.view)||this;Uc(F,"children",void 0);var R=Object.assign({},k,a.width?{width:a.width}:{},
a.height?{height:a.height}:{});F.children=a.layer.map(function(Ca,Xa){if("layer"in Ca)return new qg(Ca,F,F.getName("layer_"+Xa),R,r);if(re(Ca))return new sf(Ca,F,F.getName("layer_"+Xa),R,r);throw Error(fe(Ca));});return F};$jscomp.inherits(qg,Ue);qg.prototype.parseData=function(){this.component.data=sh(this);for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next())c.value.parseData()};qg.prototype.parseLayoutSize=function(){Fi(this);Rg(this,"width");Rg(this,"height")};qg.prototype.parseSelections=
function(){this.component.selection={};for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next()){c=c.value;c.parseSelections();for(var e=$jscomp.makeIterator(fd(c.component.selection)),k=e.next();!k.done;k=e.next())k=k.value,this.component.selection[k]=c.component.selection[k]}};qg.prototype.parseMarkGroup=function(){for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next())c.value.parseMarkGroup()};qg.prototype.parseAxesAndHeaders=function(){var a=this.component,
c=a.axes;a=a.resolve;for(var e={top:0,bottom:0,right:0,left:0},k=$jscomp.makeIterator(this.children),r=k.next();!r.done;r=k.next()){var F=r.value;F.parseAxesAndHeaders();var R=$jscomp.makeIterator(fd(F.component.axes));for(r=R.next();!r.done;r=R.next())r=r.value,a.axis[r]=nk(this.component.resolve,r),"shared"===a.axis[r]&&(c[r]=dg(c[r],F.component.axes[r]),c[r]||(a.axis[r]="independent",delete c[r]))}k=$jscomp.makeIterator(lg);for(r=k.next();!r.done;r=k.next()){F=r.value;R=$jscomp.makeIterator(this.children);
for(r=R.next();!r.done;r=R.next())if(r=r.value,r.component.axes[F]){if("independent"===a.axis[F]){var Ca;c[F]=(null!==(Ca=c[F])&&void 0!==Ca?Ca:[]).concat(r.component.axes[F]);for(var Xa=$jscomp.makeIterator(r.component.axes[F]),jb=Xa.next();!jb.done;jb=Xa.next()){jb=jb.value;var zb=jb.getWithExplicit("orient"),ac=zb.value;zb=zb.explicit;ea(ac)||(0<e[ac]&&!zb&&(zb=mn[ac],e[ac]>e[zb]&&jb.set("orient",zb,!1)),e[ac]++)}}delete r.component.axes[F]}if("independent"===a.axis[F]&&c[F]&&1<c[F].length)for(F=
$jscomp.makeIterator(c[F]),R=F.next();!R.done;R=F.next())R=R.value,R.get("grid")&&!R.explicit.grid&&(R.implicit.grid=!1)}};qg.prototype.assembleSelectionTopLevelSignals=function(a){return this.children.reduce(function(c,e){return e.assembleSelectionTopLevelSignals(c)},a)};qg.prototype.assembleSignals=function(){return this.children.reduce(function(a,c){return a.concat(c.assembleSignals())},Zi(this))};qg.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(a,c){return a.concat(c.assembleLayoutSignals())},
mk(this))};qg.prototype.assembleSelectionData=function(a){return this.children.reduce(function(c,e){return e.assembleSelectionData(c)},a)};qg.prototype.assembleTitle=function(){var a=Ue.prototype.assembleTitle.call(this);if(a)return a;var c=$jscomp.makeIterator(this.children);for(a=c.next();!a.done;a=c.next())if(a=a.value.assembleTitle())return a};qg.prototype.assembleLayout=function(){return null};qg.prototype.assembleMarks=function(){return Xk(this,this.children.flatMap(function(a){return a.assembleMarks()}))};
qg.prototype.assembleLegends=function(){return this.children.reduce(function(a,c){return a.concat(c.assembleLegends())},Ei(this))};m.accessPathDepth=u;m.accessPathWithDatum=da;m.compile=function(a,c){c=void 0===c?{}:c;c.logger&&(pi=c.logger);c.fieldTitle&&(Oi=c.fieldTitle);try{var e=hd(x.mergeConfig(c.config,a.config)),k=Xd(a,e),r=jj(k,null,"",void 0,e);r.parse();var F=r.component.data;sk(F.sources);for(var R=0,Ca=0,Xa=0;5>Xa&&pl(F,r,!0);Xa++)R++;F.sources.map(rk);for(Xa=0;5>Xa&&pl(F,r,!1);Xa++)Ca++;
sk(F.sources);5===Math.max(R,Ca)&&Ma("Maximum optimization runs(5) reached.");var jb=k.autosize,zb=r.component.layoutSize.get("width"),ac=r.component.layoutSize.get("height");void 0===jb?(jb={type:"pad"},r.hasAxisOrientSignalRef()&&(jb.resize=!0)):x.isString(jb)&&(jb={type:jb});var nc;if(nc=zb&&ac){var kc=jb.type;nc="fit"===kc||"fit-x"===kc||"fit-y"===kc}if(nc)if("step"===zb&&"step"===ac)Ma(mb()),jb.type="pad";else if("step"===zb||"step"===ac){R="step"===zb?"width":"height";Ma(mb(H(R)));F=jb;var cd=
(R="width"===R?"height":"width","fit-"+H(R));F.type=cd}var zc=Object.assign({},1===fd(jb).length&&jb.type?"pad"===jb.type?{}:{autosize:jb.type}:{autosize:jb},O(e,!1),O(a,!0));return{spec:tm(r,zc,a.datasets,a.usermeta),normalized:k}}finally{c.logger&&(pi=Il),c.fieldTitle&&(Oi=Ki)}};m.contains=Sa;m.deepEqual=rg;m.deleteNestedProperty=fa;m.duplicate=Ge;m.entries=Hg;m.every=za;m.fieldIntersection=Z;m.flatAccessWithDatum=ua;m.getFirstDefined=y;m.hasIntersection=Qa;m.hash=rb;m.internalField=D;m.isBoolean=
Aa;m.isEmpty=Oa;m.isEqual=function(a,c){var e=fd(a),k=fd(c);if(e.length!==k.length)return!1;e=$jscomp.makeIterator(e);for(k=e.next();!k.done;k=e.next())if(k=k.value,a[k]!==c[k])return!1;return!0};m.isInternalField=C;m.isNullOrFalse=Ua;m.isNumeric=V;m.keys=fd;m.logicalExpr=xa;m.mergeDeep=Y;m.normalize=Xd;m.normalizeAngle=J;m.omit=Lb;m.pick=wb;m.prefixGenerator=ca;m.removePathFromField=ja;m.replaceAll=$a;m.replacePathInField=wa;m.resetIdCounter=function(){Rh=42};m.setEqual=Ba;m.some=ab;m.stringify=
ff;m.titleCase=pa;m.unique=na;m.uniqueId=z;m.vals=gg;m.varName=va;m.version="5.1.0";Object.defineProperty(m,"__esModule",{value:!0})})};
shadow$provide[53]=function(Ib,xb,gc,vb){function h(){throw Error("setTimeout has not been defined");}function m(){throw Error("clearTimeout has not been defined");}function x(na){if(rb===setTimeout)return setTimeout(na,0);if((rb===h||!rb)&&setTimeout)return rb=setTimeout,setTimeout(na,0);try{return rb(na,0)}catch(Ba){try{return rb.call(null,na,0)}catch(Qa){return rb.call(this,na,0)}}}function Wa(na){if(Ua===clearTimeout)return clearTimeout(na);if((Ua===m||!Ua)&&clearTimeout)return Ua=clearTimeout,
clearTimeout(na);try{return Ua(na)}catch(Ba){try{return Ua.call(null,na)}catch(Qa){return Ua.call(this,na)}}}function Gb(){ab&&za&&(ab=!1,za.length?Sa=za.concat(Sa):Y=-1,Sa.length&&gb())}function gb(){if(!ab){var na=x(Gb);ab=!0;for(var Ba=Sa.length;Ba;){za=Sa;for(Sa=[];++Y<Ba;)za&&za[Y].run();Y=-1;Ba=Sa.length}za=null;ab=!1;Wa(na)}}function wb(na,Ba){this.fun=na;this.array=Ba}function Lb(){}Ib=gc.exports={};try{var rb="function"===typeof setTimeout?setTimeout:h}catch(na){rb=h}try{var Ua="function"===
typeof clearTimeout?clearTimeout:m}catch(na){Ua=m}var Sa=[],ab=!1,za,Y=-1;Ib.nextTick=function(na){var Ba=Array(arguments.length-1);if(1<arguments.length)for(var Qa=1;Qa<arguments.length;Qa++)Ba[Qa-1]=arguments[Qa];Sa.push(new wb(na,Ba));1!==Sa.length||ab||x(gb)};wb.prototype.run=function(){this.fun.apply(null,this.array)};Ib.title="browser";Ib.browser=!0;Ib.env={};Ib.argv=[];Ib.version="";Ib.versions={};Ib.on=Lb;Ib.addListener=Lb;Ib.once=Lb;Ib.off=Lb;Ib.removeListener=Lb;Ib.removeAllListeners=Lb;
Ib.emit=Lb;Ib.prependListener=Lb;Ib.prependOnceListener=Lb;Ib.listeners=function(na){return[]};Ib.binding=function(na){throw Error("process.binding is not supported");};Ib.cwd=function(){return"/"};Ib.chdir=function(na){throw Error("process.chdir is not supported");};Ib.umask=function(){return 0}};
shadow$provide[54]=function(Ib,xb,gc,vb){var h=xb(53);(function(m,x){"object"===typeof vb&&"undefined"!==typeof gc?gc.exports=x(xb(51),xb(52)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],x):(m="undefined"!==typeof globalThis?globalThis:m||self,m.vegaEmbed=x(m.vega,m.vegaLite))})(this,function(m,x){function Wa(P){if(P&&P.__esModule)return P;var oa=Object.create(null);P&&Object.keys(P).forEach(function(Ha){if("default"!==Ha){var kb=Object.getOwnPropertyDescriptor(P,Ha);Object.defineProperty(oa,
Ha,kb.get?kb:{enumerable:!0,get:function(){return P[Ha]}})}});oa["default"]=P;return Object.freeze(oa)}function Gb(P,oa,Ha,kb){function eb(Tb){return Tb instanceof Ha?Tb:new Ha(function(hc){hc(Tb)})}return new (Ha||(Ha=Promise))(function(Tb,hc){function xc(ed){try{lc(kb.next(ed))}catch(pd){hc(pd)}}function vc(ed){try{lc(kb["throw"](ed))}catch(pd){hc(pd)}}function lc(ed){ed.done?Tb(ed.value):eb(ed.value).then(xc,vc)}lc((kb=kb.apply(P,oa||[])).next())})}function gb(P,oa){function Ha(lc){return function(ed){return kb([lc,
ed])}}function kb(lc){if(Tb)throw new TypeError("Generator is already executing.");for(;eb;)try{if(Tb=1,hc&&(xc=lc[0]&2?hc["return"]:lc[0]?hc["throw"]||((xc=hc["return"])&&xc.call(hc),0):hc.next)&&!(xc=xc.call(hc,lc[1])).done)return xc;if(hc=0,xc)lc=[lc[0]&2,xc.value];switch(lc[0]){case 0:case 1:xc=lc;break;case 4:return eb.label++,{value:lc[1],done:!1};case 5:eb.label++;hc=lc[1];lc=[0];continue;case 7:lc=eb.ops.pop();eb.trys.pop();continue;default:if(!(xc=eb.trys,xc=0<xc.length&&xc[xc.length-1])&&
(6===lc[0]||2===lc[0])){eb=0;continue}if(3===lc[0]&&(!xc||lc[1]>xc[0]&&lc[1]<xc[3]))eb.label=lc[1];else if(6===lc[0]&&eb.label<xc[1])eb.label=xc[1],xc=lc;else if(xc&&eb.label<xc[2])eb.label=xc[2],eb.ops.push(lc);else{xc[2]&&eb.ops.pop();eb.trys.pop();continue}}lc=oa.call(P,eb)}catch(ed){lc=[6,ed],hc=0}finally{Tb=xc=0}if(lc[0]&5)throw lc[1];return{value:lc[0]?lc[1]:void 0,done:!0}}var eb={label:0,sent:function(){if(xc[0]&1)throw xc[1];return xc[1]},trys:[],ops:[]},Tb,hc,xc,vc;return vc={next:Ha(0),
"throw":Ha(1),"return":Ha(2)},"function"===typeof Symbol&&(vc[Symbol.iterator]=function(){return this}),vc}function wb(P){if(Array.isArray(P)){var oa=Array(P.length);for(P=0;P<oa.length;P++)oa[P]=""+P;return oa}if(Object.keys)return Object.keys(P);oa=[];for(var Ha in P)M.call(P,Ha)&&oa.push(Ha);return oa}function Lb(P){switch(typeof P){case "object":return JSON.parse(JSON.stringify(P));case "undefined":return null;default:return P}}function rb(P){for(var oa=0,Ha=P.length,kb;oa<Ha;)if(kb=P.charCodeAt(oa),
48<=kb&&57>=kb)oa++;else return!1;return!0}function Ua(P){return-1===P.indexOf("/")&&-1===P.indexOf("~")?P:P.replace(/~/g,"~0").replace(/\//g,"~1")}function Sa(P){return P.replace(/~1/g,"/").replace(/~0/g,"~")}function ab(P){if(void 0===P)return!0;if(P)if(Array.isArray(P))for(var oa=0,Ha=P.length;oa<Ha;oa++){if(ab(P[oa]))return!0}else if("object"===typeof P){Ha=wb(P);var kb=Ha.length;for(oa=0;oa<kb;oa++)if(ab(P[Ha[oa]]))return!0}return!1}function za(P,oa){P=[P];for(var Ha in oa){var kb="object"===
typeof oa[Ha]?JSON.stringify(oa[Ha],null,2):oa[Ha];"undefined"!==typeof kb&&P.push(Ha+": "+kb)}return P.join("\n")}function Y(P,oa){if(""==oa)return P;oa={op:"_get",path:oa};na(P,oa);return oa.value}function na(P,oa,Ha,kb,eb,Tb){void 0===Ha&&(Ha=!1);void 0===kb&&(kb=!0);void 0===eb&&(eb=!0);void 0===Tb&&(Tb=0);Ha&&("function"==typeof Ha?Ha(oa,0,P,oa.path):Qa(oa,0));if(""===oa.path){eb={newDocument:P};if("add"===oa.op)return eb.newDocument=oa.value,eb;if("replace"===oa.op)return eb.newDocument=oa.value,
eb.removed=P,eb;if("move"===oa.op||"copy"===oa.op)return eb.newDocument=Y(P,oa.from),"move"===oa.op&&(eb.removed=P),eb;if("test"===oa.op){eb.test=Z(P,oa.value);if(!1===eb.test)throw new ka("Test operation failed","TEST_OPERATION_FAILED",Tb,oa,P);eb.newDocument=P;return eb}if("remove"===oa.op)return eb.removed=P,eb.newDocument=null,eb;if("_get"===oa.op)return oa.value=P,eb;if(Ha)throw new ka("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Tb,oa,P);return eb}kb||
(P=Lb(P));kb=(oa.path||"").split("/");var hc=P,xc=1,vc=kb.length,lc=void 0,ed;for(ed="function"==typeof Ha?Ha:Qa;;){var pd=kb[xc];if(eb&&"__proto__"==pd)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");Ha&&void 0===lc&&(void 0===hc[pd]?lc=kb.slice(0,xc).join("/"):xc==vc-1&&(lc=oa.path),void 0!==lc&&ed(oa,0,P,lc));xc++;
if(Array.isArray(hc)){if("-"===pd)pd=hc.length;else{if(Ha&&!rb(pd))throw new ka("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Tb,oa,P);rb(pd)&&(pd=~~pd)}if(xc>=vc){if(Ha&&"add"===oa.op&&pd>hc.length)throw new ka("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Tb,oa,P);eb=w[oa.op].call(oa,hc,pd,P);if(!1===eb.test)throw new ka("Test operation failed",
"TEST_OPERATION_FAILED",Tb,oa,P);return eb}}else if(pd&&-1!=pd.indexOf("~")&&(pd=Sa(pd)),xc>=vc){eb=ha[oa.op].call(oa,hc,pd,P);if(!1===eb.test)throw new ka("Test operation failed","TEST_OPERATION_FAILED",Tb,oa,P);return eb}hc=hc[pd]}}function Ba(P,oa,Ha,kb,eb){void 0===kb&&(kb=!0);void 0===eb&&(eb=!0);if(Ha&&!Array.isArray(oa))throw new ka("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");kb||(P=Lb(P));kb=Array(oa.length);for(var Tb=0,hc=oa.length;Tb<hc;Tb++)kb[Tb]=na(P,oa[Tb],Ha,!0,eb,Tb),
P=kb[Tb].newDocument;kb.newDocument=P;return kb}function Qa(P,oa,Ha,kb){if("object"!==typeof P||null===P||Array.isArray(P))throw new ka("Operation is not an object","OPERATION_NOT_AN_OBJECT",oa,P,Ha);if(ha[P.op]){if("string"!==typeof P.path)throw new ka("Operation `path` property is not a string","OPERATION_PATH_INVALID",oa,P,Ha);if(0!==P.path.indexOf("/")&&0<P.path.length)throw new ka('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",oa,P,Ha);if("move"!==P.op&&"copy"!==P.op||
"string"===typeof P.from)if("add"!==P.op&&"replace"!==P.op&&"test"!==P.op||void 0!==P.value){if(("add"===P.op||"replace"===P.op||"test"===P.op)&&ab(P.value))throw new ka("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",oa,P,Ha);if(Ha)if("add"==P.op){var eb=P.path.split("/").length;kb=kb.split("/").length;if(eb!==kb+1&&eb!==kb)throw new ka("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",
oa,P,Ha);}else if("replace"===P.op||"remove"===P.op||"_get"===P.op){if(P.path!==kb)throw new ka("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",oa,P,Ha);}else if(("move"===P.op||"copy"===P.op)&&(eb=ca([{op:"_get",path:P.from,value:void 0}],Ha))&&"OPERATION_PATH_UNRESOLVABLE"===eb.name)throw new ka("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",oa,P,Ha);}else throw new ka("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)",
"OPERATION_VALUE_REQUIRED",oa,P,Ha);else throw new ka("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",oa,P,Ha);}else throw new ka("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",oa,P,Ha);}function ca(P,oa,Ha){try{if(!Array.isArray(P))throw new ka("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(oa)Ba(Lb(oa),Lb(P),Ha||!0);else{Ha=Ha||Qa;for(var kb=0;kb<P.length;kb++)Ha(P[kb],
kb,oa,void 0)}}catch(eb){if(eb instanceof ka)return eb;throw eb;}}function Z(P,oa){if(P===oa)return!0;if(P&&oa&&"object"==typeof P&&"object"==typeof oa){var Ha=Array.isArray(P),kb=Array.isArray(oa);if(Ha&&kb){var eb=P.length;if(eb!=oa.length)return!1;for(Ha=eb;0!==Ha--;)if(!Z(P[Ha],oa[Ha]))return!1;return!0}if(Ha!=kb)return!1;kb=Object.keys(P);eb=kb.length;if(eb!==Object.keys(oa).length)return!1;for(Ha=eb;0!==Ha--;)if(!oa.hasOwnProperty(kb[Ha]))return!1;for(Ha=eb;0!==Ha--;)if(eb=kb[Ha],!Z(P[eb],oa[eb]))return!1;
return!0}return P!==P&&oa!==oa}function Oa(P,oa){void 0===oa&&(oa=!1);var Ha=p.get(P.object);Aa(Ha.value,P.object,P.patches,"",oa);P.patches.length&&Ba(Ha.value,P.patches);oa=P.patches;0<oa.length&&(P.patches=[],P.callback&&P.callback(oa));return oa}function Aa(P,oa,Ha,kb,eb){if(oa!==P){"function"===typeof oa.toJSON&&(oa=oa.toJSON());for(var Tb=wb(oa),hc=wb(P),xc=!1,vc=hc.length-1;0<=vc;vc--){var lc=hc[vc],ed=P[lc];if(!M.call(oa,lc)||void 0===oa[lc]&&void 0!==ed&&!1===Array.isArray(oa))Array.isArray(P)===
Array.isArray(oa)?(eb&&Ha.push({op:"test",path:kb+"/"+Ua(lc),value:Lb(ed)}),Ha.push({op:"remove",path:kb+"/"+Ua(lc)}),xc=!0):(eb&&Ha.push({op:"test",path:kb,value:P}),Ha.push({op:"replace",path:kb,value:oa}));else{var pd=oa[lc];"object"==typeof ed&&null!=ed&&"object"==typeof pd&&null!=pd?Aa(ed,pd,Ha,kb+"/"+Ua(lc),eb):ed!==pd&&(eb&&Ha.push({op:"test",path:kb+"/"+Ua(lc),value:Lb(ed)}),Ha.push({op:"replace",path:kb+"/"+Ua(lc),value:Lb(pd)}))}}if(xc||Tb.length!=hc.length)for(vc=0;vc<Tb.length;vc++)lc=
Tb[vc],M.call(P,lc)||void 0===oa[lc]||Ha.push({op:"add",path:kb+"/"+Ua(lc),value:Lb(oa[lc])})}}function va(P){var oa=$jscomp.makeIterator(/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(P).slice(1,3));P=oa.next().value;oa=oa.next().value;return{library:P,version:oa}}function xa(P,oa,Ha){P.fields=oa||[];P.fname=Ha;return P}function fa(P){return 1===P.length?Wb(P[0]):sc(P)}function pa(P){function oa(){Ha.push(hc+P.substring(xc,vc));hc="";xc=vc+1}var Ha=[],kb=P.length,eb=null,Tb=0,hc="",xc,vc;P+="";for(xc=
vc=0;vc<kb;++vc){var lc=P[vc];if("\\"===lc)hc+=P.substring(xc,vc),hc+=P.substring(++vc,++vc),xc=vc;else if(lc===eb)oa(),eb=null,Tb=-1;else if(!eb)if(xc===Tb&&'"'===lc)xc=vc+1,eb=lc;else if(xc===Tb&&"'"===lc)xc=vc+1,eb=lc;else if("."===lc&&!Tb)vc>xc?oa():xc=vc+1;else if("["===lc)vc>xc&&oa(),Tb=xc=vc+1;else if("]"===lc){if(!Tb)throw Error("Access path missing open bracket: "+P);0<Tb&&oa();Tb=0;xc=vc+1}}if(Tb)throw Error("Access path missing closing bracket: "+P);if(eb)throw Error("Access path missing closing quote: "+
P);vc>xc&&(vc++,oa());return Ha}function da(P,oa){var Ha={},kb;for(kb in P)Object.prototype.hasOwnProperty.call(P,kb)&&0>oa.indexOf(kb)&&(Ha[kb]=P[kb]);if(null!=P&&"function"===typeof Object.getOwnPropertySymbols){var eb=0;for(kb=Object.getOwnPropertySymbols(P);eb<kb.length;eb++)0>oa.indexOf(kb[eb])&&Object.prototype.propertyIsEnumerable.call(P,kb[eb])&&(Ha[kb[eb]]=P[kb[eb]])}return Ha}function ua(P,oa,Ha){if(pc(P))return"["+P.map(function(xc){return oa("string"===typeof xc?xc:JSON.stringify(xc,Ia(Ha)))}).join(", ")+
"]";if(P===Object(P)){var kb="",eb=P.title,Tb=P.image;P=da(P,["title","image"]);eb&&(kb+="\x3ch2\x3e"+oa(eb)+"\x3c/h2\x3e");Tb&&(kb+='\x3cimg src\x3d"'+oa(Tb)+'"\x3e');eb=Object.keys(P);if(0<eb.length){kb+="\x3ctable\x3e";eb=$jscomp.makeIterator(eb);for(Tb=eb.next();!Tb.done;Tb=eb.next()){Tb=Tb.value;var hc=P[Tb];void 0!==hc&&(hc===Object(hc)&&(hc=JSON.stringify(hc,Ia(Ha))),kb+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'+oa(Tb)+':\x3c/td\x3e\x3ctd class\x3d"value"\x3e'+oa(hc)+"\x3c/td\x3e\x3c/tr\x3e")}kb+=
"\x3c/table\x3e"}return kb||"{}"}return oa(P)}function Ia(P){var oa=[];return function(Ha,kb){if("object"!==typeof kb||null===kb)return kb;Ha=oa.indexOf(this)+1;oa.length=Ha;if(oa.length>P)return"[Object]";if(0<=oa.indexOf(kb))return"[Circular]";oa.push(kb);return kb}}function wa(P,oa,Ha){function kb(vc){vc.source===Tb&&(xc=0,P.removeEventListener("message",kb,!1))}function eb(){0>=xc||(Tb.postMessage(Ha,hc),setTimeout(eb,250),--xc)}var Tb=P.open(oa),hc=(new URL(oa)).origin,xc=40;P.addEventListener("message",
kb,!1);setTimeout(eb,250)}function $a(P){for(var oa=[],Ha=1;Ha<arguments.length;Ha++)oa[Ha-1]=arguments[Ha];for(Ha=0;Ha<oa.length;Ha++)for(var kb=P,eb=oa[Ha],Tb=0,hc=Object.keys(eb);Tb<hc.length;Tb++){var xc=hc[Tb];m.writeConfig(kb,xc,eb[xc],!0)}return P}function ja(P,oa,Ha,kb){oa="\x3chtml\x3e\x3chead\x3e"+oa+'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e';Ha="\x3c/code\x3e\x3c/pre\x3e"+Ha+"\x3c/body\x3e\x3c/html\x3e";var eb=window.open("");eb.document.write(oa+P+Ha);eb.document.title=
ce[kb]+" JSON Source"}function u(P,oa){var Ha;return P.$schema?(P=va(P.$schema),oa&&oa!==P.library&&console.warn("The given visualization spec is written in "+ce[P.library]+", but mode argument sets "+(null!==(Ha=ce[oa])&&void 0!==Ha?Ha:oa)+"."),oa=P.library,mc.satisfies(ke[oa],"^"+P.version.slice(1))||console.warn("The input spec uses "+ce[oa]+" "+P.version+", but the current version of "+ce[oa]+" is v"+ke[oa]+"."),oa):"mark"in P||"encoding"in P||"layer"in P||"hconcat"in P||"vconcat"in P||"facet"in
P||"repeat"in P?"vega-lite":"marks"in P||"signals"in P||"scales"in P||"axes"in P?"vega":null!==oa&&void 0!==oa?oa:"vega"}function y(P,oa,Ha){var kb,eb,Tb;void 0===Ha&&(Ha={});return Gb(this,void 0,void 0,function(){var hc,xc,vc,lc,ed,pd,Ed,md;return gb(this,function(le){switch(le.label){case 0:hc=(le=Ha.loader)&&"load"in le?Ha.loader:od.loader(Ha.loader);if(!m.isString(oa))return[3,2];ed=(lc=JSON).parse;return[4,hc.load(oa)];case 1:return vc=ed.apply(lc,[le.sent()]),[3,3];case 2:vc=oa,le.label=3;
case 3:return xc=vc,[4,z(null!==(kb=xc.usermeta&&xc.usermeta.embedOptions)&&void 0!==kb?kb:{},hc)];case 4:return pd=le.sent(),[4,z(Ha,hc)];case 5:return Ed=le.sent(),md=Pa(Pa({},$a(Ed,pd)),{config:m.mergeConfig(null!==(eb=Ed.config)&&void 0!==eb?eb:{},null!==(Tb=pd.config)&&void 0!==Tb?Tb:{})}),[4,C(P,xc,md,hc)];case 6:return[2,le.sent()]}})})}function z(P,oa){var Ha;return Gb(this,void 0,void 0,function(){var kb,eb,Tb,hc,xc,vc,lc,ed;return gb(this,function(pd){switch(pd.label){case 0:if(!m.isString(P.config))return[3,
2];hc=(Tb=JSON).parse;return[4,oa.load(P.config)];case 1:return eb=hc.apply(Tb,[pd.sent()]),[3,3];case 2:eb=null!==(Ha=P.config)&&void 0!==Ha?Ha:{},pd.label=3;case 3:kb=eb;if(!m.isString(P.patch))return[3,5];ed=(lc=JSON).parse;return[4,oa.load(P.patch)];case 4:return vc=ed.apply(lc,[pd.sent()]),[3,6];case 5:vc=P.patch,pd.label=6;case 6:return xc=vc,[2,Pa(Pa(Pa({},P),xc?{patch:xc}:{}),kb?{config:kb}:{})]}})})}function D(P){var oa;P=P.getRootNode?P.getRootNode():document;return P instanceof ShadowRoot?
{root:P,rootContainer:P}:{root:document,rootContainer:null!==(oa=document.head)&&void 0!==oa?oa:document.body}}function C(P,oa,Ha,kb){var eb,Tb,hc,xc,vc,lc;void 0===Ha&&(Ha={});return Gb(this,void 0,void 0,function(){function ed(){$d&&document.removeEventListener("click",$d);Yb.finalize()}var pd,Ed,md,le,Se,jc,Dd,xd,Mb,qe,ne,Ce,$e,Te,kf,ef,Vd,cc,Wd,Yb,gd,se,he,de,je,$d,Ud,Nc,Qe,ve,Jd,xe,Gd,Oe,We,lf,uf,Me;return gb(this,function(df){switch(df.label){case 0:pd=Ha.theme?m.mergeConfig(Hb[Ha.theme],null!==
(eb=Ha.config)&&void 0!==eb?eb:{}):Ha.config;Ed=m.isBoolean(Ha.actions)?Ha.actions:$a({},Rd,null!==(Tb=Ha.actions)&&void 0!==Tb?Tb:{});md=Pa(Pa({},Hd),Ha.i18n);le=null!==(hc=Ha.renderer)&&void 0!==hc?hc:"canvas";Se=null!==(xc=Ha.logLevel)&&void 0!==xc?xc:od.Warn;jc=null!==(vc=Ha.downloadFileName)&&void 0!==vc?vc:"visualization";Dd="string"===typeof P?document.querySelector(P):P;if(!Dd)throw Error(P+" does not exist");!1!==Ha.defaultStyle&&(xd=D(Dd),Mb=xd.root,qe=xd.rootContainer,Mb.getElementById("vega-embed-style")||
(ne=document.createElement("style"),ne.id="vega-embed-style",ne.innerText=void 0===Ha.defaultStyle||!0===Ha.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
Ha.defaultStyle,qe.appendChild(ne)));Ce=u(oa,Ha.mode);$e=Ke[Ce](oa,pd);"vega-lite"===Ce&&$e.$schema&&(Te=va($e.$schema),mc.satisfies(ke.vega,"^"+Te.version.slice(1))||console.warn("The compiled spec uses Vega "+Te.version+", but current version is v"+ke.vega+"."));Dd.classList.add("vega-embed");Ed&&Dd.classList.add("has-actions");Dd.innerHTML="";kf=Dd;Ed&&(ef=document.createElement("div"),ef.classList.add("chart-wrapper"),Dd.appendChild(ef),kf=ef);(Vd=Ha.patch)&&($e=Vd instanceof Function?Vd($e):
Ba($e,Vd,!0,!1).newDocument);Ha.formatLocale&&od.formatLocale(Ha.formatLocale);Ha.timeFormatLocale&&od.timeFormatLocale(Ha.timeFormatLocale);cc=Ha.ast;Wd=od.parse($e,"vega-lite"===Ce?{}:pd,{ast:cc});Yb=new od.View(Wd,Pa({loader:kb,logLevel:Se,renderer:le},cc?{expr:od.expressionInterpreter}:{}));!1!==Ha.tooltip&&(gd=void 0,gd="function"===typeof Ha.tooltip?Ha.tooltip:(new Wc(!0===Ha.tooltip?{}:Ha.tooltip)).call,Yb.tooltip(gd));se=Ha.hover;void 0===se&&(se="vega"===Ce);se&&(he="boolean"===typeof se?
{}:se,de=he.hoverSet,je=he.updateSet,Yb.hover(de,je));Ha&&(null!=Ha.width&&Yb.width(Ha.width),null!=Ha.height&&Yb.height(Ha.height),null!=Ha.padding&&Yb.padding(Ha.padding));return[4,Yb.initialize(kf).runAsync()];case 1:df.sent();if(!1!==Ed){Ud=Dd;!1!==Ha.defaultStyle&&(Nc=document.createElement("details"),Nc.title=md.CLICK_TO_VIEW_ACTIONS,Dd.append(Nc),Ud=Nc,Qe=document.createElement("summary"),Qe.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e',
Nc.append(Qe),$d=function(ad){Nc.contains(ad.target)||Nc.removeAttribute("open")},document.addEventListener("click",$d));ve=document.createElement("div");Ud.append(ve);ve.classList.add("vega-actions");if(!0===Ed||!1!==Ed["export"])for(Jd=function(ad){if(!0===Ed||!0===Ed["export"]||Ed["export"][ad]){var cf=md[ad.toUpperCase()+"_ACTION"],Ve=document.createElement("a");Ve.text=cf;Ve.href="#";Ve.target="_blank";Ve.download=jc+"."+ad;Ve.addEventListener("mousedown",function(nf){return Gb(this,void 0,void 0,
function(){var of;return gb(this,function(E){switch(E.label){case 0:return nf.preventDefault(),[4,Yb.toImageURL(ad,Ha.scaleFactor)];case 1:return this.href=of=E.sent(),[2]}})})});ve.append(Ve)}},xe=0,Gd=["svg","png"];xe<Gd.length;xe++)Oe=Gd[xe],Jd(Oe);if(!0===Ed||!1!==Ed.source)We=document.createElement("a"),We.text=md.SOURCE_ACTION,We.href="#",We.addEventListener("click",function(ad){var cf,Ve;ja(ba(oa),null!==(cf=Ha.sourceHeader)&&void 0!==cf?cf:"",null!==(Ve=Ha.sourceFooter)&&void 0!==Ve?Ve:"",
Ce);ad.preventDefault()}),ve.append(We);"vega-lite"!==Ce||!0!==Ed&&!1===Ed.compiled||(lf=document.createElement("a"),lf.text=md.COMPILED_ACTION,lf.href="#",lf.addEventListener("click",function(ad){var cf,Ve;ja(ba($e),null!==(cf=Ha.sourceHeader)&&void 0!==cf?cf:"",null!==(Ve=Ha.sourceFooter)&&void 0!==Ve?Ve:"","vega");ad.preventDefault()}),ve.append(lf));if(!0===Ed||!1!==Ed.editor)uf=null!==(lc=Ha.editorUrl)&&void 0!==lc?lc:"https://vega.github.io/editor/",Me=document.createElement("a"),Me.text=md.EDITOR_ACTION,
Me.href="#",Me.addEventListener("click",function(ad){wa(window,uf,{config:pd,mode:Ce,renderer:le,spec:ba(oa)});ad.preventDefault()}),ve.append(Me)}return[2,{view:Yb,spec:oa,vgSpec:$e,finalize:ed}]}})})}function J(P,oa){var Ha;void 0===oa&&(oa={});return Gb(this,void 0,void 0,function(){var kb,eb,Tb,hc;return gb(this,function(xc){switch(xc.label){case 0:return kb=document.createElement("div"),kb.classList.add("vega-embed-wrapper"),eb=document.createElement("div"),kb.appendChild(eb),Tb=!0===oa.actions||
!1===oa.actions?oa.actions:Pa({"export":!0,source:!1,compiled:!0,editor:!0},null!==(Ha=oa.actions)&&void 0!==Ha?Ha:{}),[4,y(eb,P,Pa({actions:Tb},null!==oa&&void 0!==oa?oa:{}))];case 1:return hc=xc.sent(),kb.value=hc.view,[2,kb]}})})}var V=Wa(m),ia=Wa(x),Pa=function(){Pa=Object.assign||function(P){for(var oa,Ha=1,kb=arguments.length;Ha<kb;Ha++){oa=arguments[Ha];for(var eb in oa)Object.prototype.hasOwnProperty.call(oa,eb)&&(P[eb]=oa[eb])}return P};return Pa.apply(this,arguments)},cb=function(){var P=
function(oa,Ha){P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(kb,eb){kb.__proto__=eb}||function(kb,eb){for(var Tb in eb)eb.hasOwnProperty(Tb)&&(kb[Tb]=eb[Tb])};return P(oa,Ha)};return function(oa,Ha){function kb(){this.constructor=oa}P(oa,Ha);oa.prototype=null===Ha?Object.create(Ha):(kb.prototype=Ha.prototype,new kb)}}(),M=Object.prototype.hasOwnProperty,Ka=function(P){function oa(Ha,kb,eb,Tb,hc){var xc=this.constructor,vc=P.call(this,za(Ha,{name:kb,index:eb,operation:Tb,tree:hc}))||
this;vc.name=kb;vc.index=eb;vc.operation=Tb;vc.tree=hc;Object.setPrototypeOf(vc,xc.prototype);vc.message=za(Ha,{name:kb,index:eb,operation:Tb,tree:hc});return vc}cb(oa,P);return oa}(Error),ka=Ka,ha={add:function(P,oa,Ha){P[oa]=this.value;return{newDocument:Ha}},remove:function(P,oa,Ha){var kb=P[oa];delete P[oa];return{newDocument:Ha,removed:kb}},replace:function(P,oa,Ha){var kb=P[oa];P[oa]=this.value;return{newDocument:Ha,removed:kb}},move:function(P,oa,Ha){(P=Y(Ha,this.path))&&(P=Lb(P));oa=na(Ha,
{op:"remove",path:this.from}).removed;na(Ha,{op:"add",path:this.path,value:oa});return{newDocument:Ha,removed:P}},copy:function(P,oa,Ha){P=Y(Ha,this.from);na(Ha,{op:"add",path:this.path,value:Lb(P)});return{newDocument:Ha}},test:function(P,oa,Ha){return{newDocument:Ha,test:Z(P[oa],this.value)}},_get:function(P,oa,Ha){this.value=P[oa];return{newDocument:Ha}}},w={add:function(P,oa,Ha){rb(oa)?P.splice(oa,0,this.value):P[oa]=this.value;return{newDocument:Ha,index:oa}},remove:function(P,oa,Ha){P=P.splice(oa,
1);return{newDocument:Ha,removed:P[0]}},replace:function(P,oa,Ha){var kb=P[oa];P[oa]=this.value;return{newDocument:Ha,removed:kb}},move:ha.move,copy:ha.copy,test:ha.test,_get:ha._get},H=Object.freeze({__proto__:null,JsonPatchError:ka,deepClone:Lb,getValueByPointer:Y,applyOperation:na,applyPatch:Ba,applyReducer:function(P,oa,Ha){var kb=na(P,oa);if(!1===kb.test)throw new ka("Test operation failed","TEST_OPERATION_FAILED",Ha,oa,P);return kb.newDocument},validator:Qa,validate:ca,_areEquals:Z}),p=new WeakMap,
q=function(){return function(P){this.observers=new Map;this.obj=P}}(),t=function(){return function(P,oa){this.callback=P;this.observer=oa}}(),G=Object.freeze({__proto__:null,unobserve:function(P,oa){oa.unobserve()},observe:function(P,oa){var Ha=p.get(P);if(Ha){var kb=Ha.observers.get(oa);var eb=kb&&kb.observer}else Ha=new q(P),p.set(P,Ha);if(eb)return eb;eb={};Ha.value=Lb(P);if(oa){eb.callback=oa;eb.next=null;var Tb=function(){Oa(eb)},hc=function(){clearTimeout(eb.next);eb.next=setTimeout(Tb)};"undefined"!==
typeof window&&(window.addEventListener("mouseup",hc),window.addEventListener("keyup",hc),window.addEventListener("mousedown",hc),window.addEventListener("keydown",hc),window.addEventListener("change",hc))}eb.patches=[];eb.object=P;eb.unobserve=function(){Oa(eb);clearTimeout(eb.next);Ha.observers.delete(eb.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",hc),window.removeEventListener("keyup",hc),window.removeEventListener("mousedown",hc),window.removeEventListener("keydown",
hc),window.removeEventListener("change",hc))};Ha.observers.set(oa,new t(oa,eb));return eb},generate:Oa,compare:function(P,oa,Ha){void 0===Ha&&(Ha=!1);var kb=[];Aa(P,oa,kb,"",Ha);return kb}});Object.assign({},H,G,{JsonPatchError:Ka,deepClone:Lb,escapePathComponent:Ua,unescapePathComponent:Sa});var L=/("(?:[^\\"]|\\.)*")|[:,]/g,ba=function(P,oa){oa=oa||{};var Ha=JSON.stringify([1],void 0,void 0===oa.indent?2:oa.indent).slice(2,-3);var kb=""===Ha?Infinity:void 0===oa.maxLength?80:oa.maxLength;var eb=
oa.replacer;return function lc(hc,xc,vc){hc&&"function"===typeof hc.toJSON&&(hc=hc.toJSON());var ed=JSON.stringify(hc,eb);if(void 0===ed)return ed;vc=kb-xc.length-vc;if(ed.length<=vc){var pd=ed.replace(L,function(Mb,qe){return qe||Mb+" "});if(pd.length<=vc)return pd}null!=eb&&(hc=JSON.parse(ed),eb=void 0);if("object"===typeof hc&&null!==hc){var Ed=xc+Ha;var md=[];var le=0;if(Array.isArray(hc)){var Se="[";pd="]";for(vc=hc.length;le<vc;le++)md.push(lc(hc[le],Ed,le===vc-1?0:1)||"null")}else{Se="{";pd=
"}";var jc=Object.keys(hc);for(vc=jc.length;le<vc;le++){var Dd=jc[le];var xd=JSON.stringify(Dd)+": ";Dd=lc(hc[Dd],Ed,xd.length+(le===vc-1?0:1));void 0!==Dd&&md.push(xd+Dd)}}if(0<md.length)return[Se,Ha+md.join(",\n"+Ed),pd].join("\n"+xc)}return ed}(P,"",0)},Ga=Number.MAX_SAFE_INTEGER||9007199254740991,La="object"===typeof h&&h.env&&h.env.NODE_DEBUG&&/\bsemver\b/i.test(h.env.NODE_DEBUG)?function(P){for(var oa=[],Ha=0;Ha<arguments.length;++Ha)oa[Ha-0]=arguments[Ha];return console.error.apply(console,
["SEMVER"].concat($jscomp.arrayFromIterable(oa)))}:function(){},db=function(P,oa,Ha){return Ha={path:oa,exports:{},require:function(kb,eb){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},P(Ha,Ha.exports),Ha.exports}(function(P,oa){oa=P.exports={};var Ha=oa.re=[],kb=oa.src=[],eb=oa.t={},Tb=0;P=function(hc,xc,vc){var lc=Tb++;La(lc,xc);eb[hc]=lc;kb[lc]=xc;Ha[lc]=new RegExp(xc,vc?"g":void 0)};P("NUMERICIDENTIFIER","0|[1-9]\\d*");P("NUMERICIDENTIFIERLOOSE","[0-9]+");
P("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");P("MAINVERSION","("+kb[eb.NUMERICIDENTIFIER]+")\\.("+(kb[eb.NUMERICIDENTIFIER]+")\\.(")+(kb[eb.NUMERICIDENTIFIER]+")"));P("MAINVERSIONLOOSE","("+kb[eb.NUMERICIDENTIFIERLOOSE]+")\\.("+(kb[eb.NUMERICIDENTIFIERLOOSE]+")\\.(")+(kb[eb.NUMERICIDENTIFIERLOOSE]+")"));P("PRERELEASEIDENTIFIER","(?:"+kb[eb.NUMERICIDENTIFIER]+"|"+kb[eb.NONNUMERICIDENTIFIER]+")");P("PRERELEASEIDENTIFIERLOOSE","(?:"+kb[eb.NUMERICIDENTIFIERLOOSE]+"|"+kb[eb.NONNUMERICIDENTIFIER]+
")");P("PRERELEASE","(?:-("+kb[eb.PRERELEASEIDENTIFIER]+"(?:\\."+kb[eb.PRERELEASEIDENTIFIER]+")*))");P("PRERELEASELOOSE","(?:-?("+kb[eb.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+kb[eb.PRERELEASEIDENTIFIERLOOSE]+")*))");P("BUILDIDENTIFIER","[0-9A-Za-z-]+");P("BUILD","(?:\\+("+kb[eb.BUILDIDENTIFIER]+"(?:\\."+kb[eb.BUILDIDENTIFIER]+")*))");P("FULLPLAIN","v?"+kb[eb.MAINVERSION]+kb[eb.PRERELEASE]+"?"+kb[eb.BUILD]+"?");P("FULL","^"+kb[eb.FULLPLAIN]+"$");P("LOOSEPLAIN","[v\x3d\\s]*"+kb[eb.MAINVERSIONLOOSE]+kb[eb.PRERELEASELOOSE]+
"?"+kb[eb.BUILD]+"?");P("LOOSE","^"+kb[eb.LOOSEPLAIN]+"$");P("GTLT","((?:\x3c|\x3e)?\x3d?)");P("XRANGEIDENTIFIERLOOSE",kb[eb.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*");P("XRANGEIDENTIFIER",kb[eb.NUMERICIDENTIFIER]+"|x|X|\\*");P("XRANGEPLAIN","[v\x3d\\s]*("+kb[eb.XRANGEIDENTIFIER]+")(?:\\.("+(kb[eb.XRANGEIDENTIFIER]+")(?:\\.(")+(kb[eb.XRANGEIDENTIFIER]+")(?:")+(kb[eb.PRERELEASE]+")?"+kb[eb.BUILD]+"?)?)?"));P("XRANGEPLAINLOOSE","[v\x3d\\s]*("+kb[eb.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+(kb[eb.XRANGEIDENTIFIERLOOSE]+
")(?:\\.(")+(kb[eb.XRANGEIDENTIFIERLOOSE]+")(?:")+(kb[eb.PRERELEASELOOSE]+")?"+kb[eb.BUILD]+"?)?)?"));P("XRANGE","^"+kb[eb.GTLT]+"\\s*"+kb[eb.XRANGEPLAIN]+"$");P("XRANGELOOSE","^"+kb[eb.GTLT]+"\\s*"+kb[eb.XRANGEPLAINLOOSE]+"$");P("COERCE","(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])");P("COERCERTL",kb[eb.COERCE],!0);P("LONETILDE","(?:~\x3e?)");P("TILDETRIM","(\\s*)"+kb[eb.LONETILDE]+"\\s+",!0);oa.tildeTrimReplace="$1~";P("TILDE","^"+kb[eb.LONETILDE]+kb[eb.XRANGEPLAIN]+
"$");P("TILDELOOSE","^"+kb[eb.LONETILDE]+kb[eb.XRANGEPLAINLOOSE]+"$");P("LONECARET","(?:\\^)");P("CARETTRIM","(\\s*)"+kb[eb.LONECARET]+"\\s+",!0);oa.caretTrimReplace="$1^";P("CARET","^"+kb[eb.LONECARET]+kb[eb.XRANGEPLAIN]+"$");P("CARETLOOSE","^"+kb[eb.LONECARET]+kb[eb.XRANGEPLAINLOOSE]+"$");P("COMPARATORLOOSE","^"+kb[eb.GTLT]+"\\s*("+kb[eb.LOOSEPLAIN]+")$|^$");P("COMPARATOR","^"+kb[eb.GTLT]+"\\s*("+kb[eb.FULLPLAIN]+")$|^$");P("COMPARATORTRIM","(\\s*)"+kb[eb.GTLT]+"\\s*("+kb[eb.LOOSEPLAIN]+"|"+kb[eb.XRANGEPLAIN]+
")",!0);oa.comparatorTrimReplace="$1$2$3";P("HYPHENRANGE","^\\s*("+kb[eb.XRANGEPLAIN]+")\\s+-\\s+("+(kb[eb.XRANGEPLAIN]+")\\s*$"));P("HYPHENRANGELOOSE","^\\s*("+kb[eb.XRANGEPLAINLOOSE]+")\\s+-\\s+("+(kb[eb.XRANGEPLAINLOOSE]+")\\s*$"));P("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");P("GTE0","^\\s*\x3e\x3d\\s*0.0.0\\s*$");P("GTE0PRE","^\\s*\x3e\x3d\\s*0.0.0-0\\s*$")}),sb=/^[0-9]+$/,S=function(P,oa){var Ha=sb.test(P),kb=sb.test(oa);Ha&&kb&&(P=+P,oa=+oa);return P===oa?0:Ha&&!kb?-1:kb&&!Ha?1:P<oa?-1:1},aa=db.re,
qa=db.t,ta=function(P,oa){oa&&"object"===typeof oa||(oa={loose:!!oa,includePrerelease:!1});if(P instanceof ta){if(P.loose===!!oa.loose&&P.includePrerelease===!!oa.includePrerelease)return P;P=P.version}else if("string"!==typeof P)throw new TypeError("Invalid Version: "+P);if(256<P.length)throw new TypeError("version is longer than 256 characters");La("SemVer",P,oa);this.options=oa;this.loose=!!oa.loose;this.includePrerelease=!!oa.includePrerelease;oa=P.trim().match(oa.loose?aa[qa.LOOSE]:aa[qa.FULL]);
if(!oa)throw new TypeError("Invalid Version: "+P);this.raw=P;this.major=+oa[1];this.minor=+oa[2];this.patch=+oa[3];if(this.major>Ga||0>this.major)throw new TypeError("Invalid major version");if(this.minor>Ga||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>Ga||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=oa[4]?oa[4].split(".").map(function(Ha){if(/^[0-9]+$/.test(Ha)){var kb=+Ha;if(0<=kb&&kb<Ga)return kb}return Ha}):[];this.build=oa[5]?oa[5].split("."):
[];this.format()};ta.prototype.format=function(){this.version=this.major+"."+this.minor+"."+this.patch;this.prerelease.length&&(this.version+="-"+this.prerelease.join("."));return this.version};ta.prototype.toString=function(){return this.version};ta.prototype.compare=function(P){La("SemVer.compare",this.version,this.options,P);if(!(P instanceof ta)){if("string"===typeof P&&P===this.version)return 0;P=new ta(P,this.options)}return P.version===this.version?0:this.compareMain(P)||this.comparePre(P)};
ta.prototype.compareMain=function(P){P instanceof ta||(P=new ta(P,this.options));return S(this.major,P.major)||S(this.minor,P.minor)||S(this.patch,P.patch)};ta.prototype.comparePre=function(P){P instanceof ta||(P=new ta(P,this.options));if(this.prerelease.length&&!P.prerelease.length)return-1;if(!this.prerelease.length&&P.prerelease.length)return 1;if(!this.prerelease.length&&!P.prerelease.length)return 0;var oa=0;do{var Ha=this.prerelease[oa],kb=P.prerelease[oa];La("prerelease compare",oa,Ha,kb);
if(void 0===Ha&&void 0===kb)return 0;if(void 0===kb)return 1;if(void 0===Ha)return-1;if(Ha!==kb)return S(Ha,kb)}while(++oa)};ta.prototype.compareBuild=function(P){P instanceof ta||(P=new ta(P,this.options));var oa=0;do{var Ha=this.build[oa],kb=P.build[oa];La("prerelease compare",oa,Ha,kb);if(void 0===Ha&&void 0===kb)return 0;if(void 0===kb)return 1;if(void 0===Ha)return-1;if(Ha!==kb)return S(Ha,kb)}while(++oa)};ta.prototype.inc=function(P,oa){switch(P){case "premajor":this.minor=this.patch=this.prerelease.length=
0;this.major++;this.inc("pre",oa);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",oa);break;case "prepatch":this.prerelease.length=0;this.inc("patch",oa);this.inc("pre",oa);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",oa);this.inc("pre",oa);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||
this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(P=this.prerelease.length;0<=--P;)"number"===typeof this.prerelease[P]&&(this.prerelease[P]++,P=-2);-1===P&&this.prerelease.push(0)}oa&&(this.prerelease[0]===oa?isNaN(this.prerelease[1])&&(this.prerelease=[oa,0]):this.prerelease=[oa,0]);break;default:throw Error("invalid increment argument: "+P);}this.format();
this.raw=this.version;return this};var ea=ta,U=db.re,Fa=db.t,Ja=function(P,oa){oa&&"object"===typeof oa||(oa={loose:!!oa,includePrerelease:!1});if(P instanceof ea)return P;if("string"!==typeof P||256<P.length||!(oa.loose?U[Fa.LOOSE]:U[Fa.FULL]).test(P))return null;try{return new ea(P,oa)}catch(Ha){return null}},Ta=function(P,oa,Ha){return(new ea(P,Ha)).compare(new ea(oa,Ha))},ya=function(P,oa,Ha){return 0===Ta(P,oa,Ha)},lb=function(P,oa,Ha){P=new ea(P,Ha);oa=new ea(oa,Ha);return P.compare(oa)||P.compareBuild(oa)},
yb=function(P,oa,Ha){return 0<Ta(P,oa,Ha)},Ya=function(P,oa,Ha){return 0>Ta(P,oa,Ha)},Ob=function(P,oa,Ha){return 0!==Ta(P,oa,Ha)},Qb=function(P,oa,Ha){return 0<=Ta(P,oa,Ha)},Zb=function(P,oa,Ha){return 0>=Ta(P,oa,Ha)},Ic=function(P,oa,Ha,kb){switch(oa){case "\x3d\x3d\x3d":return"object"===typeof P&&(P=P.version),"object"===typeof Ha&&(Ha=Ha.version),P===Ha;case "!\x3d\x3d":return"object"===typeof P&&(P=P.version),"object"===typeof Ha&&(Ha=Ha.version),P!==Ha;case "":case "\x3d":case "\x3d\x3d":return ya(P,
Ha,kb);case "!\x3d":return Ob(P,Ha,kb);case "\x3e":return yb(P,Ha,kb);case "\x3e\x3d":return Qb(P,Ha,kb);case "\x3c":return Ya(P,Ha,kb);case "\x3c\x3d":return Zb(P,Ha,kb);default:throw new TypeError("Invalid operator: "+oa);}},uc=db.re,Zc=db.t,Ad=function(P,oa){var Ha=this;oa&&"object"===typeof oa||(oa={loose:!!oa,includePrerelease:!1});if(P instanceof Ad)return P.loose===!!oa.loose&&P.includePrerelease===!!oa.includePrerelease?P:new Ad(P.raw,oa);if(P instanceof Bb)return this.raw=P.value,this.set=
[[P]],this.format(),this;this.options=oa;this.loose=!!oa.loose;this.includePrerelease=!!oa.includePrerelease;this.raw=P;this.set=P.split(/\s*\|\|\s*/).map(function(kb){return Ha.parseRange(kb.trim())}).filter(function(kb){return kb.length});if(!this.set.length)throw new TypeError("Invalid SemVer Range: "+P);this.format()};Ad.prototype.format=function(){return this.range=this.set.map(function(P){return P.join(" ").trim()}).join("||").trim()};Ad.prototype.toString=function(){return this.range};Ad.prototype.parseRange=
function(P){var oa=this,Ha=this.options.loose;P=P.trim();P=P.replace(Ha?Xc[Uc.HYPHENRANGELOOSE]:Xc[Uc.HYPHENRANGE],ma(this.options.includePrerelease));La("hyphen replace",P);P=P.replace(Xc[Uc.COMPARATORTRIM],Md);La("comparator trim",P,Xc[Uc.COMPARATORTRIM]);P=P.replace(Xc[Uc.TILDETRIM],Qd);P=P.replace(Xc[Uc.CARETTRIM],fe);P=P.split(/\s+/).join(" ");var kb=Ha?Xc[Uc.COMPARATORLOOSE]:Xc[Uc.COMPARATOR];return P.split(" ").map(function(eb){var Tb=eb;eb=oa.options;La("comp",Tb,eb);Tb=Cc(Tb,eb);La("caret",
Tb);Tb=mb(Tb,eb);La("tildes",Tb);Tb=sd(Tb,eb);La("xrange",Tb);La("replaceStars",Tb,eb);Tb=Tb.trim().replace(Xc[Uc.STAR],"");La("stars",Tb);return Tb}).join(" ").split(/\s+/).map(function(eb){var Tb=oa.options;La("replaceGTE0",eb,Tb);return eb.trim().replace(Xc[Tb.includePrerelease?Uc.GTE0PRE:Uc.GTE0],"")}).filter(this.options.loose?function(eb){return!!eb.match(kb)}:function(){return!0}).map(function(eb){return new Bb(eb,oa.options)})};Ad.prototype.intersects=function(P,oa){if(!(P instanceof Ad))throw new TypeError("a Range is required");
return this.set.some(function(Ha){return Eb(Ha,oa)&&P.set.some(function(kb){return Eb(kb,oa)&&Ha.every(function(eb){return kb.every(function(Tb){return eb.intersects(Tb,oa)})})})})};Ad.prototype.test=function(P){if(!P)return!1;if("string"===typeof P)try{P=new ea(P,this.options)}catch(hc){return!1}for(var oa=0;oa<this.set.length;oa++){a:{var Ha=this.set[oa];for(var kb=P,eb=this.options,Tb=0;Tb<Ha.length;Tb++)if(!Ha[Tb].test(kb)){Ha=!1;break a}if(kb.prerelease.length&&!eb.includePrerelease){for(eb=
0;eb<Ha.length;eb++)if(La(Ha[eb].semver),Ha[eb].semver!==Bb.ANY&&0<Ha[eb].semver.prerelease.length&&(Tb=Ha[eb].semver,Tb.major===kb.major&&Tb.minor===kb.minor&&Tb.patch===kb.patch)){Ha=!0;break a}Ha=!1}else Ha=!0}if(Ha)return!0}return!1};var Lc=Ad,Xc=db.re,Uc=db.t,Md=db.comparatorTrimReplace,Qd=db.tildeTrimReplace,fe=db.caretTrimReplace,Eb=function(P,oa){var Ha=!0;P=P.slice();for(var kb=P.pop();Ha&&P.length;)Ha=P.every(function(eb){return kb.intersects(eb,oa)}),kb=P.pop();return Ha},Rb=function(P){return!P||
"x"===P.toLowerCase()||"*"===P},mb=function(P,oa){return P.trim().split(/\s+/).map(function(Ha){return rc(Ha,oa)}).join(" ")},rc=function(P,oa){return P.replace(oa.loose?Xc[Uc.TILDELOOSE]:Xc[Uc.TILDE],function(Ha,kb,eb,Tb,hc){La("tilde",P,Ha,kb,eb,Tb,hc);Rb(kb)?Ha="":Rb(eb)?Ha="\x3e\x3d"+kb+".0.0 \x3c"+(+kb+1)+".0.0-0":Rb(Tb)?Ha="\x3e\x3d"+kb+"."+eb+".0 \x3c"+kb+"."+(+eb+1)+".0-0":hc?(La("replaceTilde pr",hc),Ha="\x3e\x3d"+kb+"."+eb+"."+Tb+"-"+hc+" \x3c"+kb+"."+(+eb+1)+".0-0"):Ha="\x3e\x3d"+kb+"."+
eb+"."+Tb+" \x3c"+kb+"."+(+eb+1)+".0-0";La("tilde return",Ha);return Ha})},Cc=function(P,oa){return P.trim().split(/\s+/).map(function(Ha){return Rc(Ha,oa)}).join(" ")},Rc=function(P,oa){La("caret",P,oa);var Ha=oa.includePrerelease?"-0":"";return P.replace(oa.loose?Xc[Uc.CARETLOOSE]:Xc[Uc.CARET],function(kb,eb,Tb,hc,xc){La("caret",P,kb,eb,Tb,hc,xc);Rb(eb)?kb="":Rb(Tb)?kb="\x3e\x3d"+eb+".0.0"+Ha+" \x3c"+(+eb+1)+".0.0-0":Rb(hc)?kb="0"===eb?"\x3e\x3d"+eb+"."+Tb+".0"+Ha+" \x3c"+eb+"."+(+Tb+1)+".0-0":
"\x3e\x3d"+eb+"."+Tb+".0"+Ha+" \x3c"+(+eb+1)+".0.0-0":xc?(La("replaceCaret pr",xc),kb="0"===eb?"0"===Tb?"\x3e\x3d"+eb+"."+Tb+"."+hc+"-"+xc+" \x3c"+eb+"."+Tb+"."+(+hc+1)+"-0":"\x3e\x3d"+eb+"."+Tb+"."+hc+"-"+xc+" \x3c"+eb+"."+(+Tb+1)+".0-0":"\x3e\x3d"+eb+"."+Tb+"."+hc+"-"+xc+" \x3c"+(+eb+1)+".0.0-0"):(La("no pr"),kb="0"===eb?"0"===Tb?"\x3e\x3d"+eb+"."+Tb+"."+hc+Ha+" \x3c"+eb+"."+Tb+"."+(+hc+1)+"-0":"\x3e\x3d"+eb+"."+Tb+"."+hc+Ha+" \x3c"+eb+"."+(+Tb+1)+".0-0":"\x3e\x3d"+eb+"."+Tb+"."+hc+" \x3c"+(+eb+
1)+".0.0-0");La("caret return",kb);return kb})},sd=function(P,oa){La("replaceXRanges",P,oa);return P.split(/\s+/).map(function(Ha){return I(Ha,oa)}).join(" ")},I=function(P,oa){P=P.trim();return P.replace(oa.loose?Xc[Uc.XRANGELOOSE]:Xc[Uc.XRANGE],function(Ha,kb,eb,Tb,hc,xc){La("xRange",P,Ha,kb,eb,Tb,hc,xc);var vc=Rb(eb),lc=vc||Rb(Tb);hc=lc||Rb(hc);"\x3d"===kb&&hc&&(kb="");xc=oa.includePrerelease?"-0":"";vc?Ha="\x3e"===kb||"\x3c"===kb?"\x3c0.0.0-0":"*":kb&&hc?(lc&&(Tb=0),hc=0,"\x3e"===kb?(kb="\x3e\x3d",
lc?(eb=+eb+1,Tb=0):Tb=+Tb+1,hc=0):"\x3c\x3d"===kb&&(kb="\x3c",lc?eb=+eb+1:Tb=+Tb+1),"\x3c"===kb&&(xc="-0"),Ha=kb+eb+"."+Tb+"."+hc+xc):lc?Ha="\x3e\x3d"+eb+".0.0"+xc+" \x3c"+(+eb+1)+".0.0-0":hc&&(Ha="\x3e\x3d"+eb+"."+Tb+".0"+xc+" \x3c"+eb+"."+(+Tb+1)+".0-0");La("xRange return",Ha);return Ha})},ma=function(P){return function(oa,Ha,kb,eb,Tb,hc,xc,vc,lc,ed,pd,Ed,md){Ha=Rb(kb)?"":Rb(eb)?"\x3e\x3d"+kb+".0.0"+(P?"-0":""):Rb(Tb)?"\x3e\x3d"+kb+"."+eb+".0"+(P?"-0":""):hc?"\x3e\x3d"+Ha:"\x3e\x3d"+Ha+(P?"-0":
"");vc=Rb(lc)?"":Rb(ed)?"\x3c"+(+lc+1)+".0.0-0":Rb(pd)?"\x3c"+lc+"."+(+ed+1)+".0-0":Ed?"\x3c\x3d"+lc+"."+ed+"."+pd+"-"+Ed:P?"\x3c"+lc+"."+ed+"."+(+pd+1)+"-0":"\x3c\x3d"+vc;return(Ha+" "+vc).trim()}},ib=Symbol("SemVer ANY"),nb=function(P,oa){oa&&"object"===typeof oa||(oa={loose:!!oa,includePrerelease:!1});if(P instanceof nb){if(P.loose===!!oa.loose)return P;P=P.value}La("comparator",P,oa);this.options=oa;this.loose=!!oa.loose;this.parse(P);this.value=this.semver===ib?"":this.operator+this.semver.version;
La("comp",this)};nb.prototype.parse=function(P){var oa=P.match(this.options.loose?Ub[Xb.COMPARATORLOOSE]:Ub[Xb.COMPARATOR]);if(!oa)throw new TypeError("Invalid comparator: "+P);this.operator=void 0!==oa[1]?oa[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=oa[2]?new ea(oa[2],this.options.loose):ib};nb.prototype.toString=function(){return this.value};nb.prototype.test=function(P){La("Comparator.test",P,this.options.loose);if(this.semver===ib||P===ib)return!0;if("string"===typeof P)try{P=
new ea(P,this.options)}catch(oa){return!1}return Ic(P,this.operator,this.semver,this.options)};nb.prototype.intersects=function(P,oa){if(!(P instanceof nb))throw new TypeError("a Comparator is required");oa&&"object"===typeof oa||(oa={loose:!!oa,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new Lc(P.value,oa)).test(this.value);if(""===P.operator)return""===P.value?!0:(new Lc(this.value,oa)).test(P.semver);var Ha=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===
P.operator||"\x3e"===P.operator),kb=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===P.operator||"\x3c"===P.operator),eb=this.semver.version===P.semver.version,Tb=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===P.operator||"\x3c\x3d"===P.operator),hc=Ic(this.semver,"\x3c",P.semver,oa)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===P.operator||"\x3c"===P.operator);P=Ic(this.semver,"\x3e",P.semver,oa)&&("\x3c\x3d"===this.operator||"\x3c"===
this.operator)&&("\x3e\x3d"===P.operator||"\x3e"===P.operator);return Ha||kb||eb&&Tb||hc||P};$jscomp.global.Object.defineProperties(nb,{ANY:{configurable:!0,enumerable:!0,get:function(){return ib}}});var Bb=nb,Ub=db.re,Xb=db.t,dc=function(P,oa,Ha){try{oa=new Lc(oa,Ha)}catch(kb){return!1}return oa.test(P)},Fc=Bb.ANY,Jc=function(P,oa,Ha,kb){P=new ea(P,kb);oa=new Lc(oa,kb);switch(Ha){case "\x3e":var eb=yb;Ha=Zb;var Tb=Ya;var hc="\x3e";var xc="\x3e\x3d";break;case "\x3c":eb=Ya;Ha=Qb;Tb=yb;hc="\x3c";xc=
"\x3c\x3d";break;default:throw new TypeError('Must provide a hilo val of "\x3c" or "\x3e"');}if(dc(P,oa,kb))return!1;for(var vc={},lc=0;lc<oa.set.length;vc={$jscomp$loop$prop$high$750:vc.$jscomp$loop$prop$high$750,$jscomp$loop$prop$low$751:vc.$jscomp$loop$prop$low$751},++lc){var ed=oa.set[lc];vc.$jscomp$loop$prop$high$750=null;vc.$jscomp$loop$prop$low$751=null;ed.forEach(function(pd){return function(Ed){Ed.semver===Fc&&(Ed=new Bb("\x3e\x3d0.0.0"));pd.$jscomp$loop$prop$high$750=pd.$jscomp$loop$prop$high$750||
Ed;pd.$jscomp$loop$prop$low$751=pd.$jscomp$loop$prop$low$751||Ed;eb(Ed.semver,pd.$jscomp$loop$prop$high$750.semver,kb)?pd.$jscomp$loop$prop$high$750=Ed:Tb(Ed.semver,pd.$jscomp$loop$prop$low$751.semver,kb)&&(pd.$jscomp$loop$prop$low$751=Ed)}}(vc));if(vc.$jscomp$loop$prop$high$750.operator===hc||vc.$jscomp$loop$prop$high$750.operator===xc||(!vc.$jscomp$loop$prop$low$751.operator||vc.$jscomp$loop$prop$low$751.operator===hc)&&Ha(P,vc.$jscomp$loop$prop$low$751.semver)||vc.$jscomp$loop$prop$low$751.operator===
xc&&Tb(P,vc.$jscomp$loop$prop$low$751.semver))return!1}return!0},Da=Bb.ANY,Ma=function(P,oa,Ha){if(1===P.length&&P[0].semver===Da)return 1===oa.length&&oa[0].semver===Da;var kb=new Set,eb,Tb,hc=$jscomp.makeIterator(P);for(P=hc.next();!P.done;P=hc.next())P=P.value,"\x3e"===P.operator||"\x3e\x3d"===P.operator?eb=Pb(eb,P,Ha):"\x3c"===P.operator||"\x3c\x3d"===P.operator?Tb=bc(Tb,P,Ha):kb.add(P.semver);if(1<kb.size)return null;if(eb&&Tb){var xc=Ta(eb.semver,Tb.semver,Ha);if(0<xc||0===xc&&("\x3e\x3d"!==
eb.operator||"\x3c\x3d"!==Tb.operator))return null}for(P=$jscomp.makeIterator(kb).next();!P.done;){xc=P.value;if(eb&&!dc(xc,String(eb),Ha)||Tb&&!dc(xc,String(Tb),Ha))return null;eb=$jscomp.makeIterator(oa);for(P=eb.next();!P.done;P=eb.next())if(!dc(xc,String(P.value),Ha))return!1;return!0}oa=$jscomp.makeIterator(oa);for(P=oa.next();!P.done;P=oa.next()){P=P.value;var vc=vc||"\x3e"===P.operator||"\x3e\x3d"===P.operator;var lc=lc||"\x3c"===P.operator||"\x3c\x3d"===P.operator;if(eb)if("\x3e"===P.operator||
"\x3e\x3d"===P.operator){if(kb=Pb(eb,P,Ha),kb===P)return!1}else if("\x3e\x3d"===eb.operator&&!dc(eb.semver,String(P),Ha))return!1;if(Tb)if("\x3c"===P.operator||"\x3c\x3d"===P.operator){if(kb=bc(Tb,P,Ha),kb===P)return!1}else if("\x3c\x3d"===Tb.operator&&!dc(Tb.semver,String(P),Ha))return!1;if(!P.operator&&(Tb||eb)&&0!==xc)return!1}return eb&&lc&&!Tb&&0!==xc||Tb&&vc&&!eb&&0!==xc?!1:!0},Pb=function(P,oa,Ha){if(!P)return oa;Ha=Ta(P.semver,oa.semver,Ha);return 0<Ha?P:0>Ha?oa:"\x3e"===oa.operator&&"\x3e\x3d"===
P.operator?oa:P},bc=function(P,oa,Ha){if(!P)return oa;Ha=Ta(P.semver,oa.semver,Ha);return 0>Ha?P:0<Ha?oa:"\x3c"===oa.operator&&"\x3c\x3d"===P.operator?oa:P},mc={re:db.re,src:db.src,tokens:db.t,SEMVER_SPEC_VERSION:"2.0.0",SemVer:ea,compareIdentifiers:S,rcompareIdentifiers:function(P,oa){return S(oa,P)},parse:Ja,valid:function(P,oa){return(P=Ja(P,oa))?P.version:null},clean:function(P,oa){return(P=Ja(P.trim().replace(/^[=v]+/,""),oa))?P.version:null},inc:function(P,oa,Ha,kb){"string"===typeof Ha&&(kb=
Ha,Ha=void 0);try{return(new ea(P,Ha)).inc(oa,kb).version}catch(eb){return null}},diff:function(P,oa){if(ya(P,oa))return null;P=Ja(P);oa=Ja(oa);var Ha=P.prerelease.length||oa.prerelease.length,kb=Ha?"pre":"",eb;for(eb in P)if(("major"===eb||"minor"===eb||"patch"===eb)&&P[eb]!==oa[eb])return kb+eb;return Ha?"prerelease":""},major:function(P,oa){return(new ea(P,oa)).major},minor:function(P,oa){return(new ea(P,oa)).minor},patch:function(P,oa){return(new ea(P,oa)).patch},prerelease:function(P,oa){return(P=
Ja(P,oa))&&P.prerelease.length?P.prerelease:null},compare:Ta,rcompare:function(P,oa,Ha){return Ta(oa,P,Ha)},compareLoose:function(P,oa){return Ta(P,oa,!0)},compareBuild:lb,sort:function(P,oa){return P.sort(function(Ha,kb){return lb(Ha,kb,oa)})},rsort:function(P,oa){return P.sort(function(Ha,kb){return lb(kb,Ha,oa)})},gt:yb,lt:Ya,eq:ya,neq:Ob,gte:Qb,lte:Zb,cmp:Ic,coerce:function(P,oa){if(P instanceof ea)return P;"number"===typeof P&&(P=String(P));if("string"!==typeof P)return null;oa=oa||{};var Ha=
null;if(oa.rtl){for(var kb;(kb=uc[Zc.COERCERTL].exec(P))&&(!Ha||Ha.index+Ha[0].length!==P.length);)Ha&&kb.index+kb[0].length===Ha.index+Ha[0].length||(Ha=kb),uc[Zc.COERCERTL].lastIndex=kb.index+kb[1].length+kb[2].length;uc[Zc.COERCERTL].lastIndex=-1}else Ha=P.match(uc[Zc.COERCE]);return null===Ha?null:Ja(Ha[2]+"."+(Ha[3]||"0")+"."+(Ha[4]||"0"),oa)},Comparator:Bb,Range:Lc,satisfies:dc,toComparators:function(P,oa){return(new Lc(P,oa)).set.map(function(Ha){return Ha.map(function(kb){return kb.value}).join(" ").trim().split(" ")})},
maxSatisfying:function(P,oa,Ha){var kb=null,eb=null,Tb=null;try{Tb=new Lc(oa,Ha)}catch(hc){return null}P.forEach(function(hc){!Tb.test(hc)||kb&&-1!==eb.compare(hc)||(kb=hc,eb=new ea(kb,Ha))});return kb},minSatisfying:function(P,oa,Ha){var kb=null,eb=null,Tb=null;try{Tb=new Lc(oa,Ha)}catch(hc){return null}P.forEach(function(hc){!Tb.test(hc)||kb&&1!==eb.compare(hc)||(kb=hc,eb=new ea(kb,Ha))});return kb},minVersion:function(P,oa){P=new Lc(P,oa);var Ha=new ea("0.0.0");if(P.test(Ha))return Ha;Ha=new ea("0.0.0-0");
if(P.test(Ha))return Ha;Ha=null;for(oa=0;oa<P.set.length;++oa)P.set[oa].forEach(function(kb){var eb=new ea(kb.semver.version);switch(kb.operator){case "\x3e":0===eb.prerelease.length?eb.patch++:eb.prerelease.push(0),eb.raw=eb.format();case "":case "\x3e\x3d":if(!Ha||yb(Ha,eb))Ha=eb;break;case "\x3c":case "\x3c\x3d":break;default:throw Error("Unexpected operation: "+kb.operator);}});return Ha&&P.test(Ha)?Ha:null},validRange:function(P,oa){try{return(new Lc(P,oa)).range||"*"}catch(Ha){return null}},
outside:Jc,gtr:function(P,oa,Ha){return Jc(P,oa,"\x3e",Ha)},ltr:function(P,oa,Ha){return Jc(P,oa,"\x3c",Ha)},intersects:function(P,oa,Ha){P=new Lc(P,Ha);oa=new Lc(oa,Ha);return P.intersects(oa)},simplifyRange:function(P,oa,Ha){var kb=[],eb=null,Tb=null;P=P.sort(function(vc,lc){return Ta(vc,lc,Ha)});for(var hc=$jscomp.makeIterator(P),xc=hc.next();!xc.done;xc=hc.next())xc=xc.value,dc(xc,oa,Ha)?(Tb=xc,eb||(eb=xc)):(Tb&&kb.push([eb,Tb]),eb=Tb=null);eb&&kb.push([eb,null]);eb=[];kb=$jscomp.makeIterator(kb);
for(Tb=kb.next();!Tb.done;Tb=kb.next())hc=$jscomp.makeIterator(Tb.value),Tb=hc.next().value,hc=hc.next().value,Tb===hc?eb.push(Tb):hc||Tb!==P[0]?hc?Tb===P[0]?eb.push("\x3c\x3d"+hc):eb.push(Tb+" - "+hc):eb.push("\x3e\x3d"+Tb):eb.push("*");P=eb.join(" || ");return P.length<("string"===typeof oa.raw?oa.raw:String(oa)).length?P:oa},subset:function(P,oa,Ha){P=new Lc(P,Ha);oa=new Lc(oa,Ha);var kb=!1;P=$jscomp.makeIterator(P.set);var eb=P.next();a:for(;!eb.done;eb=P.next()){eb=eb.value;for(var Tb=$jscomp.makeIterator(oa.set),
hc=Tb.next();!hc.done;hc=Tb.next())if(hc=Ma(eb,hc.value,Ha),kb=kb||null!==hc,hc)continue a;if(kb)return!1}return!0}},Dc={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},Kc={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),
"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),
"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11",
"#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),
"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")},Hb=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,
size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,
titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:Dc["category-6"],diverging:Dc["fireandice-6"],heatmap:Dc["fire-7"],ordinal:Dc["fire-7"],ramp:Dc["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Kc["six-groups-cat-1"],diverging:Kc["diverging-colors"],heatmap:Kc["diverging-colors"],ordinal:Kc["six-groups-seq"],ramp:Kc["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.9.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},
axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}}),Wb=function(P){return function(oa){return oa[P]}},sc=function(P){var oa=P.length;return function(Ha){for(var kb=0;kb<oa;++kb)Ha=Ha[P[kb]];return Ha}};(function(P,oa,Ha){var kb=pa(P);P=1===kb.length?kb[0]:P;return xa((Ha&&Ha.get||fa)(kb),[P],oa||P)})("id");xa(function(P){return P},[],"identity");
xa(function(){return 0},[],"zero");xa(function(){return 1},[],"one");xa(function(){return!0},[],"true");xa(function(){return!1},[],"false");var pc=Array.isArray,tc={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(P){return String(P).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2},Wc=function(P){this.options=Object.assign(Object.assign({},tc),P);P=this.options.id;this.call=this.tooltipHandler.bind(this);
if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){var oa=document.createElement("style");oa.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(P))throw Error("Invalid HTML ID");var Ha="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
P);oa.innerHTML=Ha;Ha=document.head;0<Ha.childNodes.length?Ha.insertBefore(oa,Ha.childNodes[0]):Ha.appendChild(oa)}this.el=document.getElementById(P);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",P),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))};Wc.prototype.tooltipHandler=function(P,oa,Ha,kb){if(null==kb||""===kb)this.el.classList.remove("visible",this.options.theme+"-theme");else{this.el.innerHTML=ua(kb,this.options.sanitize,this.options.maxDepth);
this.el.classList.add("visible",this.options.theme+"-theme");P=this.el.getBoundingClientRect();var eb=this.options.offsetX;Ha=this.options.offsetY;kb=oa.clientX+eb;kb+P.width>window.innerWidth&&(kb=+oa.clientX-eb-P.width);eb=oa.clientY+Ha;eb+P.height>window.innerHeight&&(eb=+oa.clientY-Ha-P.height);this.el.setAttribute("style","top: "+eb+"px; left: "+kb+"px")}};String.prototype.startsWith||(String.prototype.startsWith=function(P,oa){return this.substr(!oa||0>oa?0:+oa,P.length)===P});var Kd,od=V,ld=
ia,wd="undefined"!==typeof window?window:void 0;void 0===ld&&(null===(Kd=null===wd||void 0===wd?void 0:wd.vl)||void 0===Kd?0:Kd.compile)&&(ld=wd.vl);var Rd={"export":{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Hd={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},ce={vega:"Vega","vega-lite":"Vega-Lite"},ke={vega:od.version,"vega-lite":ld?ld.version:
"not available"},Ke={vega:function(P){return P},"vega-lite":function(P,oa){return ld.compile(P,{config:oa}).spec}},Zd=function(){for(var P=[],oa=0;oa<arguments.length;oa++)P[oa]=arguments[oa];if(oa=1<P.length){if(oa=m.isString(P[0]))oa=P[0],oa=!(oa.startsWith("http://")||oa.startsWith("https://")||oa.startsWith("//"));oa=oa||P[0]instanceof HTMLElement||3===P.length}return oa?y(P[0],P[1],P[2]):J(P[0],P[1])};Zd.vegaLite=ld;Zd.vl=ld;Zd.container=J;Zd.embed=y;Zd.vega=od;Zd["default"]=y;Zd.version="6.12.2";
return Zd})};
shadow$provide[55]=function(Ib,xb,gc,vb){var h=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;gc.exports=function(){try{if(!Object.assign)return!1;var Wa=new String("abc");Wa[5]="de";if("5"===Object.getOwnPropertyNames(Wa)[0])return!1;var Gb={};for(Wa=0;10>Wa;Wa++)Gb["_"+String.fromCharCode(Wa)]=Wa;if("0123456789"!==Object.getOwnPropertyNames(Gb).map(function(wb){return Gb[wb]}).join(""))return!1;var gb={};"abcdefghijklmnopqrst".split("").forEach(function(wb){gb[wb]=
wb});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},gb)).join("")?!1:!0}catch(wb){return!1}}()?Object.assign:function(Wa,Gb){if(null===Wa||void 0===Wa)throw new TypeError("Object.assign cannot be called with null or undefined");var gb=Object(Wa);for(var wb,Lb=1;Lb<arguments.length;Lb++){var rb=Object(arguments[Lb]);for(var Ua in rb)m.call(rb,Ua)&&(gb[Ua]=rb[Ua]);if(h){wb=h(rb);for(var Sa=0;Sa<wb.length;Sa++)x.call(rb,wb[Sa])&&(gb[wb[Sa]]=rb[wb[Sa]])}}return gb}};
shadow$provide[56]=function(Ib,xb,gc,vb){function h(ja){if(null===ja||"object"!==typeof ja)return null;ja=xa&&ja[xa]||ja["@@iterator"];return"function"===typeof ja?ja:null}function m(ja){for(var u="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+ja,y=1;y<arguments.length;y++)u+="\x26args[]\x3d"+encodeURIComponent(arguments[y]);return"Minified React error #"+ja+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(ja,
u,y){this.props=ja;this.context=u;this.refs=pa;this.updater=y||fa}function Wa(){}function Gb(ja,u,y){this.props=ja;this.context=u;this.refs=pa;this.updater=y||fa}function gb(ja,u,y){var z,D={},C=null,J=null;if(null!=u)for(z in void 0!==u.ref&&(J=u.ref),void 0!==u.key&&(C=""+u.key),u)ua.call(u,z)&&!Ia.hasOwnProperty(z)&&(D[z]=u[z]);var V=arguments.length-2;if(1===V)D.children=y;else if(1<V){for(var ia=Array(V),Pa=0;Pa<V;Pa++)ia[Pa]=arguments[Pa+2];D.children=ia}if(ja&&ja.defaultProps)for(z in V=ja.defaultProps,
V)void 0===D[z]&&(D[z]=V[z]);return{$$typeof:Ba,type:ja,key:C,ref:J,props:D,_owner:da.current}}function wb(ja,u){return{$$typeof:Ba,type:ja.type,key:u,ref:ja.ref,props:ja.props,_owner:ja._owner}}function Lb(ja){return"object"===typeof ja&&null!==ja&&ja.$$typeof===Ba}function rb(ja){var u={"\x3d":"\x3d0",":":"\x3d2"};return"$"+ja.replace(/[=:]/g,function(y){return u[y]})}function Ua(ja,u){return"object"===typeof ja&&null!==ja&&null!=ja.key?rb(""+ja.key):u.toString(36)}function Sa(ja,u,y,z,D){var C=
typeof ja;if("undefined"===C||"boolean"===C)ja=null;var J=!1;if(null===ja)J=!0;else switch(C){case "string":case "number":J=!0;break;case "object":switch(ja.$$typeof){case Ba:case Qa:J=!0}}if(J)return J=ja,D=D(J),ja=""===z?"."+Ua(J,0):z,Array.isArray(D)?(y="",null!=ja&&(y=ja.replace(wa,"$\x26/")+"/"),Sa(D,u,y,"",function(Pa){return Pa})):null!=D&&(Lb(D)&&(D=wb(D,y+(!D.key||J&&J.key===D.key?"":(""+D.key).replace(wa,"$\x26/")+"/")+ja)),u.push(D)),1;J=0;z=""===z?".":z+":";if(Array.isArray(ja))for(var V=
0;V<ja.length;V++){C=ja[V];var ia=z+Ua(C,V);J+=Sa(C,u,y,ia,D)}else if(ia=h(ja),"function"===typeof ia)for(ja=ia.call(ja),V=0;!(C=ja.next()).done;)C=C.value,ia=z+Ua(C,V++),J+=Sa(C,u,y,ia,D);else if("object"===C)throw u=""+ja,Error(m(31,"[object Object]"===u?"object with keys {"+Object.keys(ja).join(", ")+"}":u));return J}function ab(ja,u,y){if(null==ja)return ja;var z=[],D=0;Sa(ja,z,"","",function(C){return u.call(y,C,D++)});return z}function za(ja){if(-1===ja._status){var u=ja._result;u=u();ja._status=
0;ja._result=u;u.then(function(y){0===ja._status&&(y=y.default,ja._status=1,ja._result=y)},function(y){0===ja._status&&(ja._status=2,ja._result=y)})}if(1===ja._status)return ja._result;throw ja._result;}function Y(){var ja=$a.current;if(null===ja)throw Error(m(321));return ja}var na=xb(55),Ba=60103,Qa=60106;vb.Fragment=60107;vb.StrictMode=60108;vb.Profiler=60114;var ca=60109,Z=60110,Oa=60112;vb.Suspense=60113;var Aa=60115,va=60116;"function"===typeof Symbol&&Symbol.for&&(Ib=Symbol.for,Ba=Ib("react.element"),
Qa=Ib("react.portal"),vb.Fragment=Ib("react.fragment"),vb.StrictMode=Ib("react.strict_mode"),vb.Profiler=Ib("react.profiler"),ca=Ib("react.provider"),Z=Ib("react.context"),Oa=Ib("react.forward_ref"),vb.Suspense=Ib("react.suspense"),Aa=Ib("react.memo"),va=Ib("react.lazy"));var xa="function"===typeof Symbol&&Symbol.iterator,fa={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pa={};x.prototype.isReactComponent={};x.prototype.setState=
function(ja,u){if("object"!==typeof ja&&"function"!==typeof ja&&null!=ja)throw Error(m(85));this.updater.enqueueSetState(this,ja,u,"setState")};x.prototype.forceUpdate=function(ja){this.updater.enqueueForceUpdate(this,ja,"forceUpdate")};Wa.prototype=x.prototype;Ib=Gb.prototype=new Wa;Ib.constructor=Gb;na(Ib,x.prototype);Ib.isPureReactComponent=!0;var da={current:null},ua=Object.prototype.hasOwnProperty,Ia={key:!0,ref:!0,__self:!0,__source:!0},wa=/\/+/g,$a={current:null};Ib={ReactCurrentDispatcher:$a,
ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:da,IsSomeRendererActing:{current:!1},assign:na};vb.Children={map:ab,forEach:function(ja,u,y){ab(ja,function(){u.apply(this,arguments)},y)},count:function(ja){var u=0;ab(ja,function(){u++});return u},toArray:function(ja){return ab(ja,function(u){return u})||[]},only:function(ja){if(!Lb(ja))throw Error(m(143));return ja}};vb.Component=x;vb.PureComponent=Gb;vb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ib;vb.cloneElement=function(ja,u,
y){if(null===ja||void 0===ja)throw Error(m(267,ja));var z=na({},ja.props),D=ja.key,C=ja.ref,J=ja._owner;if(null!=u){void 0!==u.ref&&(C=u.ref,J=da.current);void 0!==u.key&&(D=""+u.key);if(ja.type&&ja.type.defaultProps)var V=ja.type.defaultProps;for(ia in u)ua.call(u,ia)&&!Ia.hasOwnProperty(ia)&&(z[ia]=void 0===u[ia]&&void 0!==V?V[ia]:u[ia])}var ia=arguments.length-2;if(1===ia)z.children=y;else if(1<ia){V=Array(ia);for(var Pa=0;Pa<ia;Pa++)V[Pa]=arguments[Pa+2];z.children=V}return{$$typeof:Ba,type:ja.type,
key:D,ref:C,props:z,_owner:J}};vb.createContext=function(ja,u){void 0===u&&(u=null);ja={$$typeof:Z,_calculateChangedBits:u,_currentValue:ja,_currentValue2:ja,_threadCount:0,Provider:null,Consumer:null};ja.Provider={$$typeof:ca,_context:ja};return ja.Consumer=ja};vb.createElement=gb;vb.createFactory=function(ja){var u=gb.bind(null,ja);u.type=ja;return u};vb.createRef=function(){return{current:null}};vb.forwardRef=function(ja){return{$$typeof:Oa,render:ja}};vb.isValidElement=Lb;vb.lazy=function(ja){return{$$typeof:va,
_payload:{_status:-1,_result:ja},_init:za}};vb.memo=function(ja,u){return{$$typeof:Aa,type:ja,compare:void 0===u?null:u}};vb.useCallback=function(ja,u){return Y().useCallback(ja,u)};vb.useContext=function(ja,u){return Y().useContext(ja,u)};vb.useDebugValue=function(){};vb.useEffect=function(ja,u){return Y().useEffect(ja,u)};vb.useImperativeHandle=function(ja,u,y){return Y().useImperativeHandle(ja,u,y)};vb.useLayoutEffect=function(ja,u){return Y().useLayoutEffect(ja,u)};vb.useMemo=function(ja,u){return Y().useMemo(ja,
u)};vb.useReducer=function(ja,u,y){return Y().useReducer(ja,u,y)};vb.useRef=function(ja){return Y().useRef(ja)};vb.useState=function(ja){return Y().useState(ja)};vb.version="17.0.2"};
shadow$provide[58]=function(Ib,xb,gc,vb){gc.exports=xb(56)};
shadow$provide[59]=function(Ib,xb,gc,vb){function h(y,z){var D=y.length;y.push(z);a:for(;;){var C=D-1>>>1,J=y[C];if(void 0!==J&&0<Wa(J,z))y[C]=z,y[D]=J,D=C;else break a}}function m(y){y=y[0];return void 0===y?null:y}function x(y){var z=y[0];if(void 0!==z){var D=y.pop();if(D!==z){y[0]=D;var C=0,J=y.length;a:for(;C<J;){var V=2*(C+1)-1,ia=y[V],Pa=V+1,cb=y[Pa];if(void 0!==ia&&0>Wa(ia,D))void 0!==cb&&0>Wa(cb,ia)?(y[C]=cb,y[Pa]=D,C=Pa):(y[C]=ia,y[V]=D,C=V);else if(void 0!==cb&&0>Wa(cb,D))y[C]=cb,y[Pa]=
D,C=Pa;else break a}}return z}return null}function Wa(y,z){var D=y.sortIndex-z.sortIndex;return 0!==D?D:y.id-z.id}function Gb(y){for(var z=m(da);null!==z;){if(null===z.callback)x(da);else if(z.startTime<=y)x(da),z.sortIndex=z.expirationTime,h(pa,z);else break;z=m(da)}}function gb(y){u=!1;Gb(y);if(!ja)if(null!==m(pa))ja=!0,Y(wb);else{var z=m(da);null!==z&&na(gb,z.startTime-y)}}function wb(y,z){ja=!1;u&&(u=!1,Ba());$a=!0;var D=wa;try{Gb(z);for(Ia=m(pa);null!==Ia&&(!(Ia.expirationTime>z)||y&&!vb.unstable_shouldYield());){var C=
Ia.callback;if("function"===typeof C){Ia.callback=null;wa=Ia.priorityLevel;var J=C(Ia.expirationTime<=z);z=vb.unstable_now();"function"===typeof J?Ia.callback=J:Ia===m(pa)&&x(pa);Gb(z)}else x(pa);Ia=m(pa)}if(null!==Ia)var V=!0;else{var ia=m(da);null!==ia&&na(gb,ia.startTime-z);V=!1}return V}finally{Ia=null,wa=D,$a=!1}}if("object"===typeof performance&&"function"===typeof performance.now){var Lb=performance;vb.unstable_now=function(){return Lb.now()}}else{var rb=Date,Ua=rb.now();vb.unstable_now=function(){return rb.now()-
Ua}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var Sa=null,ab=null,za=function(){if(null!==Sa)try{var y=vb.unstable_now();Sa(!0,y);Sa=null}catch(z){throw setTimeout(za,0),z;}};var Y=function(y){null!==Sa?setTimeout(Y,0,y):(Sa=y,setTimeout(za,0))};var na=function(y,z){ab=setTimeout(y,z)};var Ba=function(){clearTimeout(ab)};vb.unstable_shouldYield=function(){return!1};Ib=vb.unstable_forceFrameRate=function(){}}else{var Qa=window.setTimeout,ca=window.clearTimeout;"undefined"!==
typeof console&&(Ib=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof Ib&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"));var Z=!1,Oa=null,Aa=-1,va=5,xa=0;vb.unstable_shouldYield=
function(){return vb.unstable_now()>=xa};Ib=function(){};vb.unstable_forceFrameRate=function(y){0>y||125<y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):va=0<y?Math.floor(1E3/y):5};xb=new MessageChannel;var fa=xb.port2;xb.port1.onmessage=function(){if(null!==Oa){var y=vb.unstable_now();xa=y+va;try{Oa(!0,y)?fa.postMessage(null):(Z=!1,Oa=null)}catch(z){throw fa.postMessage(null),z;}}else Z=!1};Y=function(y){Oa=y;Z||(Z=
!0,fa.postMessage(null))};na=function(y,z){Aa=Qa(function(){y(vb.unstable_now())},z)};Ba=function(){ca(Aa);Aa=-1}}var pa=[],da=[],ua=1,Ia=null,wa=3,$a=!1,ja=!1,u=!1;vb.unstable_IdlePriority=5;vb.unstable_ImmediatePriority=1;vb.unstable_LowPriority=4;vb.unstable_NormalPriority=3;vb.unstable_Profiling=null;vb.unstable_UserBlockingPriority=2;vb.unstable_cancelCallback=function(y){y.callback=null};vb.unstable_continueExecution=function(){ja||$a||(ja=!0,Y(wb))};vb.unstable_getCurrentPriorityLevel=function(){return wa};
vb.unstable_getFirstCallbackNode=function(){return m(pa)};vb.unstable_next=function(y){switch(wa){case 1:case 2:case 3:var z=3;break;default:z=wa}var D=wa;wa=z;try{return y()}finally{wa=D}};vb.unstable_pauseExecution=function(){};vb.unstable_requestPaint=Ib;vb.unstable_runWithPriority=function(y,z){switch(y){case 1:case 2:case 3:case 4:case 5:break;default:y=3}var D=wa;wa=y;try{return z()}finally{wa=D}};vb.unstable_scheduleCallback=function(y,z,D){var C=vb.unstable_now();"object"===typeof D&&null!==
D?(D=D.delay,D="number"===typeof D&&0<D?C+D:C):D=C;switch(y){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1E4;break;default:J=5E3}J=D+J;y={id:ua++,callback:z,priorityLevel:y,startTime:D,expirationTime:J,sortIndex:-1};D>C?(y.sortIndex=D,h(da,y),null===m(pa)&&y===m(da)&&(u?Ba():u=!0,na(gb,D-C))):(y.sortIndex=J,h(pa,y),ja||$a||(ja=!0,Y(wb)));return y};vb.unstable_wrapCallback=function(y){var z=wa;return function(){var D=wa;wa=z;try{return y.apply(this,arguments)}finally{wa=
D}}}};
shadow$provide[61]=function(Ib,xb,gc,vb){gc.exports=xb(59)};
shadow$provide[62]=function(Ib,xb,gc,vb){function h(d){for(var g="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+d,n=1;n<arguments.length;n++)g+="\x26args[]\x3d"+encodeURIComponent(arguments[n]);return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(d,g){x(d,g);x(d+"Capture",g)}function x(d,g){Vh[d]=g;for(d=0;d<g.length;d++)Th.add(g[d])}function Wa(d){if(cl.call(Xg,d))return!0;
if(cl.call(Ti,d))return!1;if(Jg.test(d))return Xg[d]=!0;Ti[d]=!0;return!1}function Gb(d,g,n,N){if(null!==n&&0===n.type)return!1;switch(typeof g){case "function":case "symbol":return!0;case "boolean":if(N)return!1;if(null!==n)return!n.acceptsBooleans;d=d.toLowerCase().slice(0,5);return"data-"!==d&&"aria-"!==d;default:return!1}}function gb(d,g,n,N){if(null===g||"undefined"===typeof g||Gb(d,g,n,N))return!0;if(N)return!1;if(null!==n)switch(n.type){case 3:return!g;case 4:return!1===g;case 5:return isNaN(g);
case 6:return isNaN(g)||1>g}return!1}function wb(d,g,n,N,ra,Za,tb){this.acceptsBooleans=2===g||3===g||4===g;this.attributeName=N;this.attributeNamespace=ra;this.mustUseProperty=n;this.propertyName=d;this.type=g;this.sanitizeURL=Za;this.removeEmptyString=tb}function Lb(d){return d[1].toUpperCase()}function rb(d,g,n,N){var ra=Mf.hasOwnProperty(g)?Mf[g]:null;(null!==ra?0===ra.type:N?0:2<g.length&&("o"===g[0]||"O"===g[0])&&("n"===g[1]||"N"===g[1]))||(gb(g,n,ra,N)&&(n=null),N||null===ra?Wa(g)&&(null===
n?d.removeAttribute(g):d.setAttribute(g,""+n)):ra.mustUseProperty?d[ra.propertyName]=null===n?3===ra.type?!1:"":n:(g=ra.attributeName,N=ra.attributeNamespace,null===n?d.removeAttribute(g):(ra=ra.type,n=3===ra||4===ra&&!0===n?"":""+n,N?d.setAttributeNS(N,g,n):d.setAttribute(g,n))))}function Ua(d){if(null===d||"object"!==typeof d)return null;d=mf&&d[mf]||d["@@iterator"];return"function"===typeof d?d:null}function Sa(d){if(void 0===Bj)try{throw Error();}catch(n){var g=n.stack.trim().match(/\n( *(at )?)/);
Bj=g&&g[1]||""}return"\n"+Bj+d}function ab(d,g){if(!d||fk)return"";fk=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error();},Object.defineProperty(g.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(g,[])}catch(ec){var N=ec}Reflect.construct(d,[],g)}else{try{g.call()}catch(ec){N=ec}d.call(g.prototype)}else{try{throw Error();}catch(ec){N=ec}d()}}catch(ec){if(ec&&N&&"string"===typeof ec.stack){for(var ra=
ec.stack.split("\n"),Za=N.stack.split("\n"),tb=ra.length-1,Jb=Za.length-1;1<=tb&&0<=Jb&&ra[tb]!==Za[Jb];)Jb--;for(;1<=tb&&0<=Jb;tb--,Jb--)if(ra[tb]!==Za[Jb]){if(1!==tb||1!==Jb){do if(tb--,Jb--,0>Jb||ra[tb]!==Za[Jb])return"\n"+ra[tb].replace(" at new "," at ");while(1<=tb&&0<=Jb)}break}}}finally{fk=!1,Error.prepareStackTrace=n}return(d=d?d.displayName||d.name:"")?Sa(d):""}function za(d){switch(d.tag){case 5:return Sa(d.type);case 16:return Sa("Lazy");case 13:return Sa("Suspense");case 19:return Sa("SuspenseList");
case 0:case 2:case 15:return d=ab(d.type,!1),d;case 11:return d=ab(d.type.render,!1),d;case 22:return d=ab(d.type._render,!1),d;case 1:return d=ab(d.type,!0),d;default:return""}}function Y(d){if(null==d)return null;if("function"===typeof d)return d.displayName||d.name||null;if("string"===typeof d)return d;switch(d){case jh:return"Fragment";case Yg:return"Portal";case xi:return"Profiler";case Ui:return"StrictMode";case Xh:return"Suspense";case Tf:return"SuspenseList"}if("object"===typeof d)switch(d.$$typeof){case yj:return(d.displayName||
"Context")+".Consumer";case Vi:return(d._context.displayName||"Context")+".Provider";case zj:var g=d.render;g=g.displayName||g.name||"";return d.displayName||(""!==g?"ForwardRef("+g+")":"ForwardRef");case Wi:return Y(d.type);case Yh:return Y(d._render);case Xi:g=d._payload;d=d._init;try{return Y(d(g))}catch(n){}}return null}function na(d){switch(typeof d){case "boolean":case "number":case "object":case "string":case "undefined":return d;default:return""}}function Ba(d){var g=d.type;return(d=d.nodeName)&&
"input"===d.toLowerCase()&&("checkbox"===g||"radio"===g)}function Qa(d){var g=Ba(d)?"checked":"value",n=Object.getOwnPropertyDescriptor(d.constructor.prototype,g),N=""+d[g];if(!d.hasOwnProperty(g)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var ra=n.get,Za=n.set;Object.defineProperty(d,g,{configurable:!0,get:function(){return ra.call(this)},set:function(tb){N=""+tb;Za.call(this,tb)}});Object.defineProperty(d,g,{enumerable:n.enumerable});return{getValue:function(){return N},
setValue:function(tb){N=""+tb},stopTracking:function(){d._valueTracker=null;delete d[g]}}}}function ca(d){d._valueTracker||(d._valueTracker=Qa(d))}function Z(d){if(!d)return!1;var g=d._valueTracker;if(!g)return!0;var n=g.getValue(),N="";d&&(N=Ba(d)?d.checked?"true":"false":d.value);d=N;return d!==n?(g.setValue(d),!0):!1}function Oa(d){d=d||("undefined"!==typeof document?document:void 0);if("undefined"===typeof d)return null;try{return d.activeElement||d.body}catch(g){return d.body}}function Aa(d,
g){var n=g.checked;return rf({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:d._wrapperState.initialChecked})}function va(d,g){var n=null==g.defaultValue?"":g.defaultValue,N=null!=g.checked?g.checked:g.defaultChecked;n=na(null!=g.value?g.value:n);d._wrapperState={initialChecked:N,initialValue:n,controlled:"checkbox"===g.type||"radio"===g.type?null!=g.checked:null!=g.value}}function xa(d,g){g=g.checked;null!=g&&rb(d,"checked",g,!1)}function fa(d,g){xa(d,g);var n=na(g.value),
N=g.type;if(null!=n)if("number"===N){if(0===n&&""===d.value||d.value!=n)d.value=""+n}else d.value!==""+n&&(d.value=""+n);else if("submit"===N||"reset"===N){d.removeAttribute("value");return}g.hasOwnProperty("value")?da(d,g.type,n):g.hasOwnProperty("defaultValue")&&da(d,g.type,na(g.defaultValue));null==g.checked&&null!=g.defaultChecked&&(d.defaultChecked=!!g.defaultChecked)}function pa(d,g,n){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var N=g.type;if(!("submit"!==N&&"reset"!==
N||void 0!==g.value&&null!==g.value))return;g=""+d._wrapperState.initialValue;n||g===d.value||(d.value=g);d.defaultValue=g}n=d.name;""!==n&&(d.name="");d.defaultChecked=!!d._wrapperState.initialChecked;""!==n&&(d.name=n)}function da(d,g,n){if("number"!==g||Oa(d.ownerDocument)!==d)null==n?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+n&&(d.defaultValue=""+n)}function ua(d){var g="";Si.Children.forEach(d,function(n){null!=n&&(g+=n)});return g}function Ia(d,g){d=rf({children:void 0},
g);if(g=ua(g.children))d.children=g;return d}function wa(d,g,n,N){d=d.options;if(g){g={};for(var ra=0;ra<n.length;ra++)g["$"+n[ra]]=!0;for(n=0;n<d.length;n++)ra=g.hasOwnProperty("$"+d[n].value),d[n].selected!==ra&&(d[n].selected=ra),ra&&N&&(d[n].defaultSelected=!0)}else{n=""+na(n);g=null;for(ra=0;ra<d.length;ra++){if(d[ra].value===n){d[ra].selected=!0;N&&(d[ra].defaultSelected=!0);return}null!==g||d[ra].disabled||(g=d[ra])}null!==g&&(g.selected=!0)}}function $a(d,g){if(null!=g.dangerouslySetInnerHTML)throw Error(h(91));
return rf({},g,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function ja(d,g){var n=g.value;if(null==n){n=g.children;g=g.defaultValue;if(null!=n){if(null!=g)throw Error(h(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(h(93));n=n[0]}g=n}null==g&&(g="");n=g}d._wrapperState={initialValue:na(n)}}function u(d,g){var n=na(g.value),N=na(g.defaultValue);null!=n&&(n=""+n,n!==d.value&&(d.value=n),null==g.defaultValue&&d.defaultValue!==n&&(d.defaultValue=n));null!=N&&
(d.defaultValue=""+N)}function y(d){var g=d.textContent;g===d._wrapperState.initialValue&&""!==g&&null!==g&&(d.value=g)}function z(d){switch(d){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function D(d,g){return null==d||"http://www.w3.org/1999/xhtml"===d?z(g):"http://www.w3.org/2000/svg"===d&&"foreignObject"===g?"http://www.w3.org/1999/xhtml":d}function C(d,g){if(g){var n=d.firstChild;if(n&&n===
d.lastChild&&3===n.nodeType){n.nodeValue=g;return}}d.textContent=g}function J(d,g,n){return null==g||"boolean"===typeof g||""===g?"":n||"number"!==typeof g||0===g||Lg.hasOwnProperty(d)&&Lg[d]?(""+g).trim():g+"px"}function V(d,g){d=d.style;for(var n in g)if(g.hasOwnProperty(n)){var N=0===n.indexOf("--"),ra=J(n,g[n],N);"float"===n&&(n="cssFloat");N?d.setProperty(n,ra):d[n]=ra}}function ia(d,g){if(g){if(Ul[d]&&(null!=g.children||null!=g.dangerouslySetInnerHTML))throw Error(h(137,d));if(null!=g.dangerouslySetInnerHTML){if(null!=
g.children)throw Error(h(60));if(!("object"===typeof g.dangerouslySetInnerHTML&&"__html"in g.dangerouslySetInnerHTML))throw Error(h(61));}if(null!=g.style&&"object"!==typeof g.style)throw Error(h(62));}}function Pa(d,g){if(-1===d.indexOf("-"))return"string"===typeof g.is;switch(d){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;default:return!0}}function cb(d){d=d.target||
d.srcElement||window;d.correspondingUseElement&&(d=d.correspondingUseElement);return 3===d.nodeType?d.parentNode:d}function M(d){if(d=Ed(d)){if("function"!==typeof Yi)throw Error(h(280));var g=d.stateNode;g&&(g=le(g),Yi(d.stateNode,d.type,g))}}function Ka(d){$h?ai?ai.push(d):ai=[d]:$h=d}function ka(){if($h){var d=$h,g=ai;ai=$h=null;M(d);if(g)for(d=0;d<g.length;d++)M(g[d])}}function ha(d,g){return d(g)}function w(d,g,n,N,ra){return d(g,n,N,ra)}function H(){}function p(){if(null!==$h||null!==ai)H(),
ka()}function q(d,g,n){if(ti)return d(g,n);ti=!0;try{return bk(d,g,n)}finally{ti=!1,p()}}function t(d,g){var n=d.stateNode;if(null===n)return null;var N=le(n);if(null===N)return null;n=N[g];a:switch(g){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(N=!N.disabled)||(d=d.type,N=!("button"===d||"input"===d||"select"===
d||"textarea"===d));d=!N;break a;default:d=!1}if(d)return null;if(n&&"function"!==typeof n)throw Error(h(231,g,typeof n));return n}function G(d,g,n,N,ra,Za,tb,Jb,ec){var Qc=Array.prototype.slice.call(arguments,3);try{g.apply(n,Qc)}catch(Od){this.onError(Od)}}function L(d,g,n,N,ra,Za,tb,Jb,ec){kh=!1;Zi=null;G.apply(Vl,arguments)}function ba(d,g,n,N,ra,Za,tb,Jb,ec){L.apply(this,arguments);if(kh){if(kh){var Qc=Zi;kh=!1;Zi=null}else throw Error(h(198));Dj||(Dj=!0,Ej=Qc)}}function Ga(d){var g=d,n=d;if(d.alternate)for(;g.return;)g=
g.return;else{d=g;do g=d,0!==(g.flags&1026)&&(n=g.return),d=g.return;while(d)}return 3===g.tag?n:null}function La(d){if(13===d.tag){var g=d.memoizedState;null===g&&(d=d.alternate,null!==d&&(g=d.memoizedState));if(null!==g)return g.dehydrated}return null}function db(d){if(Ga(d)!==d)throw Error(h(188));}function sb(d){var g=d.alternate;if(!g){g=Ga(d);if(null===g)throw Error(h(188));return g!==d?null:d}for(var n=d,N=g;;){var ra=n.return;if(null===ra)break;var Za=ra.alternate;if(null===Za){N=ra.return;
if(null!==N){n=N;continue}break}if(ra.child===Za.child){for(Za=ra.child;Za;){if(Za===n)return db(ra),d;if(Za===N)return db(ra),g;Za=Za.sibling}throw Error(h(188));}if(n.return!==N.return)n=ra,N=Za;else{for(var tb=!1,Jb=ra.child;Jb;){if(Jb===n){tb=!0;n=ra;N=Za;break}if(Jb===N){tb=!0;N=ra;n=Za;break}Jb=Jb.sibling}if(!tb){for(Jb=Za.child;Jb;){if(Jb===n){tb=!0;n=Za;N=ra;break}if(Jb===N){tb=!0;N=Za;n=ra;break}Jb=Jb.sibling}if(!tb)throw Error(h(189));}}if(n.alternate!==N)throw Error(h(190));}if(3!==n.tag)throw Error(h(188));
return n.stateNode.current===n?d:g}function S(d){d=sb(d);if(!d)return null;for(var g=d;;){if(5===g.tag||6===g.tag)return g;if(g.child)g.child.return=g,g=g.child;else{if(g===d)break;for(;!g.sibling;){if(!g.return||g.return===d)return null;g=g.return}g.sibling.return=g.return;g=g.sibling}}return null}function aa(d,g){for(var n=d.alternate;null!==g;){if(g===d||g===n)return!0;g=g.return}return!1}function qa(d,g,n,N,ra){return{blockedOn:d,domEventName:g,eventSystemFlags:n|16,nativeEvent:ra,targetContainers:[N]}}
function ta(d,g){switch(d){case "focusin":case "focusout":Dh=null;break;case "dragenter":case "dragleave":Zg=null;break;case "mouseover":case "mouseout":lh=null;break;case "pointerover":case "pointerout":zi.delete(g.pointerId);break;case "gotpointercapture":case "lostpointercapture":Ai.delete(g.pointerId)}}function ea(d,g,n,N,ra,Za){if(null===d||d.nativeEvent!==Za)return d=qa(g,n,N,ra,Za),null!==g&&(g=Ed(g),null!==g&&Zj(g)),d;d.eventSystemFlags|=N;g=d.targetContainers;null!==ra&&-1===g.indexOf(ra)&&
g.push(ra);return d}function U(d,g,n,N,ra){switch(g){case "focusin":return Dh=ea(Dh,d,g,n,N,ra),!0;case "dragenter":return Zg=ea(Zg,d,g,n,N,ra),!0;case "mouseover":return lh=ea(lh,d,g,n,N,ra),!0;case "pointerover":var Za=ra.pointerId;zi.set(Za,ea(zi.get(Za)||null,d,g,n,N,ra));return!0;case "gotpointercapture":return Za=ra.pointerId,Ai.set(Za,ea(Ai.get(Za)||null,d,g,n,N,ra)),!0}return!1}function Fa(d){var g=pd(d.target);if(null!==g){var n=Ga(g);if(null!==n)if(g=n.tag,13===g){if(g=La(n),null!==g){d.blockedOn=
g;rm(d.lanePriority,function(){Lf.unstable_runWithPriority(d.priority,function(){Uk(n)})});return}}else if(3===g&&n.stateNode.hydrate){d.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}d.blockedOn=null}function Ja(d){if(null!==d.blockedOn)return!1;for(var g=d.targetContainers;0<g.length;){var n=mb(d.domEventName,d.eventSystemFlags,g[0],d.nativeEvent);if(null!==n)return g=Ed(n),null!==g&&Zj(g),d.blockedOn=n,!1;g.shift()}return!0}function Ta(d,g,n){Ja(d)&&n.delete(g)}function ya(){for(jk=
!1;0<Dg.length;){var d=Dg[0];if(null!==d.blockedOn){d=Ed(d.blockedOn);null!==d&&vm(d);break}for(var g=d.targetContainers;0<g.length;){var n=mb(d.domEventName,d.eventSystemFlags,g[0],d.nativeEvent);if(null!==n){d.blockedOn=n;break}g.shift()}null===d.blockedOn&&Dg.shift()}null!==Dh&&Ja(Dh)&&(Dh=null);null!==Zg&&Ja(Zg)&&(Zg=null);null!==lh&&Ja(lh)&&(lh=null);zi.forEach(Ta);Ai.forEach(Ta)}function lb(d,g){d.blockedOn===g&&(d.blockedOn=null,jk||(jk=!0,Lf.unstable_scheduleCallback(Lf.unstable_NormalPriority,
ya)))}function yb(d){function g(ra){return lb(ra,d)}if(0<Dg.length){lb(Dg[0],d);for(var n=1;n<Dg.length;n++){var N=Dg[n];N.blockedOn===d&&(N.blockedOn=null)}}null!==Dh&&lb(Dh,d);null!==Zg&&lb(Zg,d);null!==lh&&lb(lh,d);zi.forEach(g);Ai.forEach(g);for(n=0;n<$g.length;n++)N=$g[n],N.blockedOn===d&&(N.blockedOn=null);for(;0<$g.length&&(n=$g[0],null===n.blockedOn);)Fa(n),null===n.blockedOn&&$g.shift()}function Ya(d,g){var n={};n[d.toLowerCase()]=g.toLowerCase();n["Webkit"+d]="webkit"+g;n["Moz"+d]="moz"+
g;return n}function Ob(d){if(Bi[d])return Bi[d];if(!Mg[d])return d;var g=Mg[d],n;for(n in g)if(g.hasOwnProperty(n)&&n in dl)return Bi[d]=g[n];return d}function Qb(d,g){for(var n=0;n<d.length;n+=2){var N=d[n],ra=d[n+1];ra="on"+(ra[0].toUpperCase()+ra.slice(1));Fj.set(N,g);Gj.set(N,ra);m(ra,[N])}}function Zb(d){if(0!==(1&d))return hf=15,1;if(0!==(2&d))return hf=14,2;if(0!==(4&d))return hf=13,4;var g=24&d;if(0!==g)return hf=12,g;if(0!==(d&32))return hf=11,32;g=192&d;if(0!==g)return hf=10,g;if(0!==(d&
256))return hf=9,256;g=3584&d;if(0!==g)return hf=8,g;if(0!==(d&4096))return hf=7,4096;g=4186112&d;if(0!==g)return hf=6,g;g=62914560&d;if(0!==g)return hf=5,g;if(d&67108864)return hf=4,67108864;if(0!==(d&134217728))return hf=3,134217728;g=805306368&d;if(0!==g)return hf=2,g;if(0!==(1073741824&d))return hf=1,1073741824;hf=8;return d}function Ic(d){switch(d){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function uc(d){switch(d){case 15:case 14:return 99;
case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(h(358,d));}}function Zc(d,g){var n=d.pendingLanes;if(0===n)return hf=0;var N=0,ra=0,Za=d.expiredLanes,tb=d.suspendedLanes,Jb=d.pingedLanes;if(0!==Za)N=Za,ra=hf=15;else if(Za=n&134217727,0!==Za){var ec=Za&~tb;0!==ec?(N=Zb(ec),ra=hf):(Jb&=Za,0!==Jb&&(N=Zb(Jb),ra=hf))}else Za=n&~tb,0!==Za?(N=Zb(Za),ra=hf):0!==Jb&&(N=Zb(Jb),ra=hf);if(0===N)return 0;
N=31-mh(N);N=n&((0>N?0:1<<N)<<1)-1;if(0!==g&&g!==N&&0===(g&tb)){Zb(g);if(ra<=hf)return g;hf=ra}g=d.entangledLanes;if(0!==g)for(d=d.entanglements,g&=N;0<g;)n=31-mh(g),ra=1<<n,N|=d[n],g&=~ra;return N}function Ad(d){d=d.pendingLanes&-1073741825;return 0!==d?d:d&1073741824?1073741824:0}function Lc(d,g){switch(d){case 15:return 1;case 14:return 2;case 12:return d=Xc(24&~g),0===d?Lc(10,g):d;case 10:return d=Xc(192&~g),0===d?Lc(8,g):d;case 8:return d=Xc(3584&~g),0===d&&(d=Xc(4186112&~g),0===d&&(d=512)),
d;case 2:return g=Xc(805306368&~g),0===g&&(g=268435456),g}throw Error(h(358,d));}function Xc(d){return d&-d}function Uc(d){for(var g=[],n=0;31>n;n++)g.push(d);return g}function Md(d,g,n){d.pendingLanes|=g;var N=g-1;d.suspendedLanes&=N;d.pingedLanes&=N;d=d.eventTimes;g=31-mh(g);d[g]=n}function Qd(d){return 0===d?32:31-(gl(d)/hl|0)|0}function fe(d,g,n,N){Ch||H();var ra=Rb,Za=Ch;Ch=!0;try{w(ra,d,g,n,N)}finally{(Ch=Za)||p()}}function Eb(d,g,n,N){il(nk,Rb.bind(null,d,g,n,N))}function Rb(d,g,n,N){if(Ci){var ra;
if((ra=0===(g&4))&&0<Dg.length&&-1<aj.indexOf(d))d=qa(null,d,g,n,N),Dg.push(d);else{var Za=mb(d,g,n,N);if(null===Za)ra&&ta(d,N);else{if(ra){if(-1<aj.indexOf(d)){d=qa(Za,d,g,n,N);Dg.push(d);return}if(U(Za,d,g,n,N))return;ta(d,N)}Zd(d,g,N,null,n)}}}}function mb(d,g,n,N){var ra=cb(N);ra=pd(ra);if(null!==ra){var Za=Ga(ra);if(null===Za)ra=null;else{var tb=Za.tag;if(13===tb){ra=La(Za);if(null!==ra)return ra;ra=null}else if(3===tb){if(Za.stateNode.hydrate)return 3===Za.tag?Za.stateNode.containerInfo:null;
ra=null}else Za!==ra&&(ra=null)}}Zd(d,g,N,ra,n);return null}function rc(){if(bj)return bj;var d,g=Jj,n=g.length,N,ra="value"in nh?nh.value:nh.textContent,Za=ra.length;for(d=0;d<n&&g[d]===ra[d];d++);var tb=n-d;for(N=1;N<=tb&&g[n-N]===ra[Za-N];N++);return bj=ra.slice(d,1<N?1-N:void 0)}function Cc(d){var g=d.keyCode;"charCode"in d?(d=d.charCode,0===d&&13===g&&(d=13)):d=g;10===d&&(d=13);return 32<=d||13===d?d:0}function Rc(){return!0}function sd(){return!1}function I(d){function g(n,N,ra,Za,tb){this._reactName=
n;this._targetInst=ra;this.type=N;this.nativeEvent=Za;this.target=tb;this.currentTarget=null;for(var Jb in d)d.hasOwnProperty(Jb)&&(n=d[Jb],this[Jb]=n?n(Za):Za[Jb]);this.isDefaultPrevented=(null!=Za.defaultPrevented?Za.defaultPrevented:!1===Za.returnValue)?Rc:sd;this.isPropagationStopped=sd;return this}rf(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():"unknown"!==typeof n.returnValue&&(n.returnValue=!1),this.isDefaultPrevented=
Rc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():"unknown"!==typeof n.cancelBubble&&(n.cancelBubble=!0),this.isPropagationStopped=Rc)},persist:function(){},isPersistent:Rc});return g}function ma(d){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(d):(d=sk[d])?!!g[d]:!1}function ib(){return ma}function nb(d,g){switch(d){case "keyup":return-1!==tk.indexOf(g.keyCode);case "keydown":return 229!==g.keyCode;case "keypress":case "mousedown":case "focusout":return!0;
default:return!1}}function Bb(d){d=d.detail;return"object"===typeof d&&"data"in d?d.data:null}function Ub(d,g){switch(d){case "compositionend":return Bb(g);case "keypress":if(32!==g.which)return null;Ak=!0;return zk;case "textInput":return d=g.data,d===zk&&Ak?null:d;default:return null}}function Xb(d,g){if(di)return"compositionend"===d||!xk&&nb(d,g)?(d=rc(),bj=Jj=nh=null,di=!1,d):null;switch(d){case "paste":return null;case "keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&
1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case "compositionend":return yk&&"ko"!==g.locale?null:g.data;default:return null}}function dc(d){var g=d&&d.nodeName&&d.nodeName.toLowerCase();return"input"===g?!!om[d.type]:"textarea"===g?!0:!1}function Fc(d,g,n,N){Ka(N);g=oa(g,"onChange");0<g.length&&(n=new Kj("onChange","change",null,n,N),d.push({event:n,listeners:g}))}function Jc(d){Rd(d,0)}function Da(d){var g=md(d);if(Z(g))return d}function Ma(d,g){if("change"===
d)return g}function Pb(){ej&&(ej.detachEvent("onpropertychange",bc),fj=ej=null)}function bc(d){if("value"===d.propertyName&&Da(fj)){var g=[];Fc(g,fj,d,cb(d));d=Jc;if(Ch)d(g);else{Ch=!0;try{ha(d,g)}finally{Ch=!1,p()}}}}function mc(d,g,n){"focusin"===d?(Pb(),ej=g,fj=n,ej.attachEvent("onpropertychange",bc)):"focusout"===d&&Pb()}function Dc(d){if("selectionchange"===d||"keyup"===d||"keydown"===d)return Da(fj)}function Kc(d,g){if("click"===d)return Da(g)}function Hb(d,g){if("input"===d||"change"===d)return Da(g)}
function Wb(d,g){return d===g&&(0!==d||1/d===1/g)||d!==d&&g!==g}function sc(d,g){if(ug(d,g))return!0;if("object"!==typeof d||null===d||"object"!==typeof g||null===g)return!1;var n=Object.keys(d),N=Object.keys(g);if(n.length!==N.length)return!1;for(N=0;N<n.length;N++)if(!wl.call(g,n[N])||!ug(d[n[N]],g[n[N]]))return!1;return!0}function pc(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function tc(d,g){var n=pc(d);d=0;for(var N;n;){if(3===n.nodeType){N=d+n.textContent.length;if(d<=g&&N>=g)return{node:n,
offset:g-d};d=N}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=pc(n)}}function Wc(d,g){return d&&g?d===g?!0:d&&3===d.nodeType?!1:g&&3===g.nodeType?Wc(d,g.parentNode):"contains"in d?d.contains(g):d.compareDocumentPosition?!!(d.compareDocumentPosition(g)&16):!1:!1}function Kd(){for(var d=window,g=Oa();g instanceof d.HTMLIFrameElement;){try{var n="string"===typeof g.contentWindow.location.href}catch(N){n=!1}if(n)d=g.contentWindow;else break;g=Oa(d.document)}return g}
function od(d){var g=d&&d.nodeName&&d.nodeName.toLowerCase();return g&&("input"===g&&("text"===d.type||"search"===d.type||"tel"===d.type||"url"===d.type||"password"===d.type)||"textarea"===g||"true"===d.contentEditable)}function ld(d,g,n){var N=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Oj||null==ei||ei!==Oa(N)||(N=ei,"selectionStart"in N&&od(N)?N={start:N.selectionStart,end:N.selectionEnd}:(N=(N.ownerDocument&&N.ownerDocument.defaultView||window).getSelection(),N={anchorNode:N.anchorNode,
anchorOffset:N.anchorOffset,focusNode:N.focusNode,focusOffset:N.focusOffset}),gj&&sc(gj,N)||(gj=N,N=oa(Dk,"onSelect"),0<N.length&&(g=new Kj("onSelect","select",null,g,n),d.push({event:g,listeners:N}),g.target=ei)))}function wd(d,g,n){var N=d.type||"unknown-event";d.currentTarget=n;ba(N,g,void 0,d);d.currentTarget=null}function Rd(d,g){g=0!==(g&4);for(var n=0;n<d.length;n++){var N=d[n],ra=N.event;N=N.listeners;a:{var Za=void 0;if(g)for(var tb=N.length-1;0<=tb;tb--){var Jb=N[tb],ec=Jb.instance,Qc=Jb.currentTarget;
Jb=Jb.listener;if(ec!==Za&&ra.isPropagationStopped())break a;wd(ra,Jb,Qc);Za=ec}else for(tb=0;tb<N.length;tb++){Jb=N[tb];ec=Jb.instance;Qc=Jb.currentTarget;Jb=Jb.listener;if(ec!==Za&&ra.isPropagationStopped())break a;wd(ra,Jb,Qc);Za=ec}}}if(Dj)throw d=Ej,Dj=!1,Ej=null,d;}function Hd(d,g){var n=Se(g),N=d+"__bubble";n.has(N)||(Ke(g,d,2,!1),n.add(N))}function ce(d){d[Uh]||(d[Uh]=!0,Th.forEach(function(g){Ij.has(g)||ke(g,!1,d,null);ke(g,!0,d,null)}))}function ke(d,g,n,N){var ra=4<arguments.length&&void 0!==
arguments[4]?arguments[4]:0,Za=n;"selectionchange"===d&&9!==n.nodeType&&(Za=n.ownerDocument);if(null!==N&&!g&&Ij.has(d)){if("scroll"!==d)return;ra|=2;Za=N}var tb=Se(Za),Jb=d+"__"+(g?"capture":"bubble");tb.has(Jb)||(g&&(ra|=4),Ke(Za,d,ra,g),tb.add(Jb))}function Ke(d,g,n,N){var ra=Fj.get(g);switch(void 0===ra?2:ra){case 0:ra=fe;break;case 1:ra=Eb;break;default:ra=Rb}n=ra.bind(null,g,n,d);ra=void 0;!ik||"touchstart"!==g&&"touchmove"!==g&&"wheel"!==g||(ra=!0);N?void 0!==ra?d.addEventListener(g,n,{capture:!0,
passive:ra}):d.addEventListener(g,n,!0):void 0!==ra?d.addEventListener(g,n,{passive:ra}):d.addEventListener(g,n,!1)}function Zd(d,g,n,N,ra){var Za=N;if(0===(g&1)&&0===(g&2)&&null!==N)a:for(;;){if(null===N)return;var tb=N.tag;if(3===tb||4===tb){var Jb=N.stateNode.containerInfo;if(Jb===ra||8===Jb.nodeType&&Jb.parentNode===ra)break;if(4===tb)for(tb=N.return;null!==tb;){var ec=tb.tag;if(3===ec||4===ec)if(ec=tb.stateNode.containerInfo,ec===ra||8===ec.nodeType&&ec.parentNode===ra)return;tb=tb.return}for(;null!==
Jb;){tb=pd(Jb);if(null===tb)return;ec=tb.tag;if(5===ec||6===ec){N=Za=tb;continue a}Jb=Jb.parentNode}}N=N.return}q(function(){var Qc=Za,Od=cb(n),Fe=[];a:{var kd=Gj.get(d);if(void 0!==kd){var be=Kj,Be=d;switch(d){case "keypress":if(0===Cc(n))break a;case "keydown":case "keyup":be=pl;break;case "focusin":Be="focus";be=pk;break;case "focusout":Be="blur";be=pk;break;case "beforeblur":case "afterblur":be=pk;break;case "click":if(2===n.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":be=
kl;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":be=ll;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":be=vk;break;case lk:case kk:case el:be=Zl;break;case fl:be=wk;break;case "scroll":be=Xl;break;case "wheel":be=tl;break;case "copy":case "cut":case "paste":be=$l;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":be=
uk}var ue=0!==(g&4),Ec=!ue&&"scroll"===d,ic=ue?null!==kd?kd+"Capture":null:kd;ue=[];for(var Ac=Qc,dd;null!==Ac;){dd=Ac;var id=dd.stateNode;5===dd.tag&&null!==id&&(dd=id,null!==ic&&(id=t(Ac,ic),null!=id&&ue.push(P(Ac,id,dd))));if(Ec)break;Ac=Ac.return}0<ue.length&&(kd=new be(kd,Be,null,n,Od),Fe.push({event:kd,listeners:ue}))}}if(0===(g&7)){kd="mouseover"===d||"pointerover"===d;be="mouseout"===d||"pointerout"===d;if(!kd||0!==(g&16)||!(Be=n.relatedTarget||n.fromElement)||!pd(Be)&&!Be[Ih])if(be||kd){kd=
Od.window===Od?Od:(kd=Od.ownerDocument)?kd.defaultView||kd.parentWindow:window;if(be){if(Be=n.relatedTarget||n.toElement,be=Qc,Be=Be?pd(Be):null,null!==Be&&(Ec=Ga(Be),Be!==Ec||5!==Be.tag&&6!==Be.tag))Be=null}else be=null,Be=Qc;if(be!==Be){ue=kl;id="onMouseLeave";ic="onMouseEnter";Ac="mouse";if("pointerout"===d||"pointerover"===d)ue=uk,id="onPointerLeave",ic="onPointerEnter",Ac="pointer";Ec=null==be?kd:md(be);dd=null==Be?kd:md(Be);kd=new ue(id,Ac+"leave",be,n,Od);kd.target=Ec;kd.relatedTarget=dd;id=
null;pd(Od)===Qc&&(ue=new ue(ic,Ac+"enter",Be,n,Od),ue.target=dd,ue.relatedTarget=Ec,id=ue);Ec=id;if(be&&Be)b:{ue=be;ic=Be;Ac=0;for(dd=ue;dd;dd=Ha(dd))Ac++;dd=0;for(id=ic;id;id=Ha(id))dd++;for(;0<Ac-dd;)ue=Ha(ue),Ac--;for(;0<dd-Ac;)ic=Ha(ic),dd--;for(;Ac--;){if(ue===ic||null!==ic&&ue===ic.alternate)break b;ue=Ha(ue);ic=Ha(ic)}ue=null}else ue=null;null!==be&&kb(Fe,kd,be,ue,!1);null!==Be&&null!==Ec&&kb(Fe,Ec,Be,ue,!0)}}kd=Qc?md(Qc):window;be=kd.nodeName&&kd.nodeName.toLowerCase();if("select"===be||
"input"===be&&"file"===kd.type)var me=Ma;else if(dc(kd))if(vl)me=Hb;else{me=Dc;var Td=mc}else(be=kd.nodeName)&&"input"===be.toLowerCase()&&("checkbox"===kd.type||"radio"===kd.type)&&(me=Kc);me&&(me=me(d,Qc))?Fc(Fe,me,n,Od):(Td&&Td(d,kd,Qc),"focusout"===d&&(Td=kd._wrapperState)&&Td.controlled&&"number"===kd.type&&da(kd,"number",kd.value));Td=Qc?md(Qc):window;switch(d){case "focusin":if(dc(Td)||"true"===Td.contentEditable)ei=Td,Dk=Qc,gj=null;break;case "focusout":gj=Dk=ei=null;break;case "mousedown":Oj=
!0;break;case "contextmenu":case "mouseup":case "dragend":Oj=!1;ld(Fe,n,Od);break;case "selectionchange":if(xl)break;case "keydown":case "keyup":ld(Fe,n,Od)}var Ee;if(xk)a:{switch(d){case "compositionstart":var Re="onCompositionStart";break a;case "compositionend":Re="onCompositionEnd";break a;case "compositionupdate":Re="onCompositionUpdate";break a}Re=void 0}else di?nb(d,n)&&(Re="onCompositionEnd"):"keydown"===d&&229===n.keyCode&&(Re="onCompositionStart");Re&&(yk&&"ko"!==n.locale&&(di||"onCompositionStart"!==
Re?"onCompositionEnd"===Re&&di&&(Ee=rc()):(nh=Od,Jj="value"in nh?nh.value:nh.textContent,di=!0)),Td=oa(Qc,Re),0<Td.length&&(Re=new nl(Re,d,null,n,Od),Fe.push({event:Re,listeners:Td}),Ee?Re.data=Ee:(Ee=Bb(n),null!==Ee&&(Re.data=Ee))));if(Ee=Nj?Ub(d,n):Xb(d,n))Qc=oa(Qc,"onBeforeInput"),0<Qc.length&&(Od=new nl("onBeforeInput","beforeinput",null,n,Od),Fe.push({event:Od,listeners:Qc}),Od.data=Ee)}Rd(Fe,g)})}function P(d,g,n){return{instance:d,listener:g,currentTarget:n}}function oa(d,g){for(var n=g+"Capture",
N=[];null!==d;){var ra=d,Za=ra.stateNode;5===ra.tag&&null!==Za&&(ra=Za,Za=t(d,n),null!=Za&&N.unshift(P(d,Za,ra)),Za=t(d,g),null!=Za&&N.push(P(d,Za,ra)));d=d.return}return N}function Ha(d){if(null===d)return null;do d=d.return;while(d&&5!==d.tag);return d?d:null}function kb(d,g,n,N,ra){for(var Za=g._reactName,tb=[];null!==n&&n!==N;){var Jb=n,ec=Jb.alternate,Qc=Jb.stateNode;if(null!==ec&&ec===N)break;5===Jb.tag&&null!==Qc&&(Jb=Qc,ra?(ec=t(n,Za),null!=ec&&tb.unshift(P(n,ec,Jb))):ra||(ec=t(n,Za),null!=
ec&&tb.push(P(n,ec,Jb))));n=n.return}0!==tb.length&&d.push({event:g,listeners:tb})}function eb(){}function Tb(d,g){switch(d){case "button":case "input":case "select":case "textarea":return!!g.autoFocus}return!1}function hc(d,g){return"textarea"===d||"option"===d||"noscript"===d||"string"===typeof g.children||"number"===typeof g.children||"object"===typeof g.dangerouslySetInnerHTML&&null!==g.dangerouslySetInnerHTML&&null!=g.dangerouslySetInnerHTML.__html}function xc(d){1===d.nodeType?d.textContent=
"":9===d.nodeType&&(d=d.body,null!=d&&(d.textContent=""))}function vc(d){for(;null!=d;d=d.nextSibling){var g=d.nodeType;if(1===g||3===g)break}return d}function lc(d){d=d.previousSibling;for(var g=0;d;){if(8===d.nodeType){var n=d.data;if("$"===n||"$!"===n||"$?"===n){if(0===g)return d;g--}else"/$"===n&&g++}d=d.previousSibling}return null}function ed(d){return{$$typeof:Aj,toString:d,valueOf:d}}function pd(d){var g=d[Rg];if(g)return g;for(var n=d.parentNode;n;){if(g=n[Ih]||n[Rg]){n=g.alternate;if(null!==
g.child||null!==n&&null!==n.child)for(d=lc(d);null!==d;){if(n=d[Rg])return n;d=lc(d)}return g}d=n;n=d.parentNode}return null}function Ed(d){d=d[Rg]||d[Ih];return!d||5!==d.tag&&6!==d.tag&&13!==d.tag&&3!==d.tag?null:d}function md(d){if(5===d.tag||6===d.tag)return d.stateNode;throw Error(h(33));}function le(d){return d[Rj]||null}function Se(d){var g=d[Fk];void 0===g&&(g=d[Fk]=new Set);return g}function jc(d){return{current:d}}function Dd(d){0>sh||(d.current=Gk[sh],Gk[sh]=null,sh--)}function xd(d,g){sh++;
Gk[sh]=d.current;d.current=g}function Mb(d,g){var n=d.type.contextTypes;if(!n)return Jh;var N=d.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===g)return N.__reactInternalMemoizedMaskedChildContext;var ra={},Za;for(Za in n)ra[Za]=g[Za];N&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=g,d.__reactInternalMemoizedMaskedChildContext=ra);return ra}function qe(d){d=d.childContextTypes;return null!==d&&void 0!==d}function ne(){Dd(pg);Dd(dg)}function Ce(d,g,n){if(dg.current!==
Jh)throw Error(h(168));xd(dg,g);xd(pg,n)}function $e(d,g,n){var N=d.stateNode;d=g.childContextTypes;if("function"!==typeof N.getChildContext)return n;N=N.getChildContext();for(var ra in N)if(!(ra in d))throw Error(h(108,Y(g)||"Unknown",ra));return rf({},n,N)}function Te(d){d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Jh;mi=dg.current;xd(dg,d);xd(pg,pg.current);return!0}function kf(d,g,n){var N=d.stateNode;if(!N)throw Error(h(169));n?(d=$e(d,g,mi),N.__reactInternalMemoizedMergedChildContext=
d,Dd(pg),Dd(dg),xd(dg,d)):Dd(pg);xd(pg,n)}function ef(){switch(sm()){case Uj:return 99;case Dl:return 98;case El:return 97;case Fl:return 96;case Vj:return 95;default:throw Error(h(332));}}function Vd(d){switch(d){case 99:return Uj;case 98:return Dl;case 97:return El;case 96:return Fl;case 95:return Vj;default:throw Error(h(332));}}function cc(d,g){d=Vd(d);return qm(d,g)}function Wd(d,g,n){d=Vd(d);return Jk(d,g,n)}function Yb(){if(null!==rg){var d=rg;rg=null;Ik(d)}gd()}function gd(){if(!Ge&&null!==
Gg){Ge=!0;var d=0;try{var g=Gg;cc(99,function(){for(;d<g.length;d++){var n=g[d];do n=n(!0);while(null!==n)}});Gg=null}catch(n){throw null!==Gg&&(Gg=Gg.slice(d+1)),Jk(Uj,Yb),n;}finally{Ge=!1}}}function se(d,g){if(d&&d.defaultProps){g=rf({},g);d=d.defaultProps;for(var n in d)void 0===g[n]&&(g[n]=d[n])}return g}function he(d){var g=Hg.current;Dd(Hg);d.type._context._currentValue=g}function de(d,g){for(;null!==d;){var n=d.alternate;if((d.childLanes&g)===g)if(null===n||(n.childLanes&g)===g)break;else n.childLanes|=
g;else d.childLanes|=g,null!==n&&(n.childLanes|=g);d=d.return}}function je(d,g){Rh=d;Mh=Ug=null;d=d.dependencies;null!==d&&null!==d.firstContext&&(0!==(d.lanes&g)&&(yg=!0),d.firstContext=null)}function $d(d,g){if(Mh!==d&&!1!==g&&0!==g){if("number"!==typeof g||1073741823===g)Mh=d,g=1073741823;g={context:d,observedBits:g,next:null};if(null===Ug){if(null===Rh)throw Error(h(308));Ug=g;Rh.dependencies={lanes:0,firstContext:g,responders:null}}else Ug=Ug.next=g}return d._currentValue}function Ud(d){d.updateQueue=
{baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Nc(d,g){d=d.updateQueue;g.updateQueue===d&&(g.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Qe(d,g){return{eventTime:d,lane:g,tag:0,payload:null,callback:null,next:null}}function ve(d,g){d=d.updateQueue;if(null!==d){d=d.shared;var n=d.pending;null===n?g.next=g:(g.next=n.next,n.next=g);d.pending=
g}}function Jd(d,g){var n=d.updateQueue,N=d.alternate;if(null!==N&&(N=N.updateQueue,n===N)){var ra=null,Za=null;n=n.firstBaseUpdate;if(null!==n){do{var tb={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===Za?ra=Za=tb:Za=Za.next=tb;n=n.next}while(null!==n);null===Za?ra=Za=g:Za=Za.next=g}else ra=Za=g;n={baseState:N.baseState,firstBaseUpdate:ra,lastBaseUpdate:Za,shared:N.shared,effects:N.effects};d.updateQueue=n}else d=n.lastBaseUpdate,null===d?n.firstBaseUpdate=
g:d.next=g,n.lastBaseUpdate=g}function xe(d,g,n,N){var ra=d.updateQueue;Nh=!1;var Za=ra.firstBaseUpdate,tb=ra.lastBaseUpdate,Jb=ra.shared.pending;if(null!==Jb){ra.shared.pending=null;var ec=Jb,Qc=ec.next;ec.next=null;null===tb?Za=Qc:tb.next=Qc;tb=ec;var Od=d.alternate;if(null!==Od){Od=Od.updateQueue;var Fe=Od.lastBaseUpdate;Fe!==tb&&(null===Fe?Od.firstBaseUpdate=Qc:Fe.next=Qc,Od.lastBaseUpdate=ec)}}if(null!==Za){Fe=ra.baseState;tb=0;Od=Qc=ec=null;do{Jb=Za.lane;var kd=Za.eventTime;if((N&Jb)===Jb){null!==
Od&&(Od=Od.next={eventTime:kd,lane:0,tag:Za.tag,payload:Za.payload,callback:Za.callback,next:null});a:{var be=d,Be=Za;Jb=g;kd=n;switch(Be.tag){case 1:be=Be.payload;if("function"===typeof be){Fe=be.call(kd,Fe,Jb);break a}Fe=be;break a;case 3:be.flags=be.flags&-4097|64;case 0:be=Be.payload;Jb="function"===typeof be?be.call(kd,Fe,Jb):be;if(null===Jb||void 0===Jb)break a;Fe=rf({},Fe,Jb);break a;case 2:Nh=!0}}null!==Za.callback&&(d.flags|=32,Jb=ra.effects,null===Jb?ra.effects=[Za]:Jb.push(Za))}else kd=
{eventTime:kd,lane:Jb,tag:Za.tag,payload:Za.payload,callback:Za.callback,next:null},null===Od?(Qc=Od=kd,ec=Fe):Od=Od.next=kd,tb|=Jb;Za=Za.next;if(null===Za)if(Jb=ra.shared.pending,null===Jb)break;else Za=Jb.next,Jb.next=null,ra.lastBaseUpdate=Jb,ra.shared.pending=null}while(1);null===Od&&(ec=Fe);ra.baseState=ec;ra.firstBaseUpdate=Qc;ra.lastBaseUpdate=Od;$i|=tb;d.lanes=tb;d.memoizedState=Fe}}function Gd(d,g,n){d=g.effects;g.effects=null;if(null!==d)for(g=0;g<d.length;g++){var N=d[g],ra=N.callback;
if(null!==ra){N.callback=null;N=n;if("function"!==typeof ra)throw Error(h(191,ra));ra.call(N)}}}function Oe(d,g,n,N){g=d.memoizedState;n=n(N,g);n=null===n||void 0===n?g:rf({},g,n);d.memoizedState=n;0===d.lanes&&(d.updateQueue.baseState=n)}function We(d,g,n,N,ra,Za,tb){d=d.stateNode;return"function"===typeof d.shouldComponentUpdate?d.shouldComponentUpdate(N,Za,tb):g.prototype&&g.prototype.isPureReactComponent?!sc(n,N)||!sc(ra,Za):!0}function lf(d,g,n){var N=!1,ra=Jh,Za=g.contextType;"object"===typeof Za&&
null!==Za?Za=$d(Za):(ra=qe(g)?mi:dg.current,N=g.contextTypes,Za=(N=null!==N&&void 0!==N)?Mb(d,ra):Jh);g=new g(n,Za);d.memoizedState=null!==g.state&&void 0!==g.state?g.state:null;g.updater=kj;d.stateNode=g;g._reactInternals=d;N&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=ra,d.__reactInternalMemoizedMaskedChildContext=Za);return g}function uf(d,g,n,N){d=g.state;"function"===typeof g.componentWillReceiveProps&&g.componentWillReceiveProps(n,N);"function"===typeof g.UNSAFE_componentWillReceiveProps&&
g.UNSAFE_componentWillReceiveProps(n,N);g.state!==d&&kj.enqueueReplaceState(g,g.state,null)}function Me(d,g,n,N){var ra=d.stateNode;ra.props=n;ra.state=d.memoizedState;ra.refs=Ok;Ud(d);var Za=g.contextType;"object"===typeof Za&&null!==Za?ra.context=$d(Za):(Za=qe(g)?mi:dg.current,ra.context=Mb(d,Za));xe(d,n,ra,N);ra.state=d.memoizedState;Za=g.getDerivedStateFromProps;"function"===typeof Za&&(Oe(d,g,Za,n),ra.state=d.memoizedState);"function"===typeof g.getDerivedStateFromProps||"function"===typeof ra.getSnapshotBeforeUpdate||
"function"!==typeof ra.UNSAFE_componentWillMount&&"function"!==typeof ra.componentWillMount||(g=ra.state,"function"===typeof ra.componentWillMount&&ra.componentWillMount(),"function"===typeof ra.UNSAFE_componentWillMount&&ra.UNSAFE_componentWillMount(),g!==ra.state&&kj.enqueueReplaceState(ra,ra.state,null),xe(d,n,ra,N),ra.state=d.memoizedState);"function"===typeof ra.componentDidMount&&(d.flags|=4)}function df(d,g,n){d=n.ref;if(null!==d&&"function"!==typeof d&&"object"!==typeof d){if(n._owner){if(n=
n._owner){if(1!==n.tag)throw Error(h(309));var N=n.stateNode}if(!N)throw Error(h(147,d));var ra=""+d;if(null!==g&&null!==g.ref&&"function"===typeof g.ref&&g.ref._stringRef===ra)return g.ref;g=function(Za){var tb=N.refs;tb===Ok&&(tb=N.refs={});null===Za?delete tb[ra]:tb[ra]=Za};g._stringRef=ra;return g}if("string"!==typeof d)throw Error(h(284));if(!n._owner)throw Error(h(290,d));}return d}function ad(d,g){if("textarea"!==d.type)throw Error(h(31,"[object Object]"===Object.prototype.toString.call(g)?
"object with keys {"+Object.keys(g).join(", ")+"}":g));}function cf(d){function g(Ec,ic){if(d){var Ac=Ec.lastEffect;null!==Ac?(Ac.nextEffect=ic,Ec.lastEffect=ic):Ec.firstEffect=Ec.lastEffect=ic;ic.nextEffect=null;ic.flags=8}}function n(Ec,ic){if(!d)return null;for(;null!==ic;)g(Ec,ic),ic=ic.sibling;return null}function N(Ec,ic){for(Ec=new Map;null!==ic;)null!==ic.key?Ec.set(ic.key,ic):Ec.set(ic.index,ic),ic=ic.sibling;return Ec}function ra(Ec,ic){Ec=zh(Ec,ic);Ec.index=0;Ec.sibling=null;return Ec}
function Za(Ec,ic,Ac){Ec.index=Ac;if(!d)return ic;Ac=Ec.alternate;if(null!==Ac)return Ac=Ac.index,Ac<ic?(Ec.flags=2,ic):Ac;Ec.flags=2;return ic}function tb(Ec){d&&null===Ec.alternate&&(Ec.flags=2);return Ec}function Jb(Ec,ic,Ac,dd){if(null===ic||6!==ic.tag)return ic=uj(Ac,Ec.mode,dd),ic.return=Ec,ic;ic=ra(ic,Ac);ic.return=Ec;return ic}function ec(Ec,ic,Ac,dd){if(null!==ic&&ic.elementType===Ac.type)return dd=ra(ic,Ac.props),dd.ref=df(Ec,ic,Ac),dd.return=Ec,dd;dd=Ah(Ac.type,Ac.key,Ac.props,null,Ec.mode,
dd);dd.ref=df(Ec,ic,Ac);dd.return=Ec;return dd}function Qc(Ec,ic,Ac,dd){if(null===ic||4!==ic.tag||ic.stateNode.containerInfo!==Ac.containerInfo||ic.stateNode.implementation!==Ac.implementation)return ic=ui(Ac,Ec.mode,dd),ic.return=Ec,ic;ic=ra(ic,Ac.children||[]);ic.return=Ec;return ic}function Od(Ec,ic,Ac,dd,id){if(null===ic||7!==ic.tag)return ic=Ff(Ac,Ec.mode,dd,id),ic.return=Ec,ic;ic=ra(ic,Ac);ic.return=Ec;return ic}function Fe(Ec,ic,Ac){if("string"===typeof ic||"number"===typeof ic)return ic=uj(""+
ic,Ec.mode,Ac),ic.return=Ec,ic;if("object"===typeof ic&&null!==ic){switch(ic.$$typeof){case ih:return Ac=Ah(ic.type,ic.key,ic.props,null,Ec.mode,Ac),Ac.ref=df(Ec,null,ic),Ac.return=Ec,Ac;case Yg:return ic=ui(ic,Ec.mode,Ac),ic.return=Ec,ic}if(ig(ic)||Ua(ic))return ic=Ff(ic,Ec.mode,Ac,null),ic.return=Ec,ic;ad(Ec,ic)}return null}function kd(Ec,ic,Ac,dd){var id=null!==ic?ic.key:null;if("string"===typeof Ac||"number"===typeof Ac)return null!==id?null:Jb(Ec,ic,""+Ac,dd);if("object"===typeof Ac&&null!==
Ac){switch(Ac.$$typeof){case ih:return Ac.key===id?Ac.type===jh?Od(Ec,ic,Ac.props.children,dd,id):ec(Ec,ic,Ac,dd):null;case Yg:return Ac.key===id?Qc(Ec,ic,Ac,dd):null}if(ig(Ac)||Ua(Ac))return null!==id?null:Od(Ec,ic,Ac,dd,null);ad(Ec,Ac)}return null}function be(Ec,ic,Ac,dd,id){if("string"===typeof dd||"number"===typeof dd)return Ec=Ec.get(Ac)||null,Jb(ic,Ec,""+dd,id);if("object"===typeof dd&&null!==dd){switch(dd.$$typeof){case ih:return Ec=Ec.get(null===dd.key?Ac:dd.key)||null,dd.type===jh?Od(ic,
Ec,dd.props.children,id,dd.key):ec(ic,Ec,dd,id);case Yg:return Ec=Ec.get(null===dd.key?Ac:dd.key)||null,Qc(ic,Ec,dd,id)}if(ig(dd)||Ua(dd))return Ec=Ec.get(Ac)||null,Od(ic,Ec,dd,id,null);ad(ic,dd)}return null}function Be(Ec,ic,Ac,dd){for(var id=null,me=null,Td=ic,Ee=ic=0,Re=null;null!==Td&&Ee<Ac.length;Ee++){Td.index>Ee?(Re=Td,Td=null):Re=Td.sibling;var Je=kd(Ec,Td,Ac[Ee],dd);if(null===Je){null===Td&&(Td=Re);break}d&&Td&&null===Je.alternate&&g(Ec,Td);ic=Za(Je,ic,Ee);null===me?id=Je:me.sibling=Je;me=
Je;Td=Re}if(Ee===Ac.length)return n(Ec,Td),id;if(null===Td){for(;Ee<Ac.length;Ee++)Td=Fe(Ec,Ac[Ee],dd),null!==Td&&(ic=Za(Td,ic,Ee),null===me?id=Td:me.sibling=Td,me=Td);return id}for(Td=N(Ec,Td);Ee<Ac.length;Ee++)Re=be(Td,Ec,Ee,Ac[Ee],dd),null!==Re&&(d&&null!==Re.alternate&&Td.delete(null===Re.key?Ee:Re.key),ic=Za(Re,ic,Ee),null===me?id=Re:me.sibling=Re,me=Re);d&&Td.forEach(function(yh){return g(Ec,yh)});return id}function ue(Ec,ic,Ac,dd){var id=Ua(Ac);if("function"!==typeof id)throw Error(h(150));
Ac=id.call(Ac);if(null==Ac)throw Error(h(151));for(var me=id=null,Td=ic,Ee=ic=0,Re=null,Je=Ac.next();null!==Td&&!Je.done;Ee++,Je=Ac.next()){Td.index>Ee?(Re=Td,Td=null):Re=Td.sibling;var yh=kd(Ec,Td,Je.value,dd);if(null===yh){null===Td&&(Td=Re);break}d&&Td&&null===yh.alternate&&g(Ec,Td);ic=Za(yh,ic,Ee);null===me?id=yh:me.sibling=yh;me=yh;Td=Re}if(Je.done)return n(Ec,Td),id;if(null===Td){for(;!Je.done;Ee++,Je=Ac.next())Je=Fe(Ec,Je.value,dd),null!==Je&&(ic=Za(Je,ic,Ee),null===me?id=Je:me.sibling=Je,
me=Je);return id}for(Td=N(Ec,Td);!Je.done;Ee++,Je=Ac.next())Je=be(Td,Ec,Ee,Je.value,dd),null!==Je&&(d&&null!==Je.alternate&&Td.delete(null===Je.key?Ee:Je.key),ic=Za(Je,ic,Ee),null===me?id=Je:me.sibling=Je,me=Je);d&&Td.forEach(function(Ol){return g(Ec,Ol)});return id}return function(Ec,ic,Ac,dd){var id="object"===typeof Ac&&null!==Ac&&Ac.type===jh&&null===Ac.key;id&&(Ac=Ac.props.children);var me="object"===typeof Ac&&null!==Ac;if(me)switch(Ac.$$typeof){case ih:a:{me=Ac.key;for(id=ic;null!==id;){if(id.key===
me){switch(id.tag){case 7:if(Ac.type===jh){n(Ec,id.sibling);ic=ra(id,Ac.props.children);ic.return=Ec;Ec=ic;break a}break;default:if(id.elementType===Ac.type){n(Ec,id.sibling);ic=ra(id,Ac.props);ic.ref=df(Ec,id,Ac);ic.return=Ec;Ec=ic;break a}}n(Ec,id);break}else g(Ec,id);id=id.sibling}Ac.type===jh?(ic=Ff(Ac.props.children,Ec.mode,dd,Ac.key),ic.return=Ec,Ec=ic):(dd=Ah(Ac.type,Ac.key,Ac.props,null,Ec.mode,dd),dd.ref=df(Ec,ic,Ac),dd.return=Ec,Ec=dd)}return tb(Ec);case Yg:a:{for(id=Ac.key;null!==ic;){if(ic.key===
id)if(4===ic.tag&&ic.stateNode.containerInfo===Ac.containerInfo&&ic.stateNode.implementation===Ac.implementation){n(Ec,ic.sibling);ic=ra(ic,Ac.children||[]);ic.return=Ec;Ec=ic;break a}else{n(Ec,ic);break}else g(Ec,ic);ic=ic.sibling}ic=ui(Ac,Ec.mode,dd);ic.return=Ec;Ec=ic}return tb(Ec)}if("string"===typeof Ac||"number"===typeof Ac)return Ac=""+Ac,null!==ic&&6===ic.tag?(n(Ec,ic.sibling),ic=ra(ic,Ac),ic.return=Ec,Ec=ic):(n(Ec,ic),ic=uj(Ac,Ec.mode,dd),ic.return=Ec,Ec=ic),tb(Ec);if(ig(Ac))return Be(Ec,
ic,Ac,dd);if(Ua(Ac))return ue(Ec,ic,Ac,dd);me&&ad(Ec,Ac);if("undefined"===typeof Ac&&!id)switch(Ec.tag){case 1:case 22:case 0:case 11:case 15:throw Error(h(152,Y(Ec.type)||"Component"));}return n(Ec,ic)}}function Ve(d){if(d===Oh)throw Error(h(174));return d}function nf(d,g){xd(lj,g);xd(Ph,d);xd(ch,Oh);d=g.nodeType;switch(d){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:D(null,"");break;default:d=8===d?g.parentNode:g,g=d.namespaceURI||null,d=d.tagName,g=D(g,d)}Dd(ch);xd(ch,g)}function of(){Dd(ch);
Dd(Ph);Dd(lj)}function E(d){Ve(lj.current);var g=Ve(ch.current),n=D(g,d.type);g!==n&&(xd(Ph,d),xd(ch,n))}function Q(d){Ph.current===d&&(Dd(ch),Dd(Ph))}function Va(d){for(var g=d;null!==g;){if(13===g.tag){var n=g.memoizedState;if(null!==n&&(n=n.dehydrated,null===n||"$?"===n.data||"$!"===n.data))return g}else if(19===g.tag&&void 0!==g.memoizedProps.revealOrder){if(0!==(g.flags&64))return g}else if(null!==g.child){g.child.return=g;g=g.child;continue}if(g===d)break;for(;null===g.sibling;){if(null===g.return||
g.return===d)return null;g=g.return}g.sibling.return=g.return;g=g.sibling}return null}function Ab(d,g){var n=Bg(5,null,null,0);n.elementType="DELETED";n.type="DELETED";n.stateNode=g;n.return=d;n.flags=8;null!==d.lastEffect?(d.lastEffect.nextEffect=n,d.lastEffect=n):d.firstEffect=d.lastEffect=n}function Db(d,g){switch(d.tag){case 5:var n=d.type;g=1!==g.nodeType||n.toLowerCase()!==g.nodeName.toLowerCase()?null:g;return null!==g?(d.stateNode=g,!0):!1;case 6:return g=""===d.pendingProps||3!==g.nodeType?
null:g,null!==g?(d.stateNode=g,!0):!1;case 13:return!1;default:return!1}}function Nb(d){if(Ag){var g=zg;if(g){var n=g;if(!Db(d,g)){g=vc(n.nextSibling);if(!g||!Db(d,g)){d.flags=d.flags&-1025|2;Ag=!1;yf=d;return}Ab(yf,n)}yf=d;zg=vc(g.firstChild)}else d.flags=d.flags&-1025|2,Ag=!1,yf=d}}function $b(d){for(d=d.return;null!==d&&5!==d.tag&&3!==d.tag&&13!==d.tag;)d=d.return;yf=d}function Sc(d){if(d!==yf)return!1;if(!Ag)return $b(d),Ag=!0,!1;var g=d.type;if(5!==d.tag||"head"!==g&&"body"!==g&&!hc(g,d.memoizedProps))for(g=
zg;g;)Ab(d,g),g=vc(g.nextSibling);$b(d);if(13===d.tag){d=d.memoizedState;d=null!==d?d.dehydrated:null;if(!d)throw Error(h(317));a:{d=d.nextSibling;for(g=0;d;){if(8===d.nodeType){var n=d.data;if("/$"===n){if(0===g){zg=vc(d.nextSibling);break a}g--}else"$"!==n&&"$!"!==n&&"$?"!==n||g++}d=d.nextSibling}zg=null}}else zg=yf?vc(d.stateNode.nextSibling):null;return!0}function Mc(){for(var d=0;d<Bf.length;d++)Bf[d]._workInProgressVersionPrimary=null;Bf.length=0}function $c(){throw Error(h(321));}function nd(d,
g){if(null===g)return!1;for(var n=0;n<g.length&&n<d.length;n++)if(!ug(d[n],g[n]))return!1;return!0}function qd(d,g,n,N,ra,Za){mj=Za;Ze=g;g.memoizedState=null;g.updateQueue=null;g.lanes=0;lg.current=null===d||null===d.memoizedState?Hl:Ml;d=n(N,ra);if(Bh){Za=0;do{Bh=!1;if(!(25>Za))throw Error(h(301));Za+=1;Yf=Xf=null;g.updateQueue=null;lg.current=Nl;d=n(N,ra)}while(Bh)}lg.current=Ni;g=null!==Xf&&null!==Xf.next;mj=0;Yf=Xf=Ze=null;xg=!1;if(g)throw Error(h(300));return d}function Id(){var d={memoizedState:null,
baseState:null,baseQueue:null,queue:null,next:null};null===Yf?Ze.memoizedState=Yf=d:Yf=Yf.next=d;return Yf}function Fd(){if(null===Xf){var d=Ze.alternate;d=null!==d?d.memoizedState:null}else d=Xf.next;var g=null===Yf?Ze.memoizedState:Yf.next;if(null!==g)Yf=g,Xf=d;else{if(null===d)throw Error(h(310));Xf=d;d={memoizedState:Xf.memoizedState,baseState:Xf.baseState,baseQueue:Xf.baseQueue,queue:Xf.queue,next:null};null===Yf?Ze.memoizedState=Yf=d:Yf=Yf.next=d}return Yf}function re(d,g){return"function"===
typeof g?g(d):g}function oe(d){var g=Fd(),n=g.queue;if(null===n)throw Error(h(311));n.lastRenderedReducer=d;var N=Xf,ra=N.baseQueue,Za=n.pending;if(null!==Za){if(null!==ra){var tb=ra.next;ra.next=Za.next;Za.next=tb}N.baseQueue=ra=Za;n.pending=null}if(null!==ra){ra=ra.next;N=N.baseState;var Jb=tb=Za=null,ec=ra;do{var Qc=ec.lane;if((mj&Qc)===Qc)null!==Jb&&(Jb=Jb.next={lane:0,action:ec.action,eagerReducer:ec.eagerReducer,eagerState:ec.eagerState,next:null}),N=ec.eagerReducer===d?ec.eagerState:d(N,ec.action);
else{var Od={lane:Qc,action:ec.action,eagerReducer:ec.eagerReducer,eagerState:ec.eagerState,next:null};null===Jb?(tb=Jb=Od,Za=N):Jb=Jb.next=Od;Ze.lanes|=Qc;$i|=Qc}ec=ec.next}while(null!==ec&&ec!==ra);null===Jb?Za=N:Jb.next=tb;ug(N,g.memoizedState)||(yg=!0);g.memoizedState=N;g.baseState=Za;g.baseQueue=Jb;n.lastRenderedState=N}return[g.memoizedState,n.dispatch]}function pe(d){var g=Fd(),n=g.queue;if(null===n)throw Error(h(311));n.lastRenderedReducer=d;var N=n.dispatch,ra=n.pending,Za=g.memoizedState;
if(null!==ra){n.pending=null;var tb=ra=ra.next;do Za=d(Za,tb.action),tb=tb.next;while(tb!==ra);ug(Za,g.memoizedState)||(yg=!0);g.memoizedState=Za;null===g.baseQueue&&(g.baseState=Za);n.lastRenderedState=Za}return[Za,N]}function ge(d,g,n){var N=g._getVersion;N=N(g._source);var ra=g._workInProgressVersionPrimary;if(null!==ra)d=ra===N;else if(d=d.mutableReadLanes,d=(mj&d)===d)g._workInProgressVersionPrimary=N,Bf.push(g);if(d)return n(g._source);Bf.push(g);throw Error(h(350));}function ye(d,g,n,N){var ra=
bg;if(null===ra)throw Error(h(349));var Za=g._getVersion,tb=Za(g._source),Jb=lg.current,ec=Jb.useState(function(){return ge(ra,g,n)}),Qc=ec[1],Od=ec[0];ec=Yf;var Fe=d.memoizedState,kd=Fe.refs,be=kd.getSnapshot,Be=Fe.source;Fe=Fe.subscribe;var ue=Ze;d.memoizedState={refs:kd,source:g,subscribe:N};Jb.useEffect(function(){kd.getSnapshot=n;kd.setSnapshot=Qc;var Ec=Za(g._source);if(!ug(tb,Ec)){Ec=n(g._source);ug(Od,Ec)||(Qc(Ec),Ec=Nd(ue),ra.mutableReadLanes|=Ec&ra.pendingLanes);Ec=ra.mutableReadLanes;ra.entangledLanes|=
Ec;for(var ic=ra.entanglements,Ac=Ec;0<Ac;){var dd=31-mh(Ac),id=1<<dd;ic[dd]|=Ec;Ac&=~id}}},[n,g,N]);Jb.useEffect(function(){return N(g._source,function(){var Ec=kd.getSnapshot,ic=kd.setSnapshot;try{ic(Ec(g._source));var Ac=Nd(ue);ra.mutableReadLanes|=Ac&ra.pendingLanes}catch(dd){ic(function(){throw dd;})}})},[g,N]);ug(be,n)&&ug(Be,g)&&ug(Fe,N)||(d={pending:null,dispatch:null,lastRenderedReducer:re,lastRenderedState:Od},d.dispatch=Qc=ob.bind(null,Ze,d),ec.queue=d,ec.baseQueue=null,Od=ge(ra,g,n),ec.memoizedState=
ec.baseState=Od);return Od}function zf(d,g,n){var N=Fd();return ye(N,d,g,n)}function tf(d){var g=Id();"function"===typeof d&&(d=d());g.memoizedState=g.baseState=d;d=g.queue={pending:null,dispatch:null,lastRenderedReducer:re,lastRenderedState:d};d=d.dispatch=ob.bind(null,Ze,d);return[g.memoizedState,d]}function Df(d,g,n,N){d={tag:d,create:g,destroy:n,deps:N,next:null};g=Ze.updateQueue;null===g?(g={lastEffect:null},Ze.updateQueue=g,g.lastEffect=d.next=d):(n=g.lastEffect,null===n?g.lastEffect=d.next=
d:(N=n.next,n.next=d,d.next=N,g.lastEffect=d));return d}function pf(d){var g=Id();d={current:d};return g.memoizedState=d}function eg(){return Fd().memoizedState}function If(d,g,n,N){var ra=Id();Ze.flags|=d;ra.memoizedState=Df(1|g,n,void 0,void 0===N?null:N)}function Rf(d,g,n,N){var ra=Fd();N=void 0===N?null:N;var Za=void 0;if(null!==Xf){var tb=Xf.memoizedState;Za=tb.destroy;if(null!==N&&nd(N,tb.deps)){Df(g,n,Za,N);return}}Ze.flags|=d;ra.memoizedState=Df(1|g,n,Za,N)}function A(d,g){return If(516,4,
d,g)}function B(d,g){return Rf(516,4,d,g)}function K(d,g){return Rf(4,2,d,g)}function T(d,g){if("function"===typeof g)return d=d(),g(d),function(){g(null)};if(null!==g&&void 0!==g)return d=d(),g.current=d,function(){g.current=null}}function la(d,g,n){n=null!==n&&void 0!==n?n.concat([d]):null;return Rf(4,2,T.bind(null,g,d),n)}function sa(){}function Na(d,g){var n=Fd();g=void 0===g?null:g;var N=n.memoizedState;if(null!==N&&null!==g&&nd(g,N[1]))return N[0];n.memoizedState=[d,g];return d}function hb(d,
g){var n=Fd();g=void 0===g?null:g;var N=n.memoizedState;if(null!==N&&null!==g&&nd(g,N[1]))return N[0];d=d();n.memoizedState=[d,g];return d}function fb(d,g){var n=ef();cc(98>n?98:n,function(){d(!0)});cc(97<n?97:n,function(){var N=og.transition;og.transition=1;try{d(!1),g()}finally{og.transition=N}})}function ob(d,g,n){var N=Vc(),ra=Nd(d),Za={lane:ra,action:n,eagerReducer:null,eagerState:null,next:null},tb=g.pending;null===tb?Za.next=Za:(Za.next=tb.next,tb.next=Za);g.pending=Za;tb=d.alternate;if(d===
Ze||null!==tb&&tb===Ze)Bh=xg=!0;else{if(0===d.lanes&&(null===tb||0===tb.lanes)&&(tb=g.lastRenderedReducer,null!==tb))try{var Jb=g.lastRenderedState,ec=tb(Jb,n);Za.eagerReducer=tb;Za.eagerState=ec;if(ug(ec,Jb))return}catch(Qc){}finally{}ze(d,ra,N)}}function pb(d,g,n,N){g.child=null===d?Tk(g,null,n,N):Sh(g,d.child,n,N)}function Kb(d,g,n,N,ra){n=n.render;var Za=g.ref;je(g,ra);N=qd(d,g,n,N,Za,ra);if(null!==d&&!yg)return g.updateQueue=d.updateQueue,g.flags&=-517,d.lanes&=~ra,Bd(d,g,ra);g.flags|=1;pb(d,
g,N,ra);return g.child}function Vb(d,g,n,N,ra,Za){if(null===d){var tb=n.type;if("function"===typeof tb&&!Kf(tb)&&void 0===tb.defaultProps&&null===n.compare&&void 0===n.defaultProps)return g.tag=15,g.type=tb,l(d,g,tb,N,ra,Za);d=Ah(n.type,null,N,g,g.mode,Za);d.ref=g.ref;d.return=g;return g.child=d}tb=d.child;if(0===(ra&Za)&&(ra=tb.memoizedProps,n=n.compare,n=null!==n?n:sc,n(ra,N)&&d.ref===g.ref))return Bd(d,g,Za);g.flags|=1;d=zh(tb,N);d.ref=g.ref;d.return=g;return g.child=d}function l(d,g,n,N,ra,Za){if(null!==
d&&sc(d.memoizedProps,N)&&d.ref===g.ref)if(yg=!1,0!==(Za&ra))0!==(d.flags&16384)&&(yg=!0);else return g.lanes=d.lanes,Bd(d,g,Za);return W(d,g,n,N,Za)}function v(d,g,n){var N=g.pendingProps,ra=N.children,Za=null!==d?d.memoizedState:null;if("hidden"===N.mode||"unstable-defer-without-hiding"===N.mode)if(0===(g.mode&4))g.memoizedState={baseLanes:0},Cd(g,n);else if(0!==(n&1073741824))g.memoizedState={baseLanes:0},Cd(g,null!==Za?Za.baseLanes:n);else return d=null!==Za?Za.baseLanes|n:n,g.lanes=g.childLanes=
1073741824,g.memoizedState={baseLanes:d},Cd(g,d),null;else null!==Za?(N=Za.baseLanes|n,g.memoizedState=null):N=n,Cd(g,N);pb(d,g,ra,n);return g.child}function O(d,g){var n=g.ref;if(null===d&&null!==n||null!==d&&d.ref!==n)g.flags|=128}function W(d,g,n,N,ra){var Za=qe(n)?mi:dg.current;Za=Mb(g,Za);je(g,ra);n=qd(d,g,n,N,Za,ra);if(null!==d&&!yg)return g.updateQueue=d.updateQueue,g.flags&=-517,d.lanes&=~ra,Bd(d,g,ra);g.flags|=1;pb(d,g,n,ra);return g.child}function Ra(d,g,n,N,ra){if(qe(n)){var Za=!0;Te(g)}else Za=
!1;je(g,ra);if(null===g.stateNode)null!==d&&(d.alternate=null,g.alternate=null,g.flags|=2),lf(g,n,N),Me(g,n,N,ra),N=!0;else if(null===d){var tb=g.stateNode,Jb=g.memoizedProps;tb.props=Jb;var ec=tb.context,Qc=n.contextType;"object"===typeof Qc&&null!==Qc?Qc=$d(Qc):(Qc=qe(n)?mi:dg.current,Qc=Mb(g,Qc));var Od=n.getDerivedStateFromProps,Fe="function"===typeof Od||"function"===typeof tb.getSnapshotBeforeUpdate;Fe||"function"!==typeof tb.UNSAFE_componentWillReceiveProps&&"function"!==typeof tb.componentWillReceiveProps||
(Jb!==N||ec!==Qc)&&uf(g,tb,N,Qc);Nh=!1;var kd=g.memoizedState;tb.state=kd;xe(g,N,tb,ra);ec=g.memoizedState;Jb!==N||kd!==ec||pg.current||Nh?("function"===typeof Od&&(Oe(g,n,Od,N),ec=g.memoizedState),(Jb=Nh||We(g,n,Jb,N,kd,ec,Qc))?(Fe||"function"!==typeof tb.UNSAFE_componentWillMount&&"function"!==typeof tb.componentWillMount||("function"===typeof tb.componentWillMount&&tb.componentWillMount(),"function"===typeof tb.UNSAFE_componentWillMount&&tb.UNSAFE_componentWillMount()),"function"===typeof tb.componentDidMount&&
(g.flags|=4)):("function"===typeof tb.componentDidMount&&(g.flags|=4),g.memoizedProps=N,g.memoizedState=ec),tb.props=N,tb.state=ec,tb.context=Qc,N=Jb):("function"===typeof tb.componentDidMount&&(g.flags|=4),N=!1)}else{tb=g.stateNode;Nc(d,g);Jb=g.memoizedProps;Qc=g.type===g.elementType?Jb:se(g.type,Jb);tb.props=Qc;Fe=g.pendingProps;kd=tb.context;ec=n.contextType;"object"===typeof ec&&null!==ec?ec=$d(ec):(ec=qe(n)?mi:dg.current,ec=Mb(g,ec));var be=n.getDerivedStateFromProps;(Od="function"===typeof be||
"function"===typeof tb.getSnapshotBeforeUpdate)||"function"!==typeof tb.UNSAFE_componentWillReceiveProps&&"function"!==typeof tb.componentWillReceiveProps||(Jb!==Fe||kd!==ec)&&uf(g,tb,N,ec);Nh=!1;kd=g.memoizedState;tb.state=kd;xe(g,N,tb,ra);var Be=g.memoizedState;Jb!==Fe||kd!==Be||pg.current||Nh?("function"===typeof be&&(Oe(g,n,be,N),Be=g.memoizedState),(Qc=Nh||We(g,n,Qc,N,kd,Be,ec))?(Od||"function"!==typeof tb.UNSAFE_componentWillUpdate&&"function"!==typeof tb.componentWillUpdate||("function"===
typeof tb.componentWillUpdate&&tb.componentWillUpdate(N,Be,ec),"function"===typeof tb.UNSAFE_componentWillUpdate&&tb.UNSAFE_componentWillUpdate(N,Be,ec)),"function"===typeof tb.componentDidUpdate&&(g.flags|=4),"function"===typeof tb.getSnapshotBeforeUpdate&&(g.flags|=256)):("function"!==typeof tb.componentDidUpdate||Jb===d.memoizedProps&&kd===d.memoizedState||(g.flags|=4),"function"!==typeof tb.getSnapshotBeforeUpdate||Jb===d.memoizedProps&&kd===d.memoizedState||(g.flags|=256),g.memoizedProps=N,g.memoizedState=
Be),tb.props=N,tb.state=Be,tb.context=ec,N=Qc):("function"!==typeof tb.componentDidUpdate||Jb===d.memoizedProps&&kd===d.memoizedState||(g.flags|=4),"function"!==typeof tb.getSnapshotBeforeUpdate||Jb===d.memoizedProps&&kd===d.memoizedState||(g.flags|=256),N=!1)}return ub(d,g,n,N,Za,ra)}function ub(d,g,n,N,ra,Za){O(d,g);var tb=0!==(g.flags&64);if(!N&&!tb)return ra&&kf(g,n,!1),Bd(d,g,Za);N=g.stateNode;nm.current=g;var Jb=tb&&"function"!==typeof n.getDerivedStateFromError?null:N.render();g.flags|=1;null!==
d&&tb?(g.child=Sh(g,d.child,null,Za),g.child=Sh(g,null,Jb,Za)):pb(d,g,Jb,Za);g.memoizedState=N.state;ra&&kf(g,n,!0);return g.child}function Fb(d){var g=d.stateNode;g.pendingContext?Ce(d,g.pendingContext,g.pendingContext!==g.context):g.context&&Ce(d,g.context,!1);nf(d,g.containerInfo)}function Sb(d,g,n){var N=g.pendingProps,ra=Cf.current,Za=!1,tb;(tb=0!==(g.flags&64))||(tb=null!==d&&null===d.memoizedState?!1:0!==(ra&2));tb?(Za=!0,g.flags&=-65):null!==d&&null===d.memoizedState||void 0===N.fallback||
!0===N.unstable_avoidThisFallback||(ra|=1);xd(Cf,ra&1);if(null===d){void 0!==N.fallback&&Nb(g);d=N.children;ra=N.fallback;if(Za)return d=fc(g,d,ra,n),g.child.memoizedState={baseLanes:n},g.memoizedState=qj,d;if("number"===typeof N.unstable_expectedLoadTime)return d=fc(g,d,ra,n),g.child.memoizedState={baseLanes:n},g.memoizedState=qj,g.lanes=33554432,d;n=Qi({mode:"visible",children:d},g.mode,n,null);n.return=g;return g.child=n}if(null!==d.memoizedState){if(Za)return N=Hc(d,g,N.children,N.fallback,n),
Za=g.child,ra=d.child.memoizedState,Za.memoizedState=null===ra?{baseLanes:n}:{baseLanes:ra.baseLanes|n},Za.childLanes=d.childLanes&~n,g.memoizedState=qj,N;n=Bc(d,g,N.children,n);g.memoizedState=null;return n}if(Za)return N=Hc(d,g,N.children,N.fallback,n),Za=g.child,ra=d.child.memoizedState,Za.memoizedState=null===ra?{baseLanes:n}:{baseLanes:ra.baseLanes|n},Za.childLanes=d.childLanes&~n,g.memoizedState=qj,N;n=Bc(d,g,N.children,n);g.memoizedState=null;return n}function fc(d,g,n,N){var ra=d.mode,Za=
d.child;g={mode:"hidden",children:g};0===(ra&2)&&null!==Za?(Za.childLanes=0,Za.pendingProps=g):Za=Qi(g,ra,0,null);n=Ff(n,ra,N,null);Za.return=d;n.return=d;Za.sibling=n;d.child=Za;return n}function Bc(d,g,n,N){var ra=d.child;d=ra.sibling;n=zh(ra,{mode:"visible",children:n});0===(g.mode&2)&&(n.lanes=N);n.return=g;n.sibling=null;null!==d&&(d.nextEffect=null,d.flags=8,g.firstEffect=g.lastEffect=d);return g.child=n}function Hc(d,g,n,N,ra){var Za=g.mode,tb=d.child;d=tb.sibling;var Jb={mode:"hidden",children:n};
0===(Za&2)&&g.child!==tb?(n=g.child,n.childLanes=0,n.pendingProps=Jb,tb=n.lastEffect,null!==tb?(g.firstEffect=n.firstEffect,g.lastEffect=tb,tb.nextEffect=null):g.firstEffect=g.lastEffect=null):n=zh(tb,Jb);null!==d?N=zh(d,N):(N=Ff(N,Za,ra,null),N.flags|=2);N.return=g;n.return=g;n.sibling=N;g.child=n;return N}function hd(d,g){d.lanes|=g;var n=d.alternate;null!==n&&(n.lanes|=g);de(d.return,g)}function yd(d,g,n,N,ra,Za){var tb=d.memoizedState;null===tb?d.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,
last:N,tail:n,tailMode:ra,lastEffect:Za}:(tb.isBackwards=g,tb.rendering=null,tb.renderingStartTime=0,tb.last=N,tb.tail=n,tb.tailMode=ra,tb.lastEffect=Za)}function Oc(d,g,n){var N=g.pendingProps,ra=N.revealOrder,Za=N.tail;pb(d,g,N.children,n);N=Cf.current;if(0!==(N&2))N=N&1|2,g.flags|=64;else{if(null!==d&&0!==(d.flags&64))a:for(d=g.child;null!==d;){if(13===d.tag)null!==d.memoizedState&&hd(d,n);else if(19===d.tag)hd(d,n);else if(null!==d.child){d.child.return=d;d=d.child;continue}if(d===g)break a;for(;null===
d.sibling;){if(null===d.return||d.return===g)break a;d=d.return}d.sibling.return=d.return;d=d.sibling}N&=1}xd(Cf,N);if(0===(g.mode&2))g.memoizedState=null;else switch(ra){case "forwards":n=g.child;for(ra=null;null!==n;)d=n.alternate,null!==d&&null===Va(d)&&(ra=n),n=n.sibling;n=ra;null===n?(ra=g.child,g.child=null):(ra=n.sibling,n.sibling=null);yd(g,!1,ra,n,Za,g.lastEffect);break;case "backwards":n=null;ra=g.child;for(g.child=null;null!==ra;){d=ra.alternate;if(null!==d&&null===Va(d)){g.child=ra;break}d=
ra.sibling;ra.sibling=n;n=ra;ra=d}yd(g,!0,n,null,Za,g.lastEffect);break;case "together":yd(g,!1,null,null,void 0,g.lastEffect);break;default:g.memoizedState=null}return g.child}function Bd(d,g,n){null!==d&&(g.dependencies=d.dependencies);$i|=g.lanes;if(0!==(n&g.childLanes)){if(null!==d&&g.child!==d.child)throw Error(h(153));if(null!==g.child){d=g.child;n=zh(d,d.pendingProps);g.child=n;for(n.return=g;null!==d.sibling;)d=d.sibling,n=n.sibling=zh(d,d.pendingProps),n.return=g;n.sibling=null}return g.child}return null}
function Ld(d,g){if(!Ag)switch(d.tailMode){case "hidden":g=d.tail;for(var n=null;null!==g;)null!==g.alternate&&(n=g),g=g.sibling;null===n?d.tail=null:n.sibling=null;break;case "collapsed":n=d.tail;for(var N=null;null!==n;)null!==n.alternate&&(N=n),n=n.sibling;null===N?g||null===d.tail?d.tail=null:d.tail.sibling=null:N.sibling=null}}function Le(d,g,n){var N=g.pendingProps;switch(g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return qe(g.type)&&
ne(),null;case 3:of();Dd(pg);Dd(dg);Mc();N=g.stateNode;N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null);if(null===d||null===d.child)Sc(g)?g.flags|=4:N.hydrate||(g.flags|=256);al(g);return null;case 5:Q(g);var ra=Ve(lj.current);n=g.type;if(null!==d&&null!=g.stateNode)Sl(d,g,n,N,ra),d.ref!==g.ref&&(g.flags|=128);else{if(!N){if(null===g.stateNode)throw Error(h(166));return null}d=Ve(ch.current);if(Sc(g)){N=g.stateNode;n=g.type;var Za=g.memoizedProps;N[Rg]=g;N[Rj]=Za;switch(n){case "dialog":Hd("cancel",
N);Hd("close",N);break;case "iframe":case "object":case "embed":Hd("load",N);break;case "video":case "audio":for(d=0;d<hg.length;d++)Hd(hg[d],N);break;case "source":Hd("error",N);break;case "img":case "image":case "link":Hd("error",N);Hd("load",N);break;case "details":Hd("toggle",N);break;case "input":va(N,Za);Hd("invalid",N);break;case "select":N._wrapperState={wasMultiple:!!Za.multiple};Hd("invalid",N);break;case "textarea":ja(N,Za),Hd("invalid",N)}ia(n,Za);d=null;for(var tb in Za)Za.hasOwnProperty(tb)&&
(ra=Za[tb],"children"===tb?"string"===typeof ra?N.textContent!==ra&&(d=["children",ra]):"number"===typeof ra&&N.textContent!==""+ra&&(d=["children",""+ra]):Vh.hasOwnProperty(tb)&&null!=ra&&"onScroll"===tb&&Hd("scroll",N));switch(n){case "input":ca(N);pa(N,Za,!0);break;case "textarea":ca(N);y(N);break;case "select":case "option":break;default:"function"===typeof Za.onClick&&(N.onclick=eb)}N=d;g.updateQueue=N;null!==N&&(g.flags|=4)}else{tb=9===ra.nodeType?ra:ra.ownerDocument;d===Cj.html&&(d=z(n));d===
Cj.html?"script"===n?(d=tb.createElement("div"),d.innerHTML="\x3cscript\x3e\x3c/script\x3e",d=d.removeChild(d.firstChild)):"string"===typeof N.is?d=tb.createElement(n,{is:N.is}):(d=tb.createElement(n),"select"===n&&(tb=d,N.multiple?tb.multiple=!0:N.size&&(tb.size=N.size))):d=tb.createElementNS(d,n);d[Rg]=g;d[Rj]=N;mm(d,g,!1,!1);g.stateNode=d;tb=Pa(n,N);switch(n){case "dialog":Hd("cancel",d);Hd("close",d);ra=N;break;case "iframe":case "object":case "embed":Hd("load",d);ra=N;break;case "video":case "audio":for(ra=
0;ra<hg.length;ra++)Hd(hg[ra],d);ra=N;break;case "source":Hd("error",d);ra=N;break;case "img":case "image":case "link":Hd("error",d);Hd("load",d);ra=N;break;case "details":Hd("toggle",d);ra=N;break;case "input":va(d,N);ra=Aa(d,N);Hd("invalid",d);break;case "option":ra=Ia(d,N);break;case "select":d._wrapperState={wasMultiple:!!N.multiple};ra=rf({},N,{value:void 0});Hd("invalid",d);break;case "textarea":ja(d,N);ra=$a(d,N);Hd("invalid",d);break;default:ra=N}ia(n,ra);var Jb=ra;for(Za in Jb)if(Jb.hasOwnProperty(Za)){var ec=
Jb[Za];"style"===Za?V(d,ec):"dangerouslySetInnerHTML"===Za?(ec=ec?ec.__html:void 0,null!=ec&&hk(d,ec)):"children"===Za?"string"===typeof ec?("textarea"!==n||""!==ec)&&C(d,ec):"number"===typeof ec&&C(d,""+ec):"suppressContentEditableWarning"!==Za&&"suppressHydrationWarning"!==Za&&"autoFocus"!==Za&&(Vh.hasOwnProperty(Za)?null!=ec&&"onScroll"===Za&&Hd("scroll",d):null!=ec&&rb(d,Za,ec,tb))}switch(n){case "input":ca(d);pa(d,N,!1);break;case "textarea":ca(d);y(d);break;case "option":null!=N.value&&d.setAttribute("value",
""+na(N.value));break;case "select":d.multiple=!!N.multiple;Za=N.value;null!=Za?wa(d,!!N.multiple,Za,!1):null!=N.defaultValue&&wa(d,!!N.multiple,N.defaultValue,!0);break;default:"function"===typeof ra.onClick&&(d.onclick=eb)}Tb(n,N)&&(g.flags|=4)}null!==g.ref&&(g.flags|=128)}return null;case 6:if(d&&null!=g.stateNode)Mk(d,g,d.memoizedProps,N);else{if("string"!==typeof N&&null===g.stateNode)throw Error(h(166));n=Ve(lj.current);Ve(ch.current);Sc(g)?(N=g.stateNode,n=g.memoizedProps,N[Rg]=g,N.nodeValue!==
n&&(g.flags|=4)):(N=(9===n.nodeType?n:n.ownerDocument).createTextNode(N),N[Rg]=g,g.stateNode=N)}return null;case 13:Dd(Cf);N=g.memoizedState;if(0!==(g.flags&64))return g.lanes=n,g;N=null!==N;n=!1;null===d?void 0!==g.memoizedProps.fallback&&Sc(g):n=null!==d.memoizedState;if(N&&!n&&0!==(g.mode&2))if(null===d&&!0!==g.memoizedProps.unstable_avoidThisFallback||0!==(Cf.current&1))0===Pf&&(Pf=3);else{if(0===Pf||3===Pf)Pf=4;null===bg||0===($i&134217727)&&0===(Vg&134217727)||te(bg,$f)}if(N||n)g.flags|=4;return null;
case 4:return of(),al(g),null===d&&ce(g.stateNode.containerInfo),null;case 10:return he(g),null;case 17:return qe(g.type)&&ne(),null;case 19:Dd(Cf);N=g.memoizedState;if(null===N)return null;Za=0!==(g.flags&64);tb=N.rendering;if(null===tb)if(Za)Ld(N,!1);else{if(0!==Pf||null!==d&&0!==(d.flags&64))for(d=g.child;null!==d;){tb=Va(d);if(null!==tb){g.flags|=64;Ld(N,!1);Za=tb.updateQueue;null!==Za&&(g.updateQueue=Za,g.flags|=4);null===N.lastEffect&&(g.firstEffect=null);g.lastEffect=N.lastEffect;N=n;for(n=
g.child;null!==n;)Za=n,d=N,Za.flags&=2,Za.nextEffect=null,Za.firstEffect=null,Za.lastEffect=null,tb=Za.alternate,null===tb?(Za.childLanes=0,Za.lanes=d,Za.child=null,Za.memoizedProps=null,Za.memoizedState=null,Za.updateQueue=null,Za.dependencies=null,Za.stateNode=null):(Za.childLanes=tb.childLanes,Za.lanes=tb.lanes,Za.child=tb.child,Za.memoizedProps=tb.memoizedProps,Za.memoizedState=tb.memoizedState,Za.updateQueue=tb.updateQueue,Za.type=tb.type,d=tb.dependencies,Za.dependencies=null===d?null:{lanes:d.lanes,
firstContext:d.firstContext}),n=n.sibling;xd(Cf,Cf.current&1|2);return g.child}d=d.sibling}null!==N.tail&&fd()>vh&&(g.flags|=64,Za=!0,Ld(N,!1),g.lanes=33554432)}else{if(!Za)if(d=Va(tb),null!==d){if(g.flags|=64,Za=!0,n=d.updateQueue,null!==n&&(g.updateQueue=n,g.flags|=4),Ld(N,!0),null===N.tail&&"hidden"===N.tailMode&&!tb.alternate&&!Ag)return g=g.lastEffect=N.lastEffect,null!==g&&(g.nextEffect=null),null}else 2*fd()-N.renderingStartTime>vh&&1073741824!==n&&(g.flags|=64,Za=!0,Ld(N,!1),g.lanes=33554432);
N.isBackwards?(tb.sibling=g.child,g.child=tb):(n=N.last,null!==n?n.sibling=tb:g.child=tb,N.last=tb)}return null!==N.tail?(n=N.tail,N.rendering=n,N.tail=n.sibling,N.lastEffect=g.lastEffect,N.renderingStartTime=fd(),n.sibling=null,g=Cf.current,xd(Cf,Za?g&1|2:g&1),n):null;case 23:case 24:return Af(),null!==d&&null!==d.memoizedState!==(null!==g.memoizedState)&&"unstable-defer-without-hiding"!==N.mode&&(g.flags|=4),null}throw Error(h(156,g.tag));}function X(d){switch(d.tag){case 1:qe(d.type)&&ne();var g=
d.flags;return g&4096?(d.flags=g&-4097|64,d):null;case 3:of();Dd(pg);Dd(dg);Mc();g=d.flags;if(0!==(g&64))throw Error(h(285));d.flags=g&-4097|64;return d;case 5:return Q(d),null;case 13:return Dd(Cf),g=d.flags,g&4096?(d.flags=g&-4097|64,d):null;case 19:return Dd(Cf),null;case 4:return of(),null;case 10:return he(d),null;case 23:case 24:return Af(),null;default:return null}}function Ea(d,g){try{var n="",N=g;do n+=za(N),N=N.return;while(N)}catch(ra){n="\nError generating stack: "+ra.message+"\n"+ra.stack}return{value:d,
source:g,stack:n}}function bb(d,g){try{console.error(g.value)}catch(n){setTimeout(function(){throw n;})}}function qb(d,g,n){n=Qe(-1,n);n.tag=3;n.payload={element:null};var N=g.value;n.callback=function(){Wj||(Wj=!0,Zf=N);bb(d,g)};return n}function Cb(d,g,n){n=Qe(-1,n);n.tag=3;var N=d.type.getDerivedStateFromError;if("function"===typeof N){var ra=g.value;n.payload=function(){bb(d,g);return N(ra)}}var Za=d.stateNode;null!==Za&&"function"===typeof Za.componentDidCatch&&(n.callback=function(){"function"!==
typeof N&&(null===Tg?Tg=new Set([this]):Tg.add(this),bb(d,g));var tb=g.stack;this.componentDidCatch(g.value,{componentStack:null!==tb?tb:""})});return n}function oc(d){var g=d.ref;if(null!==g)if("function"===typeof g)try{g(null)}catch(n){hh(d,n)}else g.current=null}function wc(d,g){switch(g.tag){case 0:case 11:case 15:case 22:return;case 1:if(g.flags&256&&null!==d){var n=d.memoizedProps,N=d.memoizedState;d=g.stateNode;g=d.getSnapshotBeforeUpdate(g.elementType===g.type?n:se(g.type,n),N);d.__reactInternalSnapshotBeforeUpdate=
g}return;case 3:g.flags&256&&xc(g.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(h(163));}function qc(d,g,n){switch(n.tag){case 0:case 11:case 15:case 22:g=n.updateQueue;g=null!==g?g.lastEffect:null;if(null!==g){d=g=g.next;do{if(3===(d.tag&3)){var N=d.create;d.destroy=N()}d=d.next}while(d!==g)}g=n.updateQueue;g=null!==g?g.lastEffect:null;if(null!==g){d=g=g.next;do{var ra=d;N=ra.next;ra=ra.tag;0!==(ra&4)&&0!==(ra&1)&&(sj(n,d),si(n,d));d=N}while(d!==g)}return;case 1:d=
n.stateNode;n.flags&4&&(null===g?d.componentDidMount():(N=n.elementType===n.type?g.memoizedProps:se(n.type,g.memoizedProps),d.componentDidUpdate(N,g.memoizedState,d.__reactInternalSnapshotBeforeUpdate)));g=n.updateQueue;null!==g&&Gd(n,g,d);return;case 3:g=n.updateQueue;if(null!==g){d=null;if(null!==n.child)switch(n.child.tag){case 5:d=n.child.stateNode;break;case 1:d=n.child.stateNode}Gd(n,g,d)}return;case 5:d=n.stateNode;null===g&&n.flags&4&&Tb(n.type,n.memoizedProps)&&d.focus();return;case 6:return;
case 4:return;case 12:return;case 13:null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&yb(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(h(163));}function yc(d,g){for(var n=d;;){if(5===n.tag){var N=n.stateNode;if(g)N=N.style,"function"===typeof N.setProperty?N.setProperty("display","none","important"):N.display="none";else{N=n.stateNode;var ra=n.memoizedProps.style;ra=void 0!==ra&&null!==ra&&ra.hasOwnProperty("display")?
ra.display:null;N.style.display=J("display",ra)}}else if(6===n.tag)n.stateNode.nodeValue=g?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===d)&&null!==n.child){n.child.return=n;n=n.child;continue}if(n===d)break;for(;null===n.sibling;){if(null===n.return||n.return===d)return;n=n.return}n.sibling.return=n.return;n=n.sibling}}function Gc(d,g){if(ni&&"function"===typeof ni.onCommitFiberUnmount)try{ni.onCommitFiberUnmount(Hk,g)}catch(Za){}switch(g.tag){case 0:case 11:case 14:case 15:case 22:d=
g.updateQueue;if(null!==d&&(d=d.lastEffect,null!==d)){var n=d=d.next;do{var N=n,ra=N.destroy;N=N.tag;if(void 0!==ra)if(0!==(N&4))sj(g,n);else{N=g;try{ra()}catch(Za){hh(N,Za)}}n=n.next}while(n!==d)}break;case 1:oc(g);d=g.stateNode;if("function"===typeof d.componentWillUnmount)try{d.props=g.memoizedProps,d.state=g.memoizedState,d.componentWillUnmount()}catch(Za){hh(g,Za)}break;case 5:oc(g);break;case 4:vd(d,g)}}function jd(d){d.alternate=null;d.child=null;d.dependencies=null;d.firstEffect=null;d.lastEffect=
null;d.memoizedProps=null;d.memoizedState=null;d.pendingProps=null;d.return=null;d.updateQueue=null}function Tc(d){return 5===d.tag||3===d.tag||4===d.tag}function Pc(d){a:{for(var g=d.return;null!==g;){if(Tc(g))break a;g=g.return}throw Error(h(160));}var n=g;g=n.stateNode;switch(n.tag){case 5:var N=!1;break;case 3:g=g.containerInfo;N=!0;break;case 4:g=g.containerInfo;N=!0;break;default:throw Error(h(161));}n.flags&16&&(C(g,""),n.flags&=-17);n=d;a:b:for(;;){for(;null===n.sibling;){if(null===n.return||
Tc(n.return)){n=null;break a}n=n.return}n.sibling.return=n.return;for(n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(n.flags&2)continue b;if(null===n.child||4===n.tag)continue b;else n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break a}}N?bd(d,n,g):rd(d,n,g)}function bd(d,g,n){var N=d.tag,ra=5===N||6===N;if(ra)d=ra?d.stateNode:d.stateNode.instance,g?8===n.nodeType?n.parentNode.insertBefore(d,g):n.insertBefore(d,g):(8===n.nodeType?(g=n.parentNode,g.insertBefore(d,n)):(g=n,g.appendChild(d)),
n=n._reactRootContainer,null!==n&&void 0!==n||null!==g.onclick||(g.onclick=eb));else if(4!==N&&(d=d.child,null!==d))for(bd(d,g,n),d=d.sibling;null!==d;)bd(d,g,n),d=d.sibling}function rd(d,g,n){var N=d.tag,ra=5===N||6===N;if(ra)d=ra?d.stateNode:d.stateNode.instance,g?n.insertBefore(d,g):n.appendChild(d);else if(4!==N&&(d=d.child,null!==d))for(rd(d,g,n),d=d.sibling;null!==d;)rd(d,g,n),d=d.sibling}function vd(d,g){for(var n=g,N=!1,ra,Za;;){if(!N){N=n.return;a:for(;;){if(null===N)throw Error(h(160));
ra=N.stateNode;switch(N.tag){case 5:Za=!1;break a;case 3:ra=ra.containerInfo;Za=!0;break a;case 4:ra=ra.containerInfo;Za=!0;break a}N=N.return}N=!0}if(5===n.tag||6===n.tag){var tb=d,Jb=n,ec=Jb;a:for(;;)if(Gc(tb,ec),null!==ec.child&&4!==ec.tag)ec.child.return=ec,ec=ec.child;else{if(ec===Jb)break a;for(;null===ec.sibling;){if(null===ec.return||ec.return===Jb)break a;ec=ec.return}ec.sibling.return=ec.return;ec=ec.sibling}Za?(tb=ra,Jb=n.stateNode,8===tb.nodeType?tb.parentNode.removeChild(Jb):tb.removeChild(Jb)):
ra.removeChild(n.stateNode)}else if(4===n.tag){if(null!==n.child){ra=n.stateNode.containerInfo;Za=!0;n.child.return=n;n=n.child;continue}}else if(Gc(d,n),null!==n.child){n.child.return=n;n=n.child;continue}if(n===g)break;for(;null===n.sibling;){if(null===n.return||n.return===g)return;n=n.return;4===n.tag&&(N=!1)}n.sibling.return=n.return;n=n.sibling}}function ie(d,g){switch(g.tag){case 0:case 11:case 14:case 15:case 22:var n=g.updateQueue;n=null!==n?n.lastEffect:null;if(null!==n){var N=n=n.next;do 3===
(N.tag&3)&&(d=N.destroy,N.destroy=void 0,void 0!==d&&d()),N=N.next;while(N!==n)}return;case 1:return;case 5:n=g.stateNode;if(null!=n){N=g.memoizedProps;var ra=null!==d?d.memoizedProps:N;d=g.type;var Za=g.updateQueue;g.updateQueue=null;if(null!==Za){n[Rj]=N;"input"===d&&"radio"===N.type&&null!=N.name&&xa(n,N);Pa(d,ra);g=Pa(d,N);for(ra=0;ra<Za.length;ra+=2){var tb=Za[ra],Jb=Za[ra+1];"style"===tb?V(n,Jb):"dangerouslySetInnerHTML"===tb?hk(n,Jb):"children"===tb?C(n,Jb):rb(n,tb,Jb,g)}switch(d){case "input":fa(n,
N);break;case "textarea":u(n,N);break;case "select":d=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!N.multiple,Za=N.value,null!=Za?wa(n,!!N.multiple,Za,!1):d!==!!N.multiple&&(null!=N.defaultValue?wa(n,!!N.multiple,N.defaultValue,!0):wa(n,!!N.multiple,N.multiple?[]:"",!1))}}}return;case 6:if(null===g.stateNode)throw Error(h(162));g.stateNode.nodeValue=g.memoizedProps;return;case 3:n=g.stateNode;n.hydrate&&(n.hydrate=!1,yb(n.containerInfo));return;case 12:return;case 13:null!==g.memoizedState&&
(Of=fd(),yc(g.child,!0));Xd(g);return;case 19:Xd(g);return;case 17:return;case 23:case 24:yc(g,null!==g.memoizedState);return}throw Error(h(163));}function Xd(d){var g=d.updateQueue;if(null!==g){d.updateQueue=null;var n=d.stateNode;null===n&&(n=d.stateNode=new pi);g.forEach(function(N){var ra=Ql.bind(null,d,N);n.has(N)||(n.add(N),N.then(ra,ra))})}}function ee(d,g){return null!==d&&(d=d.memoizedState,null===d||null!==d.dehydrated)?(g=g.memoizedState,null!==g&&null===g.dehydrated):!1}function ud(){vh=
fd()+500}function Vc(){return 0!==(Ae&48)?fd():-1!==Hi?Hi:Hi=fd()}function Nd(d){d=d.mode;if(0===(d&2))return 1;if(0===(d&4))return 99===ef()?1:2;0===uh&&(uh=ag);if(0!==gg.transition){0!==Ii&&(Ii=null!==fg?fg.pendingLanes:0);d=uh;var g=4186112&~Ii;g&=-g;0===g&&(d=4186112&~d,g=d&-d,0===g&&(g=8192));return g}d=ef();0!==(Ae&4)&&98===d?d=Lc(12,uh):(d=Ic(d),d=Lc(d,uh));return d}function ze(d,g,n){if(50<Kh)throw Kh=0,Tj=null,Error(h(185));d=Ie(d,g);if(null===d)return null;Md(d,g,n);d===bg&&(Vg|=g,4===Pf&&
te(d,$f));var N=ef();1===g?0!==(Ae&8)&&0===(Ae&48)?gf(d):(Pe(d,n),0===Ae&&(ud(),Yb())):(0===(Ae&4)||98!==N&&99!==N||(null===th?th=new Set([d]):th.add(d)),Pe(d,n));fg=d}function Ie(d,g){d.lanes|=g;var n=d.alternate;null!==n&&(n.lanes|=g);n=d;for(d=d.return;null!==d;)d.childLanes|=g,n=d.alternate,null!==n&&(n.childLanes|=g),n=d,d=d.return;return 3===n.tag?n.stateNode:null}function Pe(d,g){for(var n=d.callbackNode,N=d.suspendedLanes,ra=d.pingedLanes,Za=d.expirationTimes,tb=d.pendingLanes;0<tb;){var Jb=
31-mh(tb),ec=1<<Jb,Qc=Za[Jb];if(-1===Qc){if(0===(ec&N)||0!==(ec&ra)){Qc=g;Zb(ec);var Od=hf;Za[Jb]=10<=Od?Qc+250:6<=Od?Qc+5E3:-1}}else Qc<=g&&(d.expiredLanes|=ec);tb&=~ec}N=Zc(d,d===bg?$f:0);g=hf;if(0===N)null!==n&&(n!==jj&&Ik(n),d.callbackNode=null,d.callbackPriority=0);else{if(null!==n){if(d.callbackPriority===g)return;n!==jj&&Ik(n)}15===g?(n=gf.bind(null,d),null===Gg?(Gg=[n],rg=Jk(Uj,gd)):Gg.push(n),n=jj):14===g?n=Wd(99,gf.bind(null,d)):(n=uc(g),n=Wd(n,we.bind(null,d)));d.callbackPriority=g;d.callbackNode=
n}}function we(d){Hi=-1;Ii=uh=0;if(0!==(Ae&48))throw Error(h(327));var g=d.callbackNode;if(gh()&&d.callbackNode!==g)return null;var n=Zc(d,d===bg?$f:0);if(0===n)return null;var N=n,ra=Ae;Ae|=16;var Za=Wk();if(bg!==d||$f!==N)ud(),kg(d,N);do try{for(;null!==Ef&&!Kk();)Xk(Ef);break}catch(Jb){xh(d,Jb)}while(1);Mh=Ug=Rh=null;oj.current=Za;Ae=ra;null!==Ef?N=0:(bg=null,$f=0,N=Pf);if(0!==(ag&Vg))kg(d,0);else if(0!==N){2===N&&(Ae|=64,d.hydrate&&(d.hydrate=!1,xc(d.containerInfo)),n=Ad(d),0!==n&&(N=qi(d,n)));
if(1===N)throw g=nj,kg(d,0),te(d,n),Pe(d,fd()),g;d.finishedWork=d.current.alternate;d.finishedLanes=n;switch(N){case 0:case 1:throw Error(h(345));case 2:fh(d);break;case 3:te(d,n);if((n&62914560)===n&&(N=Of+500-fd(),10<N)){if(0!==Zc(d,0))break;ra=d.suspendedLanes;if((ra&n)!==n){Vc();d.pingedLanes|=d.suspendedLanes&ra;break}d.timeoutHandle=Al(fh.bind(null,d),N);break}fh(d);break;case 4:te(d,n);if((n&4186112)===n)break;N=d.eventTimes;for(ra=-1;0<n;){var tb=31-mh(n);Za=1<<tb;tb=N[tb];tb>ra&&(ra=tb);
n&=~Za}n=ra;n=fd()-n;n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3E3>n?3E3:4320>n?4320:1960*Rk(n/1960))-n;if(10<n){d.timeoutHandle=Al(fh.bind(null,d),n);break}fh(d);break;case 5:fh(d);break;default:throw Error(h(329));}}Pe(d,fd());return d.callbackNode===g?we.bind(null,d):null}function te(d,g){g&=~Pk;g&=~Vg;d.suspendedLanes|=g;d.pingedLanes&=~g;for(d=d.expirationTimes;0<g;){var n=31-mh(g),N=1<<n;d[n]=-1;g&=~N}}function gf(d){if(0!==(Ae&48))throw Error(h(327));gh();if(d===bg&&0!==(d.expiredLanes&
$f)){var g=$f,n=qi(d,g);0!==(ag&Vg)&&(g=Zc(d,g),n=qi(d,g))}else g=Zc(d,0),n=qi(d,g);0!==d.tag&&2===n&&(Ae|=64,d.hydrate&&(d.hydrate=!1,xc(d.containerInfo)),g=Ad(d),0!==g&&(n=qi(d,g)));if(1===n)throw n=nj,kg(d,0),te(d,g),Pe(d,fd()),n;d.finishedWork=d.current.alternate;d.finishedLanes=g;fh(d);Pe(d,fd());return null}function Sf(){if(null!==th){var d=th;th=null;d.forEach(function(g){g.expiredLanes|=24&g.pendingLanes;Pe(g,fd())})}Yb()}function Jf(d,g){var n=Ae;Ae|=1;try{return d(g)}finally{Ae=n,0===Ae&&
(ud(),Yb())}}function wh(d,g){var n=Ae;Ae&=-2;Ae|=8;try{return d(g)}finally{Ae=n,0===Ae&&(ud(),Yb())}}function Cd(d,g){xd(Pi,qf);qf|=g;ag|=g}function Af(){qf=Pi.current;Dd(Pi)}function kg(d,g){d.finishedWork=null;d.finishedLanes=0;var n=d.timeoutHandle;-1!==n&&(d.timeoutHandle=-1,Bl(n));if(null!==Ef)for(n=Ef.return;null!==n;){var N=n;switch(N.tag){case 1:N=N.type.childContextTypes;null!==N&&void 0!==N&&ne();break;case 3:of();Dd(pg);Dd(dg);Mc();break;case 5:Q(N);break;case 4:of();break;case 13:Dd(Cf);
break;case 19:Dd(Cf);break;case 10:he(N);break;case 23:case 24:Af()}n=n.return}bg=d;Ef=zh(d.current,null);$f=qf=ag=g;Pf=0;nj=null;Pk=Vg=$i=0}function xh(d,g){do{var n=Ef;try{Mh=Ug=Rh=null;lg.current=Ni;if(xg){for(var N=Ze.memoizedState;null!==N;){var ra=N.queue;null!==ra&&(ra.pending=null);N=N.next}xg=!1}mj=0;Yf=Xf=Ze=null;Bh=!1;pj.current=null;if(null===n||null===n.return){Pf=1;nj=g;Ef=null;break}a:{var Za=d,tb=n.return,Jb=n,ec=g;g=$f;Jb.flags|=2048;Jb.firstEffect=Jb.lastEffect=null;if(null!==ec&&
"object"===typeof ec&&"function"===typeof ec.then){var Qc=ec;if(0===(Jb.mode&2)){var Od=Jb.alternate;Od?(Jb.updateQueue=Od.updateQueue,Jb.memoizedState=Od.memoizedState,Jb.lanes=Od.lanes):(Jb.updateQueue=null,Jb.memoizedState=null)}var Fe=0!==(Cf.current&1),kd=tb;do{var be;if(be=13===kd.tag){var Be=kd.memoizedState;if(null!==Be)be=null!==Be.dehydrated?!0:!1;else{var ue=kd.memoizedProps;be=void 0===ue.fallback?!1:!0!==ue.unstable_avoidThisFallback?!0:Fe?!1:!0}}if(be){var Ec=kd.updateQueue;if(null===
Ec){var ic=new Set;ic.add(Qc);kd.updateQueue=ic}else Ec.add(Qc);if(0===(kd.mode&2)){kd.flags|=64;Jb.flags|=16384;Jb.flags&=-2981;if(1===Jb.tag)if(null===Jb.alternate)Jb.tag=17;else{var Ac=Qe(-1,1);Ac.tag=2;ve(Jb,Ac)}Jb.lanes|=1;break a}ec=void 0;Jb=g;var dd=Za.pingCache;null===dd?(dd=Za.pingCache=new Il,ec=new Set,dd.set(Qc,ec)):(ec=dd.get(Qc),void 0===ec&&(ec=new Set,dd.set(Qc,ec)));if(!ec.has(Jb)){ec.add(Jb);var id=Yk.bind(null,Za,Qc,Jb);Qc.then(id,id)}kd.flags|=4096;kd.lanes=g;break a}kd=kd.return}while(null!==
kd);ec=Error((Y(Jb.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Pf&&(Pf=2);ec=Ea(ec,Jb);kd=tb;do{switch(kd.tag){case 3:Za=ec;kd.flags|=4096;g&=-g;kd.lanes|=g;var me=qb(kd,Za,g);Jd(kd,me);break a;case 1:Za=ec;var Td=kd.type,Ee=kd.stateNode;if(0===(kd.flags&64)&&("function"===typeof Td.getDerivedStateFromError||null!==Ee&&
"function"===typeof Ee.componentDidCatch&&(null===Tg||!Tg.has(Ee)))){kd.flags|=4096;g&=-g;kd.lanes|=g;var Re=Cb(kd,Za,g);Jd(kd,Re);break a}}kd=kd.return}while(null!==kd)}rj(n)}catch(Je){g=Je;Ef===n&&null!==n&&(Ef=n.return);continue}break}while(1)}function Wk(){var d=oj.current;oj.current=Ni;return null===d?Ni:d}function qi(d,g){var n=Ae;Ae|=16;var N=Wk();bg===d&&$f===g||kg(d,g);do try{for(;null!==Ef;)Xk(Ef);break}catch(ra){xh(d,ra)}while(1);Mh=Ug=Rh=null;Ae=n;oj.current=N;if(null!==Ef)throw Error(h(261));
bg=null;$f=0;return Pf}function Xk(d){var g=Jl(d.alternate,d,qf);d.memoizedProps=d.pendingProps;null===g?rj(d):Ef=g;pj.current=null}function rj(d){var g=d;do{var n=g.alternate;d=g.return;if(0===(g.flags&2048)){n=Le(n,g,qf);if(null!==n){Ef=n;return}n=g;if(24!==n.tag&&23!==n.tag||null===n.memoizedState||0!==(qf&1073741824)||0===(n.mode&4)){for(var N=0,ra=n.child;null!==ra;)N|=ra.lanes|ra.childLanes,ra=ra.sibling;n.childLanes=N}null!==d&&0===(d.flags&2048)&&(null===d.firstEffect&&(d.firstEffect=g.firstEffect),
null!==g.lastEffect&&(null!==d.lastEffect&&(d.lastEffect.nextEffect=g.firstEffect),d.lastEffect=g.lastEffect),1<g.flags&&(null!==d.lastEffect?d.lastEffect.nextEffect=g:d.firstEffect=g,d.lastEffect=g))}else{n=X(g);if(null!==n){n.flags&=2047;Ef=n;return}null!==d&&(d.firstEffect=d.lastEffect=null,d.flags|=2048)}g=g.sibling;if(null!==g){Ef=g;return}Ef=g=d}while(null!==g);0===Pf&&(Pf=5)}function fh(d){var g=ef();cc(99,ak.bind(null,d,g));return null}function ak(d,g){do gh();while(null!==Lh);if(0!==(Ae&
48))throw Error(h(327));var n=d.finishedWork;if(null===n)return null;d.finishedWork=null;d.finishedLanes=0;if(n===d.current)throw Error(h(177));d.callbackNode=null;var N=n.lanes|n.childLanes,ra=N,Za=d.pendingLanes&~ra;d.pendingLanes=ra;d.suspendedLanes=0;d.pingedLanes=0;d.expiredLanes&=ra;d.mutableReadLanes&=ra;d.entangledLanes&=ra;ra=d.entanglements;for(var tb=d.eventTimes,Jb=d.expirationTimes;0<Za;){var ec=31-mh(Za),Qc=1<<ec;ra[ec]=0;tb[ec]=-1;Jb[ec]=-1;Za&=~Qc}null!==th&&0===(N&24)&&th.has(d)&&
th.delete(d);d===bg&&(Ef=bg=null,$f=0);1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,N=n.firstEffect):N=n:N=n.firstEffect;if(null!==N){ra=Ae;Ae|=32;pj.current=null;Pj=Ci;tb=Kd();if(od(tb)){if("selectionStart"in tb)Jb={start:tb.selectionStart,end:tb.selectionEnd};else a:if(Jb=(Jb=tb.ownerDocument)&&Jb.defaultView||window,(Qc=Jb.getSelection&&Jb.getSelection())&&0!==Qc.rangeCount){Jb=Qc.anchorNode;Za=Qc.anchorOffset;ec=Qc.focusNode;Qc=Qc.focusOffset;try{Jb.nodeType,ec.nodeType}catch(Je){Jb=
null;break a}var Od=0,Fe=-1,kd=-1,be=0,Be=0,ue=tb,Ec=null;b:for(;;){for(var ic;;){ue!==Jb||0!==Za&&3!==ue.nodeType||(Fe=Od+Za);ue!==ec||0!==Qc&&3!==ue.nodeType||(kd=Od+Qc);3===ue.nodeType&&(Od+=ue.nodeValue.length);if(null===(ic=ue.firstChild))break;Ec=ue;ue=ic}for(;;){if(ue===tb)break b;Ec===Jb&&++be===Za&&(Fe=Od);Ec===ec&&++Be===Qc&&(kd=Od);if(null!==(ic=ue.nextSibling))break;ue=Ec;Ec=ue.parentNode}ue=ic}Jb=-1===Fe||-1===kd?null:{start:Fe,end:kd}}else Jb=null;Jb=Jb||{start:0,end:0}}else Jb=null;
Ek={focusedElem:tb,selectionRange:Jb};Ci=!1;oi=null;hj=!1;Pd=N;do try{Pl()}catch(Je){if(null===Pd)throw Error(h(330));hh(Pd,Je);Pd=Pd.nextEffect}while(null!==Pd);oi=null;Pd=N;do try{for(tb=d;null!==Pd;){var Ac=Pd.flags;Ac&16&&C(Pd.stateNode,"");if(Ac&128){var dd=Pd.alternate;if(null!==dd){var id=dd.ref;null!==id&&("function"===typeof id?id(null):id.current=null)}}switch(Ac&1038){case 2:Pc(Pd);Pd.flags&=-3;break;case 6:Pc(Pd);Pd.flags&=-3;ie(Pd.alternate,Pd);break;case 1024:Pd.flags&=-1025;break;case 1028:Pd.flags&=
-1025;ie(Pd.alternate,Pd);break;case 4:ie(Pd.alternate,Pd);break;case 8:Jb=Pd;vd(tb,Jb);var me=Jb.alternate;jd(Jb);null!==me&&jd(me)}Pd=Pd.nextEffect}}catch(Je){if(null===Pd)throw Error(h(330));hh(Pd,Je);Pd=Pd.nextEffect}while(null!==Pd);id=Ek;dd=Kd();Ac=id.focusedElem;tb=id.selectionRange;if(dd!==Ac&&Ac&&Ac.ownerDocument&&Wc(Ac.ownerDocument.documentElement,Ac)){null!==tb&&od(Ac)&&(dd=tb.start,id=tb.end,void 0===id&&(id=dd),"selectionStart"in Ac?(Ac.selectionStart=dd,Ac.selectionEnd=Math.min(id,
Ac.value.length)):(id=(dd=Ac.ownerDocument||document)&&dd.defaultView||window,id.getSelection&&(id=id.getSelection(),Jb=Ac.textContent.length,me=Math.min(tb.start,Jb),tb=void 0===tb.end?me:Math.min(tb.end,Jb),!id.extend&&me>tb&&(Jb=tb,tb=me,me=Jb),Jb=tc(Ac,me),Za=tc(Ac,tb),Jb&&Za&&(1!==id.rangeCount||id.anchorNode!==Jb.node||id.anchorOffset!==Jb.offset||id.focusNode!==Za.node||id.focusOffset!==Za.offset)&&(dd=dd.createRange(),dd.setStart(Jb.node,Jb.offset),id.removeAllRanges(),me>tb?(id.addRange(dd),
id.extend(Za.node,Za.offset)):(dd.setEnd(Za.node,Za.offset),id.addRange(dd))))));dd=[];for(id=Ac;id=id.parentNode;)1===id.nodeType&&dd.push({element:id,left:id.scrollLeft,top:id.scrollTop});"function"===typeof Ac.focus&&Ac.focus();for(Ac=0;Ac<dd.length;Ac++)id=dd[Ac],id.element.scrollLeft=id.left,id.element.scrollTop=id.top}Ci=!!Pj;Ek=Pj=null;d.current=n;Pd=N;do try{for(Ac=d;null!==Pd;){var Td=Pd.flags;Td&36&&qc(Ac,Pd.alternate,Pd);if(Td&128){dd=void 0;var Ee=Pd.ref;if(null!==Ee){var Re=Pd.stateNode;
switch(Pd.tag){case 5:dd=Re;break;default:dd=Re}"function"===typeof Ee?Ee(dd):Ee.current=dd}}Pd=Pd.nextEffect}}catch(Je){if(null===Pd)throw Error(h(330));hh(Pd,Je);Pd=Pd.nextEffect}while(null!==Pd);Pd=null;tm();Ae=ra}else d.current=n;if(Sg)Sg=!1,Lh=d,ij=g;else for(Pd=N;null!==Pd;)g=Pd.nextEffect,Pd.nextEffect=null,Pd.flags&8&&(Td=Pd,Td.sibling=null,Td.stateNode=null),Pd=g;N=d.pendingLanes;0===N&&(Tg=null);1===N?d===Tj?Kh++:(Kh=0,Tj=d):Kh=0;n=n.stateNode;if(ni&&"function"===typeof ni.onCommitFiberRoot)try{ni.onCommitFiberRoot(Hk,
n,void 0,64===(n.current.flags&64))}catch(Je){}Pe(d,fd());if(Wj)throw Wj=!1,d=Zf,Zf=null,d;if(0!==(Ae&8))return null;Yb();return null}function Pl(){for(;null!==Pd;){var d=Pd.alternate;hj||null===oi||(0!==(Pd.flags&8)?aa(Pd,oi)&&(hj=!0):13===Pd.tag&&ee(d,Pd)&&aa(Pd,oi)&&(hj=!0));var g=Pd.flags;0!==(g&256)&&wc(d,Pd);0===(g&512)||Sg||(Sg=!0,Wd(97,function(){gh();return null}));Pd=Pd.nextEffect}}function gh(){if(90!==ij){var d=97<ij?97:ij;ij=90;return cc(d,tj)}return!1}function si(d,g){Ji.push(g,d);Sg||
(Sg=!0,Wd(97,function(){gh();return null}))}function sj(d,g){Gi.push(g,d);Sg||(Sg=!0,Wd(97,function(){gh();return null}))}function tj(){if(null===Lh)return!1;var d=Lh;Lh=null;if(0!==(Ae&48))throw Error(h(331));var g=Ae;Ae|=32;var n=Gi;Gi=[];for(var N=0;N<n.length;N+=2){var ra=n[N],Za=n[N+1],tb=ra.destroy;ra.destroy=void 0;if("function"===typeof tb)try{tb()}catch(ec){if(null===Za)throw Error(h(330));hh(Za,ec)}}n=Ji;Ji=[];for(N=0;N<n.length;N+=2){ra=n[N];Za=n[N+1];try{var Jb=ra.create;ra.destroy=Jb()}catch(ec){if(null===
Za)throw Error(h(330));hh(Za,ec)}}for(Jb=d.current.firstEffect;null!==Jb;)d=Jb.nextEffect,Jb.nextEffect=null,Jb.flags&8&&(Jb.sibling=null,Jb.stateNode=null),Jb=d;Ae=g;Yb();return!0}function ck(d,g,n){g=Ea(n,g);g=qb(d,g,1);ve(d,g);g=Vc();d=Ie(d,1);null!==d&&(Md(d,1,g),Pe(d,g))}function hh(d,g){if(3===d.tag)ck(d,d,g);else for(var n=d.return;null!==n;){if(3===n.tag){ck(n,d,g);break}else if(1===n.tag){var N=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof N.componentDidCatch&&
(null===Tg||!Tg.has(N))){d=Ea(g,d);var ra=Cb(n,d,1);ve(n,ra);ra=Vc();n=Ie(n,1);if(null!==n)Md(n,1,ra),Pe(n,ra);else if("function"===typeof N.componentDidCatch&&(null===Tg||!Tg.has(N)))try{N.componentDidCatch(g,d)}catch(Za){}break}}n=n.return}}function Yk(d,g,n){var N=d.pingCache;null!==N&&N.delete(g);g=Vc();d.pingedLanes|=d.suspendedLanes&n;bg===d&&($f&n)===n&&(4===Pf||3===Pf&&($f&62914560)===$f&&500>fd()-Of?kg(d,0):Pk|=n);Pe(d,g)}function Ql(d,g){var n=d.stateNode;null!==n&&n.delete(g);g=0;0===g&&
(g=d.mode,0===(g&2)?g=1:0===(g&4)?g=99===ef()?1:2:(0===uh&&(uh=ag),g=Xc(62914560&~uh),0===g&&(g=4194304)));n=Vc();d=Ie(d,g);null!==d&&(Md(d,g,n),Pe(d,n))}function Rl(d,g,n,N){this.tag=d;this.key=n;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=g;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=N;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=
0;this.alternate=null}function Bg(d,g,n,N){return new Rl(d,g,n,N)}function Kf(d){d=d.prototype;return!(!d||!d.isReactComponent)}function Zk(d){if("function"===typeof d)return Kf(d)?1:0;if(void 0!==d&&null!==d){d=d.$$typeof;if(d===zj)return 11;if(d===Wi)return 14}return 2}function zh(d,g){var n=d.alternate;null===n?(n=Bg(d.tag,g,d.key,d.mode),n.elementType=d.elementType,n.type=d.type,n.stateNode=d.stateNode,n.alternate=d,d.alternate=n):(n.pendingProps=g,n.type=d.type,n.flags=0,n.nextEffect=null,n.firstEffect=
null,n.lastEffect=null);n.childLanes=d.childLanes;n.lanes=d.lanes;n.child=d.child;n.memoizedProps=d.memoizedProps;n.memoizedState=d.memoizedState;n.updateQueue=d.updateQueue;g=d.dependencies;n.dependencies=null===g?null:{lanes:g.lanes,firstContext:g.firstContext};n.sibling=d.sibling;n.index=d.index;n.ref=d.ref;return n}function Ah(d,g,n,N,ra,Za){var tb=2;N=d;if("function"===typeof d)Kf(d)&&(tb=1);else if("string"===typeof d)tb=5;else a:switch(d){case jh:return Ff(n.children,ra,Za,g);case ek:tb=8;
ra|=16;break;case Ui:tb=8;ra|=1;break;case xi:return d=Bg(12,n,g,ra|8),d.elementType=xi,d.type=xi,d.lanes=Za,d;case Xh:return d=Bg(13,n,g,ra),d.type=Xh,d.elementType=Xh,d.lanes=Za,d;case Tf:return d=Bg(19,n,g,ra),d.elementType=Tf,d.lanes=Za,d;case Xe:return Qi(n,ra,Za,g);case yi:return d=Bg(24,n,g,ra),d.elementType=yi,d.lanes=Za,d;default:if("object"===typeof d&&null!==d)switch(d.$$typeof){case Vi:tb=10;break a;case yj:tb=9;break a;case zj:tb=11;break a;case Wi:tb=14;break a;case Xi:tb=16;N=null;
break a;case Yh:tb=22;break a}throw Error(h(130,null==d?d:typeof d,""));}g=Bg(tb,n,g,ra);g.elementType=d;g.type=N;g.lanes=Za;return g}function Ff(d,g,n,N){d=Bg(7,d,N,g);d.lanes=n;return d}function Qi(d,g,n,N){d=Bg(23,d,N,g);d.elementType=Xe;d.lanes=n;return d}function uj(d,g,n){d=Bg(6,d,null,g);d.lanes=n;return d}function ui(d,g,n){g=Bg(4,null!==d.children?d.children:[],d.key,g);g.lanes=n;g.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation};return g}function $k(d,
g,n){this.tag=g;this.containerInfo=d;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=n;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=Uc(0);this.expirationTimes=Uc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Uc(0);this.mutableSourceEagerHydrationData=null}function vj(d,g,n){var N=
3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Yg,key:null==N?null:""+N,children:d,containerInfo:g,implementation:n}}function Ig(d,g,n,N){var ra=g.current,Za=Vc(),tb=Nd(ra);a:if(n){n=n._reactInternals;b:{if(Ga(n)!==n||1!==n.tag)throw Error(h(170));var Jb=n;do{switch(Jb.tag){case 3:Jb=Jb.stateNode.context;break b;case 1:if(qe(Jb.type)){Jb=Jb.stateNode.__reactInternalMemoizedMergedChildContext;break b}}Jb=Jb.return}while(null!==Jb);throw Error(h(171));}if(1===n.tag){var ec=
n.type;if(qe(ec)){n=$e(n,ec,Jb);break a}}n=Jb}else n=Jh;null===g.context?g.context=n:g.pendingContext=n;g=Qe(Za,tb);g.payload={element:d};N=void 0===N?null:N;null!==N&&(g.callback=N);ve(ra,g);ze(ra,tb,Za);return tb}function dk(d){d=d.current;if(!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function vi(d,g){d=d.memoizedState;if(null!==d&&null!==d.dehydrated){var n=d.retryLane;d.retryLane=0!==n&&n<g?n:g}}function wj(d,g){vi(d,g);(d=d.alternate)&&
vi(d,g)}function Cg(){return null}function xj(d,g,n){var N=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;n=new $k(d,g,null!=n&&!0===n.hydrate);g=Bg(3,null,null,2===g?7:1===g?3:0);n.current=g;g.stateNode=n;Ud(g);d[Ih]=n.current;ce(8===d.nodeType?d.parentNode:d);if(N)for(d=0;d<N.length;d++){g=N[d];var ra=g._getVersion;ra=ra(g._source);null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[g,ra]:n.mutableSourceEagerHydrationData.push(g,ra)}this._internalRoot=
n}function Ri(d){return!(!d||1!==d.nodeType&&9!==d.nodeType&&11!==d.nodeType&&(8!==d.nodeType||" react-mount-point-unstable "!==d.nodeValue))}function Tl(d,g){g||(g=d?9===d.nodeType?d.documentElement:d.firstChild:null,g=!(!g||1!==g.nodeType||!g.hasAttribute("data-reactroot")));if(!g)for(var n;n=d.lastChild;)d.removeChild(n);return new xj(d,0,g?{hydrate:!0}:void 0)}function wi(d,g,n,N,ra){var Za=n._reactRootContainer;if(Za){var tb=Za._internalRoot;if("function"===typeof ra){var Jb=ra;ra=function(){var Qc=
dk(tb);Jb.call(Qc)}}Ig(g,tb,d,ra)}else{Za=n._reactRootContainer=Tl(n,N);tb=Za._internalRoot;if("function"===typeof ra){var ec=ra;ra=function(){var Qc=dk(tb);ec.call(Qc)}}wh(function(){Ig(g,tb,d,ra)})}return dk(tb)}function bl(d,g){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ri(g))throw Error(h(200));return vj(d,g,null,n)}var Si=xb(58),rf=xb(55),Lf=xb(61);if(!Si)throw Error(h(227));var Th=new Set,Vh={},Wg=!("undefined"===typeof window||"undefined"===typeof window.document||
"undefined"===typeof window.document.createElement),Jg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cl=Object.prototype.hasOwnProperty,Ti={},Xg={},Mf={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){Mf[d]=
new wb(d,0,!1,d,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var g=d[0];Mf[g]=new wb(g,1,!1,d[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(d){Mf[d]=new wb(d,2,!1,d.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){Mf[d]=new wb(d,2,!1,d,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){Mf[d]=
new wb(d,3,!1,d.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(d){Mf[d]=new wb(d,3,!0,d,null,!1,!1)});["capture","download"].forEach(function(d){Mf[d]=new wb(d,4,!1,d,null,!1,!1)});["cols","rows","size","span"].forEach(function(d){Mf[d]=new wb(d,6,!1,d,null,!1,!1)});["rowSpan","start"].forEach(function(d){Mf[d]=new wb(d,5,!1,d.toLowerCase(),null,!1,!1)});var Wh=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var g=
d.replace(Wh,Lb);Mf[g]=new wb(g,1,!1,d,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var g=d.replace(Wh,Lb);Mf[g]=new wb(g,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(d){var g=d.replace(Wh,Lb);Mf[g]=new wb(g,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(d){Mf[d]=new wb(d,1,!1,d.toLowerCase(),null,!1,!1)});Mf.xlinkHref=
new wb("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(d){Mf[d]=new wb(d,1,!1,d.toLowerCase(),null,!0,!0)});var Kg=Si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ih=60103,Yg=60106,jh=60107,Ui=60108,xi=60114,Vi=60109,yj=60110,zj=60112,Xh=60113,Tf=60120,Wi=60115,Xi=60116,Yh=60121,Aj=60128,ek=60129,Xe=60130,yi=60131;if("function"===typeof Symbol&&Symbol.for){var Ye=Symbol.for;ih=Ye("react.element");Yg=Ye("react.portal");
jh=Ye("react.fragment");Ui=Ye("react.strict_mode");xi=Ye("react.profiler");Vi=Ye("react.provider");yj=Ye("react.context");zj=Ye("react.forward_ref");Xh=Ye("react.suspense");Tf=Ye("react.suspense_list");Wi=Ye("react.memo");Xi=Ye("react.lazy");Yh=Ye("react.block");Ye("react.scope");Aj=Ye("react.opaque.id");ek=Ye("react.debug_trace_mode");Xe=Ye("react.offscreen");yi=Ye("react.legacy_hidden")}var mf="function"===typeof Symbol&&Symbol.iterator,Bj,fk=!1,Cj={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",
svg:"http://www.w3.org/2000/svg"},Zh,hk=function(d){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(g,n,N,ra){MSApp.execUnsafeLocalFunction(function(){return d(g,n,N,ra)})}:d}(function(d,g){if(d.namespaceURI!==Cj.svg||"innerHTML"in d)d.innerHTML=g;else{Zh=Zh||document.createElement("div");Zh.innerHTML="\x3csvg\x3e"+g.valueOf().toString()+"\x3c/svg\x3e";for(g=Zh.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;g.firstChild;)d.appendChild(g.firstChild)}}),Lg={animationIterationCount:!0,
borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,
strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gk=["Webkit","ms","Moz","O"];Object.keys(Lg).forEach(function(d){gk.forEach(function(g){g=g+d.charAt(0).toUpperCase()+d.substring(1);Lg[g]=Lg[d]})});var Ul=rf({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Yi=null,$h=null,ai=null,bk=ha,Ch=!1,ti=!1,ik=!1;if(Wg)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){ik=
!0}});window.addEventListener("test",bi,bi);window.removeEventListener("test",bi,bi)}catch(d){ik=!1}var kh=!1,Zi=null,Dj=!1,Ej=null,Vl={onError:function(d){kh=!0;Zi=d}},jk=!1,Dg=[],Dh=null,Zg=null,lh=null,zi=new Map,Ai=new Map,$g=[],aj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),Mg=
{animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionend:Ya("Transition","TransitionEnd")},Bi={},dl={};Wg&&(dl=document.createElement("div").style,"AnimationEvent"in window||(delete Mg.animationend.animation,delete Mg.animationiteration.animation,delete Mg.animationstart.animation),"TransitionEvent"in window||delete Mg.transitionend.transition);var lk=Ob("animationend"),kk=Ob("animationiteration"),
el=Ob("animationstart"),fl=Ob("transitionend"),Gj=new Map,Fj=new Map,mk=["abort","abort",lk,"animationEnd",kk,"animationIteration",el,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing",
"playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",fl,"transitionEnd","waiting","waiting"],Hj=Lf.unstable_now;Hj();var hf=8,mh=Math.clz32?Math.clz32:Qd,gl=Math.log,hl=Math.LN2,nk=Lf.unstable_UserBlockingPriority,il=Lf.unstable_runWithPriority,Ci=!0,nh=null,Jj=null,bj=null,Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kj=I(Di),Ei=rf({},Di,{view:0,detail:0}),
Xl=I(Ei),Lj,Mj,cj,dj=rf({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ib,button:0,buttons:0,relatedTarget:function(d){return void 0===d.relatedTarget?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){if("movementX"in d)return d.movementX;d!==cj&&(cj&&"mousemove"===d.type?(Lj=d.screenX-cj.screenX,Mj=d.screenY-cj.screenY):Mj=Lj=0,cj=d);return Lj},movementY:function(d){return"movementY"in
d?d.movementY:Mj}}),kl=I(dj),ok=rf({},dj,{dataTransfer:0}),ll=I(ok),ml=rf({},Ei,{relatedTarget:0}),pk=I(ml),Yl=rf({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),Zl=I(Yl),qk=rf({},Di,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),$l=I(qk),am=rf({},Di,{data:0}),nl=I(am),rk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},
ol={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},Pg=rf({},Ei,{key:function(d){if(d.key){var g=
rk[d.key]||d.key;if("Unidentified"!==g)return g}return"keypress"===d.type?(d=Cc(d),13===d?"Enter":String.fromCharCode(d)):"keydown"===d.type||"keyup"===d.type?ol[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ib,charCode:function(d){return"keypress"===d.type?Cc(d):0},keyCode:function(d){return"keydown"===d.type||"keyup"===d.type?d.keyCode:0},which:function(d){return"keypress"===d.type?Cc(d):"keydown"===d.type||"keyup"===
d.type?d.keyCode:0}}),pl=I(Pg),sl=rf({},dj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uk=I(sl),km=rf({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ib}),vk=I(km),Gh=rf({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),wk=I(Gh),lm=rf({},dj,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:
"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),tl=I(lm),tk=[9,13,27,32],xk=Wg&&"CompositionEvent"in window,ci=null;Wg&&"documentMode"in document&&(ci=document.documentMode);var Nj=Wg&&"TextEvent"in window&&!ci,yk=Wg&&(!xk||ci&&8<ci&&11>=ci),zk=String.fromCharCode(32),Ak=!1,di=!1,om={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},ej=null,fj=null,vl=!1;if(Wg){if(Wg){var Ck=
"oninput"in document;if(!Ck){var Bk=document.createElement("div");Bk.setAttribute("oninput","return;");Ck="function"===typeof Bk.oninput}var ul=Ck}else ul=!1;vl=ul&&(!document.documentMode||9<document.documentMode)}var ug="function"===typeof Object.is?Object.is:Wb,wl=Object.prototype.hasOwnProperty,xl=Wg&&"documentMode"in document&&11>=document.documentMode,ei=null,Dk=null,gj=null,Oj=!1;Qb("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);Qb("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Qb(mk,2);for(var yl="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),vf=0;vf<yl.length;vf++)Fj.set(yl[vf],0);x("onMouseEnter",["mouseout","mouseover"]);x("onMouseLeave",
["mouseout","mouseover"]);x("onPointerEnter",["pointerout","pointerover"]);x("onPointerLeave",["pointerout","pointerover"]);m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));m("onBeforeInput",["compositionend","keypress","textInput","paste"]);m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));m("onCompositionStart",
"compositionstart focusout keydown keypress keyup mousedown".split(" "));m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ij=new Set("cancel close invalid load scroll toggle".split(" ").concat(hg)),Uh="_reactListening"+Math.random().toString(36).slice(2),
Pj=null,Ek=null,Al="function"===typeof setTimeout?setTimeout:void 0,Bl="function"===typeof clearTimeout?clearTimeout:void 0,Qj=0,Fi=Math.random().toString(36).slice(2),Rg="__reactFiber$"+Fi,Rj="__reactProps$"+Fi,Ih="__reactContainer$"+Fi,Fk="__reactEvents$"+Fi,Gk=[],sh=-1,Jh={},dg=jc(Jh),pg=jc(!1),mi=Jh,Hk=null,ni=null,qm=Lf.unstable_runWithPriority,Jk=Lf.unstable_scheduleCallback,Ik=Lf.unstable_cancelCallback,Kk=Lf.unstable_shouldYield,Cl=Lf.unstable_requestPaint,Lk=Lf.unstable_now,sm=Lf.unstable_getCurrentPriorityLevel,
Uj=Lf.unstable_ImmediatePriority,Dl=Lf.unstable_UserBlockingPriority,El=Lf.unstable_NormalPriority,Fl=Lf.unstable_LowPriority,Vj=Lf.unstable_IdlePriority,jj={},tm=void 0!==Cl?Cl:function(){},Gg=null,rg=null,Ge=!1,ff=Lk(),fd=1E4>ff?Lk:function(){return Lk()-ff},gg=Kg.ReactCurrentBatchConfig,Hg=jc(null),Rh=null,Ug=null,Mh=null,Nh=!1,Ok=(new Si.Component).refs,kj={isMounted:function(d){return(d=d._reactInternals)?Ga(d)===d:!1},enqueueSetState:function(d,g,n){d=d._reactInternals;var N=Vc(),ra=Nd(d),Za=
Qe(N,ra);Za.payload=g;void 0!==n&&null!==n&&(Za.callback=n);ve(d,Za);ze(d,ra,N)},enqueueReplaceState:function(d,g,n){d=d._reactInternals;var N=Vc(),ra=Nd(d),Za=Qe(N,ra);Za.tag=1;Za.payload=g;void 0!==n&&null!==n&&(Za.callback=n);ve(d,Za);ze(d,ra,N)},enqueueForceUpdate:function(d,g){d=d._reactInternals;var n=Vc(),N=Nd(d),ra=Qe(n,N);ra.tag=2;void 0!==g&&null!==g&&(ra.callback=g);ve(d,ra);ze(d,N,n)}},ig=Array.isArray,Sh=cf(!0),Tk=cf(!1),Oh={},ch=jc(Oh),Ph=jc(Oh),lj=jc(Oh),Cf=jc(0),yf=null,zg=null,Ag=
!1,Bf=[],lg=Kg.ReactCurrentDispatcher,og=Kg.ReactCurrentBatchConfig,mj=0,Ze=null,Xf=null,Yf=null,xg=!1,Bh=!1,Ni={readContext:$d,useCallback:$c,useContext:$c,useEffect:$c,useImperativeHandle:$c,useLayoutEffect:$c,useMemo:$c,useReducer:$c,useRef:$c,useState:$c,useDebugValue:$c,useDeferredValue:$c,useTransition:$c,useMutableSource:$c,useOpaqueIdentifier:$c,unstable_isNewReconciler:!1},Hl={readContext:$d,useCallback:function(d,g){Id().memoizedState=[d,void 0===g?null:g];return d},useContext:$d,useEffect:A,
useImperativeHandle:function(d,g,n){n=null!==n&&void 0!==n?n.concat([d]):null;return If(4,2,T.bind(null,g,d),n)},useLayoutEffect:function(d,g){return If(4,2,d,g)},useMemo:function(d,g){var n=Id();g=void 0===g?null:g;d=d();n.memoizedState=[d,g];return d},useReducer:function(d,g,n){var N=Id();g=void 0!==n?n(g):g;N.memoizedState=N.baseState=g;d=N.queue={pending:null,dispatch:null,lastRenderedReducer:d,lastRenderedState:g};d=d.dispatch=ob.bind(null,Ze,d);return[N.memoizedState,d]},useRef:pf,useState:tf,
useDebugValue:sa,useDeferredValue:function(d){var g=tf(d),n=g[0],N=g[1];A(function(){var ra=og.transition;og.transition=1;try{N(d)}finally{og.transition=ra}},[d]);return n},useTransition:function(){var d=tf(!1),g=d[0];d=fb.bind(null,d[1]);pf(d);return[d,g]},useMutableSource:function(d,g,n){var N=Id();N.memoizedState={refs:{getSnapshot:g,setSnapshot:null},source:d,subscribe:n};return ye(N,d,g,n)},useOpaqueIdentifier:function(){if(Ag){var d=!1,g=ed(function(){d||(d=!0,n("r:"+(Qj++).toString(36)));throw Error(h(355));
}),n=tf(g)[1];0===(Ze.mode&2)&&(Ze.flags|=516,Df(5,function(){n("r:"+(Qj++).toString(36))},void 0,null));return g}g="r:"+(Qj++).toString(36);tf(g);return g},unstable_isNewReconciler:!1},Ml={readContext:$d,useCallback:Na,useContext:$d,useEffect:B,useImperativeHandle:la,useLayoutEffect:K,useMemo:hb,useReducer:oe,useRef:eg,useState:function(){return oe(re)},useDebugValue:sa,useDeferredValue:function(d){var g=oe(re),n=g[0],N=g[1];B(function(){var ra=og.transition;og.transition=1;try{N(d)}finally{og.transition=
ra}},[d]);return n},useTransition:function(){var d=oe(re)[0];return[eg().current,d]},useMutableSource:zf,useOpaqueIdentifier:function(){return oe(re)[0]},unstable_isNewReconciler:!1},Nl={readContext:$d,useCallback:Na,useContext:$d,useEffect:B,useImperativeHandle:la,useLayoutEffect:K,useMemo:hb,useReducer:pe,useRef:eg,useState:function(){return pe(re)},useDebugValue:sa,useDeferredValue:function(d){var g=pe(re),n=g[0],N=g[1];B(function(){var ra=og.transition;og.transition=1;try{N(d)}finally{og.transition=
ra}},[d]);return n},useTransition:function(){var d=pe(re)[0];return[eg().current,d]},useMutableSource:zf,useOpaqueIdentifier:function(){return pe(re)[0]},unstable_isNewReconciler:!1},nm=Kg.ReactCurrentOwner,yg=!1,qj={dehydrated:null,retryLane:0};var mm=function(d,g){for(var n=g.child;null!==n;){if(5===n.tag||6===n.tag)d.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n;n=n.child;continue}if(n===g)break;for(;null===n.sibling;){if(null===n.return||n.return===g)return;n=n.return}n.sibling.return=
n.return;n=n.sibling}};var al=function(){};var Sl=function(d,g,n,N){var ra=d.memoizedProps;if(ra!==N){d=g.stateNode;Ve(ch.current);var Za=null;switch(n){case "input":ra=Aa(d,ra);N=Aa(d,N);Za=[];break;case "option":ra=Ia(d,ra);N=Ia(d,N);Za=[];break;case "select":ra=rf({},ra,{value:void 0});N=rf({},N,{value:void 0});Za=[];break;case "textarea":ra=$a(d,ra);N=$a(d,N);Za=[];break;default:"function"!==typeof ra.onClick&&"function"===typeof N.onClick&&(d.onclick=eb)}ia(n,N);var tb;n=null;for(Qc in ra)if(!N.hasOwnProperty(Qc)&&
ra.hasOwnProperty(Qc)&&null!=ra[Qc])if("style"===Qc){var Jb=ra[Qc];for(tb in Jb)Jb.hasOwnProperty(tb)&&(n||(n={}),n[tb]="")}else"dangerouslySetInnerHTML"!==Qc&&"children"!==Qc&&"suppressContentEditableWarning"!==Qc&&"suppressHydrationWarning"!==Qc&&"autoFocus"!==Qc&&(Vh.hasOwnProperty(Qc)?Za||(Za=[]):(Za=Za||[]).push(Qc,null));for(Qc in N){var ec=N[Qc];Jb=null!=ra?ra[Qc]:void 0;if(N.hasOwnProperty(Qc)&&ec!==Jb&&(null!=ec||null!=Jb))if("style"===Qc)if(Jb){for(tb in Jb)!Jb.hasOwnProperty(tb)||ec&&ec.hasOwnProperty(tb)||
(n||(n={}),n[tb]="");for(tb in ec)ec.hasOwnProperty(tb)&&Jb[tb]!==ec[tb]&&(n||(n={}),n[tb]=ec[tb])}else n||(Za||(Za=[]),Za.push(Qc,n)),n=ec;else"dangerouslySetInnerHTML"===Qc?(ec=ec?ec.__html:void 0,Jb=Jb?Jb.__html:void 0,null!=ec&&Jb!==ec&&(Za=Za||[]).push(Qc,ec)):"children"===Qc?"string"!==typeof ec&&"number"!==typeof ec||(Za=Za||[]).push(Qc,""+ec):"suppressContentEditableWarning"!==Qc&&"suppressHydrationWarning"!==Qc&&(Vh.hasOwnProperty(Qc)?(null!=ec&&"onScroll"===Qc&&Hd("scroll",d),Za||Jb===ec||
(Za=[])):"object"===typeof ec&&null!==ec&&ec.$$typeof===Aj?ec.toString():(Za=Za||[]).push(Qc,ec))}n&&(Za=Za||[]).push("style",n);var Qc;if(g.updateQueue=Za)g.flags|=4}};var Mk=function(d,g,n,N){n!==N&&(g.flags|=4)};var Il="function"===typeof WeakMap?WeakMap:Map,pi="function"===typeof WeakSet?WeakSet:Set,Rk=Math.ceil,oj=Kg.ReactCurrentDispatcher,pj=Kg.ReactCurrentOwner,Ae=0,bg=null,Ef=null,$f=0,qf=0,Pi=jc(0),Pf=0,nj=null,ag=0,$i=0,Vg=0,Pk=0,fg=null,Of=0,vh=Infinity,Pd=null,Wj=!1,Zf=null,Tg=null,Sg=
!1,Lh=null,ij=90,Ji=[],Gi=[],th=null,Kh=0,Tj=null,Hi=-1,uh=0,Ii=0,oi=null,hj=!1;var Jl=function(d,g,n){var N=g.lanes;if(null!==d)if(d.memoizedProps!==g.pendingProps||pg.current)yg=!0;else if(0!==(n&N))yg=0!==(d.flags&16384)?!0:!1;else{yg=!1;switch(g.tag){case 3:Fb(g);zg=yf=null;Ag=!1;break;case 5:E(g);break;case 1:qe(g.type)&&Te(g);break;case 4:nf(g,g.stateNode.containerInfo);break;case 10:N=g.memoizedProps.value;var ra=g.type._context;xd(Hg,ra._currentValue);ra._currentValue=N;break;case 13:if(null!==
g.memoizedState){if(0!==(n&g.child.childLanes))return Sb(d,g,n);xd(Cf,Cf.current&1);g=Bd(d,g,n);return null!==g?g.sibling:null}xd(Cf,Cf.current&1);break;case 19:N=0!==(n&g.childLanes);if(0!==(d.flags&64)){if(N)return Oc(d,g,n);g.flags|=64}ra=g.memoizedState;null!==ra&&(ra.rendering=null,ra.tail=null,ra.lastEffect=null);xd(Cf,Cf.current);if(N)break;else return null;case 23:case 24:return g.lanes=0,v(d,g,n)}return Bd(d,g,n)}else yg=!1;g.lanes=0;switch(g.tag){case 2:N=g.type;null!==d&&(d.alternate=null,
g.alternate=null,g.flags|=2);d=g.pendingProps;ra=Mb(g,dg.current);je(g,n);ra=qd(null,g,N,d,ra,n);g.flags|=1;if("object"===typeof ra&&null!==ra&&"function"===typeof ra.render&&void 0===ra.$$typeof){g.tag=1;g.memoizedState=null;g.updateQueue=null;if(qe(N)){var Za=!0;Te(g)}else Za=!1;g.memoizedState=null!==ra.state&&void 0!==ra.state?ra.state:null;Ud(g);var tb=N.getDerivedStateFromProps;"function"===typeof tb&&Oe(g,N,tb,d);ra.updater=kj;g.stateNode=ra;ra._reactInternals=g;Me(g,N,d,n);g=ub(null,g,N,!0,
Za,n)}else g.tag=0,pb(null,g,ra,n),g=g.child;return g;case 16:ra=g.elementType;a:{null!==d&&(d.alternate=null,g.alternate=null,g.flags|=2);d=g.pendingProps;Za=ra._init;ra=Za(ra._payload);g.type=ra;Za=g.tag=Zk(ra);d=se(ra,d);switch(Za){case 0:g=W(null,g,ra,d,n);break a;case 1:g=Ra(null,g,ra,d,n);break a;case 11:g=Kb(null,g,ra,d,n);break a;case 14:g=Vb(null,g,ra,se(ra.type,d),N,n);break a}throw Error(h(306,ra,""));}return g;case 0:return N=g.type,ra=g.pendingProps,ra=g.elementType===N?ra:se(N,ra),W(d,
g,N,ra,n);case 1:return N=g.type,ra=g.pendingProps,ra=g.elementType===N?ra:se(N,ra),Ra(d,g,N,ra,n);case 3:Fb(g);N=g.updateQueue;if(null===d||null===N)throw Error(h(282));N=g.pendingProps;ra=g.memoizedState;ra=null!==ra?ra.element:null;Nc(d,g);xe(g,N,null,n);N=g.memoizedState.element;if(N===ra)zg=yf=null,Ag=!1,g=Bd(d,g,n);else{ra=g.stateNode;if(Za=ra.hydrate)zg=vc(g.stateNode.containerInfo.firstChild),yf=g,Za=Ag=!0;if(Za){d=ra.mutableSourceEagerHydrationData;if(null!=d)for(ra=0;ra<d.length;ra+=2)Za=
d[ra],Za._workInProgressVersionPrimary=d[ra+1],Bf.push(Za);n=Tk(g,null,N,n);for(g.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else pb(d,g,N,n),zg=yf=null,Ag=!1;g=g.child}return g;case 5:return E(g),null===d&&Nb(g),N=g.type,ra=g.pendingProps,Za=null!==d?d.memoizedProps:null,tb=ra.children,hc(N,ra)?tb=null:null!==Za&&hc(N,Za)&&(g.flags|=16),O(d,g),pb(d,g,tb,n),g.child;case 6:return null===d&&Nb(g),null;case 13:return Sb(d,g,n);case 4:return nf(g,g.stateNode.containerInfo),N=g.pendingProps,null===
d?g.child=Sh(g,null,N,n):pb(d,g,N,n),g.child;case 11:return N=g.type,ra=g.pendingProps,ra=g.elementType===N?ra:se(N,ra),Kb(d,g,N,ra,n);case 7:return pb(d,g,g.pendingProps,n),g.child;case 8:return pb(d,g,g.pendingProps.children,n),g.child;case 12:return pb(d,g,g.pendingProps.children,n),g.child;case 10:a:{N=g.type._context;ra=g.pendingProps;tb=g.memoizedProps;Za=ra.value;var Jb=g.type._context;xd(Hg,Jb._currentValue);Jb._currentValue=Za;if(null!==tb)if(Jb=tb.value,Za=ug(Jb,Za)?0:("function"===typeof N._calculateChangedBits?
N._calculateChangedBits(Jb,Za):1073741823)|0,0===Za){if(tb.children===ra.children&&!pg.current){g=Bd(d,g,n);break a}}else for(Jb=g.child,null!==Jb&&(Jb.return=g);null!==Jb;){var ec=Jb.dependencies;if(null!==ec){tb=Jb.child;for(var Qc=ec.firstContext;null!==Qc;){if(Qc.context===N&&0!==(Qc.observedBits&Za)){1===Jb.tag&&(Qc=Qe(-1,n&-n),Qc.tag=2,ve(Jb,Qc));Jb.lanes|=n;Qc=Jb.alternate;null!==Qc&&(Qc.lanes|=n);de(Jb.return,n);ec.lanes|=n;break}Qc=Qc.next}}else tb=10===Jb.tag?Jb.type===g.type?null:Jb.child:
Jb.child;if(null!==tb)tb.return=Jb;else for(tb=Jb;null!==tb;){if(tb===g){tb=null;break}Jb=tb.sibling;if(null!==Jb){Jb.return=tb.return;tb=Jb;break}tb=tb.return}Jb=tb}pb(d,g,ra.children,n);g=g.child}return g;case 9:return ra=g.type,Za=g.pendingProps,N=Za.children,je(g,n),ra=$d(ra,Za.unstable_observedBits),N=N(ra),g.flags|=1,pb(d,g,N,n),g.child;case 14:return ra=g.type,Za=se(ra,g.pendingProps),Za=se(ra.type,Za),Vb(d,g,ra,Za,N,n);case 15:return l(d,g,g.type,g.pendingProps,N,n);case 17:return N=g.type,
ra=g.pendingProps,ra=g.elementType===N?ra:se(N,ra),null!==d&&(d.alternate=null,g.alternate=null,g.flags|=2),g.tag=1,qe(N)?(d=!0,Te(g)):d=!1,je(g,n),lf(g,N,ra),Me(g,N,ra,n),ub(null,g,N,!0,d,n);case 19:return Oc(d,g,n);case 23:return v(d,g,n);case 24:return v(d,g,n)}throw Error(h(156,g.tag));};xj.prototype.render=function(d){Ig(d,this._internalRoot,null,null)};xj.prototype.unmount=function(){var d=this._internalRoot,g=d.containerInfo;Ig(null,d,null,function(){g[Ih]=null})};var vm=function(d){if(13===
d.tag){var g=Vc();ze(d,4,g);wj(d,4)}};var Zj=function(d){if(13===d.tag){var g=Vc();ze(d,67108864,g);wj(d,67108864)}};var Uk=function(d){if(13===d.tag){var g=Vc(),n=Nd(d);ze(d,n,g);wj(d,n)}};var rm=function(d,g){return g()};Yi=function(d,g,n){switch(g){case "input":fa(d,n);g=n.name;if("radio"===n.type&&null!=g){for(n=d;n.parentNode;)n=n.parentNode;n=n.querySelectorAll("input[name\x3d"+JSON.stringify(""+g)+'][type\x3d"radio"]');for(g=0;g<n.length;g++){var N=n[g];if(N!==d&&N.form===d.form){var ra=le(N);
if(!ra)throw Error(h(90));Z(N);fa(N,ra)}}}break;case "textarea":u(d,n);break;case "select":g=n.value,null!=g&&wa(d,!!n.multiple,g,!1)}};ha=Jf;w=function(d,g,n,N,ra){var Za=Ae;Ae|=4;try{return cc(98,d.bind(null,g,n,N,ra))}finally{Ae=Za,0===Ae&&(ud(),Yb())}};H=function(){0===(Ae&49)&&(Sf(),gh())};bk=function(d,g){var n=Ae;Ae|=2;try{return d(g)}finally{Ae=n,0===Ae&&(ud(),Yb())}};var Sk={Events:[Ed,md,le,Ka,ka,gh,{current:!1}]},Ki={findFiberByHostInstance:pd,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},
Oi={bundleType:Ki.bundleType,version:Ki.version,rendererPackageName:Ki.rendererPackageName,rendererConfig:Ki.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kg.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){d=S(d);return null===d?null:d.stateNode},findFiberByHostInstance:Ki.findFiberByHostInstance||
Cg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{Hk=eh.inject(Oi),ni=eh}catch(d){}}vb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sk;vb.createPortal=bl;vb.findDOMNode=function(d){if(null==d)return null;if(1===d.nodeType)return d;var g=d._reactInternals;if(void 0===g){if("function"===typeof d.render)throw Error(h(188));
throw Error(h(268,Object.keys(d)));}d=S(g);return d=null===d?null:d.stateNode};vb.flushSync=function(d,g){var n=Ae;if(0!==(n&48))return d(g);Ae|=1;try{if(d)return cc(99,d.bind(null,g))}finally{Ae=n,Yb()}};vb.hydrate=function(d,g,n){if(!Ri(g))throw Error(h(200));return wi(null,d,g,!0,n)};vb.render=function(d,g,n){if(!Ri(g))throw Error(h(200));return wi(null,d,g,!1,n)};vb.unmountComponentAtNode=function(d){if(!Ri(d))throw Error(h(40));return d._reactRootContainer?(wh(function(){wi(null,null,d,!1,function(){d._reactRootContainer=
null;d[Ih]=null})}),!0):!1};vb.unstable_batchedUpdates=Jf;vb.unstable_createPortal=function(d,g){return bl(d,g,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};vb.unstable_renderSubtreeIntoContainer=function(d,g,n,N){if(!Ri(n))throw Error(h(200));if(null==d||void 0===d._reactInternals)throw Error(h(38));return wi(d,g,n,!1,N)};vb.version="17.0.2"};
shadow$provide[67]=function(Ib,xb,gc,vb){function h(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(m){console.error(m)}}h();gc.exports=xb(62)};
var aa="cljs.core",ba="cljs.spec.alpha",g,ca=this||self;
function r(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return a[ia]||(a[ia]=++ja)}var ia="closure_uid_"+(1E9*Math.random()>>>0),ja=0;function ka(a,b){a.sort(b||la)}function na(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||la;ka(c,function(f,h){return e(f.value,h.value)||f.index-h.index});for(d=0;d<a.length;d++)a[d]=c[d].value}function la(a,b){return a>b?1:a<b?-1:0};function oa(a){this.md=a}oa.prototype.toString=function(){return this.md};function pa(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function ra(a,b){return null!==a&&b in a?a[b]:void 0}var sa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ua(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<sa.length;f++)c=sa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
function va(a){var b=arguments.length;if(1==b&&"array"==r(arguments[0]))return va.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};function wa(a){return/^[\s\xa0]*$/.test(a)};va(new oa("APPLET"),new oa("BASE"),new oa("EMBED"),new oa("IFRAME"),new oa("LINK"),new oa("MATH"),new oa("META"),new oa("OBJECT"),new oa("SCRIPT"),new oa("STYLE"),new oa("SVG"),new oa("TEMPLATE"));function xa(a,b){null!=a&&this.append.apply(this,arguments)}g=xa.prototype;g.Va="";g.set=function(a){this.Va=""+a};g.append=function(a,b,c){this.Va+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.Va+=arguments[d];return this};g.clear=function(){this.Va=""};g.toString=function(){return this.Va};var ya={},za={},Aa,t={},Ba=null;function Ca(){return new u(null,5,[Da,!0,Ea,!0,Fa,!1,Ga,!1,Ha,null],null)}function w(a){return null!=a&&!1!==a}function Ja(a){return a instanceof Array}function Ka(a){return null==a?!0:!1===a?!0:!1}function x(a,b){return a[r(null==b?null:b)]?!0:a._?!0:!1}function y(a,b){var c=null==b?null:b.constructor;c=w(w(c)?c.yb:c)?c.Sa:r(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function La(a){var b=a.Sa;return w(b)?b:z.f(a)}
var Ma="undefined"!==typeof Symbol&&"function"===r(Symbol)?Symbol.iterator:"@@iterator",Na={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},Oa=null;
function Pa(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Qa(a){function b(d,e){d.push(e);return d}var c=[];return Ra?Ra(b,c,a):Sa.call(null,b,c,a)}function Ta(a){return"symbol"===r(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Ua(){}function Va(){}function Ya(){}
function Za(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=Za[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Za._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("ICounted.-count",a);}return a}function $a(){}function cb(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=cb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=cb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IEmptyableCollection.-empty",a);}return a}function db(){}
function eb(a,b){if(null!=a&&null!=a.ma)a=a.ma(a,b);else{var c=eb[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=eb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("ICollection.-conj",a);}return a}function fb(){}
var gb=function(){function a(d,e,f){var h=C[r(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=C._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw y("IIndexed.-nth",d);}function b(d,e){var f=C[r(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=C._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw y("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.C=a;return c}(),C=function C(a){switch(arguments.length){case 2:return C.j(arguments[0],arguments[1]);case 3:return C.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};C.j=function(a,b){return null!=a&&null!=a.ea?a.ea(a,b):gb(a,b)};C.C=function(a,b,c){return null!=a&&null!=a.Aa?a.Aa(a,b,c):gb(a,b,c)};C.K=3;function hb(){}
function D(a){if(null!=a&&null!=a.ua)a=a.ua(a);else{var b=D[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=D._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("ISeq.-first",a);}return a}function ib(a){if(null!=a&&null!=a.va)a=a.va(a);else{var b=ib[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=ib._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("ISeq.-rest",a);}return a}function jb(){}
function kb(a){if(null!=a&&null!=a.na)a=a.na(a);else{var b=kb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=kb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("INext.-next",a);}return a}function lb(){}
var nb=function(){function a(d,e,f){var h=mb[r(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=mb._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw y("ILookup.-lookup",d);}function b(d,e){var f=mb[r(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=mb._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw y("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.C=a;return c}(),mb=function mb(a){switch(arguments.length){case 2:return mb.j(arguments[0],arguments[1]);case 3:return mb.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};mb.j=function(a,b){return null!=a&&null!=a.xa?a.xa(a,b):nb(a,b)};mb.C=function(a,b,c){return null!=a&&null!=a.$?a.$(a,b,c):nb(a,b,c)};mb.K=3;
function ob(a,b,c){if(null!=a&&null!=a.Na)a=a.Na(a,b,c);else{var d=ob[r(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=ob._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw y("IAssociative.-assoc",a);}return a}function pb(a,b){if(null!=a&&null!=a.tb)a=a.tb(a,b);else{var c=pb[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=pb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("IFind.-find",a);}return a}function qb(){}
function rb(a,b){if(null!=a&&null!=a.dc)a=a.dc(a,b);else{var c=rb[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=rb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("IMap.-dissoc",a);}return a}function sb(a){if(null!=a&&null!=a.Vc)a=a.key;else{var b=sb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=sb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IMapEntry.-key",a);}return a}
function tb(a){if(null!=a&&null!=a.Wc)a=a.ia;else{var b=tb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=tb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IMapEntry.-val",a);}return a}function ub(){}function vb(a,b){if(null!=a&&null!=a.xc)a=a.xc(a,b);else{var c=vb[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=vb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("ISet.-disjoin",a);}return a}
function wb(a){if(null!=a&&null!=a.ub)a=a.ub(a);else{var b=wb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=wb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IStack.-peek",a);}return a}function xb(a){if(null!=a&&null!=a.vb)a=a.vb(a);else{var b=xb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=xb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IStack.-pop",a);}return a}function yb(){}
function zb(a,b,c){if(null!=a&&null!=a.lb)a=a.lb(a,b,c);else{var d=zb[r(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=zb._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw y("IVector.-assoc-n",a);}return a}function Ab(a){if(null!=a&&null!=a.La)a=a.La(a);else{var b=Ab[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Ab._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IDeref.-deref",a);}return a}function Bb(){}
function Cb(a){if(null!=a&&null!=a.ba)a=a.ba(a);else{var b=Cb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Cb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IMeta.-meta",a);}return a}function Eb(a,b){if(null!=a&&null!=a.fa)a=a.fa(a,b);else{var c=Eb[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Eb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("IWithMeta.-with-meta",a);}return a}function Fb(){}
var Hb=function(){function a(d,e,f){var h=Gb[r(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=Gb._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw y("IReduce.-reduce",d);}function b(d,e){var f=Gb[r(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=Gb._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw y("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.C=a;return c}(),Gb=function Gb(a){switch(arguments.length){case 2:return Gb.j(arguments[0],arguments[1]);case 3:return Gb.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};Gb.j=function(a,b){return null!=a&&null!=a.qa?a.qa(a,b):Hb(a,b)};Gb.C=function(a,b,c){return null!=a&&null!=a.ra?a.ra(a,b,c):Hb(a,b,c)};Gb.K=3;function Ib(){}
function Jb(a,b,c){if(null!=a&&null!=a.Fb)a=a.Fb(a,b,c);else{var d=Jb[r(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Jb._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw y("IKVReduce.-kv-reduce",a);}return a}function Kb(a,b){if(null!=a&&null!=a.da)a=a.da(a,b);else{var c=Kb[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Kb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("IEquiv.-equiv",a);}return a}
function Lb(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=Lb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Lb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IHash.-hash",a);}return a}function Mb(){}function Nb(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=Nb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Nb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("ISeqable.-seq",a);}return a}function Ob(){}function Rb(){}function Sb(){}function Tb(){}
function Ub(a){if(null!=a&&null!=a.Hb)a=a.Hb(a);else{var b=Ub[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Ub._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IReversible.-rseq",a);}return a}function E(a,b){if(null!=a&&null!=a.yc)a=a.yc(a,b);else{var c=E[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=E._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("IWriter.-write",a);}return a}function Vb(){}
function Wb(a,b,c){if(null!=a&&null!=a.ca)a=a.ca(a,b,c);else{var d=Wb[r(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Wb._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw y("IPrintWithWriter.-pr-writer",a);}return a}function Xb(a,b){var c=Yb;if(null!=a&&null!=a.Sb)a.Sb(a,b,c);else{var d=Xb[r(null==a?null:a)];if(null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Xb._,null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else throw y("IWatchable.-add-watch",a);}}
function Zb(a,b){if(null!=a&&null!=a.Tb)a.Tb(a,b);else{var c=Zb[r(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=Zb._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw y("IWatchable.-remove-watch",a);}}function $b(a){if(null!=a&&null!=a.sb)a=a.sb(a);else{var b=$b[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=$b._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IEditableCollection.-as-transient",a);}return a}
function ac(a,b){if(null!=a&&null!=a.xb)a=a.xb(a,b);else{var c=ac[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=ac._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("ITransientCollection.-conj!",a);}return a}function bc(a){if(null!=a&&null!=a.Ib)a=a.Ib(a);else{var b=bc[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=bc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("ITransientCollection.-persistent!",a);}return a}
function cc(a,b,c){if(null!=a&&null!=a.wb)a=a.wb(a,b,c);else{var d=cc[r(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=cc._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw y("ITransientAssociative.-assoc!",a);}return a}function dc(){}function ec(a,b){if(null!=a&&null!=a.Wa)a=a.Wa(a,b);else{var c=ec[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=ec._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("IComparable.-compare",a);}return a}
function fc(a){if(null!=a&&null!=a.sc)a=a.sc(a);else{var b=fc[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=fc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IChunk.-drop-first",a);}return a}function gc(a){if(null!=a&&null!=a.cc)a=a.cc(a);else{var b=gc[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=gc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IChunkedSeq.-chunked-first",a);}return a}
function lc(a){if(null!=a&&null!=a.Rb)a=a.Rb(a);else{var b=lc[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=lc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IChunkedSeq.-chunked-rest",a);}return a}function mc(a,b){if(null!=a&&null!=a.Ea)a=a.Ea(a,b);else{var c=mc[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=mc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("IReset.-reset!",a);}return a}
var oc=function(){function a(f,h,k,l,m){var n=nc[r(null==f?null:f)];if(null!=n)return n.Y?n.Y(f,h,k,l,m):n.call(null,f,h,k,l,m);n=nc._;if(null!=n)return n.Y?n.Y(f,h,k,l,m):n.call(null,f,h,k,l,m);throw y("ISwap.-swap!",f);}function b(f,h,k,l){var m=nc[r(null==f?null:f)];if(null!=m)return m.R?m.R(f,h,k,l):m.call(null,f,h,k,l);m=nc._;if(null!=m)return m.R?m.R(f,h,k,l):m.call(null,f,h,k,l);throw y("ISwap.-swap!",f);}function c(f,h,k){var l=nc[r(null==f?null:f)];if(null!=l)return l.C?l.C(f,h,k):l.call(null,
f,h,k);l=nc._;if(null!=l)return l.C?l.C(f,h,k):l.call(null,f,h,k);throw y("ISwap.-swap!",f);}function d(f,h){var k=nc[r(null==f?null:f)];if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);k=nc._;if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);throw y("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.j=d;e.C=c;e.R=b;e.Y=a;return e}(),nc=function nc(a){switch(arguments.length){case 2:return nc.j(arguments[0],arguments[1]);case 3:return nc.C(arguments[0],arguments[1],arguments[2]);case 4:return nc.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return nc.Y(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};nc.j=function(a,b){return null!=a&&null!=a.fc?a.fc(a,b):oc(a,b)};
nc.C=function(a,b,c){return null!=a&&null!=a.hc?a.hc(a,b,c):oc(a,b,c)};nc.R=function(a,b,c,d){return null!=a&&null!=a.ic?a.ic(a,b,c,d):oc(a,b,c,d)};nc.Y=function(a,b,c,d,e){return null!=a&&null!=a.jc?a.jc(a,b,c,d,e):oc(a,b,c,d,e)};nc.K=5;function pc(){}function qc(a){if(null!=a&&null!=a.Da)a=a.Da(a);else{var b=qc[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=qc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IIterable.-iterator",a);}return a}
function rc(a){this.ld=a;this.D=1073741824;this.O=0}rc.prototype.yc=function(a,b){return this.ld.append(b)};function sc(a){var b=new xa;a.ca(null,new rc(b),Ca());return z.f(b)}var tc="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function uc(a){a=tc(a|0,-862048943);return tc(a<<15|a>>>-15,461845907)}
function vc(a,b){a=(a|0)^(b|0);return tc(a<<13|a>>>-13,5)+-430675100|0}function xc(a,b){a=(a|0)^b;a=tc(a^a>>>16,-2048144789);a=tc(a^a>>>13,-1028477387);return a^a>>>16}function yc(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=vc(c,uc(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return xc(1===(a.length&1)?b^uc(a.charCodeAt(a.length-1)):b,tc(2,a.length))}var zc={},Ac=0;
function Bc(a){255<Ac&&(zc={},Ac=0);if(null==a)return 0;var b=zc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=tc(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;zc[a]=b;Ac+=1;a=b}return a}
function Cc(a){if(null!=a&&(a.D&4194304||t===a.rd))return a.ga(null)^0;if("number"===typeof a){if(w(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=Bc(a),a=0===a?a:xc(vc(0,uc(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:Lb(a)^0,a}function Dc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function Ec(a,b){if(a.Ma===b.Ma)return 0;if(w(Ka(a.za)?b.za:!1))return-1;if(w(a.za)){if(Ka(b.za))return 1;var c=la(a.za,b.za);return 0===c?la(a.name,b.name):c}return la(a.name,b.name)}function Fc(a,b,c,d,e){this.za=a;this.name=b;this.Ma=c;this._hash=d;this.Ja=e;this.D=2154168321;this.O=4096}g=Fc.prototype;g.toString=function(){return this.Ma};g.da=function(a,b){return b instanceof Fc?this.Ma===b.Ma:!1};
g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};g.f=function(a){return F.j?F.j(a,this):F.call(null,a,this)};g.j=function(a,b){return F.C?F.C(a,this,b):F.call(null,a,this,b)};g.ba=function(){return this.Ja};
g.fa=function(a,b){return new Fc(this.za,this.name,this.Ma,this._hash,b)};g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=Dc(yc(this.name),Bc(this.za))};g.ca=function(a,b){return E(b,this.Ma)};var Gc=function Gc(a){switch(arguments.length){case 1:return Gc.f(arguments[0]);case 2:return Gc.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};
Gc.f=function(a){for(;;){if(a instanceof Fc)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?Gc.j(null,a):Gc.j(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof G)a=a.ya;else throw Error("no conversion to symbol");}};Gc.j=function(a,b){var c=null!=a?[z.f(a),"/",z.f(b)].join(""):b;return new Fc(a,b,c,null,null)};Gc.K=2;function Hc(a){return null!=a?a.O&131072||t===a.sd?!0:a.O?!1:x(pc,a):x(pc,a)}
function I(a){if(null==a)return null;if(null!=a&&(a.D&8388608||t===a.Yc))return a.ha(null);if(Ja(a)||"string"===typeof a)return 0===a.length?null:new J(a,0,null);if(null!=a&&null!=a[Ma])return a=ra(a,Ma).call(a),Ic.f?Ic.f(a):Ic.call(null,a);if(x(Mb,a))return Nb(a);throw Error([z.f(a)," is not ISeqable"].join(""));}function K(a){if(null==a)return null;if(null!=a&&(a.D&64||t===a.Ba))return a.ua(null);a=I(a);return null==a?null:D(a)}
function Jc(a){return null!=a?null!=a&&(a.D&64||t===a.Ba)?a.va(null):(a=I(a))?a.va(null):M:M}function N(a){return null==a?null:null!=a&&(a.D&128||t===a.Gb)?a.na(null):I(Jc(a))}var P=function P(a){switch(arguments.length){case 1:return P.f(arguments[0]);case 2:return P.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new J(c.slice(2),0,null);return P.G(arguments[0],arguments[1],c)}};P.f=function(){return!0};
P.j=function(a,b){return null==a?null==b:a===b||Kb(a,b)};P.G=function(a,b,c){for(;;)if(P.j(a,b))if(N(c))a=b,b=K(c),c=N(c);else return P.j(b,K(c));else return!1};P.N=function(a){var b=K(a),c=N(a);a=K(c);c=N(c);return this.G(b,a,c)};P.K=2;function Kc(a){this.s=a}Kc.prototype.next=function(){if(null!=this.s){var a=K(this.s);this.s=N(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Lc(a){return new Kc(I(a))}
function Mc(a,b){this.value=a;this.Db=b;this.Yb=null;this.D=8388672;this.O=0}Mc.prototype.ha=function(){return this};Mc.prototype.ua=function(){return this.value};Mc.prototype.va=function(){null==this.Yb&&(this.Yb=Ic.f?Ic.f(this.Db):Ic.call(null,this.Db));return this.Yb};function Ic(a){var b=a.next();return w(b.done)?null:new Mc(b.value,a)}function Nc(a){var b=0,c=1;for(a=I(a);;)if(null!=a)b+=1,c=tc(31,c)+Cc(K(a))|0,a=N(a);else return xc(vc(0,uc(c)),b)}var Oc=xc(vc(0,uc(1)),0);
function Pc(a){var b=0,c=0;for(a=I(a);;)if(null!=a)b+=1,c=c+Cc(K(a))|0,a=N(a);else return xc(vc(0,uc(c)),b)}var Qc=xc(vc(0,uc(0)),0);Ya["null"]=!0;Za["null"]=function(){return 0};Date.prototype.da=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.rb=t;Date.prototype.Wa=function(a,b){if(b instanceof Date)return la(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",z.f(this)," to ",z.f(b)].join(""));};Kb.number=function(a,b){return a===b};Ua["function"]=!0;
Bb["function"]=!0;Cb["function"]=function(){return null};Lb._=function(a){return ea(a)};function Rc(a){return a+1}function Sc(a){this.ia=a;this.D=32768;this.O=0}Sc.prototype.La=function(){return this.ia};function Tc(a){return a instanceof Sc}function Uc(a){return Ab(a)}function Vc(a,b){var c=a.ja(null);if(0===c)return b.J?b.J():b.call(null);for(var d=a.ea(null,0),e=1;;)if(e<c){var f=a.ea(null,e);d=b.j?b.j(d,f):b.call(null,d,f);if(Tc(d))return Ab(d);e+=1}else return d}
function Wc(a,b,c){var d=a.ja(null),e=c;for(c=0;;)if(c<d){var f=a.ea(null,c);e=b.j?b.j(e,f):b.call(null,e,f);if(Tc(e))return Ab(e);c+=1}else return e}function Xc(a,b){var c=a.length;if(0===a.length)return b.J?b.J():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.j?b.j(d,f):b.call(null,d,f);if(Tc(d))return Ab(d);e+=1}else return d}function Yc(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.j?b.j(e,f):b.call(null,e,f);if(Tc(e))return Ab(e);c+=1}else return e}
function dd(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.j?b.j(c,f):b.call(null,c,f);if(Tc(c))return Ab(c);d+=1}else return c}function ed(a){return null!=a?a.D&2||t===a.Oc?!0:a.D?!1:x(Ya,a):x(Ya,a)}function fd(a){return null!=a?a.D&16||t===a.uc?!0:a.D?!1:x(fb,a):x(fb,a)}function Q(a,b,c){var d=R.f?R.f(a):R.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(P.j(gd?gd(a,c):hd.call(null,a,c),b))return c;c+=1}else return-1}
function S(a,b,c){var d=R.f?R.f(a):R.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(P.j(gd?gd(a,c):hd.call(null,a,c),b))return c;--c}else return-1}function id(a,b){this.B=a;this.i=b}id.prototype.oa=function(){return this.i<this.B.length};id.prototype.next=function(){var a=this.B[this.i];this.i+=1;return a};function J(a,b,c){this.B=a;this.i=b;this.meta=c;this.D=166592766;this.O=139264}g=J.prototype;g.toString=function(){return sc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return Q(this,b,0)};a.j=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R.f?R.f(this):R.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return S(this,c,d)};return b}();g.ea=function(a,b){a=b+this.i;if(0<=a&&a<this.B.length)return this.B[a];throw Error("Index out of bounds");};g.Aa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.B.length?this.B[a]:c};
g.Da=function(){return new id(this.B,this.i)};g.ba=function(){return this.meta};g.na=function(){return this.i+1<this.B.length?new J(this.B,this.i+1,null):null};g.ja=function(){var a=this.B.length-this.i;return 0>a?0:a};g.Hb=function(){var a=this.ja(null);return 0<a?new jd(this,a-1,null):null};g.ga=function(){return Nc(this)};g.da=function(a,b){return kd.j?kd.j(this,b):kd.call(null,this,b)};g.la=function(){return M};g.qa=function(a,b){return dd(this.B,b,this.B[this.i],this.i+1)};
g.ra=function(a,b,c){return dd(this.B,b,c,this.i)};g.ua=function(){return this.B[this.i]};g.va=function(){return this.i+1<this.B.length?new J(this.B,this.i+1,null):M};g.ha=function(){return this.i<this.B.length?this:null};g.fa=function(a,b){return b===this.meta?this:new J(this.B,this.i,b)};g.ma=function(a,b){return T.j?T.j(b,this):T.call(null,b,this)};J.prototype[Ma]=function(){return Lc(this)};function ld(a){return 0<a.length?new J(a,0,null):null}
function jd(a,b,c){this.ci=a;this.i=b;this.meta=c;this.D=32374990;this.O=8192}g=jd.prototype;g.toString=function(){return sc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return Q(this,b,0)};a.j=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R.f?R.f(this):R.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return S(this,c,d)};return b}();g.ba=function(){return this.meta};g.na=function(){return 0<this.i?new jd(this.ci,this.i-1,null):null};g.ja=function(){return this.i+1};g.ga=function(){return Nc(this)};
g.da=function(a,b){return kd.j?kd.j(this,b):kd.call(null,this,b)};g.la=function(){return M};g.qa=function(a,b){return md?md(b,this):nd.call(null,b,this)};g.ra=function(a,b,c){return od?od(b,c,this):nd.call(null,b,c,this)};g.ua=function(){return C(this.ci,this.i)};g.va=function(){return 0<this.i?new jd(this.ci,this.i-1,null):M};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new jd(this.ci,this.i,b)};g.ma=function(a,b){return T.j?T.j(b,this):T.call(null,b,this)};
jd.prototype[Ma]=function(){return Lc(this)};function pd(a){for(;;){var b=N(a);if(null!=b)a=b;else return K(a)}}Kb._=function(a,b){return a===b};var qd=function qd(a){switch(arguments.length){case 0:return qd.J();case 1:return qd.f(arguments[0]);case 2:return qd.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new J(c.slice(2),0,null);return qd.G(arguments[0],arguments[1],c)}};qd.J=function(){return rd};qd.f=function(a){return a};
qd.j=function(a,b){return null!=a?eb(a,b):new sd(null,b,null,1,null)};qd.G=function(a,b,c){for(;;)if(w(c))a=qd.j(a,b),b=K(c),c=N(c);else return qd.j(a,b)};qd.N=function(a){var b=K(a),c=N(a);a=K(c);c=N(c);return this.G(b,a,c)};qd.K=2;
function R(a){if(null!=a)if(null!=a&&(a.D&2||t===a.Oc))a=a.ja(null);else if(Ja(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.D&8388608||t===a.Yc))a:{a=I(a);for(var b=0;;){if(ed(a)){a=b+Za(a);break a}a=N(a);b+=1}}else a=Za(a);else a=0;return a}function td(a,b,c){for(;;){if(null==a)return c;if(0===b)return I(a)?K(a):c;if(fd(a))return C(a,b,c);if(I(a))a=N(a),--b;else return c}}
function hd(a){switch(arguments.length){case 2:return gd(arguments[0],arguments[1]);case 3:return V(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}}
function gd(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.D&16||t===a.uc))return a.ea(null,b);if(Ja(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.D&64||t===a.Ba)||null!=a&&(a.D&16777216||t===a.wc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(I(a)){a=K(a);break a}throw Error("Index out of bounds");}if(fd(a)){a=C(a,b);break a}if(I(a))a=N(a),--b;else throw Error("Index out of bounds");}return a}if(x(fb,a))return C(a,b);throw Error(["nth not supported on this type ",z.f(La(null==a?null:a.constructor))].join(""));}
function V(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.D&16||t===a.uc))return a.Aa(null,b,c);if(Ja(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.D&64||t===a.Ba)||null!=a&&(a.D&16777216||t===a.wc))return 0>b?c:td(a,b,c);if(x(fb,a))return C(a,b,c);throw Error(["nth not supported on this type ",z.f(La(null==a?null:a.constructor))].join(""));}
var F=function F(a){switch(arguments.length){case 2:return F.j(arguments[0],arguments[1]);case 3:return F.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};F.j=function(a,b){return null==a?null:null!=a&&(a.D&256||t===a.Uc)?a.xa(null,b):Ja(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:x(lb,a)?mb(a,b):null};
F.C=function(a,b,c){return null!=a?null!=a&&(a.D&256||t===a.Uc)?a.$(null,b,c):Ja(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:x(lb,a)?mb(a,b,c):c:c};F.K=3;var W=function W(a){switch(arguments.length){case 3:return W.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new J(c.slice(3),0,null);return W.G(arguments[0],arguments[1],arguments[2],c)}};
W.C=function(a,b,c){if(null!=a&&(a.D&512||t===a.nd))a=a.Na(null,b,c);else if(null!=a)a=ob(a,b,c);else{a=[b,c];b=[];for(c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=ud(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;a=new u(null,b.length/2,b,null)}return a};W.G=function(a,b,c,d){for(;;)if(a=W.C(a,b,c),w(d))b=K(d),c=K(N(d)),d=N(N(d));else return a};W.N=function(a){var b=K(a),c=N(a);a=K(c);var d=N(c);c=K(d);d=N(d);return this.G(b,a,c,d)};W.K=3;
var vd=function vd(a){switch(arguments.length){case 1:return vd.f(arguments[0]);case 2:return vd.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new J(c.slice(2),0,null);return vd.G(arguments[0],arguments[1],c)}};vd.f=function(a){return a};vd.j=function(a,b){return null==a?null:rb(a,b)};vd.G=function(a,b,c){for(;;){if(null==a)return null;a=vd.j(a,b);if(w(c))b=K(c),c=N(c);else return a}};
vd.N=function(a){var b=K(a),c=N(a);a=K(c);c=N(c);return this.G(b,a,c)};vd.K=2;function wd(a){var b="function"==r(a);return b?b:null!=a?t===a.Nc?!0:a.zc?!1:x(Ua,a):x(Ua,a)}function xd(a,b){this.I=a;this.meta=b;this.D=393217;this.O=0}g=xd.prototype;g.ba=function(){return this.meta};g.fa=function(a,b){return new xd(this.I,b)};g.Nc=t;
g.call=function(a){switch(arguments.length-1){case 0:return this.J();case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.R(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.Y(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Oa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.ib(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.jb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.kb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Xa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Za(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.$a(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.cb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.eb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.fb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.gb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.hb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:var b=arguments[1],c=arguments[2],d=arguments[3],e=arguments[4],f=arguments[5],h=arguments[6],k=arguments[7],l=arguments[8],m=arguments[9],n=arguments[10],p=arguments[11],q=arguments[12],v=arguments[13],A=arguments[14],B=arguments[15],
H=arguments[16],O=arguments[17],U=arguments[18],da=arguments[19],fa=arguments[20],qa=arguments[21];return yd.Tc?yd.Tc(this.I,b,c,d,e,f,h,k,l,m,n,p,q,v,A,B,H,O,U,da,fa,qa):yd.call(null,this.I,b,c,d,e,f,h,k,l,m,n,p,q,v,A,B,H,O,U,da,fa,qa);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};g.J=function(){return this.I.J?this.I.J():this.I.call(null)};
g.f=function(a){return this.I.f?this.I.f(a):this.I.call(null,a)};g.j=function(a,b){return this.I.j?this.I.j(a,b):this.I.call(null,a,b)};g.C=function(a,b,c){return this.I.C?this.I.C(a,b,c):this.I.call(null,a,b,c)};g.R=function(a,b,c,d){return this.I.R?this.I.R(a,b,c,d):this.I.call(null,a,b,c,d)};g.Y=function(a,b,c,d,e){return this.I.Y?this.I.Y(a,b,c,d,e):this.I.call(null,a,b,c,d,e)};g.Oa=function(a,b,c,d,e,f){return this.I.Oa?this.I.Oa(a,b,c,d,e,f):this.I.call(null,a,b,c,d,e,f)};
g.ib=function(a,b,c,d,e,f,h){return this.I.ib?this.I.ib(a,b,c,d,e,f,h):this.I.call(null,a,b,c,d,e,f,h)};g.jb=function(a,b,c,d,e,f,h,k){return this.I.jb?this.I.jb(a,b,c,d,e,f,h,k):this.I.call(null,a,b,c,d,e,f,h,k)};g.kb=function(a,b,c,d,e,f,h,k,l){return this.I.kb?this.I.kb(a,b,c,d,e,f,h,k,l):this.I.call(null,a,b,c,d,e,f,h,k,l)};g.Xa=function(a,b,c,d,e,f,h,k,l,m){return this.I.Xa?this.I.Xa(a,b,c,d,e,f,h,k,l,m):this.I.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Ya=function(a,b,c,d,e,f,h,k,l,m,n){return this.I.Ya?this.I.Ya(a,b,c,d,e,f,h,k,l,m,n):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Za=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.I.Za?this.I.Za(a,b,c,d,e,f,h,k,l,m,n,p):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};g.$a=function(a,b,c,d,e,f,h,k,l,m,n,p,q){return this.I.$a?this.I.$a(a,b,c,d,e,f,h,k,l,m,n,p,q):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q)};
g.ab=function(a,b,c,d,e,f,h,k,l,m,n,p,q,v){return this.I.ab?this.I.ab(a,b,c,d,e,f,h,k,l,m,n,p,q,v):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,v)};g.bb=function(a,b,c,d,e,f,h,k,l,m,n,p,q,v,A){return this.I.bb?this.I.bb(a,b,c,d,e,f,h,k,l,m,n,p,q,v,A):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,v,A)};g.cb=function(a,b,c,d,e,f,h,k,l,m,n,p,q,v,A,B){return this.I.cb?this.I.cb(a,b,c,d,e,f,h,k,l,m,n,p,q,v,A,B):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,v,A,B)};
g.eb=function(a,b,c,d,e,f,h,k,l,m,n,p,q,v,A,B,H){return this.I.eb?this.I.eb(a,b,c,d,e,f,h,k,l,m,n,p,q,v,A,B,H):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,v,A,B,H)};g.fb=function(a,b,c,d,e,f,h,k,l,m,n,p,q,v,A,B,H,O){return this.I.fb?this.I.fb(a,b,c,d,e,f,h,k,l,m,n,p,q,v,A,B,H,O):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,v,A,B,H,O)};
g.gb=function(a,b,c,d,e,f,h,k,l,m,n,p,q,v,A,B,H,O,U){return this.I.gb?this.I.gb(a,b,c,d,e,f,h,k,l,m,n,p,q,v,A,B,H,O,U):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,v,A,B,H,O,U)};g.hb=function(a,b,c,d,e,f,h,k,l,m,n,p,q,v,A,B,H,O,U,da){return this.I.hb?this.I.hb(a,b,c,d,e,f,h,k,l,m,n,p,q,v,A,B,H,O,U,da):this.I.call(null,a,b,c,d,e,f,h,k,l,m,n,p,q,v,A,B,H,O,U,da)};function zd(a,b){return"function"==r(a)?new xd(a,b):null==a?null:Eb(a,b)}
function Gd(a){return null!=a&&(null!=a?a.D&131072||t===a.ec||(a.D?0:x(Bb,a)):x(Bb,a))?Cb(a):null}var Hd=function Hd(a){switch(arguments.length){case 1:return Hd.f(arguments[0]);case 2:return Hd.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new J(c.slice(2),0,null);return Hd.G(arguments[0],arguments[1],c)}};Hd.f=function(a){return a};Hd.j=function(a,b){return null==a?null:vb(a,b)};
Hd.G=function(a,b,c){for(;;){if(null==a)return null;a=Hd.j(a,b);if(w(c))b=K(c),c=N(c);else return a}};Hd.N=function(a){var b=K(a),c=N(a);a=K(c);c=N(c);return this.G(b,a,c)};Hd.K=2;function Id(a){return null==a||Ka(I(a))}function Jd(a){return null==a?!1:null!=a?a.D&8||t===a.pd?!0:a.D?!1:x(db,a):x(db,a)}function Kd(a){return null==a?!1:null!=a?a.D&4096||t===a.zd?!0:a.D?!1:x(ub,a):x(ub,a)}function Ld(a){return null!=a?a.D&16777216||t===a.wc?!0:a.D?!1:x(Ob,a):x(Ob,a)}
function Md(a){return null==a?!1:null!=a?a.D&1024||t===a.vd?!0:a.D?!1:x(qb,a):x(qb,a)}function Nd(a){return null!=a?a.D&67108864||t===a.xd?!0:a.D?!1:x(Sb,a):x(Sb,a)}function Od(a){return null!=a?a.D&16384||t===a.Ad?!0:a.D?!1:x(yb,a):x(yb,a)}function Pd(a){return null!=a?a.O&512||t===a.od?!0:!1:!1}function Qd(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Rd={};function Sd(a){return null==a?!1:!1===a?!1:!0}
function Td(a){var b=wd(a);return b?b:null!=a?a.D&1||t===a.qd?!0:a.D?!1:x(Va,a):x(Va,a)}function Ud(a,b){return F.C(a,b,Rd)===Rd?!1:!0}
function Vd(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return la(a,b);throw Error(["Cannot compare ",z.f(a)," to ",z.f(b)].join(""));}if(null!=a?a.O&2048||t===a.rb||(a.O?0:x(dc,a)):x(dc,a))return ec(a,b);if("string"!==typeof a&&!Ja(a)&&!0!==a&&!1!==a||(null==a?null:a.constructor)!==(null==b?null:b.constructor))throw Error(["Cannot compare ",z.f(a)," to ",z.f(b)].join(""));return la(a,b)}
function Wd(a,b){var c=R(a),d=R(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Vd(gd(a,d),gd(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function Xd(a){return P.j(a,Vd)?Vd:function(b,c){var d=a.j?a.j(b,c):a.call(null,b,c);return"number"===typeof d?d:w(d)?-1:w(a.j?a.j(c,b):a.call(null,c,b))?1:0}}function Yd(a,b){return I(b)?(b=Zd.f?Zd.f(b):Zd.call(null,b),na(b,Xd(a)),I(b)):M}
function $d(a,b){return Yd(function(c,d){c=a.f?a.f(c):a.call(null,c);d=a.f?a.f(d):a.call(null,d);var e=Xd(Vd);return e.j?e.j(c,d):e.call(null,c,d)},b)}function nd(a){switch(arguments.length){case 2:return md(arguments[0],arguments[1]);case 3:return od(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}}function md(a,b){var c=I(b);return c?(b=K(c),c=N(c),Ra?Ra(a,b,c):Sa.call(null,a,b,c)):a.J?a.J():a.call(null)}
function od(a,b,c){for(c=I(c);;)if(c){var d=K(c);b=a.j?a.j(b,d):a.call(null,b,d);if(Tc(b))return Ab(b);c=N(c)}else return b}function ae(a,b){a=qc(a);if(w(a.oa()))for(var c=a.next();;)if(a.oa()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(Tc(c))return Ab(c)}else return c;else return b.J?b.J():b.call(null)}function be(a,b,c){for(a=qc(a);;)if(a.oa()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(Tc(c))return Ab(c)}else return c}
function Sa(a){switch(arguments.length){case 2:return ce(arguments[0],arguments[1]);case 3:return Ra(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}}function ce(a,b){return null!=b&&(b.D&524288||t===b.Xc)?b.qa(null,a):Ja(b)?Xc(b,a):"string"===typeof b?Xc(b,a):x(Fb,b)?Gb(b,a):Hc(b)?ae(b,a):md(a,b)}
function Ra(a,b,c){return null!=c&&(c.D&524288||t===c.Xc)?c.ra(null,a,b):Ja(c)?Yc(c,a,b):"string"===typeof c?Yc(c,a,b):x(Fb,c)?Gb(c,a,b):Hc(c)?be(c,a,b):od(a,b,c)}function de(a,b,c){return null!=c?Jb(c,a,b):b}function ee(a){return a}function fe(a,b,c,d){a=a.f?a.f(b):a.call(null,b);c=Ra(a,c,d);return a.f?a.f(c):a.call(null,c)}function ge(a){return a-1}function he(a,b){a=(a-a%b)/b;return 0<=a?Math.floor(a):Math.ceil(a)}
function ie(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var z=function z(a){switch(arguments.length){case 0:return z.J();case 1:return z.f(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new J(c.slice(1),0,null);return z.G(arguments[0],c)}};z.J=function(){return""};z.f=function(a){return null==a?"":[a].join("")};
z.G=function(a,b){for(a=new xa(z.f(a));;)if(w(b))a=a.append(z.f(K(b))),b=N(b);else return a.toString()};z.N=function(a){var b=K(a);a=N(a);return this.G(b,a)};z.K=1;function kd(a,b){if(Ld(b))if(ed(a)&&ed(b)&&R(a)!==R(b))a=!1;else a:for(a=I(a),b=I(b);;){if(null==a){a=null==b;break a}if(null!=b&&P.j(K(a),K(b)))a=N(a),b=N(b);else{a=!1;break a}}else a=null;return Sd(a)}function sd(a,b,c,d,e){this.meta=a;this.first=b;this.Ra=c;this.count=d;this.P=e;this.D=65937646;this.O=8192}g=sd.prototype;
g.toString=function(){return sc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return Q(this,b,0)};a.j=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return S(this,c,d)};return b}();g.ba=function(){return this.meta};g.na=function(){return 1===this.count?null:this.Ra};g.ja=function(){return this.count};g.ub=function(){return this.first};g.vb=function(){return this.va(null)};
g.ga=function(){var a=this.P;return null!=a?a:this.P=a=Nc(this)};g.da=function(a,b){return kd(this,b)};g.la=function(){return Eb(M,this.meta)};g.qa=function(a,b){return md(b,this)};g.ra=function(a,b,c){return od(b,c,this)};g.ua=function(){return this.first};g.va=function(){return 1===this.count?M:this.Ra};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new sd(b,this.first,this.Ra,this.count,this.P)};g.ma=function(a,b){return new sd(this.meta,b,this,this.count+1,null)};
sd.prototype[Ma]=function(){return Lc(this)};function je(a){this.meta=a;this.D=65937614;this.O=8192}g=je.prototype;g.toString=function(){return sc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return Q(this,b,0)};a.j=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return S(this,c,d)};return b}();g.ba=function(){return this.meta};g.na=function(){return null};g.ja=function(){return 0};g.ub=function(){return null};g.vb=function(){throw Error("Can't pop empty list");};g.ga=function(){return Oc};
g.da=function(a,b){return(null!=b?b.D&33554432||t===b.ud||(b.D?0:x(Rb,b)):x(Rb,b))||Ld(b)?null==I(b):!1};g.la=function(){return this};g.qa=function(a,b){return md(b,this)};g.ra=function(a,b,c){return od(b,c,this)};g.ua=function(){return null};g.va=function(){return M};g.ha=function(){return null};g.fa=function(a,b){return b===this.meta?this:new je(b)};g.ma=function(a,b){return new sd(this.meta,b,null,1,null)};var M=new je(null);je.prototype[Ma]=function(){return Lc(this)};
function ke(a){return(null!=a?a.D&134217728||t===a.yd||(a.D?0:x(Tb,a)):x(Tb,a))?(a=Ub(a))?a:M:Ra(qd,M,a)}var qe=function qe(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new J(c.slice(0),0,null):null;return qe.G(c)};qe.G=function(a){if(a instanceof J&&0===a.i)var b=a.B;else a:for(b=[];;)if(null!=a)b.push(D(a)),a=kb(a);else break a;a=b.length;for(var c=M;;)if(0<a){var d=a-1;c=eb(c,b[a-1]);a=d}else return c};qe.K=0;qe.N=function(a){return this.G(I(a))};
function re(a,b,c,d){this.meta=a;this.first=b;this.Ra=c;this.P=d;this.D=65929452;this.O=8192}g=re.prototype;g.toString=function(){return sc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return Q(this,b,0)};a.j=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return S(this,c,d)};return b}();g.ba=function(){return this.meta};g.na=function(){return null==this.Ra?null:I(this.Ra)};g.ga=function(){var a=this.P;return null!=a?a:this.P=a=Nc(this)};g.da=function(a,b){return kd(this,b)};g.la=function(){return M};
g.qa=function(a,b){return md(b,this)};g.ra=function(a,b,c){return od(b,c,this)};g.ua=function(){return this.first};g.va=function(){return null==this.Ra?M:this.Ra};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new re(b,this.first,this.Ra,this.P)};g.ma=function(a,b){return new re(null,b,this,null)};re.prototype[Ma]=function(){return Lc(this)};
function T(a,b){return null==b?new sd(null,a,null,1,null):null!=b&&(b.D&64||t===b.Ba)?new re(null,a,b,null):new re(null,a,I(b),null)}function se(a,b){if(a.ya===b.ya)return 0;if(w(Ka(a.za)?b.za:!1))return-1;if(w(a.za)){if(Ka(b.za))return 1;var c=la(a.za,b.za);return 0===c?la(a.name,b.name):c}return la(a.name,b.name)}function G(a,b,c,d){this.za=a;this.name=b;this.ya=c;this._hash=d;this.D=2153775105;this.O=4096}g=G.prototype;g.toString=function(){return[":",z.f(this.ya)].join("")};
g.da=function(a,b){return b instanceof G?this.ya===b.ya:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};g.f=function(a){return F.j(a,this)};g.j=function(a,b){return F.C(a,this,b)};
g.ga=function(){var a=this._hash;return null!=a?a:this._hash=a=Dc(yc(this.name),Bc(this.za))+2654435769|0};g.ca=function(a,b){return E(b,[":",z.f(this.ya)].join(""))};function te(a){if(null!=a&&(a.O&4096||t===a.vc))return a.za;throw Error(["Doesn't support namespace: ",z.f(a)].join(""));}function ue(a){return a instanceof G||a instanceof Fc}
var ve=function ve(a){switch(arguments.length){case 1:return ve.f(arguments[0]);case 2:return ve.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};ve.f=function(a){if(a instanceof G)return a;if(a instanceof Fc)return new G(te(a),X.f?X.f(a):X.call(null,a),a.Ma,null);if(P.j("/",a))return new G(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new G(b[0],b[1],a,null):new G(null,b[0],a,null)}return null};
ve.j=function(a,b){a=a instanceof G?X.f?X.f(a):X.call(null,a):a instanceof Fc?X.f?X.f(a):X.call(null,a):a;b=b instanceof G?X.f?X.f(b):X.call(null,b):b instanceof Fc?X.f?X.f(b):X.call(null,b):b;return new G(a,b,[w(a)?[z.f(a),"/"].join(""):null,z.f(b)].join(""),null)};ve.K=2;function we(a,b,c){this.meta=a;this.fn=b;this.s=null;this.P=c;this.D=32374988;this.O=1}g=we.prototype;g.toString=function(){return sc(this)};
function xe(a){null!=a.fn&&(a.s=a.fn.J?a.fn.J():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return Q(this,b,0)};a.j=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return S(this,c,d)};return b}();g.ba=function(){return this.meta};g.na=function(){this.ha(null);return null==this.s?null:N(this.s)};g.ga=function(){var a=this.P;return null!=a?a:this.P=a=Nc(this)};g.da=function(a,b){return kd(this,b)};
g.la=function(){return Eb(M,this.meta)};g.qa=function(a,b){return md(b,this)};g.ra=function(a,b,c){return od(b,c,this)};g.ua=function(){this.ha(null);return null==this.s?null:K(this.s)};g.va=function(){this.ha(null);return null!=this.s?Jc(this.s):M};g.ha=function(){xe(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof we)a=xe(a);else return this.s=a,I(this.s)};g.fa=function(a,b){var c=this;return b===this.meta?c:new we(b,function(){return c.ha(null)},this.P)};
g.ma=function(a,b){return T(b,this)};we.prototype[Ma]=function(){return Lc(this)};function ye(a){this.Zb=a;this.end=0;this.D=2;this.O=0}ye.prototype.add=function(a){this.Zb[this.end]=a;return this.end+=1};ye.prototype.pa=function(){var a=new ze(this.Zb,0,this.end);this.Zb=null;return a};ye.prototype.ja=function(){return this.end};function Ae(a){return new ye(Array(a))}function ze(a,b,c){this.B=a;this.off=b;this.end=c;this.D=524306;this.O=0}g=ze.prototype;g.ja=function(){return this.end-this.off};
g.ea=function(a,b){return this.B[this.off+b]};g.Aa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.B[this.off+b]:c};g.sc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new ze(this.B,this.off+1,this.end)};g.qa=function(a,b){return dd(this.B,b,this.B[this.off],this.off+1)};g.ra=function(a,b,c){return dd(this.B,b,c,this.off)};function Be(a,b,c,d){this.pa=a;this.Ha=b;this.meta=c;this.P=d;this.D=31850732;this.O=1536}g=Be.prototype;g.toString=function(){return sc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return Q(this,b,0)};a.j=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return S(this,c,d)};return b}();g.ba=function(){return this.meta};g.na=function(){return 1<Za(this.pa)?new Be(fc(this.pa),this.Ha,null,null):null==this.Ha?null:Nb(this.Ha)};g.ga=function(){var a=this.P;return null!=a?a:this.P=a=Nc(this)};
g.da=function(a,b){return kd(this,b)};g.la=function(){return M};g.ua=function(){return C(this.pa,0)};g.va=function(){return 1<Za(this.pa)?new Be(fc(this.pa),this.Ha,null,null):null==this.Ha?M:this.Ha};g.ha=function(){return this};g.cc=function(){return this.pa};g.Rb=function(){return null==this.Ha?M:this.Ha};g.fa=function(a,b){return b===this.meta?this:new Be(this.pa,this.Ha,b,this.P)};g.ma=function(a,b){return T(b,this)};g.tc=function(){return null==this.Ha?null:this.Ha};Be.prototype[Ma]=function(){return Lc(this)};
function Ce(a,b){return 0===Za(a)?b:new Be(a,b,null,null)}function De(a,b){a.add(b)}function Zd(a){var b=[];for(a=I(a);;)if(null!=a)b.push(K(a)),a=N(a);else return b}function Ee(a,b){if(ed(b))return R(b);var c=0;for(b=I(b);;)if(null!=b&&c<a)c+=1,b=N(b);else return c}
var Fe=function Fe(a){if(null==a)return null;var c=N(a);return null==c?I(K(a)):T(K(a),Fe.f?Fe.f(c):Fe.call(null,c))},Ge=function Ge(a){switch(arguments.length){case 0:return Ge.J();case 1:return Ge.f(arguments[0]);case 2:return Ge.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new J(c.slice(2),0,null);return Ge.G(arguments[0],arguments[1],c)}};Ge.J=function(){return $b(rd)};Ge.f=function(a){return a};
Ge.j=function(a,b){return ac(a,b)};Ge.G=function(a,b,c){for(;;)if(a=ac(a,b),w(c))b=K(c),c=N(c);else return a};Ge.N=function(a){var b=K(a),c=N(a);a=K(c);c=N(c);return this.G(b,a,c)};Ge.K=2;
function He(a,b,c){var d=I(c);if(0===b)return a.J?a.J():a.call(null);c=D(d);var e=ib(d);if(1===b)return a.f?a.f(c):a.call(null,c);d=D(e);var f=ib(e);if(2===b)return a.j?a.j(c,d):a.call(null,c,d);e=D(f);var h=ib(f);if(3===b)return a.C?a.C(c,d,e):a.call(null,c,d,e);f=D(h);var k=ib(h);if(4===b)return a.R?a.R(c,d,e,f):a.call(null,c,d,e,f);h=D(k);var l=ib(k);if(5===b)return a.Y?a.Y(c,d,e,f,h):a.call(null,c,d,e,f,h);k=D(l);var m=ib(l);if(6===b)return a.Oa?a.Oa(c,d,e,f,h,k):a.call(null,c,d,e,f,h,k);l=D(m);
var n=ib(m);if(7===b)return a.ib?a.ib(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=D(n);var p=ib(n);if(8===b)return a.jb?a.jb(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=D(p);var q=ib(p);if(9===b)return a.kb?a.kb(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=D(q);var v=ib(q);if(10===b)return a.Xa?a.Xa(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);q=D(v);var A=ib(v);if(11===b)return a.Ya?a.Ya(c,d,e,f,h,k,l,m,n,p,q):a.call(null,c,d,e,f,h,k,l,m,n,p,q);v=D(A);var B=ib(A);if(12===b)return a.Za?
a.Za(c,d,e,f,h,k,l,m,n,p,q,v):a.call(null,c,d,e,f,h,k,l,m,n,p,q,v);A=D(B);var H=ib(B);if(13===b)return a.$a?a.$a(c,d,e,f,h,k,l,m,n,p,q,v,A):a.call(null,c,d,e,f,h,k,l,m,n,p,q,v,A);B=D(H);var O=ib(H);if(14===b)return a.ab?a.ab(c,d,e,f,h,k,l,m,n,p,q,v,A,B):a.call(null,c,d,e,f,h,k,l,m,n,p,q,v,A,B);H=D(O);var U=ib(O);if(15===b)return a.bb?a.bb(c,d,e,f,h,k,l,m,n,p,q,v,A,B,H):a.call(null,c,d,e,f,h,k,l,m,n,p,q,v,A,B,H);O=D(U);var da=ib(U);if(16===b)return a.cb?a.cb(c,d,e,f,h,k,l,m,n,p,q,v,A,B,H,O):a.call(null,
c,d,e,f,h,k,l,m,n,p,q,v,A,B,H,O);U=D(da);var fa=ib(da);if(17===b)return a.eb?a.eb(c,d,e,f,h,k,l,m,n,p,q,v,A,B,H,O,U):a.call(null,c,d,e,f,h,k,l,m,n,p,q,v,A,B,H,O,U);da=D(fa);var qa=ib(fa);if(18===b)return a.fb?a.fb(c,d,e,f,h,k,l,m,n,p,q,v,A,B,H,O,U,da):a.call(null,c,d,e,f,h,k,l,m,n,p,q,v,A,B,H,O,U,da);fa=D(qa);qa=ib(qa);if(19===b)return a.gb?a.gb(c,d,e,f,h,k,l,m,n,p,q,v,A,B,H,O,U,da,fa):a.call(null,c,d,e,f,h,k,l,m,n,p,q,v,A,B,H,O,U,da,fa);var wc=D(qa);ib(qa);if(20===b)return a.hb?a.hb(c,d,e,f,h,k,
l,m,n,p,q,v,A,B,H,O,U,da,fa,wc):a.call(null,c,d,e,f,h,k,l,m,n,p,q,v,A,B,H,O,U,da,fa,wc);throw Error("Only up to 20 arguments supported on functions");}function Ie(a){return null!=a&&(a.D&128||t===a.Gb)?a.na(null):I(Jc(a))}function Je(a,b,c){return null==c?a.f?a.f(b):a.call(a,b):Ke(a,b,D(c),Ie(c))}function Ke(a,b,c,d){return null==d?a.j?a.j(b,c):a.call(a,b,c):Le(a,b,c,D(d),Ie(d))}function Le(a,b,c,d,e){return null==e?a.C?a.C(b,c,d):a.call(a,b,c,d):Me(a,b,c,d,D(e),Ie(e))}
function Me(a,b,c,d,e,f){if(null==f)return a.R?a.R(b,c,d,e):a.call(a,b,c,d,e);var h=D(f),k=N(f);if(null==k)return a.Y?a.Y(b,c,d,e,h):a.call(a,b,c,d,e,h);f=D(k);var l=N(k);if(null==l)return a.Oa?a.Oa(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=D(l);var m=N(l);if(null==m)return a.ib?a.ib(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=D(m);var n=N(m);if(null==n)return a.jb?a.jb(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=D(n);var p=N(n);if(null==p)return a.kb?a.kb(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,k,l,m);
n=D(p);var q=N(p);if(null==q)return a.Xa?a.Xa(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=D(q);var v=N(q);if(null==v)return a.Ya?a.Ya(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);q=D(v);var A=N(v);if(null==A)return a.Za?a.Za(b,c,d,e,h,f,k,l,m,n,p,q):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q);v=D(A);var B=N(A);if(null==B)return a.$a?a.$a(b,c,d,e,h,f,k,l,m,n,p,q,v):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,v);A=D(B);var H=N(B);if(null==H)return a.ab?a.ab(b,c,d,e,h,f,k,l,m,n,p,q,v,A):a.call(a,b,c,d,
e,h,f,k,l,m,n,p,q,v,A);B=D(H);var O=N(H);if(null==O)return a.bb?a.bb(b,c,d,e,h,f,k,l,m,n,p,q,v,A,B):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,v,A,B);H=D(O);var U=N(O);if(null==U)return a.cb?a.cb(b,c,d,e,h,f,k,l,m,n,p,q,v,A,B,H):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,v,A,B,H);O=D(U);var da=N(U);if(null==da)return a.eb?a.eb(b,c,d,e,h,f,k,l,m,n,p,q,v,A,B,H,O):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,v,A,B,H,O);U=D(da);var fa=N(da);if(null==fa)return a.fb?a.fb(b,c,d,e,h,f,k,l,m,n,p,q,v,A,B,H,O,U):a.call(a,b,c,d,e,h,f,k,l,m,
n,p,q,v,A,B,H,O,U);da=D(fa);var qa=N(fa);if(null==qa)return a.gb?a.gb(b,c,d,e,h,f,k,l,m,n,p,q,v,A,B,H,O,U,da):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,v,A,B,H,O,U,da);fa=D(qa);qa=N(qa);if(null==qa)return a.hb?a.hb(b,c,d,e,h,f,k,l,m,n,p,q,v,A,B,H,O,U,da,fa):a.call(a,b,c,d,e,h,f,k,l,m,n,p,q,v,A,B,H,O,U,da,fa);b=[b,c,d,e,h,f,k,l,m,n,p,q,v,A,B,H,O,U,da,fa];for(c=qa;;)if(c)b.push(D(c)),c=N(c);else break;return a.apply(a,b)}
function yd(a){switch(arguments.length){case 2:return Ne(arguments[0],arguments[1]);case 3:return Oe(arguments[0],arguments[1],arguments[2]);case 4:return Pe(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Qe(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new J(b.slice(5),0,null);return Re(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function Ne(a,b){if(a.N){var c=a.K,d=Ee(c+1,b);return d<=c?He(a,d,b):a.N(b)}b=I(b);return null==b?a.J?a.J():a.call(a):Je(a,D(b),Ie(b))}function Oe(a,b,c){if(a.N){b=T(b,c);var d=a.K;c=Ee(d,c)+1;return c<=d?He(a,c,b):a.N(b)}return Je(a,b,I(c))}function Pe(a,b,c,d){return a.N?(b=T(b,T(c,d)),c=a.K,d=2+Ee(c-1,d),d<=c?He(a,d,b):a.N(b)):Ke(a,b,c,I(d))}function Qe(a,b,c,d,e){return a.N?(b=T(b,T(c,T(d,e))),c=a.K,e=3+Ee(c-2,e),e<=c?He(a,e,b):a.N(b)):Le(a,b,c,d,I(e))}
function Re(a,b,c,d,e,f){return a.N?(f=Fe(f),b=T(b,T(c,T(d,T(e,f)))),c=a.K,f=4+Ee(c-3,f),f<=c?He(a,f,b):a.N(b)):Me(a,b,c,d,e,Fe(f))}
function Se(){if("undefined"===typeof ya||"undefined"===typeof za||"undefined"===typeof Aa)Aa=function(a){this.cd=a;this.D=393216;this.O=0},Aa.prototype.fa=function(a,b){return new Aa(b)},Aa.prototype.ba=function(){return this.cd},Aa.prototype.oa=function(){return!1},Aa.prototype.next=function(){return Error("No such element")},Aa.prototype.remove=function(){return Error("Unsupported operation")},Aa.yb=!0,Aa.Sa="cljs.core/t_cljs$core34593",Aa.Jb=function(a){return E(a,"cljs.core/t_cljs$core34593")};
return new Aa(Te)}var Ue={},Ve={};function We(a){this.Eb=Ue;this._next=a}We.prototype.oa=function(){this.Eb===Ue?(this.Eb=Ve,this._next=I(this._next)):this.Eb===this._next&&(this._next=N(this.Eb));return null!=this._next};We.prototype.next=function(){if(this.oa())return this.Eb=this._next,K(this._next);throw Error("No such element");};We.prototype.remove=function(){return Error("Unsupported operation")};
function Xe(a,b){for(;;){if(null==I(b))return!0;var c=K(b);c=a.f?a.f(c):a.call(null,c);if(w(c))b=N(b);else return!1}}function Ye(a){for(var b=ee;;)if(a=I(a)){var c=K(a);c=b.f?b.f(c):b.call(null,c);if(w(c))return c;a=N(a)}else return null}
function Ze(a){return function(){function b(h,k){return Ka(a.j?a.j(h,k):a.call(null,h,k))}function c(h){return Ka(a.f?a.f(h):a.call(null,h))}function d(){return Ka(a.J?a.J():a.call(null))}var e=null,f=function(){function h(l,m,n){var p=null;if(2<arguments.length){p=0;for(var q=Array(arguments.length-2);p<q.length;)q[p]=arguments[p+2],++p;p=new J(q,0,null)}return k.call(this,l,m,p)}function k(l,m,n){return Ka(Pe(a,l,m,n))}h.K=2;h.N=function(l){var m=K(l);l=N(l);var n=K(l);l=Jc(l);return k(m,n,l)};
h.G=k;return h}();e=function(h,k,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var m=null;if(2<arguments.length){m=0;for(var n=Array(arguments.length-2);m<n.length;)n[m]=arguments[m+2],++m;m=new J(n,0,null)}return f.G(h,k,m)}throw Error("Invalid arity: "+arguments.length);};e.K=2;e.N=f.N;e.J=d;e.f=c;e.j=b;e.G=f.G;return e}()}
var $e=function $e(a){switch(arguments.length){case 0:return $e.J();case 1:return $e.f(arguments[0]);case 2:return $e.j(arguments[0],arguments[1]);case 3:return $e.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new J(c.slice(3),0,null);return $e.G(arguments[0],arguments[1],arguments[2],c)}};$e.J=function(){return ee};$e.f=function(a){return a};
$e.j=function(a,b){return function(){function c(l,m,n){l=b.C?b.C(l,m,n):b.call(null,l,m,n);return a.f?a.f(l):a.call(null,l)}function d(l,m){l=b.j?b.j(l,m):b.call(null,l,m);return a.f?a.f(l):a.call(null,l)}function e(l){l=b.f?b.f(l):b.call(null,l);return a.f?a.f(l):a.call(null,l)}function f(){var l=b.J?b.J():b.call(null);return a.f?a.f(l):a.call(null,l)}var h=null,k=function(){function l(n,p,q,v){var A=null;if(3<arguments.length){A=0;for(var B=Array(arguments.length-3);A<B.length;)B[A]=arguments[A+
3],++A;A=new J(B,0,null)}return m.call(this,n,p,q,A)}function m(n,p,q,v){n=Qe(b,n,p,q,v);return a.f?a.f(n):a.call(null,n)}l.K=3;l.N=function(n){var p=K(n);n=N(n);var q=K(n);n=N(n);var v=K(n);n=Jc(n);return m(p,q,v,n)};l.G=m;return l}();h=function(l,m,n,p){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,n);default:var q=null;if(3<arguments.length){q=0;for(var v=Array(arguments.length-3);q<v.length;)v[q]=arguments[q+
3],++q;q=new J(v,0,null)}return k.G(l,m,n,q)}throw Error("Invalid arity: "+arguments.length);};h.K=3;h.N=k.N;h.J=f;h.f=e;h.j=d;h.C=c;h.G=k.G;return h}()};
$e.C=function(a,b,c){return function(){function d(m,n,p){m=c.C?c.C(m,n,p):c.call(null,m,n,p);m=b.f?b.f(m):b.call(null,m);return a.f?a.f(m):a.call(null,m)}function e(m,n){m=c.j?c.j(m,n):c.call(null,m,n);m=b.f?b.f(m):b.call(null,m);return a.f?a.f(m):a.call(null,m)}function f(m){m=c.f?c.f(m):c.call(null,m);m=b.f?b.f(m):b.call(null,m);return a.f?a.f(m):a.call(null,m)}function h(){var m=c.J?c.J():c.call(null);m=b.f?b.f(m):b.call(null,m);return a.f?a.f(m):a.call(null,m)}var k=null,l=function(){function m(p,
q,v,A){var B=null;if(3<arguments.length){B=0;for(var H=Array(arguments.length-3);B<H.length;)H[B]=arguments[B+3],++B;B=new J(H,0,null)}return n.call(this,p,q,v,B)}function n(p,q,v,A){p=Qe(c,p,q,v,A);p=b.f?b.f(p):b.call(null,p);return a.f?a.f(p):a.call(null,p)}m.K=3;m.N=function(p){var q=K(p);p=N(p);var v=K(p);p=N(p);var A=K(p);p=Jc(p);return n(q,v,A,p)};m.G=n;return m}();k=function(m,n,p,q){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,m);case 2:return e.call(this,
m,n);case 3:return d.call(this,m,n,p);default:var v=null;if(3<arguments.length){v=0;for(var A=Array(arguments.length-3);v<A.length;)A[v]=arguments[v+3],++v;v=new J(A,0,null)}return l.G(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};k.K=3;k.N=l.N;k.J=h;k.f=f;k.j=e;k.C=d;k.G=l.G;return k}()};
$e.G=function(a,b,c,d){var e=ke(T(a,T(b,T(c,d))));return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var m=Array(arguments.length-0);l<m.length;)m[l]=arguments[l+0],++l;l=new J(m,0,null)}return h.call(this,l)}function h(k){k=Ne(K(e),k);for(var l=N(e);;)if(l){var m=K(l);k=m.f?m.f(k):m.call(null,k);l=N(l)}else return k}f.K=0;f.N=function(k){k=I(k);return h(k)};f.G=h;return f}()};$e.N=function(a){var b=K(a),c=N(a);a=K(c);var d=N(c);c=K(d);d=N(d);return this.G(b,a,c,d)};$e.K=3;
function af(a,b){return new we(null,function(){var c=I(b);if(c){if(Pd(c)){for(var d=gc(c),e=R(d),f=Ae(e),h=0;;)if(h<e){var k=function(){var l=C(d,h);return a.f?a.f(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return Ce(f.pa(),af(a,lc(c)))}e=function(){var l=K(c);return a.f?a.f(l):a.call(null,l)}();return null==e?af(a,Jc(c)):T(e,af(a,Jc(c)))}return null},null)}function bf(a){this.state=a;this.ta=this.validator=this.meta=null;this.O=16386;this.D=6455296}g=bf.prototype;
g.da=function(a,b){return this===b};g.La=function(){return this.state};g.ba=function(){return this.meta};g.kc=function(a,b){for(var c=I(this.ta),d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f),k=V(h,0,null);h=V(h,1,null);h.R?h.R(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=I(c))Pd(c)?(d=gc(c),c=lc(c),k=d,e=R(d),d=k):(d=K(c),k=V(d,0,null),h=V(d,1,null),h.R?h.R(k,this,a,b):h.call(null,k,this,a,b),c=N(c),d=null,e=0),f=0;else break};g.Sb=function(a,b,c){this.ta=W.C(this.ta,b,c);return this};
g.Tb=function(a,b){return this.ta=vd.j(this.ta,b)};g.ga=function(){return ea(this)};function cf(a,b){if(a instanceof bf){var c=a.validator;if(null!=c&&!w(c.f?c.f(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.ta&&a.kc(c,b);return b}return mc(a,b)}
var df=function df(a){switch(arguments.length){case 2:return df.j(arguments[0],arguments[1]);case 3:return df.C(arguments[0],arguments[1],arguments[2]);case 4:return df.R(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new J(c.slice(4),0,null);return df.G(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
df.j=function(a,b){if(a instanceof bf){var c=a.state;b=b.f?b.f(c):b.call(null,c);a=cf(a,b)}else a=nc(a,b);return a};df.C=function(a,b,c){if(a instanceof bf){var d=a.state;b=b.j?b.j(d,c):b.call(null,d,c);a=cf(a,b)}else a=nc(a,b,c);return a};df.R=function(a,b,c,d){if(a instanceof bf){var e=a.state;b=b.C?b.C(e,c,d):b.call(null,e,c,d);a=cf(a,b)}else a=nc(a,b,c,d);return a};df.G=function(a,b,c,d,e){return a instanceof bf?cf(a,Qe(b,a.state,c,d,e)):nc(a,b,c,d,e)};
df.N=function(a){var b=K(a),c=N(a);a=K(c);var d=N(c);c=K(d);var e=N(d);d=K(e);e=N(e);return this.G(b,a,c,d,e)};df.K=4;function ef(a){this.state=a;this.D=32768;this.O=0}ef.prototype.La=function(){return this.state};
var ff=function ff(a){switch(arguments.length){case 1:return ff.f(arguments[0]);case 2:return ff.j(arguments[0],arguments[1]);case 3:return ff.C(arguments[0],arguments[1],arguments[2]);case 4:return ff.R(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new J(c.slice(4),0,null);return ff.G(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ff.f=function(a){return function(b){return function(){function c(k,l){l=a.f?a.f(l):a.call(null,l);return b.j?b.j(k,l):b.call(null,k,l)}function d(k){return b.f?b.f(k):b.call(null,k)}function e(){return b.J?b.J():b.call(null)}var f=null,h=function(){function k(m,n,p){var q=null;if(2<arguments.length){q=0;for(var v=Array(arguments.length-2);q<v.length;)v[q]=arguments[q+2],++q;q=new J(v,0,null)}return l.call(this,m,n,q)}function l(m,n,p){n=Oe(a,n,p);return b.j?b.j(m,n):b.call(null,m,n)}k.K=2;k.N=function(m){var n=
K(m);m=N(m);var p=K(m);m=Jc(m);return l(n,p,m)};k.G=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new J(p,0,null)}return h.G(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.K=2;f.N=h.N;f.J=e;f.f=d;f.j=c;f.G=h.G;return f}()}};
ff.j=function(a,b){return new we(null,function(){var c=I(b);if(c){if(Pd(c)){for(var d=gc(c),e=R(d),f=Ae(e),h=0;;)if(h<e)De(f,function(){var k=C(d,h);return a.f?a.f(k):a.call(null,k)}()),h+=1;else break;return Ce(f.pa(),ff.j(a,lc(c)))}return T(function(){var k=K(c);return a.f?a.f(k):a.call(null,k)}(),ff.j(a,Jc(c)))}return null},null)};
ff.C=function(a,b,c){return new we(null,function(){var d=I(b),e=I(c);if(d&&e){var f=K(d);var h=K(e);f=a.j?a.j(f,h):a.call(null,f,h);d=T(f,ff.C(a,Jc(d),Jc(e)))}else d=null;return d},null)};ff.R=function(a,b,c,d){return new we(null,function(){var e=I(b),f=I(c),h=I(d);if(e&&f&&h){var k=K(e);var l=K(f),m=K(h);k=a.C?a.C(k,l,m):a.call(null,k,l,m);e=T(k,ff.R(a,Jc(e),Jc(f),Jc(h)))}else e=null;return e},null)};
ff.G=function(a,b,c,d,e){return ff.j(function(f){return Ne(a,f)},function k(h){return new we(null,function(){var l=ff.j(I,h);return Xe(ee,l)?T(ff.j(K,l),k(ff.j(Jc,l))):null},null)}(qd.G(e,d,ld([c,b]))))};ff.N=function(a){var b=K(a),c=N(a);a=K(c);var d=N(c);c=K(d);var e=N(d);d=K(e);e=N(e);return this.G(b,a,c,d,e)};ff.K=4;
var gf=function gf(a){switch(arguments.length){case 1:return gf.f(arguments[0]);case 2:return gf.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};
gf.f=function(a){return function(b){var c=new ef(a);return function(){function d(k,l){var m=Ab(c);var n=c.La(null)-1;n=c.state=n;k=0<m?b.j?b.j(k,l):b.call(null,k,l):k;return 0<n?k:Tc(k)?k:new Sc(k)}function e(k){return b.f?b.f(k):b.call(null,k)}function f(){return b.J?b.J():b.call(null)}var h=null;h=function(k,l){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,l)}throw Error("Invalid arity: "+arguments.length);};h.J=f;h.f=e;h.j=d;return h}()}};
gf.j=function(a,b){return new we(null,function(){if(0<a){var c=I(b);return c?T(K(c),gf.j(a-1,Jc(c))):null}return null},null)};gf.K=2;function hf(a,b){return new we(null,function(){a:for(var c=a,d=b;;)if(d=I(d),0<c&&d)--c,d=Jc(d);else break a;return d},null)}function jf(a){return ff.C(function(b){return b},a,hf(2,a))}
function kf(a,b){return new we(null,function(){var c=I(b);if(c){if(Pd(c)){for(var d=gc(c),e=R(d),f=Ae(e),h=0;;)if(h<e){var k=C(d,h);k=a.f?a.f(k):a.call(null,k);w(k)&&(k=C(d,h),f.add(k));h+=1}else break;return Ce(f.pa(),kf(a,lc(c)))}d=K(c);c=Jc(c);return w(a.f?a.f(d):a.call(null,d))?T(d,kf(a,c)):kf(a,c)}return null},null)}function lf(a,b){return kf(Ze(a),b)}
var mf=function mf(a){switch(arguments.length){case 0:return mf.J();case 1:return mf.f(arguments[0]);case 2:return mf.j(arguments[0],arguments[1]);case 3:return mf.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};mf.J=function(){return rd};mf.f=function(a){return a};mf.j=function(a,b){return null!=a?null!=a&&(a.O&4||t===a.Pc)?Eb(bc(Ra(ac,$b(a),b)),Gd(a)):Ra(eb,a,b):Ra(qd,a,b)};
mf.C=function(a,b,c){return null!=a&&(a.O&4||t===a.Pc)?Eb(bc(fe(b,Ge,$b(a),c)),Gd(a)):fe(b,qd,a,c)};mf.K=3;
var nf=function nf(a){switch(arguments.length){case 3:return nf.C(arguments[0],arguments[1],arguments[2]);case 4:return nf.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return nf.Y(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return nf.Oa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new J(c.slice(6),0,null);return nf.G(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};nf.C=function(a,b,c){return W.C(a,b,function(){var d=F.j(a,b);return c.f?c.f(d):c.call(null,d)}())};nf.R=function(a,b,c,d){return W.C(a,b,function(){var e=F.j(a,b);return c.j?c.j(e,d):c.call(null,e,d)}())};nf.Y=function(a,b,c,d,e){return W.C(a,b,function(){var f=F.j(a,b);return c.C?c.C(f,d,e):c.call(null,f,d,e)}())};nf.Oa=function(a,b,c,d,e,f){return W.C(a,b,function(){var h=F.j(a,b);return c.R?c.R(h,d,e,f):c.call(null,h,d,e,f)}())};
nf.G=function(a,b,c,d,e,f,h){return W.C(a,b,Re(c,F.j(a,b),d,e,f,ld([h])))};nf.N=function(a){var b=K(a),c=N(a);a=K(c);var d=N(c);c=K(d);var e=N(d);d=K(e);var f=N(e);e=K(f);var h=N(f);f=K(h);h=N(h);return this.G(b,a,c,d,e,f,h)};nf.K=6;function of(a,b){this.aa=a;this.B=b}function pf(a){return new of(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}
function qf(a){return new of(a.aa,Pa(a.B))}function Af(a){a=a.F;return 32>a?0:a-1>>>5<<5}function Bf(a,b,c){for(;;){if(0===b)return c;var d=pf(a);d.B[0]=c;c=d;b-=5}}var Cf=function Cf(a,b,c,d){var f=qf(c),h=a.F-1>>>b&31;5===b?f.B[h]=d:(c=c.B[h],null!=c?(b-=5,a=Cf.R?Cf.R(a,b,c,d):Cf.call(null,a,b,c,d)):a=Bf(null,b-5,d),f.B[h]=a);return f};function Df(a,b){throw Error(["No item ",z.f(a)," in vector of length ",z.f(b)].join(""));}
function Ef(a,b){if(b>=Af(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.B[b>>>a&31];a=d}else return c.B}function Ff(a,b){return 0<=b&&b<a.F?Ef(a,b):Df(b,a.F)}
var Gf=function Gf(a,b,c,d,e){var h=qf(c);if(0===b)h.B[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.B[k];a=Gf.Y?Gf.Y(a,b,c,d,e):Gf.call(null,a,b,c,d,e);h.B[k]=a}return h},Hf=function Hf(a,b,c){var e=a.F-2>>>b&31;if(5<b){b-=5;var f=c.B[e];a=Hf.C?Hf.C(a,b,f):Hf.call(null,a,b,f);if(null==a&&0===e)return null;c=qf(c);c.B[e]=a;return c}if(0===e)return null;c=qf(c);c.B[e]=null;return c};function If(a,b,c,d,e,f){this.i=a;this.base=b;this.B=c;this.v=d;this.start=e;this.end=f}
If.prototype.oa=function(){return this.i<this.end};If.prototype.next=function(){32===this.i-this.base&&(this.B=Ef(this.v,this.i),this.base+=32);var a=this.B[this.i&31];this.i+=1;return a};function Jf(a,b,c){return new If(b,b-b%32,b<R(a)?Ef(a,b):null,a,b,c)}function Kf(a,b,c,d){return c<d?Lf(a,b,gd(a,c),c+1,d):b.J?b.J():b.call(null)}
function Lf(a,b,c,d,e){var f=c;c=d;for(d=Ef(a,d);;)if(c<e){var h=c&31;d=0===h?Ef(a,c):d;h=d[h];f=b.j?b.j(f,h):b.call(null,f,h);if(Tc(f))return Ab(f);c+=1}else return f}function Y(a,b,c,d,e,f){this.meta=a;this.F=b;this.shift=c;this.root=d;this.tail=e;this.P=f;this.D=167666463;this.O=139268}g=Y.prototype;g.tb=function(a,b){return 0<=b&&b<this.F?new Mf(b,Ef(this,b)[b&31]):null};g.toString=function(){return sc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return Q(this,b,0)};a.j=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return S(this,c,d)};return b}();g.xa=function(a,b){return this.$(null,b,null)};g.$=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Fb=function(a,b,c){a=0;for(var d=c;;)if(a<this.F){var e=Ef(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.C?b.C(d,h,k):b.call(null,d,h,k);if(Tc(d)){e=d;break a}f+=1}else{e=d;break a}if(Tc(e))return Ab(e);a+=c;d=e}else return d};g.bc=t;g.ea=function(a,b){return Ff(this,b)[b&31]};g.Aa=function(a,b,c){return 0<=b&&b<this.F?Ef(this,b)[b&31]:c};
g.lb=function(a,b,c){if(0<=b&&b<this.F)return Af(this)<=b?(a=Pa(this.tail),a[b&31]=c,new Y(this.meta,this.F,this.shift,this.root,a,null)):new Y(this.meta,this.F,this.shift,Gf(this,this.shift,this.root,b,c),this.tail,null);if(b===this.F)return this.ma(null,c);throw Error(["Index ",z.f(b)," out of bounds  [0,",z.f(this.F),"]"].join(""));};g.Da=function(){return Jf(this,0,this.F)};g.ba=function(){return this.meta};g.ja=function(){return this.F};
g.ub=function(){return 0<this.F?this.ea(null,this.F-1):null};g.vb=function(){if(0===this.F)throw Error("Can't pop empty vector");if(1===this.F)return Eb(rd,this.meta);if(1<this.F-Af(this))return new Y(this.meta,this.F-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=Ef(this,this.F-2),b=Hf(this,this.shift,this.root);b=null==b?Z:b;var c=this.F-1;return 5<this.shift&&null==b.B[1]?new Y(this.meta,c,this.shift-5,b.B[0],a,null):new Y(this.meta,c,this.shift,b,a,null)};
g.Hb=function(){return 0<this.F?new jd(this,this.F-1,null):null};g.ga=function(){var a=this.P;return null!=a?a:this.P=a=Nc(this)};g.da=function(a,b){if(b instanceof Y)if(this.F===R(b))for(a=this.Da(null),b=b.Da(null);;)if(a.oa()){var c=a.next(),d=b.next();if(!P.j(c,d))return!1}else return!0;else return!1;else return kd(this,b)};g.sb=function(){return new Nf(this.F,this.shift,Of.f?Of.f(this.root):Of.call(null,this.root),Pf.f?Pf.f(this.tail):Pf.call(null,this.tail))};g.la=function(){return Eb(rd,this.meta)};
g.qa=function(a,b){return Kf(this,b,0,this.F)};g.ra=function(a,b,c){a=0;for(var d=c;;)if(a<this.F){var e=Ef(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.j?b.j(d,h):b.call(null,d,h);if(Tc(d)){e=d;break a}f+=1}else{e=d;break a}if(Tc(e))return Ab(e);a+=c;d=e}else return d};g.Na=function(a,b,c){if("number"===typeof b)return this.lb(null,b,c);throw Error("Vector's key for assoc must be a number.");};
g.ha=function(){if(0===this.F)return null;if(32>=this.F)return new J(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.B[0];else{a=a.B;break a}}return Qf?Qf(this,a,0,0):Rf.call(null,this,a,0,0)};g.fa=function(a,b){return b===this.meta?this:new Y(b,this.F,this.shift,this.root,this.tail,this.P)};
g.ma=function(a,b){if(32>this.F-Af(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new Y(this.meta,this.F+1,this.shift,this.root,c,null)}a=(c=this.F>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=pf(null),c.B[0]=this.root,d=Bf(null,this.shift,new of(null,this.tail)),c.B[1]=d):c=Cf(this,this.shift,this.root,new of(null,this.tail));return new Y(this.meta,this.F+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};g.f=function(a){return this.ea(null,a)};g.j=function(a,b){return this.Aa(null,a,b)};
var Z=new of(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),rd=new Y(null,0,5,Z,[],Oc);function Sf(a,b){var c=a.length;a=b?a:Pa(a);if(32>c)return new Y(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new Y(null,32,5,Z,d,null)).sb(null);;)if(b<c)d=b+1,e=Ge.j(e,a[b]),b=d;else return bc(e)}Y.prototype[Ma]=function(){return Lc(this)};
function Tf(a){return w(Uf.f?Uf.f(a):Uf.call(null,a))?new Y(null,2,5,Z,[Vf.f?Vf.f(a):Vf.call(null,a),Wf.f?Wf.f(a):Wf.call(null,a)],null):Od(a)?zd(a,null):Ja(a)?Sf(a,!0):bc(Ra(ac,$b(rd),a))}var Xf=function Xf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new J(c.slice(0),0,null):null;return Xf.G(c)};Xf.G=function(a){return a instanceof J&&0===a.i?Sf(a.B,!Ja(a.B)):Tf(a)};Xf.K=0;Xf.N=function(a){return this.G(I(a))};
function Yf(a,b,c,d,e){this.Ca=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.P=null;this.D=32375020;this.O=1536}g=Yf.prototype;g.toString=function(){return sc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return Q(this,b,0)};a.j=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return S(this,c,d)};return b}();g.ba=function(){return this.meta};g.na=function(){if(this.off+1<this.node.length){var a=this.Ca;var b=this.node,c=this.i,d=this.off+1;a=Qf?Qf(a,b,c,d):Rf.call(null,a,b,c,d);return null==a?null:a}return this.tc()};
g.ga=function(){var a=this.P;return null!=a?a:this.P=a=Nc(this)};g.da=function(a,b){return kd(this,b)};g.la=function(){return M};g.qa=function(a,b){return Kf(this.Ca,b,this.i+this.off,R(this.Ca))};g.ra=function(a,b,c){return Lf(this.Ca,b,c,this.i+this.off,R(this.Ca))};g.ua=function(){return this.node[this.off]};g.va=function(){if(this.off+1<this.node.length){var a=this.Ca;var b=this.node,c=this.i,d=this.off+1;a=Qf?Qf(a,b,c,d):Rf.call(null,a,b,c,d);return null==a?M:a}return this.Rb(null)};g.ha=function(){return this};
g.cc=function(){var a=this.node;return new ze(a,this.off,a.length)};g.Rb=function(){var a=this.i+this.node.length;if(a<Za(this.Ca)){var b=this.Ca,c=Ef(this.Ca,a);return Qf?Qf(b,c,a,0):Rf.call(null,b,c,a,0)}return M};g.fa=function(a,b){return b===this.meta?this:Zf?Zf(this.Ca,this.node,this.i,this.off,b):Rf.call(null,this.Ca,this.node,this.i,this.off,b)};g.ma=function(a,b){return T(b,this)};
g.tc=function(){var a=this.i+this.node.length;if(a<Za(this.Ca)){var b=this.Ca,c=Ef(this.Ca,a);return Qf?Qf(b,c,a,0):Rf.call(null,b,c,a,0)}return null};Yf.prototype[Ma]=function(){return Lc(this)};
function Rf(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Yf(b,Ff(b,c),c,d,null);case 4:return Qf(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Zf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}}function Qf(a,b,c,d){return new Yf(a,b,c,d,null)}function Zf(a,b,c,d,e){return new Yf(a,b,c,d,e)}
function $f(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.P=e;this.D=167666463;this.O=139264}g=$f.prototype;g.tb=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Mf(b,mb(this.v,a)):null};g.toString=function(){return sc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return Q(this,b,0)};a.j=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return S(this,c,d)};return b}();g.xa=function(a,b){return this.$(null,b,null)};g.$=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Fb=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=C(this.v,a);c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(Tc(c))return Ab(c);d+=1;a+=1}else return c};g.ea=function(a,b){return 0>b||this.end<=this.start+b?Df(b,this.end-this.start):C(this.v,this.start+b)};g.Aa=function(a,b,c){return 0>b||this.end<=this.start+b?c:C(this.v,this.start+b,c)};
g.lb=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",z.f(b)," out of bounds [0,",z.f(this.ja(null)),"]"].join(""));b=this.meta;c=W.C(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return ag.Y?ag.Y(b,c,d,a,null):ag.call(null,b,c,d,a,null)};g.Da=function(){return null!=this.v&&t===this.v.bc?Jf(this.v,this.start,this.end):new We(this)};g.ba=function(){return this.meta};g.ja=function(){return this.end-this.start};
g.ub=function(){return this.start===this.end?null:C(this.v,this.end-1)};g.vb=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return ag.Y?ag.Y(a,b,c,d,null):ag.call(null,a,b,c,d,null)};g.Hb=function(){return this.start!==this.end?new jd(this,this.end-this.start-1,null):null};g.ga=function(){var a=this.P;return null!=a?a:this.P=a=Nc(this)};g.da=function(a,b){return kd(this,b)};g.la=function(){return Eb(rd,this.meta)};
g.qa=function(a,b){return null!=this.v&&t===this.v.bc?Kf(this.v,b,this.start,this.end):Vc(this,b)};g.ra=function(a,b,c){return null!=this.v&&t===this.v.bc?Lf(this.v,b,c,this.start,this.end):Wc(this,b,c)};g.Na=function(a,b,c){if("number"===typeof b)return this.lb(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.ha=function(){var a=this;return function d(c){return c===a.end?null:T(C(a.v,c),new we(null,function(){return d(c+1)},null))}(a.start)};
g.fa=function(a,b){return b===this.meta?this:ag.Y?ag.Y(b,this.v,this.start,this.end,this.P):ag.call(null,b,this.v,this.start,this.end,this.P)};g.ma=function(a,b){a=this.meta;b=zb(this.v,this.end,b);var c=this.start,d=this.end+1;return ag.Y?ag.Y(a,b,c,d,null):ag.call(null,a,b,c,d,null)};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};g.f=function(a){return this.ea(null,a)};g.j=function(a,b){return this.Aa(null,a,b)};$f.prototype[Ma]=function(){return Lc(this)};function ag(a,b,c,d,e){for(;;)if(b instanceof $f)c=b.start+c,d=b.start+d,b=b.v;else{if(!Od(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>R(b))throw Error("Index out of bounds");return new $f(a,b,c,d,e)}}function bg(a,b){return a===b.aa?b:new of(a,Pa(b.B))}
function Of(a){return new of({},Pa(a.B))}function Pf(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Qd(a,0,b,0,a.length);return b}var cg=function cg(a,b,c,d){c=bg(a.root.aa,c);var f=a.F-1>>>b&31;if(5===b)a=d;else{var h=c.B[f];null!=h?(b-=5,a=cg.R?cg.R(a,b,h,d):cg.call(null,a,b,h,d)):a=Bf(a.root.aa,b-5,d)}c.B[f]=a;return c};
function Nf(a,b,c,d){this.F=a;this.shift=b;this.root=c;this.tail=d;this.O=88;this.D=275}g=Nf.prototype;
g.xb=function(a,b){if(this.root.aa){if(32>this.F-Af(this))this.tail[this.F&31]=b;else{a=new of(this.root.aa,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.F>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=Bf(this.root.aa,this.shift,a),this.root=new of(this.root.aa,b),this.shift=c):this.root=cg(this,this.shift,this.root,a)}this.F+=1;return this}throw Error("conj! after persistent!");};g.Ib=function(){if(this.root.aa){this.root.aa=null;var a=this.F-Af(this),b=Array(a);Qd(this.tail,0,b,0,a);return new Y(null,this.F,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.wb=function(a,b,c){if("number"===typeof b)return dg(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function dg(a,b,c){if(a.root.aa){if(0<=b&&b<a.F){if(Af(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=bg(a.root.aa,h);if(0===f)h.B[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.B[l]);h.B[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.F)return a.xb(null,c);throw Error(["Index ",z.f(b)," out of bounds for TransientVector of length",z.f(a.F)].join(""));}throw Error("assoc! after persistent!");}g.ja=function(){if(this.root.aa)return this.F;throw Error("count after persistent!");};
g.ea=function(a,b){if(this.root.aa)return Ff(this,b)[b&31];throw Error("nth after persistent!");};g.Aa=function(a,b,c){return 0<=b&&b<this.F?this.ea(null,b):c};g.xa=function(a,b){return this.$(null,b,null)};g.$=function(a,b,c){if(this.root.aa)return"number"===typeof b?this.Aa(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};g.f=function(a){return this.xa(null,a)};g.j=function(a,b){return this.$(null,a,b)};function eg(){this.D=2097152;this.O=0}eg.prototype.da=function(){return!1};var fg=new eg;
function gg(a,b){return Sd(Md(b)&&!Nd(b)?R(a)===R(b)?(null!=a?a.D&1048576||t===a.td||(a.D?0:x(Ib,a)):x(Ib,a))?de(function(c,d,e){return P.j(F.C(b,d,fg),e)?!0:new Sc(!1)},!0,a):Xe(function(c){return P.j(F.C(b,K(c),fg),K(N(c)))},a):null:null)}function hg(a){this.s=a}hg.prototype.next=function(){if(null!=this.s){var a=K(this.s),b=V(a,0,null);a=V(a,1,null);this.s=N(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function ig(a){this.s=a}
ig.prototype.next=function(){if(null!=this.s){var a=K(this.s);this.s=N(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function ud(a,b){if(b instanceof G)a:{var c=a.length;b=b.ya;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof G&&b===a[d].ya){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof Fc)a:for(c=a.length,b=b.Ma,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof Fc&&b===a[d].Ma){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(P.j(b,a[d])){a=d;break a}d+=2}return a}function Mf(a,b){this.key=a;this.ia=b;this.P=null;this.D=166619935;this.O=0}g=Mf.prototype;g.tb=function(a,b){switch(b){case 0:return new Mf(0,this.key);case 1:return new Mf(1,this.ia);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return Q(this,b,0)};a.j=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return S(this,c,d)};return b}();g.xa=function(a,b){return this.Aa(null,b,null)};g.$=function(a,b,c){return this.Aa(null,b,c)};g.ea=function(a,b){if(0===b)return this.key;if(1===b)return this.ia;throw Error("Index out of bounds");};
g.Aa=function(a,b,c){return 0===b?this.key:1===b?this.ia:c};g.lb=function(a,b,c){return(new Y(null,2,5,Z,[this.key,this.ia],null)).lb(null,b,c)};g.ba=function(){return null};g.ja=function(){return 2};g.Vc=function(){return this.key};g.Wc=function(){return this.ia};g.ub=function(){return this.ia};g.vb=function(){return new Y(null,1,5,Z,[this.key],null)};g.Hb=function(){return new J([this.ia,this.key],0,null)};g.ga=function(){var a=this.P;return null!=a?a:this.P=a=Nc(this)};
g.da=function(a,b){return kd(this,b)};g.la=function(){return null};g.qa=function(a,b){return Vc(this,b)};g.ra=function(a,b,c){return Wc(this,b,c)};g.Na=function(a,b,c){return W.C(new Y(null,2,5,Z,[this.key,this.ia],null),b,c)};g.ha=function(){return new J([this.key,this.ia],0,null)};g.fa=function(a,b){return zd(new Y(null,2,5,Z,[this.key,this.ia],null),b)};g.ma=function(a,b){return new Y(null,3,5,Z,[this.key,this.ia,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};g.f=function(a){return this.ea(null,a)};g.j=function(a,b){return this.Aa(null,a,b)};function Uf(a){return null!=a?a.D&2048||t===a.wd?!0:!1:!1}function jg(a,b,c){this.B=a;this.i=b;this.Ja=c;this.D=32374990;this.O=0}g=jg.prototype;
g.toString=function(){return sc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return Q(this,b,0)};a.j=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return S(this,c,d)};return b}();g.ba=function(){return this.Ja};g.na=function(){return this.i<this.B.length-2?new jg(this.B,this.i+2,null):null};g.ja=function(){return(this.B.length-this.i)/2};g.ga=function(){return Nc(this)};
g.da=function(a,b){return kd(this,b)};g.la=function(){return M};g.qa=function(a,b){return md(b,this)};g.ra=function(a,b,c){return od(b,c,this)};g.ua=function(){return new Mf(this.B[this.i],this.B[this.i+1])};g.va=function(){return this.i<this.B.length-2?new jg(this.B,this.i+2,null):M};g.ha=function(){return this};g.fa=function(a,b){return b===this.Ja?this:new jg(this.B,this.i,b)};g.ma=function(a,b){return T(b,this)};jg.prototype[Ma]=function(){return Lc(this)};
function kg(a,b){this.B=a;this.i=0;this.F=b}kg.prototype.oa=function(){return this.i<this.F};kg.prototype.next=function(){var a=new Mf(this.B[this.i],this.B[this.i+1]);this.i+=2;return a};function u(a,b,c,d){this.meta=a;this.F=b;this.B=c;this.P=d;this.D=16647951;this.O=139268}g=u.prototype;g.tb=function(a,b){a=ud(this.B,b);return-1===a?null:new Mf(this.B[a],this.B[a+1])};g.toString=function(){return sc(this)};g.keys=function(){return Lc(lg.f?lg.f(this):lg.call(null,this))};g.entries=function(){return new hg(I(I(this)))};
g.values=function(){return Lc(mg.f?mg.f(this):mg.call(null,this))};g.has=function(a){return Ud(this,a)};g.get=function(a,b){return this.$(null,a,b)};g.forEach=function(a){for(var b=I(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=I(b))Pd(b)?(c=gc(b),b=lc(b),h=c,d=R(c),c=h):(c=K(b),h=V(c,0,null),f=V(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=N(b),c=null,d=0),e=0;else return null};g.xa=function(a,b){return this.$(null,b,null)};
g.$=function(a,b,c){a=ud(this.B,b);return-1===a?c:this.B[a+1]};g.Fb=function(a,b,c){a=this.B.length;for(var d=0;;)if(d<a){var e=this.B[d],f=this.B[d+1];c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(Tc(c))return Ab(c);d+=2}else return c};g.Da=function(){return new kg(this.B,2*this.F)};g.ba=function(){return this.meta};g.ja=function(){return this.F};g.ga=function(){var a=this.P;return null!=a?a:this.P=a=Pc(this)};
g.da=function(a,b){if(Md(b)&&!Nd(b))if(a=this.B.length,this.F===b.ja(null))for(var c=0;;)if(c<a){var d=b.$(null,this.B[c],Rd);if(d!==Rd)if(P.j(this.B[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.sb=function(){return new ng(this.B.length,Pa(this.B))};g.la=function(){return Eb(Te,this.meta)};g.qa=function(a,b){return ae(this,b)};g.ra=function(a,b,c){return be(this,b,c)};
g.dc=function(a,b){if(0<=ud(this.B,b)){a=this.B.length;var c=a-2;if(0===c)return this.la(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new u(this.meta,this.F-1,c,null);P.j(b,this.B[d])?d+=2:(c[e]=this.B[d],c[e+1]=this.B[d+1],e+=2,d+=2)}}else return this};
g.Na=function(a,b,c){a=ud(this.B,b);if(-1===a){if(this.F<og){a=this.B;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new u(this.meta,this.F+1,e,null)}return Eb(ob(mf.j(pg,this),b,c),this.meta)}if(c===this.B[a+1])return this;b=Pa(this.B);b[a+1]=c;return new u(this.meta,this.F,b,null)};g.ha=function(){var a=this.B;return 0<=a.length-2?new jg(a,0,null):null};g.fa=function(a,b){return b===this.meta?this:new u(b,this.F,this.B,this.P)};
g.ma=function(a,b){if(Od(b))return this.Na(null,C(b,0),C(b,1));a=this;for(b=I(b);;){if(null==b)return a;var c=K(b);if(Od(c))a=ob(a,C(c,0),C(c,1)),b=N(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};
g.f=function(a){return this.xa(null,a)};g.j=function(a,b){return this.$(null,a,b)};var Te=new u(null,0,[],Qc),og=8;u.prototype[Ma]=function(){return Lc(this)};function ng(a,b){this.Bb={};this.ob=a;this.B=b;this.D=259;this.O=56}g=ng.prototype;g.ja=function(){if(this.Bb)return he(this.ob,2);throw Error("count after persistent!");};g.xa=function(a,b){return this.$(null,b,null)};g.$=function(a,b,c){if(this.Bb)return a=ud(this.B,b),-1===a?c:this.B[a+1];throw Error("lookup after persistent!");};
g.xb=function(a,b){if(this.Bb){if(Uf(b))return this.wb(null,Vf.f?Vf.f(b):Vf.call(null,b),Wf.f?Wf.f(b):Wf.call(null,b));if(Od(b))return this.wb(null,b.f?b.f(0):b.call(null,0),b.f?b.f(1):b.call(null,1));a=I(b);for(b=this;;){var c=K(a);if(w(c))a=N(a),b=cc(b,Vf.f?Vf.f(c):Vf.call(null,c),Wf.f?Wf.f(c):Wf.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Ib=function(){if(this.Bb)return this.Bb=!1,new u(null,he(this.ob,2),this.B,null);throw Error("persistent! called twice");};
g.wb=function(a,b,c){if(this.Bb){a=ud(this.B,b);if(-1===a){if(this.ob+2<=2*og)return this.ob+=2,this.B.push(b),this.B.push(c),this;a=qg.j?qg.j(this.ob,this.B):qg.call(null,this.ob,this.B);return cc(a,b,c)}c!==this.B[a+1]&&(this.B[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};g.f=function(a){return this.$(null,a,null)};g.j=function(a,b){return this.$(null,a,b)};function qg(a,b){for(var c=$b(pg),d=0;;)if(d<a)c=cc(c,b[d],b[d+1]),d+=2;else return c}function rg(){this.ia=!1}function sg(a,b){return a===b?!0:a===b||a instanceof G&&b instanceof G&&a.ya===b.ya?!0:P.j(a,b)}function tg(a,b,c){a=Pa(a);a[b]=c;return a}
function ug(a,b){var c=Array(a.length-2);Qd(a,0,c,0,2*b);Qd(a,2*(b+1),c,2*b,c.length-2*b);return c}function vg(a,b,c,d){a=a.mb(b);a.B[c]=d;return a}function wg(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.C?b.C(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Nb(b,f):f;if(Tc(c))return c;e+=2;f=c}else return f}function xg(a){this.B=a;this.i=0;this.Ia=this.Ob=null}
xg.prototype.advance=function(){for(var a=this.B.length;;)if(this.i<a){var b=this.B[this.i],c=this.B[this.i+1];null!=b?b=this.Ob=new Mf(b,c):null!=c?(b=qc(c),b=b.oa()?this.Ia=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};xg.prototype.oa=function(){var a=null!=this.Ob;return a?a:(a=null!=this.Ia)?a:this.advance()};
xg.prototype.next=function(){if(null!=this.Ob){var a=this.Ob;this.Ob=null;return a}if(null!=this.Ia)return a=this.Ia.next(),this.Ia.oa()||(this.Ia=null),a;if(this.advance())return this.next();throw Error("No such element");};xg.prototype.remove=function(){return Error("Unsupported operation")};function yg(a,b,c){this.aa=a;this.bitmap=b;this.B=c;this.O=131072;this.D=0}g=yg.prototype;
g.mb=function(a){if(a===this.aa)return this;var b=ie(this.bitmap),c=Array(0>b?4:2*(b+1));Qd(this.B,0,c,0,2*b);return new yg(a,this.bitmap,c)};g.Lb=function(){return zg?zg(this.B):Ag.call(null,this.B)};g.Nb=function(a,b){return wg(this.B,a,b)};g.nb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ie(this.bitmap&e-1);e=this.B[2*f];f=this.B[2*f+1];return null==e?f.nb(a+5,b,c,d):sg(c,e)?f:d};
g.Ga=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=ie(this.bitmap&h-1);if(0===(this.bitmap&h)){var l=ie(this.bitmap);if(2*l<this.B.length){a=this.mb(a);b=a.B;f.ia=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=Bg.Ga(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.B[e]?Bg.Ga(a,b+5,Cc(this.B[e]),this.B[e],this.B[e+1],f):this.B[e+1],e+=2,d+=1);else break;return new Cg(a,l+1,k)}b=Array(2*(l+4));Qd(this.B,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Qd(this.B,2*k,b,2*(k+1),2*(l-k));f.ia=!0;a=this.mb(a);a.B=b;a.bitmap|=h;return a}l=this.B[2*k];h=this.B[2*k+1];if(null==l)return l=h.Ga(a,b+5,c,d,e,f),l===h?this:vg(this,a,2*k+1,l);if(sg(d,l))return e===h?this:vg(this,a,2*k+1,e);f.ia=!0;f=b+5;d=Dg?Dg(a,f,l,h,c,d,e):Eg.call(null,a,f,
l,h,c,d,e);e=2*k;k=2*k+1;a=this.mb(a);a.B[e]=null;a.B[k]=d;return a};
g.Fa=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=ie(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=ie(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=Bg.Fa(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.B[d]?Bg.Fa(a+5,Cc(this.B[d]),this.B[d],this.B[d+1],e):this.B[d+1],d+=2,c+=1);else break;return new Cg(null,k+1,h)}a=Array(2*
(k+1));Qd(this.B,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Qd(this.B,2*h,a,2*(h+1),2*(k-h));e.ia=!0;return new yg(null,this.bitmap|f,a)}var l=this.B[2*h];f=this.B[2*h+1];if(null==l)return k=f.Fa(a+5,b,c,d,e),k===f?this:new yg(null,this.bitmap,tg(this.B,2*h+1,k));if(sg(c,l))return d===f?this:new yg(null,this.bitmap,tg(this.B,2*h+1,d));e.ia=!0;e=this.bitmap;k=this.B;a+=5;a=Fg?Fg(a,l,f,b,c,d):Eg.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Pa(k);d[c]=null;d[h]=a;return new yg(null,e,d)};
g.Kb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ie(this.bitmap&e-1);e=this.B[2*f];f=this.B[2*f+1];return null==e?f.Kb(a+5,b,c,d):sg(c,e)?new Mf(e,f):d};
g.Mb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ie(this.bitmap&d-1),f=this.B[2*e],h=this.B[2*e+1];return null==f?(a=h.Mb(a+5,b,c),a===h?this:null!=a?new yg(null,this.bitmap,tg(this.B,2*e+1,a)):this.bitmap===d?null:new yg(null,this.bitmap^d,ug(this.B,e))):sg(c,f)?new yg(null,this.bitmap^d,ug(this.B,e)):this};g.Da=function(){return new xg(this.B)};var Bg=new yg(null,0,[]);function Gg(a){this.B=a;this.i=0;this.Ia=null}
Gg.prototype.oa=function(){for(var a=this.B.length;;){if(null!=this.Ia&&this.Ia.oa())return!0;if(this.i<a){var b=this.B[this.i];this.i+=1;null!=b&&(this.Ia=qc(b))}else return!1}};Gg.prototype.next=function(){if(this.oa())return this.Ia.next();throw Error("No such element");};Gg.prototype.remove=function(){return Error("Unsupported operation")};function Cg(a,b,c){this.aa=a;this.F=b;this.B=c;this.O=131072;this.D=0}g=Cg.prototype;g.mb=function(a){return a===this.aa?this:new Cg(a,this.F,Pa(this.B))};
g.Lb=function(){return Hg?Hg(this.B):Ig.call(null,this.B)};g.Nb=function(a,b){for(var c=this.B.length,d=0;;)if(d<c){var e=this.B[d];if(null!=e){b=e.Nb(a,b);if(Tc(b))return b;d+=1}else d+=1}else return b};g.nb=function(a,b,c,d){var e=this.B[b>>>a&31];return null!=e?e.nb(a+5,b,c,d):d};g.Ga=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.B[h];if(null==k)return a=vg(this,a,h,Bg.Ga(a,b+5,c,d,e,f)),a.F+=1,a;b=k.Ga(a,b+5,c,d,e,f);return b===k?this:vg(this,a,h,b)};
g.Fa=function(a,b,c,d,e){var f=b>>>a&31,h=this.B[f];if(null==h)return new Cg(null,this.F+1,tg(this.B,f,Bg.Fa(a+5,b,c,d,e)));a=h.Fa(a+5,b,c,d,e);return a===h?this:new Cg(null,this.F,tg(this.B,f,a))};g.Kb=function(a,b,c,d){var e=this.B[b>>>a&31];return null!=e?e.Kb(a+5,b,c,d):d};
g.Mb=function(a,b,c){var d=b>>>a&31,e=this.B[d];if(null!=e){a=e.Mb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.F)a:{e=this.B;a=e.length;b=Array(2*(this.F-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new yg(null,h,b);break a}}else d=new Cg(null,this.F-1,tg(this.B,d,a));else d=new Cg(null,this.F,tg(this.B,d,a));return d}return this};g.Da=function(){return new Gg(this.B)};
function Jg(a,b,c){b*=2;for(var d=0;;)if(d<b){if(sg(c,a[d]))return d;d+=2}else return-1}function Kg(a,b,c,d){this.aa=a;this.Pa=b;this.F=c;this.B=d;this.O=131072;this.D=0}g=Kg.prototype;g.mb=function(a){if(a===this.aa)return this;var b=Array(2*(this.F+1));Qd(this.B,0,b,0,2*this.F);return new Kg(a,this.Pa,this.F,b)};g.Lb=function(){return zg?zg(this.B):Ag.call(null,this.B)};g.Nb=function(a,b){return wg(this.B,a,b)};
g.nb=function(a,b,c,d){a=Jg(this.B,this.F,c);return 0>a?d:sg(c,this.B[a])?this.B[a+1]:d};
g.Ga=function(a,b,c,d,e,f){if(c===this.Pa){b=Jg(this.B,this.F,d);if(-1===b){if(this.B.length>2*this.F)return b=2*this.F,c=2*this.F+1,a=this.mb(a),a.B[b]=d,a.B[c]=e,f.ia=!0,a.F+=1,a;c=this.B.length;b=Array(c+2);Qd(this.B,0,b,0,c);b[c]=d;b[c+1]=e;f.ia=!0;d=this.F+1;a===this.aa?(this.B=b,this.F=d,a=this):a=new Kg(this.aa,this.Pa,d,b);return a}return this.B[b+1]===e?this:vg(this,a,b+1,e)}return(new yg(a,1<<(this.Pa>>>b&31),[null,this,null,null])).Ga(a,b,c,d,e,f)};
g.Fa=function(a,b,c,d,e){return b===this.Pa?(a=Jg(this.B,this.F,c),-1===a?(a=2*this.F,b=Array(a+2),Qd(this.B,0,b,0,a),b[a]=c,b[a+1]=d,e.ia=!0,new Kg(null,this.Pa,this.F+1,b)):P.j(this.B[a+1],d)?this:new Kg(null,this.Pa,this.F,tg(this.B,a+1,d))):(new yg(null,1<<(this.Pa>>>a&31),[null,this])).Fa(a,b,c,d,e)};g.Kb=function(a,b,c,d){a=Jg(this.B,this.F,c);return 0>a?d:sg(c,this.B[a])?new Mf(this.B[a],this.B[a+1]):d};
g.Mb=function(a,b,c){a=Jg(this.B,this.F,c);return-1===a?this:1===this.F?null:new Kg(null,this.Pa,this.F-1,ug(this.B,he(a,2)))};g.Da=function(){return new xg(this.B)};function Eg(a){switch(arguments.length){case 6:return Fg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return Dg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}}
function Fg(a,b,c,d,e,f){var h=Cc(b);if(h===d)return new Kg(null,h,2,[b,c,e,f]);var k=new rg;return Bg.Fa(a,h,b,c,k).Fa(a,d,e,f,k)}function Dg(a,b,c,d,e,f,h){var k=Cc(c);if(k===e)return new Kg(null,k,2,[c,d,f,h]);var l=new rg;return Bg.Ga(a,b,k,c,d,l).Ga(a,b,e,f,h,l)}function Lg(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.P=e;this.D=32374988;this.O=0}g=Lg.prototype;g.toString=function(){return sc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return Q(this,b,0)};a.j=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return S(this,c,d)};return b}();g.ba=function(){return this.meta};g.na=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Mg?Mg(a,b,null):Ag.call(null,a,b,null)}a=this.nodes;b=this.i;var c=N(this.s);return Mg?Mg(a,b,c):Ag.call(null,a,b,c)};
g.ga=function(){var a=this.P;return null!=a?a:this.P=a=Nc(this)};g.da=function(a,b){return kd(this,b)};g.la=function(){return M};g.qa=function(a,b){return md(b,this)};g.ra=function(a,b,c){return od(b,c,this)};g.ua=function(){return null==this.s?new Mf(this.nodes[this.i],this.nodes[this.i+1]):K(this.s)};
g.va=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Mg?Mg(c,d,null):Ag.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=N(a.s);return Mg?Mg(c,d,e):Ag.call(null,c,d,e)}();return null!=b?b:M};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new Lg(b,this.nodes,this.i,this.s,this.P)};g.ma=function(a,b){return T(b,this)};Lg.prototype[Ma]=function(){return Lc(this)};
function Ag(a){switch(arguments.length){case 1:return zg(arguments[0]);case 3:return Mg(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}}function zg(a){return Mg(a,0,null)}function Mg(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Lg(null,a,b,null,null);var d=a[b+1];if(w(d)&&(d=d.Lb(),w(d)))return new Lg(null,a,b+2,d,null);b+=2}else return null;else return new Lg(null,a,b,c,null)}
function Ng(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.P=e;this.D=32374988;this.O=0}g=Ng.prototype;g.toString=function(){return sc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return Q(this,b,0)};a.j=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return S(this,c,d)};return b}();g.ba=function(){return this.meta};g.na=function(){var a=this.nodes,b=this.i,c=N(this.s);return Og?Og(a,b,c):Ig.call(null,a,b,c)};g.ga=function(){var a=this.P;return null!=a?a:this.P=a=Nc(this)};
g.da=function(a,b){return kd(this,b)};g.la=function(){return M};g.qa=function(a,b){return md(b,this)};g.ra=function(a,b,c){return od(b,c,this)};g.ua=function(){return K(this.s)};g.va=function(){var a=this.nodes;var b=this.i,c=N(this.s);a=Og?Og(a,b,c):Ig.call(null,a,b,c);return null!=a?a:M};g.ha=function(){return this};g.fa=function(a,b){return b===this.meta?this:new Ng(b,this.nodes,this.i,this.s,this.P)};g.ma=function(a,b){return T(b,this)};Ng.prototype[Ma]=function(){return Lc(this)};
function Ig(a){switch(arguments.length){case 1:return Hg(arguments[0]);case 3:return Og(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}}function Hg(a){return Og(a,0,null)}function Og(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(w(d)&&(d=d.Lb(),w(d)))return new Ng(null,a,b+1,d,null);b+=1}else return null;else return new Ng(null,a,b,c,null)}function Pg(a,b){this.sa=a;this.Lc=b;this.seen=!1}
Pg.prototype.oa=function(){return!this.seen||this.Lc.oa()};Pg.prototype.next=function(){if(this.seen)return this.Lc.next();this.seen=!0;return new Mf(null,this.sa)};Pg.prototype.remove=function(){return Error("Unsupported operation")};function Qg(a,b,c,d,e,f){this.meta=a;this.F=b;this.root=c;this.wa=d;this.sa=e;this.P=f;this.D=16123663;this.O=139268}g=Qg.prototype;g.tb=function(a,b){return null==b?this.wa?new Mf(null,this.sa):null:null==this.root?null:this.root.Kb(0,Cc(b),b,null)};g.toString=function(){return sc(this)};
g.keys=function(){return Lc(lg.f?lg.f(this):lg.call(null,this))};g.entries=function(){return new hg(I(I(this)))};g.values=function(){return Lc(mg.f?mg.f(this):mg.call(null,this))};g.has=function(a){return Ud(this,a)};g.get=function(a,b){return this.$(null,a,b)};
g.forEach=function(a){for(var b=I(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=I(b))Pd(b)?(c=gc(b),b=lc(b),h=c,d=R(c),c=h):(c=K(b),h=V(c,0,null),f=V(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=N(b),c=null,d=0),e=0;else return null};g.xa=function(a,b){return this.$(null,b,null)};g.$=function(a,b,c){return null==b?this.wa?this.sa:c:null==this.root?c:this.root.nb(0,Cc(b),b,c)};
g.Fb=function(a,b,c){a=this.wa?b.C?b.C(c,null,this.sa):b.call(null,c,null,this.sa):c;Tc(a)?b=Ab(a):null!=this.root?(b=this.root.Nb(b,a),b=Tc(b)?Uc.f?Uc.f(b):Uc.call(null,b):b):b=a;return b};g.Da=function(){var a=this.root?qc(this.root):Se();return this.wa?new Pg(this.sa,a):a};g.ba=function(){return this.meta};g.ja=function(){return this.F};g.ga=function(){var a=this.P;return null!=a?a:this.P=a=Pc(this)};g.da=function(a,b){return gg(this,b)};g.sb=function(){return new Rg(this.root,this.F,this.wa,this.sa)};
g.la=function(){return Eb(pg,this.meta)};g.dc=function(a,b){if(null==b)return this.wa?new Qg(this.meta,this.F-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Mb(0,Cc(b),b);return a===this.root?this:new Qg(this.meta,this.F-1,a,this.wa,this.sa,null)};
g.Na=function(a,b,c){if(null==b)return this.wa&&c===this.sa?this:new Qg(this.meta,this.wa?this.F:this.F+1,this.root,!0,c,null);a=new rg;b=(null==this.root?Bg:this.root).Fa(0,Cc(b),b,c,a);return b===this.root?this:new Qg(this.meta,a.ia?this.F+1:this.F,b,this.wa,this.sa,null)};g.ha=function(){if(0<this.F){var a=null!=this.root?this.root.Lb():null;return this.wa?T(new Mf(null,this.sa),a):a}return null};g.fa=function(a,b){return b===this.meta?this:new Qg(b,this.F,this.root,this.wa,this.sa,this.P)};
g.ma=function(a,b){if(Od(b))return this.Na(null,C(b,0),C(b,1));a=this;for(b=I(b);;){if(null==b)return a;var c=K(b);if(Od(c))a=ob(a,C(c,0),C(c,1)),b=N(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};
g.f=function(a){return this.xa(null,a)};g.j=function(a,b){return this.$(null,a,b)};var pg=new Qg(null,0,null,!1,null,Qc);Qg.prototype[Ma]=function(){return Lc(this)};function Rg(a,b,c,d){this.aa={};this.root=a;this.count=b;this.wa=c;this.sa=d;this.D=259;this.O=56}
function Sg(a,b,c){if(a.aa){if(null==b)a.sa!==c&&(a.sa=c),a.wa||(a.count+=1,a.wa=!0);else{var d=new rg;b=(null==a.root?Bg:a.root).Ga(a.aa,0,Cc(b),b,c,d);b!==a.root&&(a.root=b);d.ia&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Rg.prototype;g.ja=function(){if(this.aa)return this.count;throw Error("count after persistent!");};g.xa=function(a,b){return null==b?this.wa?this.sa:null:null==this.root?null:this.root.nb(0,Cc(b),b)};
g.$=function(a,b,c){return null==b?this.wa?this.sa:c:null==this.root?c:this.root.nb(0,Cc(b),b,c)};g.xb=function(a,b){a:if(this.aa)if(Uf(b))a=Sg(this,Vf.f?Vf.f(b):Vf.call(null,b),Wf.f?Wf.f(b):Wf.call(null,b));else if(Od(b))a=Sg(this,b.f?b.f(0):b.call(null,0),b.f?b.f(1):b.call(null,1));else for(a=I(b),b=this;;){var c=K(a);if(w(c))a=N(a),b=Sg(b,Vf.f?Vf.f(c):Vf.call(null,c),Wf.f?Wf.f(c):Wf.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Ib=function(){if(this.aa){this.aa=null;var a=new Qg(null,this.count,this.root,this.wa,this.sa,null)}else throw Error("persistent! called twice");return a};g.wb=function(a,b,c){return Sg(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};
g.f=function(a){return this.xa(null,a)};g.j=function(a,b){return this.$(null,a,b)};var Tg=function Tg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new J(c.slice(0),0,null):null;return Tg.G(c)};Tg.G=function(a){for(var b=I(a),c=$b(pg);;)if(b){a=N(N(b));var d=K(b);b=K(N(b));c=cc(c,d,b);b=a}else return bc(c)};Tg.K=0;Tg.N=function(a){return this.G(I(a))};function Ug(a,b){this.T=a;this.Ja=b;this.D=32374988;this.O=0}g=Ug.prototype;g.toString=function(){return sc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return Q(this,b,0)};a.j=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return S(this,c,d)};return b}();g.ba=function(){return this.Ja};g.na=function(){var a=(null!=this.T?this.T.D&128||t===this.T.Gb||(this.T.D?0:x(jb,this.T)):x(jb,this.T))?this.T.na(null):N(this.T);return null==a?null:new Ug(a,null)};g.ga=function(){return Nc(this)};
g.da=function(a,b){return kd(this,b)};g.la=function(){return M};g.qa=function(a,b){return md(b,this)};g.ra=function(a,b,c){return od(b,c,this)};g.ua=function(){return this.T.ua(null).key};g.va=function(){var a=(null!=this.T?this.T.D&128||t===this.T.Gb||(this.T.D?0:x(jb,this.T)):x(jb,this.T))?this.T.na(null):N(this.T);return null!=a?new Ug(a,null):M};g.ha=function(){return this};g.fa=function(a,b){return b===this.Ja?this:new Ug(this.T,b)};g.ma=function(a,b){return T(b,this)};Ug.prototype[Ma]=function(){return Lc(this)};
function lg(a){return(a=I(a))?new Ug(a,null):null}function Vf(a){return sb(a)}function Vg(a,b){this.T=a;this.Ja=b;this.D=32374988;this.O=0}g=Vg.prototype;g.toString=function(){return sc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Q(this,b,0);case 2:return Q(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return Q(this,b,0)};a.j=function(b,c){return Q(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return S(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return S(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return S(this,c,d)};return b}();g.ba=function(){return this.Ja};g.na=function(){var a=(null!=this.T?this.T.D&128||t===this.T.Gb||(this.T.D?0:x(jb,this.T)):x(jb,this.T))?this.T.na(null):N(this.T);return null==a?null:new Vg(a,null)};g.ga=function(){return Nc(this)};
g.da=function(a,b){return kd(this,b)};g.la=function(){return M};g.qa=function(a,b){return md(b,this)};g.ra=function(a,b,c){return od(b,c,this)};g.ua=function(){return this.T.ua(null).ia};g.va=function(){var a=(null!=this.T?this.T.D&128||t===this.T.Gb||(this.T.D?0:x(jb,this.T)):x(jb,this.T))?this.T.na(null):N(this.T);return null!=a?new Vg(a,null):M};g.ha=function(){return this};g.fa=function(a,b){return b===this.Ja?this:new Vg(this.T,b)};g.ma=function(a,b){return T(b,this)};Vg.prototype[Ma]=function(){return Lc(this)};
function mg(a){return(a=I(a))?new Vg(a,null):null}function Wf(a){return tb(a)}var Wg=function Wg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new J(c.slice(0),0,null):null;return Wg.G(c)};Wg.G=function(a){return w(Ye(a))?ce(function(b,c){return qd.j(w(b)?b:Te,c)},a):null};Wg.K=0;Wg.N=function(a){return this.G(I(a))};
function Xg(a,b){if(w(Ye(b))){var c=function(d,e){var f=sb(e),h=tb(e);return Ud(d,f)?W.C(d,f,function(){var k=F.j(d,f);return a.j?a.j(k,h):a.call(null,k,h)}()):W.C(d,f,h)};return ce(function(d,e){return Ra(c,w(d)?d:Te,I(e))},b)}return null}function Yg(a){for(var b=Te,c=I(Zg);;)if(c){var d=K(c),e=F.C(a,d,$g);b=P.j(e,$g)?b:W.C(b,d,e);c=N(c)}else return Eb(b,Gd(a))}function ah(a){this.Db=a}ah.prototype.oa=function(){return this.Db.oa()};
ah.prototype.next=function(){if(this.Db.oa())return this.Db.next().key;throw Error("No such element");};ah.prototype.remove=function(){return Error("Unsupported operation")};function bh(a,b,c){this.meta=a;this.Qa=b;this.P=c;this.D=15077647;this.O=139268}g=bh.prototype;g.toString=function(){return sc(this)};g.keys=function(){return Lc(I(this))};g.entries=function(){return new ig(I(I(this)))};g.values=function(){return Lc(I(this))};g.has=function(a){return Ud(this,a)};
g.forEach=function(a){for(var b=I(this),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),h=V(f,0,null);f=V(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=I(b))Pd(b)?(c=gc(b),b=lc(b),h=c,d=R(c),c=h):(c=K(b),h=V(c,0,null),f=V(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=N(b),c=null,d=0),e=0;else return null};g.xa=function(a,b){return this.$(null,b,null)};g.$=function(a,b,c){a=pb(this.Qa,b);return w(a)?sb(a):c};g.Da=function(){return new ah(qc(this.Qa))};g.ba=function(){return this.meta};g.ja=function(){return Za(this.Qa)};
g.ga=function(){var a=this.P;return null!=a?a:this.P=a=Pc(this)};g.da=function(a,b){if(Kd(b))if(R(this)===R(b))try{return de(function(c,d){return(c=Ud(b,d))?c:new Sc(!1)},!0,this.Qa)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};g.sb=function(){return new ch($b(this.Qa))};g.la=function(){return Eb(dh,this.meta)};g.xc=function(a,b){return new bh(this.meta,rb(this.Qa,b),null)};g.ha=function(){return lg(this.Qa)};
g.fa=function(a,b){return b===this.meta?this:new bh(b,this.Qa,this.P)};g.ma=function(a,b){return new bh(this.meta,W.C(this.Qa,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};g.f=function(a){return this.xa(null,a)};g.j=function(a,b){return this.$(null,a,b)};
var dh=new bh(null,Te,Qc);bh.prototype[Ma]=function(){return Lc(this)};function ch(a){this.pb=a;this.O=136;this.D=259}g=ch.prototype;g.xb=function(a,b){this.pb=cc(this.pb,b,null);return this};g.Ib=function(){return new bh(null,bc(this.pb),null)};g.ja=function(){return R(this.pb)};g.xa=function(a,b){return this.$(null,b,null)};g.$=function(a,b,c){return mb(this.pb,b,Rd)===Rd?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",z.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Pa(b)))};g.f=function(a){return mb(this.pb,a,Rd)===Rd?null:a};g.j=function(a,b){return mb(this.pb,a,Rd)===Rd?b:a};
function eh(a){if(Kd(a))return zd(a,null);a=I(a);if(null==a)return dh;if(a instanceof J&&0===a.i){a=a.B;for(var b=a.length,c=$b(dh),d=0;;)if(d<b)ac(c,a[d]),d+=1;else break;return bc(c)}for(c=$b(dh);;)if(null!=a)b=N(a),c=ac(c,D(a)),a=b;else return bc(c)}function hh(a){for(var b=rd;;)if(N(a))b=qd.j(b,K(a)),a=N(a);else return I(b)}function X(a){if(null!=a&&(a.O&4096||t===a.vc))return a.name;if("string"===typeof a)return a;throw Error(["Doesn't support name: ",z.f(a)].join(""));}
var ih=function ih(a){switch(arguments.length){case 2:return ih.j(arguments[0],arguments[1]);case 3:return ih.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new J(c.slice(3),0,null);return ih.G(arguments[0],arguments[1],arguments[2],c)}};ih.j=function(a,b){return b};ih.C=function(a,b,c){return(a.f?a.f(b):a.call(null,b))>(a.f?a.f(c):a.call(null,c))?b:c};
ih.G=function(a,b,c,d){return Ra(function(e,f){return ih.C(a,e,f)},ih.C(a,b,c),d)};ih.N=function(a){var b=K(a),c=N(a);a=K(c);var d=N(c);c=K(d);d=N(d);return this.G(b,a,c,d)};ih.K=3;
function jh(){return function(){function a(h,k,l){return new Y(null,2,5,Z,[hh.C?hh.C(h,k,l):hh.call(null,h,k,l),pd.C?pd.C(h,k,l):pd.call(null,h,k,l)],null)}function b(h,k){return new Y(null,2,5,Z,[hh.j?hh.j(h,k):hh.call(null,h,k),pd.j?pd.j(h,k):pd.call(null,h,k)],null)}function c(h){return new Y(null,2,5,Z,[hh.f?hh.f(h):hh.call(null,h),pd.f?pd.f(h):pd.call(null,h)],null)}function d(){return new Y(null,2,5,Z,[hh.J?hh.J():hh.call(null),pd.J?pd.J():pd.call(null)],null)}var e=null,f=function(){function h(l,
m,n,p){var q=null;if(3<arguments.length){q=0;for(var v=Array(arguments.length-3);q<v.length;)v[q]=arguments[q+3],++q;q=new J(v,0,null)}return k.call(this,l,m,n,q)}function k(l,m,n,p){return new Y(null,2,5,Z,[Qe(hh,l,m,n,p),Qe(pd,l,m,n,p)],null)}h.K=3;h.N=function(l){var m=K(l);l=N(l);var n=K(l);l=N(l);var p=K(l);l=Jc(l);return k(m,n,p,l)};h.G=k;return h}();e=function(h,k,l,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);case 3:return a.call(this,
h,k,l);default:var n=null;if(3<arguments.length){n=0;for(var p=Array(arguments.length-3);n<p.length;)p[n]=arguments[n+3],++n;n=new J(p,0,null)}return f.G(h,k,l,n)}throw Error("Invalid arity: "+arguments.length);};e.K=3;e.N=f.N;e.J=d;e.f=c;e.j=b;e.C=a;e.G=f.G;return e}()}function kh(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&P.j(a[0],b)?1===a.length?a[0]:Tf(a):null;throw new TypeError("re-matches must match against a string.");}
function lh(a,b,c,d,e,f,h){var k=Ba;Ba=null==Ba?null:Ba-1;try{if(null!=Ba&&0>Ba)return E(a,"#");E(a,c);if(0===Ha.f(f))I(h)&&E(a,function(){var v=mh.f(f);return w(v)?v:"..."}());else{if(I(h)){var l=K(h);b.C?b.C(l,a,f):b.call(null,l,a,f)}for(var m=N(h),n=Ha.f(f)-1;;)if(!m||null!=n&&0===n){I(m)&&0===n&&(E(a,d),E(a,function(){var v=mh.f(f);return w(v)?v:"..."}()));break}else{E(a,d);var p=K(m);c=a;h=f;b.C?b.C(p,c,h):b.call(null,p,c,h);var q=N(m);c=n-1;m=q;n=c}}return E(a,e)}finally{Ba=k}}
function nh(a,b){b=I(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);E(a,f);e+=1}else if(b=I(b))c=b,Pd(c)?(b=gc(c),d=lc(c),c=b,f=R(b),b=d,d=f):(f=K(c),E(a,f),b=N(c),c=null,d=0),e=0;else return null}var oh={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function ph(a){return['"',z.f(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return oh[b]})),'"'].join("")}function qh(a,b){return Sd(F.j(a,Fa))?null!=b&&(b.D&131072||t===b.ec)?null!=Gd(b):!1:!1}
function rh(a,b,c){if(null==a)return E(b,"nil");if(qh(c,a)){E(b,"^");var d=Gd(a);sh.C?sh.C(d,b,c):sh.call(null,d,b,c);E(b," ")}if(a.yb)return a.Jb(b);if(null!=a?a.D&2147483648||t===a.ka||(a.D?0:x(Vb,a)):x(Vb,a))return Wb(a,b,c);if(!0===a||!1===a)return E(b,z.f(a));if("number"===typeof a)return E(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":z.f(a));if(null!=a&&a.constructor===Object)return E(b,"#js "),d=ff.j(function(f){return new Mf(null!=kh(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?ve.f(f):f,a[f])},pa(a)),th.R?th.R(d,sh,b,c):th.call(null,d,sh,b,c);if(Ja(a))return lh(b,sh,"#js ["," ","]",c,a);if("string"==typeof a)return w(Ea.f(c))?E(b,ph(a)):E(b,a);if("function"==r(a)){var e=a.name;c=w(function(){var f=null==e;return f?f:wa(e)}())?"Function":e;return nh(b,ld(["#object[",c,w(!1)?[' "',z.f(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=z.f(f);;)if(f.length<h)f=["0",f].join("");else return f},nh(b,ld(['#inst "',z.f(a.getUTCFullYear()),"-",c(a.getUTCMonth()+
1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return nh(b,ld(['#"',a.source,'"']));if(Ta(a))return nh(b,ld(["#object[",a.toString(),"]"]));if(w(function(){var f=null==a?null:a.constructor;return null==f?null:f.Sa}()))return nh(b,ld(["#object[",a.constructor.Sa.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=w(function(){var f=
null==e;return f?f:wa(e)}())?"Object":e;return null==a.constructor?nh(b,ld(["#object[",c,"]"])):nh(b,ld(["#object[",c," ",z.f(a),"]"]))}function sh(a,b,c){var d=uh.f(c);return w(d)?(c=W.C(c,vh,rh),d.C?d.C(a,b,c):d.call(null,a,b,c)):rh(a,b,c)}
function wh(a,b){var c=new xa;a:{var d=new rc(c);sh(K(a),d,b);a=I(N(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.ea(null,h);E(d," ");sh(k,d,b);h+=1}else if(a=I(a))e=a,Pd(e)?(a=gc(e),f=lc(e),e=a,k=R(a),a=f,f=k):(k=K(e),E(d," "),sh(k,d,b),a=N(e),e=null,f=0),h=0;else break a}return c}function xh(a){var b=Ca();return Id(a)?"":z.f(wh(a,b))}function yh(a){return a instanceof Fc?Gc.j(null,X(a)):ve.j(null,X(a))}
function zh(a){if(w(!1)){var b=I(a),c=I(b),d=K(c);N(c);V(d,0,null);V(d,1,null);c=null==a?null:null!=a&&(a.D&4||t===a.Qc)?a.la(null):(null!=a?a.D&4||t===a.Qc||(a.D?0:x($a,a)):x($a,a))?cb(a):null;for(a=null;;){d=a;b=I(b);a=K(b);var e=N(b),f=a;a=V(f,0,null);b=V(f,1,null);if(w(f))if(a instanceof G||a instanceof Fc)if(w(d))if(P.j(d,te(a)))c=W.C(c,yh(a),b),a=d,b=e;else return null;else if(d=te(a),w(d))c=W.C(c,yh(a),b),a=d,b=e;else return null;else return null;else return new Y(null,2,5,Z,[d,c],null)}}else return null}
function Ah(a,b,c,d,e){return lh(d,function(f,h,k){var l=sb(f);c.C?c.C(l,h,k):c.call(null,l,h,k);E(h," ");f=tb(f);return c.C?c.C(f,h,k):c.call(null,f,h,k)},[z.f(a),"{"].join(""),", ","}",e,I(b))}function th(a,b,c,d){var e=Md(a)?zh(a):null,f=V(e,0,null);e=V(e,1,null);return w(f)?Ah(["#:",z.f(f)].join(""),e,b,c,d):Ah(null,a,b,c,d)}ef.prototype.ka=t;ef.prototype.ca=function(a,b,c){E(b,"#object[cljs.core.Volatile ");sh(new u(null,1,[Bh,this.state],null),b,c);return E(b,"]")};J.prototype.ka=t;
J.prototype.ca=function(a,b,c){return lh(b,sh,"("," ",")",c,this)};we.prototype.ka=t;we.prototype.ca=function(a,b,c){return lh(b,sh,"("," ",")",c,this)};Mf.prototype.ka=t;Mf.prototype.ca=function(a,b,c){return lh(b,sh,"["," ","]",c,this)};Lg.prototype.ka=t;Lg.prototype.ca=function(a,b,c){return lh(b,sh,"("," ",")",c,this)};jg.prototype.ka=t;jg.prototype.ca=function(a,b,c){return lh(b,sh,"("," ",")",c,this)};Mc.prototype.ka=t;Mc.prototype.ca=function(a,b,c){return lh(b,sh,"("," ",")",c,this)};
Yf.prototype.ka=t;Yf.prototype.ca=function(a,b,c){return lh(b,sh,"("," ",")",c,this)};re.prototype.ka=t;re.prototype.ca=function(a,b,c){return lh(b,sh,"("," ",")",c,this)};jd.prototype.ka=t;jd.prototype.ca=function(a,b,c){return lh(b,sh,"("," ",")",c,this)};Qg.prototype.ka=t;Qg.prototype.ca=function(a,b,c){return th(this,sh,b,c)};Ng.prototype.ka=t;Ng.prototype.ca=function(a,b,c){return lh(b,sh,"("," ",")",c,this)};$f.prototype.ka=t;$f.prototype.ca=function(a,b,c){return lh(b,sh,"["," ","]",c,this)};
bh.prototype.ka=t;bh.prototype.ca=function(a,b,c){return lh(b,sh,"#{"," ","}",c,this)};Be.prototype.ka=t;Be.prototype.ca=function(a,b,c){return lh(b,sh,"("," ",")",c,this)};bf.prototype.ka=t;bf.prototype.ca=function(a,b,c){E(b,"#object[cljs.core.Atom ");sh(new u(null,1,[Bh,this.state],null),b,c);return E(b,"]")};Vg.prototype.ka=t;Vg.prototype.ca=function(a,b,c){return lh(b,sh,"("," ",")",c,this)};Y.prototype.ka=t;Y.prototype.ca=function(a,b,c){return lh(b,sh,"["," ","]",c,this)};je.prototype.ka=t;
je.prototype.ca=function(a,b){return E(b,"()")};u.prototype.ka=t;u.prototype.ca=function(a,b,c){return th(this,sh,b,c)};Ug.prototype.ka=t;Ug.prototype.ca=function(a,b,c){return lh(b,sh,"("," ",")",c,this)};sd.prototype.ka=t;sd.prototype.ca=function(a,b,c){return lh(b,sh,"("," ",")",c,this)};Fc.prototype.rb=t;Fc.prototype.Wa=function(a,b){if(b instanceof Fc)return Ec(this,b);throw Error(["Cannot compare ",z.f(this)," to ",z.f(b)].join(""));};G.prototype.rb=t;
G.prototype.Wa=function(a,b){if(b instanceof G)return se(this,b);throw Error(["Cannot compare ",z.f(this)," to ",z.f(b)].join(""));};$f.prototype.rb=t;$f.prototype.Wa=function(a,b){if(Od(b))return Wd(this,b);throw Error(["Cannot compare ",z.f(this)," to ",z.f(b)].join(""));};Y.prototype.rb=t;Y.prototype.Wa=function(a,b){if(Od(b))return Wd(this,b);throw Error(["Cannot compare ",z.f(this)," to ",z.f(b)].join(""));};Mf.prototype.rb=t;
Mf.prototype.Wa=function(a,b){if(Od(b))return Wd(this,b);throw Error(["Cannot compare ",z.f(this)," to ",z.f(b)].join(""));};var Ch=null;function Dh(a){null==Ch&&(Ch=new bf(0));return Gc.f([z.f(a),z.f(df.j(Ch,Rc))].join(""))}function Eh(){}function Fh(a){if(null!=a&&null!=a.Sc)a=a.Sc(a);else{var b=Fh[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Fh._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IEncodeJS.-clj-\x3ejs",a);}return a}
function Gh(a,b){return(null!=a?t===a.Rc||(a.zc?0:x(Eh,a)):x(Eh,a))?Fh(a):"string"===typeof a||"number"===typeof a||a instanceof G||a instanceof Fc?b.f?b.f(a):b.call(null,a):xh(ld([a]))}var Hh=function Hh(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new J(c.slice(1),0,null):null;return Hh.G(arguments[0],c)};
Hh.G=function(a,b){b=null!=b&&(b.D&64||t===b.Ba)?Ne(Tg,b):b;var c=F.C(b,Ih,X),d=function h(f){if(null==f)return null;if(null!=f?t===f.Rc||(f.zc?0:x(Eh,f)):x(Eh,f))return Fh(f);if(f instanceof G)return c.f?c.f(f):c.call(null,f);if(f instanceof Fc)return z.f(f);if(Md(f)){var k={};f=I(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ea(null,n),q=V(p,0,null);p=V(p,1,null);q=Gh(q,d);p=h(p);k[q]=p;n+=1}else if(f=I(f))Pd(f)?(m=gc(f),f=lc(f),l=m,m=R(m)):(m=K(f),l=V(m,0,null),m=V(m,1,null),l=Gh(l,d),m=h(m),k[l]=
m,f=N(f),l=null,m=0),n=0;else break;return k}if(Jd(f)){k=[];f=I(ff.j(h,f));l=null;for(n=m=0;;)if(n<m)q=l.ea(null,n),k.push(q),n+=1;else if(f=I(f))l=f,Pd(l)?(f=gc(l),n=lc(l),l=f,m=R(f),f=n):(f=K(l),k.push(f),f=N(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};Hh.K=1;Hh.N=function(a){var b=K(a);a=N(a);return this.G(b,a)};
function Jh(){w(Oa)||(Oa=function(){for(var a=Yd(function(e,f){return f.length-e.length},pa(Na)),b="";;)if(I(a)){var c=N(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),z.f(K(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return Oa}
function Kh(a){var b=z.f(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(Jh(),"g");var d=b.length-1;d=0<=d&&b.indexOf("$",d)==d;b=w(d)?b.substring(0,b.length-1):b;d="";for(var e=0;;){var f=c.exec(b);if(w(f))f=V(f,0,null),d=[d,z.f(b.substring(e,c.lastIndex-f.length)),z.f("$"===f?"/":ra(Na,f))].join(""),e=c.lastIndex;else{c=[d,z.f(b.substring(e,b.length))].join("");break a}}}a=a instanceof Fc?Gc:z;return a.f?a.f(c):a.call(null,c)};var Lh=new G(null,"table","table",-564943036),Bh=new G(null,"val","val",128701612),Mh=new Fc(aa,"zipmap","cljs.core/zipmap",-1902130674,null),Nh=new G(null,"render","render",-1408033454),Oh=new G(null,"auto-run","auto-run",1958400437),Ph=new G(null,"renderer","renderer",336841071),Qh=new G(null,"on-dispose","on-dispose",2105306360),Rh=new G(ba,"kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),Sh=new G(null,"descending","descending",-24766135),Th=new Fc(null,"fn*","fn*",-752876845,null),Uh=new G(null,
"constructor","constructor",-1953928811),Vh=new G(null,"log-level","log-level",862121670),Wh=new G(null,"childContextTypes","childContextTypes",578717991),Xh=new Fc(aa,"fn","cljs.core/fn",-1065745098,null),Yh=new G(null,"vega","vega",-1657843081),Zh=new G(null,"on-click","on-click",1632826543),$h=new G(null,"vega-lite","vega-lite",-650304770),ai=new G(null,"th-style","th-style",-1504296072),bi=new G(null,"getInitialState","getInitialState",1541760916),uh=new G(null,"alt-impl","alt-impl",670969595),
ci=new G(null,"div.viz","div.viz",1155063891),di=new Fc(null,"p1__37297#","p1__37297#",2003985089,null),$g=new G(aa,"not-found","cljs.core/not-found",-1572889185),ei=new G(null,"sort-order","sort-order",1853277479),fi=new G(null,"no-cache","no-cache",1588056370),Da=new G(null,"flush-on-newline","flush-on-newline",-151457939),gi=new G(null,"data-table","data-table",-149582774),hi=new G(null,"reagent-render","reagent-render",-985383853),ii=new G(null,"function-components","function-components",1492814963),
ji=new G(null,"th","th",-545608566),ki=new G(null,"tr","tr",-1424774646),li=new G(null,"a","a",-2123407586),mi=new G(ba,"name","cljs.spec.alpha/name",205233570),ni=new G(null,"componentWillUnmount","componentWillUnmount",1573788814),oi=new G(null,"p","p",151049309),pi=new G(null,"td","td",1479933353),qi=new G(null,"contextType","contextType",1033066077),ri=new G(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),si=new G(null,"div","div",1057191632),vh=new G(null,"fallback-impl",
"fallback-impl",-1501286995),ti=new G(null,"canvas","canvas",-1798817489),ui=new G(null,"display-name","display-name",694513143),vi=new G(null,"margin-bottom","margin-bottom",388334941),Ih=new G(null,"keyword-fn","keyword-fn",-64566675),wi=new G(null,"per-page","per-page",-54905429),xi=new G(null,"component-will-unmount","component-will-unmount",-2058314698),yi=new G(null,"className","className",-1983287057),zi=new G(null,"parse-tag","parse-tag",1427313738),Ai=new Fc(ba,"conformer","cljs.spec.alpha/conformer",
2140085535,null),Bi=new G(null,"style","style",-496642736),Ci=new Fc(null,"v","v",1661996586,null),Di=new G(ba,"op","cljs.spec.alpha/op",-1269055252),Ei=new Fc(null,"k","k",-505765866,null),mh=new G(null,"more-marker","more-marker",-14717935),Fi=new G(null,"span","span",1394872991),Gi=new G(null,"component-will-update","component-will-update",335247566),Hi=new G(null,"td-style","td-style",1948769874),Fa=new G(null,"meta","meta",1499536964),Ii=new G(null,"displayName","displayName",-809144601),Ji=
new G(ba,"gfn","cljs.spec.alpha/gfn",-593120375),Ki=new G(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),Li=new G(null,"mode","mode",654403691),Mi=new G(null,"sort-key","sort-key",1285844623),Ni=new Fc(null,"p1__37296#","p1__37296#",1097448839,null),Oi=new G(null,"logLevel","logLevel",1131406165),Pi=new G(null,"class","class",-2030961996),Qi=new G(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),Ri=new G(null,"tr-style","tr-style",1853585605),Si=new G(null,"reagentRender",
"reagentRender",-358306383),Ti=new G(null,"cursor","cursor",1011937484),Ui=new G(null,"name","name",1843675177),Vi=new G(null,"page","page",849072397),Wi=new G(null,"on-set","on-set",-140953470),Xi=new G(null,"pointer","pointer",85071187),Yi=new G(null,"ascending","ascending",-988350486),Zi=new Fc(aa,"map","cljs.core/map",-338988913,null),Ga=new G(null,"dup","dup",556298533),Ha=new G(null,"print-length","print-length",1931866356),$i=new G(null,"component-did-update","component-did-update",-1468549173),
aj=new G(null,"component-did-mount","component-did-mount",-1126910518),bj=new G(ba,"v","cljs.spec.alpha/v",552625740),cj=new G(null,"on-write","on-write",31519475),dj=new G(null,"key","key",-1516042587),ej=new G(ba,"k","cljs.spec.alpha/k",-1602615178),fj=new Fc(null,"%","%",-950237169,null),gj=new G(null,"validator","validator",-1966190681),hj=new G(null,"padding-right","padding-right",-1250249681),ij=new G(ba,"unknown","cljs.spec.alpha/unknown",651034818),Ea=new G(null,"readably","readably",1129599760),
jj=new G(null,"contextTypes","contextTypes",-2023853910),kj=new G(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),lj=new G(null,"id","id",-1388402092);var mj={},nj={},oj=[];function pj(a,b){var c=nj[a];if(void 0!==c)return c;try{oj.push(a);var d=mj[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};mj[a]=d}if(e){delete shadow$provide[a];try{e.call(d,ca,pj,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{oj.pop()}return d.exports}pj.cache={};pj.resolve=function(a){return a};var qj=pj(51,{});var rj=pj(54,{});function sj(a,b,c){var d=RegExp,e=b.source,f=w(b.ignoreCase)?"gi":"g";f=w(b.multiline)?[f,"m"].join(""):f;b=w(b.Cd)?[f,"u"].join(""):f;d=new d(e,b);return a.replace(d,c)}
function tj(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new J(f,0,null)}return c.call(this,e)}function c(d){d=jf(d);if(P.j(R(d),1))return d=K(d),a.f?a.f(d):a.call(null,d);d=Tf(d);return a.f?a.f(d):a.call(null,d)}b.K=0;b.N=function(d){d=I(d);return c(d)};b.G=c;return b}()}
function uj(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?sj(a,b,c):sj(a,b,tj(c));throw["Invalid match arg: ",z.f(b)].join("");}function vj(a,b){var c=new xa;for(b=I(b);;)if(null!=b)c.append(z.f(K(b))),b=N(b),null!=b&&c.append(a);else return c.toString()}
function wj(a,b){a="/(?:)/"===z.f(b)?qd.j(Tf(T("",ff.j(z,I(a)))),""):Tf(z.f(a).split(b));if(1<R(a))a:for(;;)if(""===(null==a?null:wb(a)))a=null==a?null:xb(a);else break a;return a};var xj={};var yj={},zj,Aj;function Bj(a,b){if(null!=a&&null!=a.lc)a=a.lc(a,b);else{var c=Bj[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Bj._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("Spec.with-gen*",a);}return a}var Cj=new bf(Te);function Dj(a){if(ue(a)){var b=Ab(Cj);a=F.j(b,a);if(ue(a))a:for(;;)if(ue(a))a=F.j(b,a);else{b=a;break a}else b=a;return b}return a}
function Ej(a){if(ue(a)){var b=Dj(a);if(w(b))return b;throw Error(["Unable to resolve spec: ",z.f(a)].join(""));}return a}function Fj(a){return null!=a&&t===a.Ac?a:null}function Gj(a){var b=Di.f(a);return w(b)?a:b}function Hj(a,b){return ue(a)?a:w(Gj(a))?W.C(a,mi,b):null!=a&&(a.D&131072||t===a.ec)?zd(a,W.C(Gd(a),mi,b)):null}function Ij(a){return ue(a)?a:w(Gj(a))?mi.f(a):null!=a&&(a.D&131072||t===a.ec)?mi.f(Gd(a)):null}
function Jj(a){var b=function(){var c=ue(a)?Dj(a):!1;if(w(c))return c;c=Fj(a);if(w(c))return c;c=Gj(a);return w(c)?c:null}();return w(Gj(b))?Hj(Kj(b,null),Ij(b)):b}function Lj(a){var b=Jj(a);if(w(b))return b;if(ue(a))throw Error(["Unable to resolve spec: ",z.f(a)].join(""));return null}
function Mj(a){if(wa(null==a?"":String(a)))return null;a=ff.j(Kh,wj(a,"$"));if(2<=R(a)&&Xe(function(c){return!wa(null==c?"":String(c))},a)){var b=jh()(a);a=V(b,0,null);b=V(b,1,null);return Gc.f([vj(".",a),"/",z.f(b)].join(""))}return null}
var Oj=function(){function a(d,e){var f=Nj[r(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=Nj._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw y("Specize.specize*",d);}function b(d){var e=Nj[r(null==d?null:d)];if(null!=e)return e.f?e.f(d):e.call(null,d);e=Nj._;if(null!=e)return e.f?e.f(d):e.call(null,d);throw y("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.f=b;c.j=a;return c}(),Nj=function Nj(a){switch(arguments.length){case 1:return Nj.f(arguments[0]);case 2:return Nj.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};Nj.f=function(a){return null!=a&&null!=a.zb?a.zb(a):Oj(a)};Nj.j=function(a,b){return null!=a&&null!=a.Ab?a.Ab(a,b):Oj(a,b)};Nj.K=2;G.prototype.zb=function(){return Nj(Ej(this))};G.prototype.Ab=function(){return Nj(Ej(this))};Fc.prototype.zb=function(){return Nj(Ej(this))};
Fc.prototype.Ab=function(){return Nj(Ej(this))};bh.prototype.zb=function(){return Tj(this,this,null,null,null)};bh.prototype.Ab=function(a,b){return Tj(b,this,null,null,null)};
Nj._=function(){function a(c){var d=wd(c)?Mj(c.name):!1;return w(d)?Tj(d,c,null,null,null):Tj(ij,c,null,null,null)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Tj(d,c,null,null,null)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return Tj(d,c,null,null,null)};return b}();
var Uj=function Uj(a){switch(arguments.length){case 1:return Uj.f(arguments[0]);case 2:return Uj.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};Uj.f=function(a){var b=Fj(a);return w(b)?b:Nj(a)};Uj.j=function(a,b){var c=Fj(a);return w(c)?c:Nj(a,b)};Uj.K=2;function Vj(a,b){a=Dj(a);return w(Gj(a))?W.C(a,Ji,b):Bj(Uj.f(a),b)}
function Tj(a,b,c,d,e){if(w(Fj(b)))return w(c)?Vj(b,c):b;if(w(Gj(b)))return Kj(b,c);if(ue(b))return a=Lj(b),w(c)?Vj(a,c):a;if("undefined"===typeof ya||"undefined"===typeof xj||"undefined"===typeof yj||"undefined"===typeof zj)zj=function(f,h,k,l,m,n){this.form=f;this.Gc=h;this.oc=k;this.Cc=l;this.Mc=m;this.dd=n;this.D=393216;this.O=0},zj.prototype.fa=function(f,h){return new zj(this.form,this.Gc,this.oc,this.Cc,this.Mc,h)},zj.prototype.ba=function(){return this.dd},zj.prototype.zb=function(){return this},
zj.prototype.Ab=function(){return this},zj.prototype.Ac=t,zj.prototype.lc=function(f,h){return Tj(this.form,this.Gc,h,this.Cc,this.Mc)},zj.yb=!0,zj.Sa="cljs.spec.alpha/t_cljs$spec$alpha36431",zj.Jb=function(f){return E(f,"cljs.spec.alpha/t_cljs$spec$alpha36431")};return new zj(a,b,c,d,e,Te)}
var Kj=function Kj(a,b){if("undefined"===typeof ya||"undefined"===typeof xj||"undefined"===typeof yj||"undefined"===typeof Aj)Aj=function(d,e,f){this.re=d;this.oc=e;this.fd=f;this.D=393216;this.O=0},Aj.prototype.fa=function(d,e){return new Aj(this.re,this.oc,e)},Aj.prototype.ba=function(){return this.fd},Aj.prototype.zb=function(){return this},Aj.prototype.Ab=function(){return this},Aj.prototype.Ac=t,Aj.prototype.lc=function(d,e){return Kj.j?Kj.j(this.re,e):Kj.call(null,this.re,e)},Aj.yb=!0,Aj.Sa=
"cljs.spec.alpha/t_cljs$spec$alpha37240",Aj.Jb=function(d){return E(d,"cljs.spec.alpha/t_cljs$spec$alpha37240")};return new Aj(a,b,Te)},Wj=qe(Ai,qe(Th,new Y(null,1,5,Z,[Ni],null),qe(Mh,qe(Zi,ej,Ni),qe(Zi,bj,Ni))),qe(Th,new Y(null,1,5,Z,[di],null),qe(Zi,qe(Xh,new Y(null,1,5,Z,[new Y(null,2,5,Z,[Ei,Ci],null)],null),new u(null,2,[ej,Ei,bj,Ci],null)),di))),Xj=Tj(qe(Ai,qe(Xh,new Y(null,1,5,Z,[fj],null),qe(Mh,qe(Zi,ej,fj),qe(Zi,bj,fj))),qe(Xh,new Y(null,1,5,Z,[fj],null),qe(Zi,qe(Xh,new Y(null,1,5,Z,[new Y(null,
2,5,Z,[Ei,Ci],null)],null),new u(null,2,[ej,Ei,bj,Ci],null)),fj))),function(a){a:{var b=ff.j(ej,a),c=ff.j(bj,a);a=$b(Te);b=I(b);for(c=I(c);;)if(b&&c){var d=K(b),e=K(c);a=cc(a,d,e);b=N(b);c=N(c)}else{a=bc(a);break a}}return a},null,!0,function(a){return ff.j(function(b){var c=V(b,0,null);b=V(b,1,null);return new u(null,2,[ej,c,bj,b],null)},a)});
if(null==Xj)df.C(Cj,vd,Rh);else{var Yj;var Zj=Fj(Xj);if(w(Zj))Yj=Zj;else{var ak=Gj(Xj);Yj=w(ak)?ak:F.j(Ab(Cj),Xj)}var bk=w(Yj)?Xj:Tj(Wj,Xj,null,null,null);df.R(Cj,W,Rh,Hj(bk,Rh))};var ck=pj(58,{});var dk={};var ek={},fk="undefined"!==typeof window&&null!=window.document,gk=new bh(null,new u(null,2,["aria",null,"data",null],null),null);function hk(a){return 2>R(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function ik(a){if("string"===typeof a)return a;a=X(a);var b=wj(a,/-/);var c=I(b);b=K(c);c=N(c);return w(gk.f?gk.f(b):gk.call(null,b))?a:Oe(z,b,ff.j(hk,c))}
function jk(a){var b=function(){if(wd(a)){var c=a.displayName;w(c)||(c=a.name,c="string"===typeof c&&I(c)?c:null)}else c=!1;if(w(c))return c;c=null!=a&&(a.O&4096||t===a.vc)?X(a):!1;if(w(c))return c;c=Gd(a);return Md(c)?Ui.f(c):null}();return w(b)?uj(z.f(b),"$","."):null}function kk(a){return a instanceof G||a instanceof Fc}
var lk=function lk(a){switch(arguments.length){case 0:return lk.J();case 1:return lk.f(arguments[0]);case 2:return lk.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new J(c.slice(2),0,null);return lk.G(arguments[0],arguments[1],c)}};lk.J=function(){return null};lk.f=function(a){return Jd(a)?(a=af(function(b){return w(b)?kk(b)?X(b):b:null},a),I(a)?vj(" ",a):null):kk(a)?X(a):a};
lk.j=function(a,b){return w(a)?w(b)?[z.f(lk.f(a))," ",z.f(lk.f(b))].join(""):lk.f(a):lk.f(b)};lk.G=function(a,b,c){return Ra(lk,lk.j(a,b),c)};lk.N=function(a){var b=K(a),c=N(a);a=K(c);c=N(c);return this.G(b,a,c)};lk.K=2;function mk(a){if(Md(a))try{var b=F.j(a,dj)}catch(c){b=null}else b=null;return b}
function nk(a){var b=dj.f(Gd(a));if(w(b))return b;b=mk(V(a,1,null));if(w(b))return b;b=V(a,0,null);switch(b instanceof G?b.ya:null){case "\x3e":case "f\x3e":return mk(V(a,2,null));case "r\x3e":return a=V(a,2,null),null==a?null:a.key;default:return null}};var ok=0;function pk(a){return setTimeout(a,16)}var qk=fk?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(w(b))return b;b=a.webkitRequestAnimationFrame;if(w(b))return b;b=a.mozRequestAnimationFrame;if(w(b))return b;b=a.msRequestAnimationFrame;return w(b)?b:pk}().bind(a)}():pk;function rk(a,b){return a.nc-b.nc}function sk(){return null}function tk(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.J?d.J():d.call(null);c+=1}else return null}
function uk(a,b,c){b.push(c);return a.schedule()}function vk(){this.Xb=!1}g=vk.prototype;g.flush_after_render=function(){var a=this.Pb;if(null==a)return null;this.Pb=null;return tk(a)};g.queue_render=function(a){null==this.Vb&&(this.Vb=[]);return uk(this,this.Vb,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.Xb)return null;this.Xb=!0;return qk.f?qk.f(a):qk.call(null,a)};g.flush_before_flush=function(){var a=this.Qb;if(null==a)return null;this.Qb=null;return tk(a)};
g.flush_queues=function(){this.flush_before_flush();sk();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.Xb=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Qb&&(this.Qb=[]);return uk(this,this.Qb,a)};g.add_after_render=function(a){null==this.Pb&&(this.Pb=[]);return uk(this,this.Pb,a)};
g.flush_render=function(){var a=this.Vb;if(null==a)return null;this.Vb=null;a:{a.sort(rk);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var wk=new vk;function xk(a){if(w(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return wk.queue_render(a)};function yk(a){if(null!=a&&null!=a.jd)a=a.id;else{var b=yk[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=yk._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("Compiler.get-id",a);}return a}function zk(a,b,c){if(null!=a&&null!=a.Jc)a=a.Jc(a,b,c);else{var d=zk[r(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=zk._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw y("Compiler.parse-tag",a);}return a}
function Ak(a,b){if(null!=a&&null!=a.Hc)a=a.Hc(a,b);else{var c=Ak[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Ak._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw y("Compiler.as-element",a);}return a}function Bk(a,b,c,d,e){if(null!=a&&null!=a.Ic)a=a.Ic(a,b,c,d,e);else{var f=Bk[r(null==a?null:a)];if(null!=f)a=f.Y?f.Y(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=Bk._,null!=f)a=f.Y?f.Y(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw y("Compiler.make-element",a);}return a};function Ck(a,b){var c=Oe(ih,a,b);return T(c,lf(function(d){return c===d},b))}var Dk=function Dk(a){switch(arguments.length){case 0:return Dk.J();case 1:return Dk.f(arguments[0]);case 2:return Dk.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new J(c.slice(2),0,null);return Dk.G(arguments[0],arguments[1],c)}};Dk.J=function(){return dh};Dk.f=function(a){return a};Dk.j=function(a,b){return R(a)<R(b)?Ra(qd,b,a):Ra(qd,a,b)};
Dk.G=function(a,b,c){a=Ck(R,qd.G(c,b,ld([a])));return Ra(mf,K(a),Jc(a))};Dk.N=function(a){var b=K(a),c=N(a);a=K(c);c=N(c);return this.G(b,a,c)};Dk.K=2;var Ek=function Ek(a){switch(arguments.length){case 1:return Ek.f(arguments[0]);case 2:return Ek.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new J(c.slice(2),0,null);return Ek.G(arguments[0],arguments[1],c)}};Ek.f=function(a){return a};
Ek.j=function(a,b){return R(a)<R(b)?Ra(function(c,d){return Ud(b,d)?Hd.j(c,d):c},a,a):Ra(Hd,a,b)};Ek.G=function(a,b,c){return Ra(Ek,a,qd.j(c,b))};Ek.N=function(a){var b=K(a),c=N(a);a=K(c);c=N(c);return this.G(b,a,c)};Ek.K=2;var Fk;function Gk(a,b){b.$b=null;a:{var c=Fk;Fk=b;try{var d=a.J?a.J():a.call(null);break a}finally{Fk=c}d=void 0}a=b.$b;b.Ta=!1;a:{c=b.qb;var e=null==a?0:a.length;if(e===(null==c?0:c.length))for(var f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=!1}c||b._update_watching(a);return d}function Hk(a){var b=Fk;if(null!=b){var c=b.$b;null==c?b.$b=[a]:c.push(a)}}function Ik(a,b,c){a.ta=W.C(a.ta,b,c);return a.rc=null}
function Jk(a,b){a.ta=vd.j(a.ta,b);return a.rc=null}function Kk(a,b,c){var d=a.rc;d=null==d?a.rc=de(function(l,m,n){l.push(m);l.push(n);return l},[],a.ta):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.R?k.R(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function Lk(a,b,c,d){E(a,["#object[reagent.ratom.",z.f(c)," "].join(""));a:{c=Fk;Fk=null;try{var e=d;break a}finally{Fk=c}e=void 0}sh(e,a,b);return E(a,"]")}var Mk=null;
function Nk(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.ta=d;this.D=2154201088;this.O=114690}g=Nk.prototype;g.ca=function(a,b,c){return Lk(b,c,"RAtom",new u(null,1,[Bh,this.La(null)],null))};g.ba=function(){return this.meta};g.ga=function(){return ea(this)};g.da=function(a,b){return this===b};g.Ea=function(a,b){a=this.state;this.state=b;null!=this.ta&&Kk(this,a,b);return b};g.fc=function(a,b){return this.Ea(null,b.f?b.f(this.state):b.call(null,this.state))};
g.hc=function(a,b,c){return this.Ea(null,b.j?b.j(this.state,c):b.call(null,this.state,c))};g.ic=function(a,b,c,d){return this.Ea(null,b.C?b.C(this.state,c,d):b.call(null,this.state,c,d))};g.jc=function(a,b,c,d,e){return this.Ea(null,Qe(b,this.state,c,d,e))};g.kc=function(a,b){Kk(this,a,b)};g.Sb=function(a,b,c){return Ik(this,b,c)};g.Tb=function(a,b){return Jk(this,b)};g.fa=function(a,b){return new Nk(this.state,b,this.validator,this.ta)};g.La=function(){Hk(this);return this.state};
var Ok=function Ok(a){switch(arguments.length){case 1:return Ok.f(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new J(c.slice(1),0,null);return Ok.G(arguments[0],c)}};Ok.f=function(a){return new Nk(a,null,null,null)};Ok.G=function(a,b){var c=null!=b&&(b.D&64||t===b.Ba)?Ne(Tg,b):b;b=F.j(c,Fa);c=F.j(c,gj);return new Nk(a,b,c,null)};Ok.N=function(a){var b=K(a);a=N(a);return this.G(b,a)};Ok.K=1;
function Pk(a){if(null!=a&&null!=a.qc)a=a.qc(a);else{var b=Pk[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Pk._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw y("IDisposable.dispose!",a);}return a}function Yb(a,b,c,d){return a._handle_change(b,c,d)}function Qk(a){this.Cb=a;this.state=null;this.Ta=!0;this.Ec=!1;this.ac=this.Ka=this.ta=this.qb=null;this.D=2153807872;this.O=114690}g=Qk.prototype;g._peek_at=function(){var a=Fk;Fk=null;try{return this.La(null)}finally{Fk=a}};
g._handle_change=function(a,b,c){return b===c||this.Ta?null:null==this.Ka?(this.Ta=!0,null==Mk&&(Mk=[],!1===wk.Xb&&wk.schedule()),Mk.push(this)):!0===this.Ka?this._run(!1):this.Ka.f?this.Ka.f(this):this.Ka.call(null,this)};
g._update_watching=function(a){var b=eh(a),c=eh(this.qb);this.qb=a;a=I(Ek.j(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.ea(null,f);Xb(h,this);f+=1}else if(a=I(a))d=a,Pd(d)?(a=gc(d),f=lc(d),d=a,e=R(a),a=f):(a=K(d),Xb(a,this),a=N(d),d=null,e=0),f=0;else break;b=I(Ek.j(c,b));c=null;for(e=d=0;;)if(e<d)a=c.ea(null,e),Zb(a,this),e+=1;else if(b=I(b))c=b,Pd(c)?(b=gc(c),d=lc(c),c=b,a=R(b),b=d,d=a):(a=K(c),Zb(a,this),b=N(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.Ta&&null!=this.qb?this._run(!0):null};g._try_capture=function(a){try{return this.ac=null,Gk(a,this)}catch(b){return this.ac=this.state=a=b,this.Ta=!1}};g._run=function(a){var b=this.state;a=w(a)?this._try_capture(this.Cb):Gk(this.Cb,this);this.Ec||(this.state=a,null==this.ta||P.j(b,a)||Kk(this,b,a));return a};
g._set_opts=function(a){var b=null!=a&&(a.D&64||t===a.Ba)?Ne(Tg,a):a;a=F.j(b,Oh);var c=F.j(b,Wi),d=F.j(b,Qh);b=F.j(b,fi);null!=a&&(this.Ka=a);null!=c&&(this.gd=c);null!=d&&(this.Fc=d);return null!=b?this.Ec=b:null};g.ca=function(a,b,c){return Lk(b,c,"Reaction",new u(null,1,[Bh,this.La(null)],null))};g.ga=function(){return ea(this)};g.da=function(a,b){return this===b};
g.qc=function(){var a=this.state,b=this.qb;this.Ka=this.state=this.qb=null;this.Ta=!0;b=I(eh(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e);Zb(f,this);e+=1}else if(b=I(b))c=b,Pd(c)?(b=gc(c),e=lc(c),c=b,d=R(b),b=e):(b=K(c),Zb(b,this),b=N(c),c=null,d=0),e=0;else break;null!=this.Fc&&this.Fc(a);a=this.Bd;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.f?d.f(this):d.call(null,this),c+=1;else return null};g.Ea=function(a,b){a=this.state;this.state=b;this.gd(a,b);Kk(this,a,b);return b};
g.fc=function(a,b){var c=this;return c.Ea(null,function(){var d=c._peek_at();return b.f?b.f(d):b.call(null,d)}())};g.hc=function(a,b,c){var d=this;return d.Ea(null,function(){var e=d._peek_at();return b.j?b.j(e,c):b.call(null,e,c)}())};g.ic=function(a,b,c,d){var e=this;return e.Ea(null,function(){var f=e._peek_at();return b.C?b.C(f,c,d):b.call(null,f,c,d)}())};g.jc=function(a,b,c,d,e){return this.Ea(null,Qe(b,this._peek_at(),c,d,e))};g.kc=function(a,b){Kk(this,a,b)};
g.Sb=function(a,b,c){return Ik(this,b,c)};g.Tb=function(a,b){a=Id(this.ta);Jk(this,b);return!a&&Id(this.ta)&&null==this.Ka?this.qc(null):null};g.La=function(){var a=this.ac;if(null!=a)throw a;(a=null==Fk)&&(Rk.J?Rk.J():Rk.call(null));a&&null==this.Ka?this.Ta&&(a=this.state,this.state=this.Cb.J?this.Cb.J():this.Cb.call(null),null==this.ta||P.j(a,this.state)||Kk(this,a,this.state)):(Hk(this),this.Ta&&this._run(!1));return this.state};
function Rk(){for(;;){var a=Mk;if(null==a)return null;Mk=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}sk=Rk;function Sk(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new J(b.slice(1),0,null):null;b=arguments[0];var e=null!=c&&(c.D&64||t===c.Ba)?Ne(Tg,c):c;c=F.j(e,Oh);d=F.j(e,Wi);e=F.j(e,Qh);b=new Qk(b);b._set_opts(new u(null,3,[Oh,c,Wi,d,Qh,e],null));return b}var Tk=Sk(null);
function Uk(a,b){var c=Vk,d=Tk,e=Gk(a,d);null!=d.qb&&(Tk=Sk(null),d._set_opts(c),d.Cb=a,d.Ka=function(){return xk.f?xk.f(b):xk.call(null,b)},b.cljsRatom=d);return e};var Wk;function Xk(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=pa(b),e=d.length,f=Te,h=0;;)if(h<e){var k=d[h];f=W.C(f,ve.f(k),ra(b,k));h+=1}else break a;b=new Y(null,2,5,c,[a,f],null)}else b=c;return b}function Yk(a){var b;if(b=wd(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.Ua);return b}
function Zk(a,b){for(;;){var c=a.Ua,d=!0===a.Zc?c.call(a,a):function(){var e=Xk(a,a.props);switch(R(e)){case 1:return c.call(a);case 2:return c.call(a,gd(e,1));case 3:return c.call(a,gd(e,1),gd(e,2));case 4:return c.call(a,gd(e,1),gd(e,2),gd(e,3));case 5:return c.call(a,gd(e,1),gd(e,2),gd(e,3),gd(e,4));default:return c.apply(a,Qa(e).slice(1))}}();if(Od(d))return Ak(b,d);if(Td(d))d=Yk(d)?function(e,f,h,k,l){return function(){function m(p){var q=null;if(0<arguments.length){q=0;for(var v=Array(arguments.length-
0);q<v.length;)v[q]=arguments[q+0],++q;q=new J(v,0,null)}return n.call(this,q)}function n(p){return Ak(f,Oe(Xf,l,p))}m.K=0;m.N=function(p){p=I(p);return n(p)};m.G=n;return m}()}(a,b,c,null,d):d,a.Ua=d;else return d}}var Vk=new u(null,1,[fi,!0],null);
function $k(a,b){switch(a instanceof G?a.ya:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){return b.call(null,function(){var e=c.argv;null==e?e=c:(e=V(e,1,null),e=Md(e)?e:null);return e}(),d)};case "getInitialState":return function(c){var d=c.ad;d=null!=d?d:c.ad=Ok.f(null);return cf(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,Xk(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,Xk(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,Xk(this,c))};case "shouldComponentUpdate":return function(c){if(w(!1))return!1;var d=this.props.argv,e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return!P.j(d,e)}catch(h){return!1}}else return f?b.call(this,this,Xk(this,this.props),Xk(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,Xk(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,Xk(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,Xk(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ra(this,"cljsRatom");null!=c&&Pk(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}function al(a,b){a=$k(a,b);return w(a)?a:b}var bl=new u(null,2,[kj,null,ni,null],null),cl=function(a){var b=new bf(Te);return function(c){var d=F.j(Ab(b),c);if(null!=d)return d;d=a.f?a.f(c):a.call(null,c);df.R(b,W,c,d);return d}}(function(a){if("string"===typeof a)return a;a=X(a);a=uj(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=wj(a,/-/);var b=I(a);a=K(b);b=N(b);return Oe(z,a,ff.j(hk,b))});
function dl(a){return de(function(b,c,d){return W.C(b,ve.f(cl(c)),d)},Te,a)}
function el(a,b){var c=function(){var h=Si.f(a);return w(h)?h:Nh.f(a)}(),d=null==Si.f(a),e=function(){var h=Ii.f(a);if(w(h))return h;h=jk(c);return w(h)?h:z.f(Dh("reagent"))}(),f=de(function(h,k,l){return W.C(h,k,al(k,l))},Te,a);return W.G(f,Ii,e,ld([Qi,d,Si,c,Nh,function(){var h=this,k=ra(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?Uk(function(){a:{var l=Wk;Wk=h;try{var m=Zk(h,b);break a}finally{Wk=l}m=void 0}return m},h):k._run(!1)}]))}
function fl(a){return de(function(b,c,d){c=X(c);b[c]=d;return b},{},a)}function gl(a,b){return el(Wg.G(ld([bl,dl(a)])),b)}var Zg=new Y(null,5,5,Z,[Wh,jj,qi,ri,Ki],null);
function hl(a,b){function c(k,l,m){ck.Component.call(this,k,l,m);w(h)&&(h.j?h.j(this,k):h.call(null,this,k));w(f)&&(this.state=f.f?f.f(this):f.call(null,this));this.nc=ok+=1;return this}a=gl(a,b);b=fl(Re(vd,a,Ii,bi,Uh,ld([Nh,Si,Zg])));var d=fl(Yg(a)),e=Ii.f(a),f=bi.f(a),h=Uh.f(a);ua(c.prototype,ck.Component.prototype,b);w(Nh.f(a))&&(c.prototype.render=Nh.f(a));w(Si.f(a))&&(c.prototype.Ua=Si.f(a));w(Qi.f(a))&&(c.prototype.Zc=Qi.f(a));ua(c,ck.Component,d);w(e)&&(c.displayName=e,c.Sa=e,c.Jb=function(k){return E(k,
e)});c.yb=!0;return c.prototype.constructor=c}function il(a,b,c){a=yk(a);return b[a]=c}
function jl(a,b){for(;;){var c=b.Ua,d=b.argv,e=Ne(c,d);if(Od(e))return Ak(a,e);if(Td(e))c=Yk(e)?function(f,h,k,l,m,n){return function(){function p(v){var A=null;if(0<arguments.length){A=0;for(var B=Array(arguments.length-0);A<B.length;)B[A]=arguments[A+0],++A;A=new J(B,0,null)}return q.call(this,A)}function q(v){return Ak(f,Oe(Xf,n,v))}p.K=0;p.N=function(v){v=I(v);return q(v)};p.G=q;return p}()}(a,b,c,null,d,e):e,b.Ua=c;else return e}}
function kl(a,b){var c=b.argv,d=b.Ua;b=ck.useState(0);V(b,0,null);var e=V(b,1,null),f=ck.useRef();w(f.current)||function(){var k={forceUpdate:function(){return e.f?e.f(Rc):e.call(null,Rc)}};k.nc=ok+=1;k.constructor=d;k.Ua=d;return f.current=k}();var h=f.current;b=ra(h,"cljsRatom");ck.useEffect(function(){return function(){var k=ra(h,"cljsRatom");return null==k?null:Pk(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?Uk(function(){a:{var k=Wk;Wk=h;try{var l=jl(a,h);break a}finally{Wk=k}l=void 0}return l},
h):b._run(!1)}function ll(a,b){a=a.argv;b=b.argv;try{return P.j(a,b)}catch(c){return!1}}function ml(a,b){function c(e){return kl(a,e)}var d=ra(b,yk(a));if(w(d))return d;c.displayName=jk(b);d=ck.memo(c,ll);il(a,b,d);return d};var nl=new bh(null,new u(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function ol(a,b,c,d){var e=Te;e=null!=e&&(e.D&64||t===e.Ba)?Ne(Tg,e):e;e=F.j(e,cj);if(a===document.activeElement&&Ud(nl,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(!P.j(f,c))return wk.add_after_render(function(){return pl.f?pl.f(d):pl.call(null,d)});c=R(f)-a.selectionStart;c=R(b)-c;d.Ub=b;a.value=b;wd(e)&&(e.f?e.f(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.Ub=b;a.value=b;return wd(e)?e.f?e.f(b):e.call(null,b):null}
function pl(a){if(w(a.mc)){a.Bc=!1;var b=a.$c,c=a.Ub,d=a.pc;return P.j(b,c)?null:ol(d,b,c,a)}return null}function ql(a,b,c){a.Ub=c.target.value;w(a.Bc)||(a.Bc=!0,wk.add_after_render(function(){return pl(a)}));return b.f?b.f(c):b.call(null,c)}
function rl(a){var b=Wk;if(w(null!=a?function(){var f=a.hasOwnProperty("onChange");return w(f)?a.hasOwnProperty("value"):f}():!1)){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;w(b.mc)||(b.mc=!0,b.Ub=c);w(b.Kc)||(b.Kc=wd(e)?function(f){b.pc=f;return e.f?e.f(f):e.call(null,f)}:w(w(e)?e.hasOwnProperty("current"):e)?function(f){b.pc=f;return e.current=f}:function(f){return b.pc=f});b.$c=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return ql(b,d,f)};a.ref=b.Kc}}
var sl=new u(null,4,[ui,"ReagentInput",$i,pl,xi,function(a){return a.mc=null},hi,function(a,b,c,d,e){rl(c);return Bk(e,a,b,c,d)}],null);var tl={},ul,vl=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,wl={"class":"className","for":"htmlFor",charset:"charSet"};function xl(a,b){return a.hasOwnProperty(b)?ra(a,b):null}function yl(a,b,c){if(kk(b)){var d=xl(wl,X(b));null==d?(d=ik(b),b=X(b),b=wl[b]=d):b=d}c=zl.f?zl.f(c):zl.call(null,c);a[b]=c;return a}
function zl(a){return"object"!==r(a)?a:kk(a)?X(a):Md(a)?de(yl,{},a):Jd(a)?Hh(a):Td(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new J(f,0,null)}return c.call(this,e)}function c(d){return Ne(a,d)}b.K=0;b.N=function(d){d=I(d);return c(d)};b.G=c;return b}():Hh(a)}var Al={};function Bl(a,b,c){if(kk(b)){var d=xl(Al,X(b));null==d?(d=ik(b),b=X(b),b=Al[b]=d):b=d}c=zl(c);a[b]=c;return a}
function Cl(a){return"object"!==r(a)?a:kk(a)?X(a):Md(a)?de(Bl,{},a):Jd(a)?Hh(a):Td(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new J(f,0,null)}return c.call(this,e)}function c(d){return Ne(a,d)}b.K=0;b.N=function(d){d=I(d);return c(d)};b.G=c;return b}():Hh(a)}
function Dl(a,b){var c=b.id;b=b.className;c=null!=c&&null==lj.f(a)?W.C(a,lj,c):a;return w(b)?W.C(c,Pi,lk.j(b,function(){var d=Pi.f(a);return w(d)?d:yi.f(a)}())):c}function El(a,b,c,d,e){switch(R(b)-e){case 0:return ck.createElement(c,d);case 1:return ck.createElement(c,d,Ak(a,V(b,e,null)));default:return ck.createElement.apply(null,de(function(f,h,k){h>=e&&f.push(Ak(a,k));return f},[c,d],b))}}function Fl(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.bd=d}
function Gl(a,b,c){var d=ra(a,yk(c));null==d?Yk(a)?a=il(c,a,a):(d=Gd(a),d=W.C(d,hi,a),d=hl(d,c),a=il(c,a,d)):a=d;c={};c.argv=b;b=nk(b);null!=b&&(c.key=b);return ck.createElement(a,c)}function Hl(a,b,c,d){var e={};e.Ua=a;var f=R(b);c=ag(null,b,c|0,f|0,null);e.argv=c;b=nk(b);null!=b&&(e.key=b);return ck.createElement(ml(d,a),e)}function Il(a,b,c){var d;if(d=wd(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?Gl(a,b,c):Hl(a,b,1,c)}var Jl={};
function Kl(a,b){a=xl(Jl,b);if(null==a){var c=N(kh(vl,X(b)));a=V(c,0,null);var d=V(c,1,null);c=V(c,2,null);c=null==c?null:uj(c,/\./," ");var e=a.indexOf("-");e=!P.j(-1,e);a=new Fl(a,d,c,e);return Jl[b]=a}return a}
function Ll(a,b,c,d){var e=a.tag,f=V(b,c,null),h=null==f||Md(f),k=function(){var n=h?f:null;var p=Pi.f(n);n=Dl(w(p)?W.C(n,Pi,lk.f(p)):n,a);n=w(a.bd)?Cl(n):zl(n);return w(n)?n:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var l=!0;break a;default:l=!1}if(l){l=mk(f);var m=function(){var n=d.kd;if(w(n))return n;n=hl(sl,d);return d.kd=n}();return Ak(d,zd(new Y(null,6,5,Z,[m,b,e,k,c,d],null),Wg.G(ld([w(l)?new u(null,1,[dj,l],null):null,Gd(b)]))))}l=mk(Gd(b));null!=l&&(k.key=l);return Bk(d,b,
e,k,c)}function Ml(a,b){return Qa(ff.j(function(c){return Ak(b,c)},a))}
function Nl(a,b,c){null==b&&console.error("vec-to-elem",xh(ld([a])));var d=V(a,0,null);switch(d instanceof G?d.ya:null){case "\x3e":return c=V(a,1,null),Ll(new Fl(c,null,null,null),a,2,b);case "r\x3e":c=V(a,1,null);d=V(a,2,null);d=w(d)?d:{};var e=mk(Gd(a));null!=e&&(d.key=e);return Bk(b,a,c,d,3);case "f\x3e":return Hl(V(a,1,null),a,2,b);case "\x3c\x3e":return d=V(a,1,null),c=null==d||Md(d),d=zl(c?d:null),d=w(d)?d:{},c=1+(c?1:0),e=nk(a),null!=e&&(d.key=e),Bk(b,a,ck.Fragment,d,c);default:if(kk(d)||
"string"===typeof d)a:for(;;)switch(c=V(a,0,null),d=X(c),e=d.indexOf("\x3e"),e){case -1:b=Ll(zk(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=zd(new Y(null,2,5,Z,[d.substring(0,e),W.C(zd(a,null),0,d.substring(e+1))],null),Gd(a))}else b=c.C?c.C(d,a,b):c.call(null,d,a,b);return b}}
var Ol=function(a){var b=Dh("G__"),c=w(ii.f(a))?Il:Gl,d=F.C(a,zi,Kl);if("undefined"===typeof dk||"undefined"===typeof ek||"undefined"===typeof tl||"undefined"===typeof ul)ul=function(e,f,h,k,l){this.hd=e;this.id=f;this.Dc=h;this.Wb=k;this.ed=l;this.D=393216;this.O=0},ul.prototype.fa=function(e,f){return new ul(this.hd,this.id,this.Dc,this.Wb,f)},ul.prototype.ba=function(){return this.ed},ul.prototype.jd=function(){return this.id},ul.prototype.Jc=function(e,f,h){return this.Wb.C?this.Wb.C(this,f,h):
this.Wb.call(null,this,f,h)},ul.prototype.Hc=function(e,f){e=this.Dc;return"object"!==r(f)?f:Od(f)?Nl(f,this,e):(null==f?0:null!=f?f.D&64||t===f.Ba||(f.D?0:x(hb,f)):x(hb,f))?Ml(f,this):kk(f)?X(f):(null!=f?f.D&2147483648||t===f.ka||(f.D?0:x(Vb,f)):x(Vb,f))?xh(ld([f])):f},ul.prototype.Ic=function(e,f,h,k,l){return El(this,f,h,k,l)},ul.yb=!0,ul.Sa="reagent.impl.template/t_reagent$impl$template36688",ul.Jb=function(e){return E(e,"reagent.impl.template/t_reagent$impl$template36688")};return new ul(a,b,
c,d,Te)}(Te);var Pl=pj(67,{});function Ql(a){a=null!=a&&(a.D&64||t===a.Ba)?Ne(Tg,a):a;var b=F.j(a,Vh);return b instanceof G||"string"===typeof b?W.C(vd.j(a,Vh),Oi,function(){var c=ve.f(b);c=c instanceof G?c.ya:null;switch(c){case "debug":return qj.Debug;case "info":return qj.Info;case "warn":return qj.Warn;default:throw Error(["No matching clause: ",z.f(c)].join(""));}}()):a}
function Rl(a,b,c){return w(b)?(b=Hh(b),c=Ql(Wg.G(ld([new u(null,2,[Ph,ti,Li,"vega-lite"],null),c]))),c=Wg.G(ld([new u(null,1,[Ph,ti],null),c])),rj(a,b,Hh(c)).catch(function(d){return console.log(d)})):null}var Sl=function Sl(a){switch(arguments.length){case 1:return Sl.f(arguments[0]);case 2:return Sl.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};Sl.f=function(a){return Sl.j(a,Te)};
Sl.j=function(a,b){var c=Wg.G(ld([new u(null,1,[Li,"vega"],null),b]));return hl(new u(null,4,[ui,"vega",aj,function(d){return Rl(Pl.findDOMNode(d),a,c)},Gi,function(d,e){V(e,0,null);var f=V(e,1,null);e=V(e,2,null);return Rl(Pl.findDOMNode(d),f,e)},hi,function(){return new Y(null,1,5,Z,[ci],null)}],null),Ol)};Sl.K=2;
var Tl=function Tl(a){switch(arguments.length){case 1:return Tl.f(arguments[0]);case 2:return Tl.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};Tl.f=function(a){return Tl.j(a,Te)};Tl.j=function(a,b){return Sl.j(a,Wg.G(ld([b,new u(null,1,[Li,"vega-lite"],null)])))};Tl.K=2;
var Ul=Ok.f(new u(null,2,[Yh,Sl,$h,Tl],null)),Vl=new u(null,4,[wi,50,Ri,Te,Hi,new u(null,1,[hj,10],null),ai,new u(null,2,[hj,10,Ti,Xi],null)],null),Wl=function Wl(a){switch(arguments.length){case 1:return Wl.f(arguments[0]);case 2:return Wl.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",z.f(arguments.length)].join(""));}};Wl.f=function(a){return Wl.j(a,Te)};
Wl.j=function(a,b){var c=null!=b&&(b.D&64||t===b.Ba)?Ne(Tg,b):b,d=F.j(c,Vi),e=F.j(c,Mi),f=F.j(c,ei),h=Ok.f(new u(null,3,[Vi,w(d)?d:0,Mi,e,ei,w(f)?f:Yi],null)),k=ce(Dk,ff.j($e.j(eh,lg),gf.j(10,a)));return function(l,m){var n=Ab(h),p=null!=n&&(n.D&64||t===n.Ba)?Ne(Tg,n):n,q=F.j(p,Vi),v=F.j(p,Mi),A=F.j(p,ei),B=Xg(function(ta,Wa){return Md(ta)&&Md(Wa)?Wg.G(ld([ta,Wa])):Wa},ld([Vl,m])),H=null!=B&&(B.D&64||t===B.Ba)?Ne(Tg,B):B,O=F.j(H,wi),U=F.j(H,Ri),da=F.j(H,Hi),fa=F.j(H,ai),qa=function(){var ta=w(v)?
$d(v,l):l;ta=P.j(Sh,A)?ke(ta):ta;ta=w(O)?hf(O*q,ta):ta;return w(O)?gf.j(O,ta):ta}(),wc=he(R(l),O);return new Y(null,3,5,Z,[si,R(l)>O?new Y(null,5,5,Z,[oi,new u(null,1,[Bi,new u(null,1,[vi,10],null)],null),new Y(null,4,5,Z,[Fi,new u(null,1,[Bi,new u(null,1,[hj,20],null)],null),"Current page: ",q+1],null),0<q?new Y(null,3,5,Z,[li,new u(null,2,[Zh,function(){function ta(Xa){var ha=null;if(0<arguments.length){ha=0;for(var ma=Array(arguments.length-0);ha<ma.length;)ma[ha]=arguments[ha+0],++ha;ha=new J(ma,
0,null)}return Wa.call(this,ha)}function Wa(){return df.R(h,nf,Vi,ge)}ta.K=0;ta.N=function(Xa){Xa=I(Xa);return Wa(Xa)};ta.G=Wa;return ta}(),Bi,new u(null,2,[hj,10,Ti,Xi],null)],null),"prev"],null):null,q<wc?new Y(null,3,5,Z,[li,new u(null,2,[Zh,function(){function ta(Xa){var ha=null;if(0<arguments.length){ha=0;for(var ma=Array(arguments.length-0);ha<ma.length;)ma[ha]=arguments[ha+0],++ha;ha=new J(ma,0,null)}return Wa.call(this,ha)}function Wa(){return df.R(h,nf,Vi,Rc)}ta.K=0;ta.N=function(Xa){Xa=
I(Xa);return Wa(Xa)};ta.G=Wa;return ta}(),Bi,new u(null,2,[hj,10,Ti,Xi],null)],null),"next"],null):null],null):null,new Y(null,3,5,Z,[Lh,new Y(null,3,5,Z,[ki,new u(null,1,[Bi,U],null),function(){return function Xa(Wa){return new we(null,function(){for(;;){var ha=I(Wa);if(ha){var ma=ha;if(Pd(ma)){var Zc=gc(ma),$c=R(Zc),hc=Ae($c);return function(){for(var Ia=0;;)if(Ia<$c){var ic=C(Zc,Ia);De(hc,zd(new Y(null,4,5,Z,[ji,new u(null,2,[Bi,fa,Zh,function(ad,Ad,rf,sf,le,me,tf,uf,vf,wf,bd,xf,ne,Bd,Pb,Db,jc,
ab,bb,Qb,fh){return function(){function Cd(Dd){var kc=null;if(0<arguments.length){kc=0;for(var oe=Array(arguments.length-0);kc<oe.length;)oe[kc]=arguments[kc+0],++kc;kc=new J(oe,0,null)}return pe.call(this,kc)}function pe(){return df.C(fh,Wg,new u(null,2,[Mi,Ad,ei,P.j(Ad,bd)&&P.j(xf,Yi)?Sh:Yi],null))}Cd.K=0;Cd.N=function(Dd){Dd=I(Dd);return pe(Dd)};Cd.G=pe;return Cd}()}(Ia,ic,Zc,$c,hc,ma,ha,n,p,q,v,A,B,H,O,U,da,fa,qa,wc,h,k,b,c,d,e,f)],null),X(ic),P.j(v,ic)?function(){var ad=A instanceof G?A.ya:null;
switch(ad){case "ascending":return"⌃";case "descending":return"⌄";default:throw Error(["No matching clause: ",z.f(ad)].join(""));}}():null],null),new u(null,1,[dj,ic],null)));Ia+=1}else return!0}()?Ce(hc.pa(),Xa(lc(ma))):Ce(hc.pa(),null)}var cd=K(ma);return T(zd(new Y(null,4,5,Z,[ji,new u(null,2,[Bi,fa,Zh,function(Ia,ic,ad,Ad,rf,sf,le,me,tf,uf,vf,wf,bd,xf,ne,Bd,Pb){return function(){function Db(ab){var bb=null;if(0<arguments.length){bb=0;for(var Qb=Array(arguments.length-0);bb<Qb.length;)Qb[bb]=arguments[bb+
0],++bb;bb=new J(Qb,0,null)}return jc.call(this,bb)}function jc(){return df.C(Pb,Wg,new u(null,2,[Mi,Ia,ei,P.j(Ia,le)&&P.j(me,Yi)?Sh:Yi],null))}Db.K=0;Db.N=function(ab){ab=I(ab);return jc(ab)};Db.G=jc;return Db}()}(cd,ma,ha,n,p,q,v,A,B,H,O,U,da,fa,qa,wc,h,k,b,c,d,e,f)],null),X(cd),P.j(v,cd)?function(){var Ia=A instanceof G?A.ya:null;switch(Ia){case "ascending":return"⌃";case "descending":return"⌄";default:throw Error(["No matching clause: ",z.f(Ia)].join(""));}}():null],null),new u(null,1,[dj,cd],
null)),Xa(Jc(ma)))}return null}},null)}(k)}()],null),function(){return function Xa(Wa){return new we(null,function(){for(;;){var ha=I(Wa);if(ha){var ma=ha;if(Pd(ma)){var Zc=gc(ma),$c=R(Zc),hc=Ae($c);return function(){for(var Ia=0;;)if(Ia<$c){var ic=C(Zc,Ia);De(hc,zd(new Y(null,3,5,Z,[ki,new u(null,1,[Bi,U],null),function(){return function(ad,Ad,rf,sf,le,me,tf,uf,vf,wf,bd,xf,ne,Bd,Pb,Db,jc,ab,bb,Qb,fh,Cd,pe,Dd,kc,oe,Yl){return function Pj(Zl){return new we(null,function(am,Qj,bm,cm,dm,em,fm,gm,hm,
im,jm,km,lm,mm,nm,om,Rj){return function(){for(;;){var Ed=I(Zl);if(Ed){if(Pd(Ed)){var yf=gc(Ed),Sj=R(yf),Fd=Ae(Sj);a:for(var gh=0;;)if(gh<Sj){var zf=C(yf,gh);zf=zd(new Y(null,3,5,Z,[pi,new u(null,1,[Bi,Rj],null),F.j(Qj,zf)],null),new u(null,1,[dj,zf],null));Fd.add(zf);gh+=1}else{yf=!0;break a}return yf?Ce(Fd.pa(),Pj(lc(Ed))):Ce(Fd.pa(),null)}Fd=K(Ed);return T(zd(new Y(null,3,5,Z,[pi,new u(null,1,[Bi,Rj],null),F.j(Qj,Fd)],null),new u(null,1,[dj,Fd],null)),Pj(Jc(Ed)))}return null}}}(ad,Ad,rf,sf,le,
me,tf,uf,vf,wf,bd,xf,ne,Bd,Pb,Db,jc,ab,bb,Qb,fh,Cd,pe,Dd,kc,oe,Yl),null)}}(Ia,ic,Zc,$c,hc,ma,ha,n,p,q,v,A,B,H,O,U,da,fa,qa,wc,h,k,b,c,d,e,f)(k)}()],null),new u(null,1,[dj,Cc(ic)],null)));Ia+=1}else return!0}()?Ce(hc.pa(),Xa(lc(ma))):Ce(hc.pa(),null)}var cd=K(ma);return T(zd(new Y(null,3,5,Z,[ki,new u(null,1,[Bi,U],null),function(){return function(Ia,ic,ad,Ad,rf,sf,le,me,tf,uf,vf,wf,bd){return function Bd(ne){return new we(null,function(){for(;;){var Pb=I(ne);if(Pb){if(Pd(Pb)){var Db=gc(Pb),jc=R(Db),
ab=Ae(jc);a:for(var bb=0;;)if(bb<jc){var Qb=C(Db,bb);Qb=zd(new Y(null,3,5,Z,[pi,new u(null,1,[Bi,bd],null),F.j(Ia,Qb)],null),new u(null,1,[dj,Qb],null));ab.add(Qb);bb+=1}else{Db=!0;break a}return Db?Ce(ab.pa(),Bd(lc(Pb))):Ce(ab.pa(),null)}ab=K(Pb);return T(zd(new Y(null,3,5,Z,[pi,new u(null,1,[Bi,bd],null),F.j(Ia,ab)],null),new u(null,1,[dj,ab],null)),Bd(Jc(Pb)))}return null}},null)}}(cd,ma,ha,n,p,q,v,A,B,H,O,U,da,fa,qa,wc,h,k,b,c,d,e,f)(k)}()],null),new u(null,1,[dj,Cc(cd)],null)),Xa(Jc(ma)))}return null}},
null)}(qa)}()],null)],null)}};Wl.K=2;var Xl=ld([Yh,Sl,$h,Tl,gi,Wl]),$l=null!=Xl&&(Xl.D&64||t===Xl.Ba)?Ne(Tg,Xl):Xl;df.C(Ul,Wg,$l);
}).call(this);